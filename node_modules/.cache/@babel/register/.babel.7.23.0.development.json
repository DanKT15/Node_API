{"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nvar _connectRedis = _interopRequireDefault(require(\"connect-redis\"));\nvar _expressSession = _interopRequireDefault(require(\"express-session\"));\nvar _redis = require(\"redis\");\nvar _viewEngine = _interopRequireDefault(require(\"./config/viewEngine\"));\nvar _webRoute = _interopRequireDefault(require(\"./router/webRoute\"));\nvar _apiRoute = _interopRequireDefault(require(\"./router/apiRoute\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _JWTAction = _interopRequireDefault(require(\"./middleware/JWTAction\"));\nvar _Auth = _interopRequireDefault(require(\"./middleware/Auth\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thư viện mã hóa mật khẩu\n\nconst app = (0, _express.default)();\n_dotenv.default.config(); // cấu hình port trong .env\nconst port = process.env.PORT;\n\n// Initialize client.\nlet redisClient = (0, _redis.createClient)();\nredisClient.connect().catch(console.error);\n\n// Initialize store.\nlet redisStore = new _connectRedis.default({\n  client: redisClient,\n  prefix: \"myapp:\"\n});\n\n// Initialize sesssion storage.\napp.use((0, _expressSession.default)({\n  store: redisStore,\n  resave: false,\n  // required: force lightweight session keep alive (touch)\n  saveUninitialized: false,\n  // recommended: only save session when data exists\n  secret: \"keyboard cat\"\n}));\napp.use(_bodyParser.default.urlencoded({\n  extended: false\n}));\napp.use(_bodyParser.default.json());\n(0, _viewEngine.default)(app); // khởi tạo viewEngine\n\napp.use('/static', _express.default.static(_path.default.join(__dirname, 'public'))); // thêm \"/static\" vào link ảnh vd:\"/static/img/h1.jpg\"\n\n// app.use(\"/create_new_user\", Auth.Author)\n// app.use(\"/insert_new_user\", Auth.Author)\n// app.use(\"/detail_user/:username\", Auth.Author)\n// app.use(\"/del_user\", Auth.Author)\n// app.use(\"/view_edit/:username\", Auth.Author)\n// app.use(\"/edit_user\", Auth.Author)\n\n_Auth.default.authMiddleware(app);\n(0, _webRoute.default)(app); // khởi tạo router\n(0, _apiRoute.default)(app); // khởi tạo router api\n\napp.use(_Auth.default.Notfound);\n\n// let payload = { foo: 'bar' }\n// let code = JWT.createJWT(payload)\n// JWT.verifyToken(code)\n\napp.listen(port, () => {\n  console.log(\"Example app listening on port http://localhost:\".concat(port));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2RvdGVudiIsIl9jb25uZWN0UmVkaXMiLCJfZXhwcmVzc1Nlc3Npb24iLCJfcmVkaXMiLCJfdmlld0VuZ2luZSIsIl93ZWJSb3V0ZSIsIl9hcGlSb3V0ZSIsIl9wYXRoIiwiX2JvZHlQYXJzZXIiLCJfYmNyeXB0anMiLCJfSldUQWN0aW9uIiwiX0F1dGgiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImFwcCIsImV4cHJlc3MiLCJkb3RlbnYiLCJjb25maWciLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJyZWRpc0NsaWVudCIsImNyZWF0ZUNsaWVudCIsImNvbm5lY3QiLCJjYXRjaCIsImNvbnNvbGUiLCJlcnJvciIsInJlZGlzU3RvcmUiLCJSZWRpc1N0b3JlIiwiY2xpZW50IiwicHJlZml4IiwidXNlIiwic2Vzc2lvbiIsInN0b3JlIiwicmVzYXZlIiwic2F2ZVVuaW5pdGlhbGl6ZWQiLCJzZWNyZXQiLCJib2R5UGFyc2VyIiwidXJsZW5jb2RlZCIsImV4dGVuZGVkIiwianNvbiIsImNvbmZpZ1ZpZXdFbmdpbmUiLCJzdGF0aWMiLCJwYXRoIiwiam9pbiIsIl9fZGlybmFtZSIsIkF1dGgiLCJhdXRoTWlkZGxld2FyZSIsImluaXRXZWJSb3V0ZSIsImluaXRBUElSb3V0ZSIsIk5vdGZvdW5kIiwibGlzdGVuIiwibG9nIiwiY29uY2F0Il0sInNvdXJjZVJvb3QiOiJEOlxceGFtcHBcXGh0ZG9jc1xcQkNfTm9kZWpzXFxzcmNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIlxyXG5pbXBvcnQgUmVkaXNTdG9yZSBmcm9tIFwiY29ubmVjdC1yZWRpc1wiXHJcbmltcG9ydCBzZXNzaW9uIGZyb20gXCJleHByZXNzLXNlc3Npb25cIlxyXG5pbXBvcnQge2NyZWF0ZUNsaWVudH0gZnJvbSBcInJlZGlzXCJcclxuaW1wb3J0IGNvbmZpZ1ZpZXdFbmdpbmUgZnJvbSBcIi4vY29uZmlnL3ZpZXdFbmdpbmVcIlxyXG5pbXBvcnQgaW5pdFdlYlJvdXRlIGZyb20gXCIuL3JvdXRlci93ZWJSb3V0ZVwiXHJcbmltcG9ydCBpbml0QVBJUm91dGUgZnJvbSBcIi4vcm91dGVyL2FwaVJvdXRlXCJcclxuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIlxyXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tIFwiYm9keS1wYXJzZXJcIlxyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJyAvLyB0aMawIHZp4buHbiBtw6MgaMOzYSBt4bqtdCBraOG6qXVcclxuaW1wb3J0IEpXVCBmcm9tIFwiLi9taWRkbGV3YXJlL0pXVEFjdGlvblwiXHJcbmltcG9ydCBBdXRoIGZyb20gXCIuL21pZGRsZXdhcmUvQXV0aFwiXHJcblxyXG5jb25zdCBhcHAgPSBleHByZXNzKClcclxuXHJcbmRvdGVudi5jb25maWcoKSAvLyBj4bqldSBow6xuaCBwb3J0IHRyb25nIC5lbnZcclxuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlRcclxuXHJcbi8vIEluaXRpYWxpemUgY2xpZW50LlxyXG5sZXQgcmVkaXNDbGllbnQgPSBjcmVhdGVDbGllbnQoKVxyXG5yZWRpc0NsaWVudC5jb25uZWN0KCkuY2F0Y2goY29uc29sZS5lcnJvcilcclxuXHJcbi8vIEluaXRpYWxpemUgc3RvcmUuXHJcbmxldCByZWRpc1N0b3JlID0gbmV3IFJlZGlzU3RvcmUoe1xyXG4gIGNsaWVudDogcmVkaXNDbGllbnQsXHJcbiAgcHJlZml4OiBcIm15YXBwOlwiLFxyXG59KVxyXG5cclxuLy8gSW5pdGlhbGl6ZSBzZXNzc2lvbiBzdG9yYWdlLlxyXG5hcHAudXNlKFxyXG4gIHNlc3Npb24oe1xyXG4gICAgc3RvcmU6IHJlZGlzU3RvcmUsXHJcbiAgICByZXNhdmU6IGZhbHNlLCAvLyByZXF1aXJlZDogZm9yY2UgbGlnaHR3ZWlnaHQgc2Vzc2lvbiBrZWVwIGFsaXZlICh0b3VjaClcclxuICAgIHNhdmVVbmluaXRpYWxpemVkOiBmYWxzZSwgLy8gcmVjb21tZW5kZWQ6IG9ubHkgc2F2ZSBzZXNzaW9uIHdoZW4gZGF0YSBleGlzdHNcclxuICAgIHNlY3JldDogXCJrZXlib2FyZCBjYXRcIixcclxuICB9KVxyXG4pXHJcbmFwcC51c2UoYm9keVBhcnNlci51cmxlbmNvZGVkKHsgZXh0ZW5kZWQ6IGZhbHNlIH0pKVxyXG5hcHAudXNlKGJvZHlQYXJzZXIuanNvbigpKVxyXG5cclxuY29uZmlnVmlld0VuZ2luZShhcHApIC8vIGto4bufaSB04bqhbyB2aWV3RW5naW5lXHJcblxyXG5hcHAudXNlKCcvc3RhdGljJywgZXhwcmVzcy5zdGF0aWMocGF0aC5qb2luKF9fZGlybmFtZSwncHVibGljJykpKSAvLyB0aMOqbSBcIi9zdGF0aWNcIiB2w6BvIGxpbmsg4bqjbmggdmQ6XCIvc3RhdGljL2ltZy9oMS5qcGdcIlxyXG5cclxuXHJcbi8vIGFwcC51c2UoXCIvY3JlYXRlX25ld191c2VyXCIsIEF1dGguQXV0aG9yKVxyXG4vLyBhcHAudXNlKFwiL2luc2VydF9uZXdfdXNlclwiLCBBdXRoLkF1dGhvcilcclxuLy8gYXBwLnVzZShcIi9kZXRhaWxfdXNlci86dXNlcm5hbWVcIiwgQXV0aC5BdXRob3IpXHJcbi8vIGFwcC51c2UoXCIvZGVsX3VzZXJcIiwgQXV0aC5BdXRob3IpXHJcbi8vIGFwcC51c2UoXCIvdmlld19lZGl0Lzp1c2VybmFtZVwiLCBBdXRoLkF1dGhvcilcclxuLy8gYXBwLnVzZShcIi9lZGl0X3VzZXJcIiwgQXV0aC5BdXRob3IpXHJcblxyXG5BdXRoLmF1dGhNaWRkbGV3YXJlKGFwcClcclxuXHJcblxyXG5pbml0V2ViUm91dGUoYXBwKSAvLyBraOG7n2kgdOG6oW8gcm91dGVyXHJcbmluaXRBUElSb3V0ZShhcHApIC8vIGto4bufaSB04bqhbyByb3V0ZXIgYXBpXHJcblxyXG5hcHAudXNlKEF1dGguTm90Zm91bmQpXHJcblxyXG4vLyBsZXQgcGF5bG9hZCA9IHsgZm9vOiAnYmFyJyB9XHJcbi8vIGxldCBjb2RlID0gSldULmNyZWF0ZUpXVChwYXlsb2FkKVxyXG4vLyBKV1QudmVyaWZ5VG9rZW4oY29kZSlcclxuXHJcbmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKGBFeGFtcGxlIGFwcCBsaXN0ZW5pbmcgb24gcG9ydCBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH1gKVxyXG59KSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxhQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxlQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxNQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxXQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTSxTQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTyxTQUFBLEdBQUFSLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBUSxLQUFBLEdBQUFULHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBUyxXQUFBLEdBQUFWLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBVSxTQUFBLEdBQUFYLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBVyxVQUFBLEdBQUFaLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBWSxLQUFBLEdBQUFiLHNCQUFBLENBQUFDLE9BQUE7QUFBb0MsU0FBQUQsdUJBQUFjLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFGTjs7QUFJOUIsTUFBTUcsR0FBRyxHQUFHLElBQUFDLGdCQUFPLEVBQUMsQ0FBQztBQUVyQkMsZUFBTSxDQUFDQyxNQUFNLENBQUMsQ0FBQyxFQUFDO0FBQ2hCLE1BQU1DLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLElBQUk7O0FBRTdCO0FBQ0EsSUFBSUMsV0FBVyxHQUFHLElBQUFDLG1CQUFZLEVBQUMsQ0FBQztBQUNoQ0QsV0FBVyxDQUFDRSxPQUFPLENBQUMsQ0FBQyxDQUFDQyxLQUFLLENBQUNDLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDOztBQUUxQztBQUNBLElBQUlDLFVBQVUsR0FBRyxJQUFJQyxxQkFBVSxDQUFDO0VBQzlCQyxNQUFNLEVBQUVSLFdBQVc7RUFDbkJTLE1BQU0sRUFBRTtBQUNWLENBQUMsQ0FBQzs7QUFFRjtBQUNBakIsR0FBRyxDQUFDa0IsR0FBRyxDQUNMLElBQUFDLHVCQUFPLEVBQUM7RUFDTkMsS0FBSyxFQUFFTixVQUFVO0VBQ2pCTyxNQUFNLEVBQUUsS0FBSztFQUFFO0VBQ2ZDLGlCQUFpQixFQUFFLEtBQUs7RUFBRTtFQUMxQkMsTUFBTSxFQUFFO0FBQ1YsQ0FBQyxDQUNILENBQUM7QUFDRHZCLEdBQUcsQ0FBQ2tCLEdBQUcsQ0FBQ00sbUJBQVUsQ0FBQ0MsVUFBVSxDQUFDO0VBQUVDLFFBQVEsRUFBRTtBQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ25EMUIsR0FBRyxDQUFDa0IsR0FBRyxDQUFDTSxtQkFBVSxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBRTFCLElBQUFDLG1CQUFnQixFQUFDNUIsR0FBRyxDQUFDLEVBQUM7O0FBRXRCQSxHQUFHLENBQUNrQixHQUFHLENBQUMsU0FBUyxFQUFFakIsZ0JBQU8sQ0FBQzRCLE1BQU0sQ0FBQ0MsYUFBSSxDQUFDQyxJQUFJLENBQUNDLFNBQVMsRUFBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUM7O0FBR2xFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQUMsYUFBSSxDQUFDQyxjQUFjLENBQUNsQyxHQUFHLENBQUM7QUFHeEIsSUFBQW1DLGlCQUFZLEVBQUNuQyxHQUFHLENBQUMsRUFBQztBQUNsQixJQUFBb0MsaUJBQVksRUFBQ3BDLEdBQUcsQ0FBQyxFQUFDOztBQUVsQkEsR0FBRyxDQUFDa0IsR0FBRyxDQUFDZSxhQUFJLENBQUNJLFFBQVEsQ0FBQzs7QUFFdEI7QUFDQTtBQUNBOztBQUVBckMsR0FBRyxDQUFDc0MsTUFBTSxDQUFDbEMsSUFBSSxFQUFFLE1BQU07RUFDckJRLE9BQU8sQ0FBQzJCLEdBQUcsbURBQUFDLE1BQUEsQ0FBbURwQyxJQUFJLENBQUUsQ0FBQztBQUN2RSxDQUFDLENBQUMifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_dotenv","_connectRedis","_expressSession","_redis","_viewEngine","_webRoute","_apiRoute","_path","_bodyParser","_bcryptjs","_JWTAction","_Auth","obj","__esModule","default","app","express","dotenv","config","port","process","env","PORT","redisClient","createClient","connect","catch","console","error","redisStore","RedisStore","client","prefix","use","session","store","resave","saveUninitialized","secret","bodyParser","urlencoded","extended","json","configViewEngine","static","path","join","__dirname","Auth","authMiddleware","initWebRoute","initAPIRoute","Notfound","listen","log","concat"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\","sources":["index.js"],"sourcesContent":["import express from \"express\"\r\nimport dotenv from \"dotenv\"\r\nimport RedisStore from \"connect-redis\"\r\nimport session from \"express-session\"\r\nimport {createClient} from \"redis\"\r\nimport configViewEngine from \"./config/viewEngine\"\r\nimport initWebRoute from \"./router/webRoute\"\r\nimport initAPIRoute from \"./router/apiRoute\"\r\nimport path from \"path\"\r\nimport bodyParser from \"body-parser\"\r\nimport bcrypt from 'bcryptjs' // thư viện mã hóa mật khẩu\r\nimport JWT from \"./middleware/JWTAction\"\r\nimport Auth from \"./middleware/Auth\"\r\n\r\nconst app = express()\r\n\r\ndotenv.config() // cấu hình port trong .env\r\nconst port = process.env.PORT\r\n\r\n// Initialize client.\r\nlet redisClient = createClient()\r\nredisClient.connect().catch(console.error)\r\n\r\n// Initialize store.\r\nlet redisStore = new RedisStore({\r\n  client: redisClient,\r\n  prefix: \"myapp:\",\r\n})\r\n\r\n// Initialize sesssion storage.\r\napp.use(\r\n  session({\r\n    store: redisStore,\r\n    resave: false, // required: force lightweight session keep alive (touch)\r\n    saveUninitialized: false, // recommended: only save session when data exists\r\n    secret: \"keyboard cat\",\r\n  })\r\n)\r\napp.use(bodyParser.urlencoded({ extended: false }))\r\napp.use(bodyParser.json())\r\n\r\nconfigViewEngine(app) // khởi tạo viewEngine\r\n\r\napp.use('/static', express.static(path.join(__dirname,'public'))) // thêm \"/static\" vào link ảnh vd:\"/static/img/h1.jpg\"\r\n\r\n\r\n// app.use(\"/create_new_user\", Auth.Author)\r\n// app.use(\"/insert_new_user\", Auth.Author)\r\n// app.use(\"/detail_user/:username\", Auth.Author)\r\n// app.use(\"/del_user\", Auth.Author)\r\n// app.use(\"/view_edit/:username\", Auth.Author)\r\n// app.use(\"/edit_user\", Auth.Author)\r\n\r\nAuth.authMiddleware(app)\r\n\r\n\r\ninitWebRoute(app) // khởi tạo router\r\ninitAPIRoute(app) // khởi tạo router api\r\n\r\napp.use(Auth.Notfound)\r\n\r\n// let payload = { foo: 'bar' }\r\n// let code = JWT.createJWT(payload)\r\n// JWT.verifyToken(code)\r\n\r\napp.listen(port, () => {\r\n  console.log(`Example app listening on port http://localhost:${port}`)\r\n})"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,aAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,eAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,MAAA,GAAAJ,OAAA;AACA,IAAAK,WAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,SAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,KAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,WAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,SAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,UAAA,GAAAZ,sBAAA,CAAAC,OAAA;AACA,IAAAY,KAAA,GAAAb,sBAAA,CAAAC,OAAA;AAAoC,SAAAD,uBAAAc,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAFN;;AAI9B,MAAMG,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AAErBC,eAAM,CAACC,MAAM,CAAC,CAAC,EAAC;AAChB,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACC,IAAI;;AAE7B;AACA,IAAIC,WAAW,GAAG,IAAAC,mBAAY,EAAC,CAAC;AAChCD,WAAW,CAACE,OAAO,CAAC,CAAC,CAACC,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC;;AAE1C;AACA,IAAIC,UAAU,GAAG,IAAIC,qBAAU,CAAC;EAC9BC,MAAM,EAAER,WAAW;EACnBS,MAAM,EAAE;AACV,CAAC,CAAC;;AAEF;AACAjB,GAAG,CAACkB,GAAG,CACL,IAAAC,uBAAO,EAAC;EACNC,KAAK,EAAEN,UAAU;EACjBO,MAAM,EAAE,KAAK;EAAE;EACfC,iBAAiB,EAAE,KAAK;EAAE;EAC1BC,MAAM,EAAE;AACV,CAAC,CACH,CAAC;AACDvB,GAAG,CAACkB,GAAG,CAACM,mBAAU,CAACC,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAM,CAAC,CAAC,CAAC;AACnD1B,GAAG,CAACkB,GAAG,CAACM,mBAAU,CAACG,IAAI,CAAC,CAAC,CAAC;AAE1B,IAAAC,mBAAgB,EAAC5B,GAAG,CAAC,EAAC;;AAEtBA,GAAG,CAACkB,GAAG,CAAC,SAAS,EAAEjB,gBAAO,CAAC4B,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAC,QAAQ,CAAC,CAAC,CAAC,EAAC;;AAGlE;AACA;AACA;AACA;AACA;AACA;;AAEAC,aAAI,CAACC,cAAc,CAAClC,GAAG,CAAC;AAGxB,IAAAmC,iBAAY,EAACnC,GAAG,CAAC,EAAC;AAClB,IAAAoC,iBAAY,EAACpC,GAAG,CAAC,EAAC;;AAElBA,GAAG,CAACkB,GAAG,CAACe,aAAI,CAACI,QAAQ,CAAC;;AAEtB;AACA;AACA;;AAEArC,GAAG,CAACsC,MAAM,CAAClC,IAAI,EAAE,MAAM;EACrBQ,OAAO,CAAC2B,GAAG,mDAAAC,MAAA,CAAmDpC,IAAI,CAAE,CAAC;AACvE,CAAC,CAAC"}},"mtime":1696681786375},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\config\\\\viewEngine.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst configViewEngine = app => {\n  app.set(\"view engine\", \"ejs\");\n  app.set(\"views\", \"./src/views\");\n};\nvar _default = exports.default = configViewEngine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWdWaWV3RW5naW5lIiwiYXBwIiwic2V0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVqc1xcc3JjXFxjb25maWdcXCIsInNvdXJjZXMiOlsidmlld0VuZ2luZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjb25maWdWaWV3RW5naW5lID0gKGFwcCkgPT4ge1xyXG4gICAgYXBwLnNldChcInZpZXcgZW5naW5lXCIsIFwiZWpzXCIpXHJcbiAgICBhcHAuc2V0KFwidmlld3NcIiwgXCIuL3NyYy92aWV3c1wiKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IGNvbmZpZ1ZpZXdFbmdpbmUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQU1BLGdCQUFnQixHQUFJQyxHQUFHLElBQUs7RUFDOUJBLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUM7RUFDN0JELEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUM7QUFDbkMsQ0FBQztBQUFBLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBQyxPQUFBLEdBQ2NMLGdCQUFnQiJ9","map":{"version":3,"names":["configViewEngine","app","set","_default","exports","default"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\config\\","sources":["viewEngine.js"],"sourcesContent":["const configViewEngine = (app) => {\r\n    app.set(\"view engine\", \"ejs\")\r\n    app.set(\"views\", \"./src/views\")\r\n}\r\nexport default configViewEngine"],"mappings":";;;;;;AAAA,MAAMA,gBAAgB,GAAIC,GAAG,IAAK;EAC9BA,GAAG,CAACC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;EAC7BD,GAAG,CAACC,GAAG,CAAC,OAAO,EAAE,aAAa,CAAC;AACnC,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GACcL,gBAAgB"}},"mtime":1696681786372},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\router\\\\webRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _HomeController = _interopRequireDefault(require(\"./../controllers/HomeController\"));\nvar _AboutController = _interopRequireDefault(require(\"./../controllers/AboutController\"));\nvar _UserController = _interopRequireDefault(require(\"./../controllers/UserController\"));\nvar _formLoginController = _interopRequireDefault(require(\"./../controllers/formLoginController\"));\nvar _HomeUserController = _interopRequireDefault(require(\"./../controllers/HomeUserController\"));\nvar _NewsController = _interopRequireDefault(require(\"./../controllers/NewsController\"));\nvar _PostController = _interopRequireDefault(require(\"./../controllers/PostController\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thu vien up img\n\n// add controller\n// add controller\n// add controller\n\n// add controller\n\n// add controller\n// add controller\n\nconst storage = _multer.default.diskStorage({\n  destination: function destination(req, file, cb) {\n    cb(null, './src/public/upload');\n  },\n  filename: function filename(req, file, cb) {\n    const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9);\n    cb(null, uniqueSuffix + _path.default.extname(file.originalname));\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst router = _express.default.Router();\nconst initWebRoute = app => {\n  // app.get('/home/:namepage', HomeController.getHome) // truyền param\n  // app.get('/set-session', HomeController.setSession)\n  // app.get('/abc', HomeController.getAbc)\n\n  router.get('/admin', _HomeController.default.getHome);\n  router.get('/about', _AboutController.default.getAbout);\n  router.get('/create_new_user', _UserController.default.new_user);\n  router.post('/insert_new_user', _UserController.default.insert_user);\n  router.get('/list-user/:from-:to', _UserController.default.list_user);\n  router.get('/login', _formLoginController.default.login);\n  router.post('/login', _formLoginController.default.login_auth);\n  router.get('/logout', _formLoginController.default.logout);\n  router.get('/detail_user/:username', _UserController.default.detail_user);\n  router.post('/del_user', _UserController.default.del_user);\n  router.get('/view_edit/:username', _UserController.default.view_edit);\n  router.post('/edit_user', _UserController.default.edit_user);\n\n  //user\n  router.get('/', _HomeUserController.default.HomeUser);\n  router.get('/LoginUser', _HomeUserController.default.LoginUser);\n  router.post('/login_auth_User', _HomeUserController.default.login_auth_User);\n  router.get('/logout_User', _HomeUserController.default.logout_User);\n  router.get('/RegisterUser', _HomeUserController.default.RegisterUser);\n  router.post('/request_register', _HomeUserController.default.request_register);\n  router.get('/SinglePage/:id', _HomeUserController.default.SinglePage);\n\n  //quan ly tin tuc ( news )  \n  router.get('/list-news/:from-:to', _NewsController.default.list_news);\n  router.get('/create_new_news', _NewsController.default.new_news);\n  router.post('/insert_new_news', _NewsController.default.insert_news);\n  router.get('/detail_news/:title', _NewsController.default.detail_news);\n  router.get('/view_edit_news/:id', _NewsController.default.view_edit_news);\n  router.post('/edit_news', _NewsController.default.edit_news);\n  router.post('/del_news', _NewsController.default.del_news);\n\n  //quan ly bai viet ( post )  \n  router.get('/list-post/:from-:to', _PostController.default.list_post);\n  router.get('/create_new_post', _PostController.default.new_post);\n  router.post('/insert_new_post', upload.single('filenew'), _PostController.default.insert_post);\n  router.get('/detail_post/:id', _PostController.default.detail_post);\n  router.get('/view_edit_post/:id', _PostController.default.view_edit_post);\n  router.post('/edit_post', upload.single('filenew'), _PostController.default.edit_post);\n  router.post('/del_post', _PostController.default.del_post);\n  return app.use(\"/\", router);\n};\nvar _default = exports.default = initWebRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9wYXRoIiwiX0hvbWVDb250cm9sbGVyIiwiX0Fib3V0Q29udHJvbGxlciIsIl9Vc2VyQ29udHJvbGxlciIsIl9mb3JtTG9naW5Db250cm9sbGVyIiwiX0hvbWVVc2VyQ29udHJvbGxlciIsIl9OZXdzQ29udHJvbGxlciIsIl9Qb3N0Q29udHJvbGxlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsInVuaXF1ZVN1ZmZpeCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJwYXRoIiwiZXh0bmFtZSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJpbml0V2ViUm91dGUiLCJhcHAiLCJnZXQiLCJIb21lQ29udHJvbGxlciIsImdldEhvbWUiLCJBYm91dENvbnRyb2xsZXIiLCJnZXRBYm91dCIsIlVzZXJDb250cm9sbGVyIiwibmV3X3VzZXIiLCJwb3N0IiwiaW5zZXJ0X3VzZXIiLCJsaXN0X3VzZXIiLCJmb3JtTG9naW5Db250cm9sbGVyIiwibG9naW4iLCJsb2dpbl9hdXRoIiwibG9nb3V0IiwiZGV0YWlsX3VzZXIiLCJkZWxfdXNlciIsInZpZXdfZWRpdCIsImVkaXRfdXNlciIsIkhvbWVVc2VyQ29udHJvbGxlciIsIkhvbWVVc2VyIiwiTG9naW5Vc2VyIiwibG9naW5fYXV0aF9Vc2VyIiwibG9nb3V0X1VzZXIiLCJSZWdpc3RlclVzZXIiLCJyZXF1ZXN0X3JlZ2lzdGVyIiwiU2luZ2xlUGFnZSIsIk5ld3NDb250cm9sbGVyIiwibGlzdF9uZXdzIiwibmV3X25ld3MiLCJpbnNlcnRfbmV3cyIsImRldGFpbF9uZXdzIiwidmlld19lZGl0X25ld3MiLCJlZGl0X25ld3MiLCJkZWxfbmV3cyIsIlBvc3RDb250cm9sbGVyIiwibGlzdF9wb3N0IiwibmV3X3Bvc3QiLCJzaW5nbGUiLCJpbnNlcnRfcG9zdCIsImRldGFpbF9wb3N0Iiwidmlld19lZGl0X3Bvc3QiLCJlZGl0X3Bvc3QiLCJkZWxfcG9zdCIsInVzZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVqc1xcc3JjXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsid2ViUm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcicgLy8gdGh1IHZpZW4gdXAgaW1nXHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCJcclxuaW1wb3J0IEhvbWVDb250cm9sbGVyIGZyb20gXCIuLy4uL2NvbnRyb2xsZXJzL0hvbWVDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuaW1wb3J0IEFib3V0Q29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9BYm91dENvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5pbXBvcnQgVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5pbXBvcnQgZm9ybUxvZ2luQ29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9mb3JtTG9naW5Db250cm9sbGVyXCJcclxuXHJcbmltcG9ydCBIb21lVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvSG9tZVVzZXJDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuXHJcblxyXG5pbXBvcnQgTmV3c0NvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvTmV3c0NvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5pbXBvcnQgUG9zdENvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvUG9zdENvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5cclxuXHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gICAgZGVzdGluYXRpb246IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICAgIGNiKG51bGwsICcuL3NyYy9wdWJsaWMvdXBsb2FkJylcclxuICAgIH0sXHJcbiAgICBmaWxlbmFtZTogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgICAgY29uc3QgdW5pcXVlU3VmZml4ID0gRGF0ZS5ub3coKSArICctJyArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDFFOSlcclxuICAgICAgY2IobnVsbCwgdW5pcXVlU3VmZml4ICsgcGF0aC5leHRuYW1lKGZpbGUub3JpZ2luYWxuYW1lKSlcclxuICAgIH1cclxuICB9KVxyXG4gIFxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlIH0pXHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpXHJcbmNvbnN0IGluaXRXZWJSb3V0ZSA9IChhcHApID0+IHtcclxuXHJcbiAgICAvLyBhcHAuZ2V0KCcvaG9tZS86bmFtZXBhZ2UnLCBIb21lQ29udHJvbGxlci5nZXRIb21lKSAvLyB0cnV54buBbiBwYXJhbVxyXG4gICAgLy8gYXBwLmdldCgnL3NldC1zZXNzaW9uJywgSG9tZUNvbnRyb2xsZXIuc2V0U2Vzc2lvbilcclxuICAgIC8vIGFwcC5nZXQoJy9hYmMnLCBIb21lQ29udHJvbGxlci5nZXRBYmMpXHJcblxyXG4gICAgcm91dGVyLmdldCgnL2FkbWluJywgSG9tZUNvbnRyb2xsZXIuZ2V0SG9tZSlcclxuICAgIHJvdXRlci5nZXQoJy9hYm91dCcsIEFib3V0Q29udHJvbGxlci5nZXRBYm91dClcclxuXHJcbiAgICByb3V0ZXIuZ2V0KCcvY3JlYXRlX25ld191c2VyJywgVXNlckNvbnRyb2xsZXIubmV3X3VzZXIpXHJcbiAgICByb3V0ZXIucG9zdCgnL2luc2VydF9uZXdfdXNlcicsIFVzZXJDb250cm9sbGVyLmluc2VydF91c2VyKVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy9saXN0LXVzZXIvOmZyb20tOnRvJywgVXNlckNvbnRyb2xsZXIubGlzdF91c2VyKVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy9sb2dpbicsIGZvcm1Mb2dpbkNvbnRyb2xsZXIubG9naW4pXHJcbiAgICByb3V0ZXIucG9zdCgnL2xvZ2luJywgZm9ybUxvZ2luQ29udHJvbGxlci5sb2dpbl9hdXRoKVxyXG4gICAgcm91dGVyLmdldCgnL2xvZ291dCcsIGZvcm1Mb2dpbkNvbnRyb2xsZXIubG9nb3V0KVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy9kZXRhaWxfdXNlci86dXNlcm5hbWUnLCBVc2VyQ29udHJvbGxlci5kZXRhaWxfdXNlcilcclxuXHJcbiAgICByb3V0ZXIucG9zdCgnL2RlbF91c2VyJywgVXNlckNvbnRyb2xsZXIuZGVsX3VzZXIpXHJcblxyXG4gICAgcm91dGVyLmdldCgnL3ZpZXdfZWRpdC86dXNlcm5hbWUnLCBVc2VyQ29udHJvbGxlci52aWV3X2VkaXQpXHJcbiAgICByb3V0ZXIucG9zdCgnL2VkaXRfdXNlcicsIFVzZXJDb250cm9sbGVyLmVkaXRfdXNlcilcclxuXHJcbiAgICBcclxuICAgIC8vdXNlclxyXG4gICAgcm91dGVyLmdldCgnLycsIEhvbWVVc2VyQ29udHJvbGxlci5Ib21lVXNlcilcclxuICAgIFxyXG4gICAgcm91dGVyLmdldCgnL0xvZ2luVXNlcicsIEhvbWVVc2VyQ29udHJvbGxlci5Mb2dpblVzZXIpXHJcbiAgICByb3V0ZXIucG9zdCgnL2xvZ2luX2F1dGhfVXNlcicsIEhvbWVVc2VyQ29udHJvbGxlci5sb2dpbl9hdXRoX1VzZXIpXHJcbiAgICByb3V0ZXIuZ2V0KCcvbG9nb3V0X1VzZXInLCBIb21lVXNlckNvbnRyb2xsZXIubG9nb3V0X1VzZXIpXHJcblxyXG4gICAgXHJcbiAgICByb3V0ZXIuZ2V0KCcvUmVnaXN0ZXJVc2VyJywgSG9tZVVzZXJDb250cm9sbGVyLlJlZ2lzdGVyVXNlcilcclxuICAgIHJvdXRlci5wb3N0KCcvcmVxdWVzdF9yZWdpc3RlcicsIEhvbWVVc2VyQ29udHJvbGxlci5yZXF1ZXN0X3JlZ2lzdGVyKVxyXG5cclxuICAgIFxyXG4gICAgcm91dGVyLmdldCgnL1NpbmdsZVBhZ2UvOmlkJywgSG9tZVVzZXJDb250cm9sbGVyLlNpbmdsZVBhZ2UpXHJcbiAgICBcclxuICAgIFxyXG5cclxuICAgIC8vcXVhbiBseSB0aW4gdHVjICggbmV3cyApICBcclxuICAgIHJvdXRlci5nZXQoJy9saXN0LW5ld3MvOmZyb20tOnRvJywgTmV3c0NvbnRyb2xsZXIubGlzdF9uZXdzKVxyXG4gICAgcm91dGVyLmdldCgnL2NyZWF0ZV9uZXdfbmV3cycsIE5ld3NDb250cm9sbGVyLm5ld19uZXdzKVxyXG4gICAgcm91dGVyLnBvc3QoJy9pbnNlcnRfbmV3X25ld3MnLCBOZXdzQ29udHJvbGxlci5pbnNlcnRfbmV3cylcclxuICAgIHJvdXRlci5nZXQoJy9kZXRhaWxfbmV3cy86dGl0bGUnLCBOZXdzQ29udHJvbGxlci5kZXRhaWxfbmV3cylcclxuXHJcbiAgICByb3V0ZXIuZ2V0KCcvdmlld19lZGl0X25ld3MvOmlkJywgTmV3c0NvbnRyb2xsZXIudmlld19lZGl0X25ld3MpXHJcbiAgICByb3V0ZXIucG9zdCgnL2VkaXRfbmV3cycsIE5ld3NDb250cm9sbGVyLmVkaXRfbmV3cylcclxuICAgIHJvdXRlci5wb3N0KCcvZGVsX25ld3MnLCBOZXdzQ29udHJvbGxlci5kZWxfbmV3cylcclxuXHJcblxyXG4gICAgLy9xdWFuIGx5IGJhaSB2aWV0ICggcG9zdCApICBcclxuICAgIHJvdXRlci5nZXQoJy9saXN0LXBvc3QvOmZyb20tOnRvJywgUG9zdENvbnRyb2xsZXIubGlzdF9wb3N0KVxyXG4gICAgcm91dGVyLmdldCgnL2NyZWF0ZV9uZXdfcG9zdCcsIFBvc3RDb250cm9sbGVyLm5ld19wb3N0KVxyXG4gICAgcm91dGVyLnBvc3QoJy9pbnNlcnRfbmV3X3Bvc3QnLCB1cGxvYWQuc2luZ2xlKCdmaWxlbmV3JyksIFBvc3RDb250cm9sbGVyLmluc2VydF9wb3N0KVxyXG4gICAgcm91dGVyLmdldCgnL2RldGFpbF9wb3N0LzppZCcsIFBvc3RDb250cm9sbGVyLmRldGFpbF9wb3N0KVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy92aWV3X2VkaXRfcG9zdC86aWQnLCBQb3N0Q29udHJvbGxlci52aWV3X2VkaXRfcG9zdClcclxuICAgIHJvdXRlci5wb3N0KCcvZWRpdF9wb3N0JywgdXBsb2FkLnNpbmdsZSgnZmlsZW5ldycpLCBQb3N0Q29udHJvbGxlci5lZGl0X3Bvc3QpXHJcbiAgICByb3V0ZXIucG9zdCgnL2RlbF9wb3N0JywgUG9zdENvbnRyb2xsZXIuZGVsX3Bvc3QpXHJcbiAgICBcclxuICAgIHJldHVybiBhcHAudXNlKFwiL1wiLCByb3V0ZXIpXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgaW5pdFdlYlJvdXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxlQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxnQkFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssZUFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sb0JBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFPLG1CQUFBLEdBQUFSLHNCQUFBLENBQUFDLE9BQUE7QUFHQSxJQUFBUSxlQUFBLEdBQUFULHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBUyxlQUFBLEdBQUFWLHNCQUFBLENB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_multer","_path","_HomeController","_AboutController","_UserController","_formLoginController","_HomeUserController","_NewsController","_PostController","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","filename","uniqueSuffix","Date","now","Math","round","random","path","extname","originalname","upload","router","express","Router","initWebRoute","app","get","HomeController","getHome","AboutController","getAbout","UserController","new_user","post","insert_user","list_user","formLoginController","login","login_auth","logout","detail_user","del_user","view_edit","edit_user","HomeUserController","HomeUser","LoginUser","login_auth_User","logout_User","RegisterUser","request_register","SinglePage","NewsController","list_news","new_news","insert_news","detail_news","view_edit_news","edit_news","del_news","PostController","list_post","new_post","single","insert_post","detail_post","view_edit_post","edit_post","del_post","use","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\router\\","sources":["webRoute.js"],"sourcesContent":["import express from \"express\"\r\nimport multer from 'multer' // thu vien up img\r\nimport path from \"path\"\r\nimport HomeController from \"./../controllers/HomeController\" // add controller\r\nimport AboutController from \"./../controllers/AboutController\" // add controller\r\nimport UserController from \"./../controllers/UserController\" // add controller\r\nimport formLoginController from \"./../controllers/formLoginController\"\r\n\r\nimport HomeUserController from \"./../controllers/HomeUserController\" // add controller\r\n\r\n\r\nimport NewsController from \"./../controllers/NewsController\" // add controller\r\nimport PostController from \"./../controllers/PostController\" // add controller\r\n\r\n\r\nconst storage = multer.diskStorage({\r\n    destination: function (req, file, cb) {\r\n      cb(null, './src/public/upload')\r\n    },\r\n    filename: function (req, file, cb) {\r\n      const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)\r\n      cb(null, uniqueSuffix + path.extname(file.originalname))\r\n    }\r\n  })\r\n  \r\nconst upload = multer({ storage: storage })\r\n\r\nconst router = express.Router()\r\nconst initWebRoute = (app) => {\r\n\r\n    // app.get('/home/:namepage', HomeController.getHome) // truyền param\r\n    // app.get('/set-session', HomeController.setSession)\r\n    // app.get('/abc', HomeController.getAbc)\r\n\r\n    router.get('/admin', HomeController.getHome)\r\n    router.get('/about', AboutController.getAbout)\r\n\r\n    router.get('/create_new_user', UserController.new_user)\r\n    router.post('/insert_new_user', UserController.insert_user)\r\n\r\n    router.get('/list-user/:from-:to', UserController.list_user)\r\n\r\n    router.get('/login', formLoginController.login)\r\n    router.post('/login', formLoginController.login_auth)\r\n    router.get('/logout', formLoginController.logout)\r\n\r\n    router.get('/detail_user/:username', UserController.detail_user)\r\n\r\n    router.post('/del_user', UserController.del_user)\r\n\r\n    router.get('/view_edit/:username', UserController.view_edit)\r\n    router.post('/edit_user', UserController.edit_user)\r\n\r\n    \r\n    //user\r\n    router.get('/', HomeUserController.HomeUser)\r\n    \r\n    router.get('/LoginUser', HomeUserController.LoginUser)\r\n    router.post('/login_auth_User', HomeUserController.login_auth_User)\r\n    router.get('/logout_User', HomeUserController.logout_User)\r\n\r\n    \r\n    router.get('/RegisterUser', HomeUserController.RegisterUser)\r\n    router.post('/request_register', HomeUserController.request_register)\r\n\r\n    \r\n    router.get('/SinglePage/:id', HomeUserController.SinglePage)\r\n    \r\n    \r\n\r\n    //quan ly tin tuc ( news )  \r\n    router.get('/list-news/:from-:to', NewsController.list_news)\r\n    router.get('/create_new_news', NewsController.new_news)\r\n    router.post('/insert_new_news', NewsController.insert_news)\r\n    router.get('/detail_news/:title', NewsController.detail_news)\r\n\r\n    router.get('/view_edit_news/:id', NewsController.view_edit_news)\r\n    router.post('/edit_news', NewsController.edit_news)\r\n    router.post('/del_news', NewsController.del_news)\r\n\r\n\r\n    //quan ly bai viet ( post )  \r\n    router.get('/list-post/:from-:to', PostController.list_post)\r\n    router.get('/create_new_post', PostController.new_post)\r\n    router.post('/insert_new_post', upload.single('filenew'), PostController.insert_post)\r\n    router.get('/detail_post/:id', PostController.detail_post)\r\n\r\n    router.get('/view_edit_post/:id', PostController.view_edit_post)\r\n    router.post('/edit_post', upload.single('filenew'), PostController.edit_post)\r\n    router.post('/del_post', PostController.del_post)\r\n    \r\n    return app.use(\"/\", router)\r\n}\r\nexport default initWebRoute"],"mappings":"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"}},"mtime":1696681786446},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// import homeModel from \"../services/homeModel\"\n\n// const getHome = (req, res) => {\n//     let name = req.params.namepage // nhân param\n//     res.render('home', {data: {tilte:name}})\n// }\n\n// const setSession = async (req, res) => {\n//     //req.session.destroy()\n//     req.session.views = {'page':'home', 'test':10}\n//     res.render('home', {data: {tilte:req.session.views.page}})\n// }\n\n// const getAbc = async (req, res) => {\n//     let list = await homeModel.getall() // call model\n//     return res.render('home', {data: {tilte:'name', rows:list}})\n// }\n\n// const getapi = (req, res) => {\n//     return res.status(200).json({\n//         data: 'list'\n//     })\n// }\nconst getHome = (req, res) => {\n  // res.send('Home')\n  res.redirect(\"/login\");\n};\nvar _default = exports.default = {\n  getHome\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRIb21lIiwicmVxIiwicmVzIiwicmVkaXJlY3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlanNcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiSG9tZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG4vLyBpbXBvcnQgaG9tZU1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9ob21lTW9kZWxcIlxyXG5cclxuLy8gY29uc3QgZ2V0SG9tZSA9IChyZXEsIHJlcykgPT4ge1xyXG4vLyAgICAgbGV0IG5hbWUgPSByZXEucGFyYW1zLm5hbWVwYWdlIC8vIG5ow6JuIHBhcmFtXHJcbi8vICAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHt0aWx0ZTpuYW1lfX0pXHJcbi8vIH1cclxuXHJcbi8vIGNvbnN0IHNldFNlc3Npb24gPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuLy8gICAgIC8vcmVxLnNlc3Npb24uZGVzdHJveSgpXHJcbi8vICAgICByZXEuc2Vzc2lvbi52aWV3cyA9IHsncGFnZSc6J2hvbWUnLCAndGVzdCc6MTB9XHJcbi8vICAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHt0aWx0ZTpyZXEuc2Vzc2lvbi52aWV3cy5wYWdlfX0pXHJcbi8vIH1cclxuXHJcbi8vIGNvbnN0IGdldEFiYyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4vLyAgICAgbGV0IGxpc3QgPSBhd2FpdCBob21lTW9kZWwuZ2V0YWxsKCkgLy8gY2FsbCBtb2RlbFxyXG4vLyAgICAgcmV0dXJuIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3RpbHRlOiduYW1lJywgcm93czpsaXN0fX0pXHJcbi8vIH1cclxuXHJcbi8vIGNvbnN0IGdldGFwaSA9IChyZXEsIHJlcykgPT4ge1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuLy8gICAgICAgICBkYXRhOiAnbGlzdCdcclxuLy8gICAgIH0pXHJcbi8vIH1cclxuXHJcblxyXG5jb25zdCBnZXRIb21lID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAvLyByZXMuc2VuZCgnSG9tZScpXHJcbiAgICByZXMucmVkaXJlY3QoXCIvbG9naW5cIilcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge2dldEhvbWV9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBNkIsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0EsTUFBTUcsT0FBTyxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMxQjtFQUNBQSxHQUFHLENBQUNDLFFBQVEsQ0FBQyxRQUFRLENBQUM7QUFDMUIsQ0FBQztBQUFBLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBTixPQUFBLEdBRWM7RUFBQ0M7QUFBTyxDQUFDIn0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","obj","__esModule","default","getHome","req","res","redirect","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["HomeController.js"],"sourcesContent":["import express from \"express\"\r\n// import homeModel from \"../services/homeModel\"\r\n\r\n// const getHome = (req, res) => {\r\n//     let name = req.params.namepage // nhân param\r\n//     res.render('home', {data: {tilte:name}})\r\n// }\r\n\r\n// const setSession = async (req, res) => {\r\n//     //req.session.destroy()\r\n//     req.session.views = {'page':'home', 'test':10}\r\n//     res.render('home', {data: {tilte:req.session.views.page}})\r\n// }\r\n\r\n// const getAbc = async (req, res) => {\r\n//     let list = await homeModel.getall() // call model\r\n//     return res.render('home', {data: {tilte:'name', rows:list}})\r\n// }\r\n\r\n// const getapi = (req, res) => {\r\n//     return res.status(200).json({\r\n//         data: 'list'\r\n//     })\r\n// }\r\n\r\n\r\nconst getHome = (req, res) => {\r\n    // res.send('Home')\r\n    res.redirect(\"/login\")\r\n}\r\n\r\nexport default {getHome}"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC7B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAGA,MAAMG,OAAO,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC1B;EACAA,GAAG,CAACC,QAAQ,CAAC,QAAQ,CAAC;AAC1B,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAN,OAAA,GAEc;EAACC;AAAO,CAAC"}},"mtime":1696681786374},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\AboutController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getAbout = (req, res) => {\n  res.render('About', {\n    data: {\n      tilte: 'About Page'\n    }\n  });\n};\nvar _default = exports.default = {\n  getAbout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRBYm91dCIsInJlcSIsInJlcyIsInJlbmRlciIsImRhdGEiLCJ0aWx0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVqc1xcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJBYm91dENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5cclxuY29uc3QgZ2V0QWJvdXQgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ0Fib3V0Jywge2RhdGE6IHt0aWx0ZTonQWJvdXQgUGFnZSd9fSlcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtnZXRBYm91dH0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUU3QixNQUFNRyxRQUFRLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzNCQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxPQUFPLEVBQUU7SUFBQ0MsSUFBSSxFQUFFO01BQUNDLEtBQUssRUFBQztJQUFZO0VBQUMsQ0FBQyxDQUFDO0FBQ3JELENBQUM7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQVIsT0FBQSxHQUdjO0VBQUNDO0FBQVEsQ0FBQyJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","obj","__esModule","default","getAbout","req","res","render","data","tilte","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["AboutController.js"],"sourcesContent":["import express from \"express\"\r\n\r\nconst getAbout = (req, res) => {\r\n    res.render('About', {data: {tilte:'About Page'}})\r\n}\r\n\r\n\r\nexport default {getAbout}"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7B,MAAMG,QAAQ,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC3BA,GAAG,CAACC,MAAM,CAAC,OAAO,EAAE;IAACC,IAAI,EAAE;MAACC,KAAK,EAAC;IAAY;EAAC,CAAC,CAAC;AACrD,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAR,OAAA,GAGc;EAACC;AAAQ,CAAC"}},"mtime":1696681786373},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst new_user = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'newUser',\n      title: 'Tạo tài khoản'\n    }\n  });\n};\nconst insert_user = async (req, res) => {\n  let body = req.body;\n  if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    let role = 1;\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.pass, pass);\n    await _userModel.default.insert_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role);\n    res.redirect(\"/list-user/0-10\");\n  }\n};\nconst list_user = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _userModel.default.list_user(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listUser',\n        title: 'Danh sách tài khoản',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst detail_user = async (req, res) => {\n  let Username = req.params.username;\n  let list = await _userModel.default.detail_user(Username);\n  res.render('home', {\n    data: {\n      page: 'detailUser',\n      title: 'Chi tiết người dùng',\n      list: list\n    }\n  });\n};\nconst edit_user = async (req, res) => {\n  let role = 1;\n  let body = req.body;\n  console.table(body);\n  if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n  let pass = _bcryptjs.default.genSaltSync(10);\n  let hash = _bcryptjs.default.hashSync(body.pass, pass);\n  await _userModel.default.edit_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role);\n  res.redirect(\"/detail_user/\" + body.name);\n};\nconst view_edit = async (req, res) => {\n  let Username = req.params.username;\n  let list = await _userModel.default.detail_user(Username);\n  res.render('home', {\n    data: {\n      page: 'viewEdit',\n      title: 'Cập nhật',\n      list: list\n    }\n  });\n};\nconst del_user = async (req, res) => {\n  let body = req.body;\n  if (!body.username) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n  let list = await _userModel.default.del_user(body.username);\n  res.redirect(\"/list-user/0-10\");\n};\nvar _default = exports.default = {\n  new_user,\n  list_user,\n  detail_user,\n  insert_user,\n  edit_user,\n  del_user,\n  view_edit\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibmV3X3VzZXIiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwiaW5zZXJ0X3VzZXIiLCJib2R5IiwibmFtZSIsInBhc3MiLCJuYW1ldXNlciIsImFkZHJlc3MiLCJmbGV4UmFkaW9EZWZhdWx0IiwiZW1haWwiLCJzdGF0dXMiLCJzZW5kIiwicm9sZSIsImJjcnlwdCIsImdlblNhbHRTeW5jIiwiaGFzaCIsImhhc2hTeW5jIiwidXNlck1vZGVsIiwicmVkaXJlY3QiLCJsaXN0X3VzZXIiLCJfZnJvbSIsInBhcmFtcyIsImZyb20iLCJfdG8iLCJ0byIsImF1dGgiLCJzZXNzaW9uIiwiaXNOYU4iLCJsaXN0IiwiZGV0YWlsX3VzZXIiLCJVc2VybmFtZSIsInVzZXJuYW1lIiwiZWRpdF91c2VyIiwiY29uc29sZSIsInRhYmxlIiwidmlld19lZGl0IiwiZGVsX3VzZXIiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlanNcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgdXNlck1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy91c2VyTW9kZWxcIlxyXG5cclxuY29uc3QgbmV3X3VzZXIgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICduZXdVc2VyJywgdGl0bGU6ICdU4bqhbyB0w6BpIGtob+G6o24nfX0pXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBpZiAoIWJvZHkubmFtZSB8fCAhYm9keS5wYXNzIHx8ICFib2R5Lm5hbWV1c2VyIHx8ICFib2R5LmFkZHJlc3MgfHwgIWJvZHkuZmxleFJhZGlvRGVmYXVsdCB8fCAhYm9keS5lbWFpbCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIGxldCByb2xlID0gMVxyXG4gICAgICAgIGxldCBwYXNzID0gYmNyeXB0LmdlblNhbHRTeW5jKDEwKVxyXG4gICAgICAgIGxldCBoYXNoID0gYmNyeXB0Lmhhc2hTeW5jKGJvZHkucGFzcywgcGFzcylcclxuICAgICAgICBhd2FpdCB1c2VyTW9kZWwuaW5zZXJ0X3VzZXIoYm9keS5uYW1lLCBoYXNoLCBib2R5Lm5hbWV1c2VyLCBib2R5LmFkZHJlc3MsIGJvZHkuZmxleFJhZGlvRGVmYXVsdCwgYm9keS5lbWFpbCwgcm9sZSlcclxuICAgICAgICByZXMucmVkaXJlY3QoXCIvbGlzdC11c2VyLzAtMTBcIilcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbGlzdF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgbGV0IF9mcm9tID0gcmVxLnBhcmFtcy5mcm9tXHJcbiAgICBsZXQgX3RvID0gcmVxLnBhcmFtcy50b1xyXG4gICAgbGV0IGF1dGggPSBudWxsXHJcblxyXG4gICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgpIHtcclxuICAgICAgICBhdXRoID0gcmVxLnNlc3Npb24uYXV0aFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoaXNOYU4oX2Zyb20pID09PSBmYWxzZSAmJiBpc05hTihfdG8pID09PSBmYWxzZSkge1xyXG4gICAgICAgIGxldCBsaXN0ID0gYXdhaXQgdXNlck1vZGVsLmxpc3RfdXNlcihfZnJvbSwgX3RvKVxyXG4gICAgICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdsaXN0VXNlcicsIHRpdGxlOiAnRGFuaCBzw6FjaCB0w6BpIGtob+G6o24nLCBwYXJhbXM6IHtfZnJvbSwgX3RvfSAsIGxpc3Q6bGlzdCwgYXV0aDphdXRofX0pXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRldGFpbF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgVXNlcm5hbWUgPSByZXEucGFyYW1zLnVzZXJuYW1lXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IHVzZXJNb2RlbC5kZXRhaWxfdXNlcihVc2VybmFtZSlcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdkZXRhaWxVc2VyJywgdGl0bGU6ICdDaGkgdGnhur90IG5nxrDhu51pIGTDuW5nJywgbGlzdDpsaXN0fX0pXHJcbn1cclxuXHJcbmNvbnN0IGVkaXRfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IHJvbGUgPSAxXHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBjb25zb2xlLnRhYmxlKGJvZHkpXHJcbiAgICBpZiAoIWJvZHkubmFtZSB8fCAhYm9keS5wYXNzIHx8ICFib2R5Lm5hbWV1c2VyIHx8ICFib2R5LmFkZHJlc3MgfHwgIWJvZHkuZmxleFJhZGlvRGVmYXVsdCB8fCAhYm9keS5lbWFpbCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbiAgICBsZXQgcGFzcyA9IGJjcnlwdC5nZW5TYWx0U3luYygxMClcclxuICAgIGxldCBoYXNoID0gYmNyeXB0Lmhhc2hTeW5jKGJvZHkucGFzcywgcGFzcylcclxuICAgIGF3YWl0IHVzZXJNb2RlbC5lZGl0X3VzZXIoYm9keS5uYW1lLCBoYXNoLCBib2R5Lm5hbWV1c2VyLCBib2R5LmFkZHJlc3MsIGJvZHkuZmxleFJhZGlvRGVmYXVsdCwgYm9keS5lbWFpbCwgcm9sZSlcclxuICAgIHJlcy5yZWRpcmVjdChcIi9kZXRhaWxfdXNlci9cIiArIGJvZHkubmFtZSlcclxufVxyXG5cclxuY29uc3Qgdmlld19lZGl0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgVXNlcm5hbWUgPSByZXEucGFyYW1zLnVzZXJuYW1lXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IHVzZXJNb2RlbC5kZXRhaWxfdXNlcihVc2VybmFtZSlcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICd2aWV3RWRpdCcsIHRpdGxlOiAnQ+G6rXAgbmjhuq10JywgbGlzdDpsaXN0fX0pXHJcbn1cclxuXHJcbmNvbnN0IGRlbF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBpZiAoIWJvZHkudXNlcm5hbWUpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCB1c2VyTW9kZWwuZGVsX3VzZXIoYm9keS51c2VybmFtZSlcclxuICAgIHJlcy5yZWRpcmVjdChcIi9saXN0LXVzZXIvMC0xMFwiKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7bmV3X3VzZXIsIGxpc3RfdXNlciwgZGV0YWlsX3VzZXIsIGluc2VydF91c2VyLCBlZGl0X3VzZXIsIGRlbF91c2VyLCB2aWV3X2VkaXR9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRixzQkFBQSxDQUFB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","obj","__esModule","default","new_user","req","res","render","data","page","title","insert_user","body","name","pass","nameuser","address","flexRadioDefault","email","status","send","role","bcrypt","genSaltSync","hash","hashSync","userModel","redirect","list_user","_from","params","from","_to","to","auth","session","isNaN","list","detail_user","Username","username","edit_user","console","table","view_edit","del_user","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["UserController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst new_user = (req, res) => {\r\n    res.render('home', {data: {page: 'newUser', title: 'Tạo tài khoản'}})\r\n}\r\n\r\nconst insert_user = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        let role = 1\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.pass, pass)\r\n        await userModel.insert_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role)\r\n        res.redirect(\"/list-user/0-10\")\r\n    }\r\n}\r\n\r\nconst list_user = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await userModel.list_user(_from, _to)\r\n        res.render('home', {data: {page: 'listUser', title: 'Danh sách tài khoản', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst detail_user = async (req, res) => {\r\n    let Username = req.params.username\r\n    let list = await userModel.detail_user(Username)\r\n    res.render('home', {data: {page: 'detailUser', title: 'Chi tiết người dùng', list:list}})\r\n}\r\n\r\nconst edit_user = async (req, res) => {\r\n    let role = 1\r\n    let body = req.body\r\n    console.table(body)\r\n    if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    let pass = bcrypt.genSaltSync(10)\r\n    let hash = bcrypt.hashSync(body.pass, pass)\r\n    await userModel.edit_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role)\r\n    res.redirect(\"/detail_user/\" + body.name)\r\n}\r\n\r\nconst view_edit = async (req, res) => {\r\n    let Username = req.params.username\r\n    let list = await userModel.detail_user(Username)\r\n    res.render('home', {data: {page: 'viewEdit', title: 'Cập nhật', list:list}})\r\n}\r\n\r\nconst del_user = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    let list = await userModel.del_user(body.username)\r\n    res.redirect(\"/list-user/0-10\")\r\n}\r\n\r\nexport default {new_user, list_user, detail_user, insert_user, edit_user, del_user, view_edit}"],"mappings":"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"}},"mtime":1696681786375},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\services\\\\userModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst insert_user = async (username, password, fullname, address, sex, email, groupid) => {\n  await _connectDB.default.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `sex`, `email`, `groupid`) VALUES (?,?,?,?,?,?,?)', [username, password, fullname, address, sex, email, groupid]);\n};\nconst list_user = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `users` LIMIT ?, ?', [from, to]);\n  return rows;\n};\nconst detail_user = async name => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM users WHERE users.username LIKE ?', [name]);\n  return rows;\n};\nconst edit_user = async (username, password, fullname, address, sex, email, groupid) => {\n  await _connectDB.default.execute('UPDATE `users` SET `password`=?,`fullname`=?,`address`=?,`sex`=?,`email`=?,`groupid`=? WHERE users.username = ?', [password, fullname, address, sex, email, groupid, username]);\n};\nconst del_user = async username => {\n  await _connectDB.default.execute('DELETE FROM `users` WHERE users.username = ?', [username]);\n};\nconst auth = async username => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM users WHERE users.username LIKE ?', [username]);\n  return rows;\n};\nconst insert_user_Users = async (username, password, fullname, address, groupid) => {\n  await _connectDB.default.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `groupid`) VALUES (?,?,?,?,?)', [username, password, fullname, address, groupid]);\n};\nvar _default = exports.default = {\n  insert_user,\n  list_user,\n  detail_user,\n  edit_user,\n  del_user,\n  auth,\n  insert_user_Users\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImluc2VydF91c2VyIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImZ1bGxuYW1lIiwiYWRkcmVzcyIsInNleCIsImVtYWlsIiwiZ3JvdXBpZCIsImNvbiIsImV4ZWN1dGUiLCJsaXN0X3VzZXIiLCJmcm9tIiwidG8iLCJyb3dzIiwiZmllbGRzIiwiZGV0YWlsX3VzZXIiLCJuYW1lIiwiZWRpdF91c2VyIiwiZGVsX3VzZXIiLCJhdXRoIiwiaW5zZXJ0X3VzZXJfVXNlcnMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlanNcXHNyY1xcc2VydmljZXNcXCIsInNvdXJjZXMiOlsidXNlck1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb24gZnJvbSBcIi4vLi4vY29uZmlnL2Nvbm5lY3REQlwiXHJcblxyXG5jb25zdCBpbnNlcnRfdXNlciA9IGFzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBzZXgsIGVtYWlsLCBncm91cGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnSU5TRVJUIElOVE8gYHVzZXJzYChgdXNlcm5hbWVgLCBgcGFzc3dvcmRgLCBgZnVsbG5hbWVgLCBgYWRkcmVzc2AsIGBzZXhgLCBgZW1haWxgLCBgZ3JvdXBpZGApIFZBTFVFUyAoPyw/LD8sPyw/LD8sPyknLFt1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBzZXgsIGVtYWlsLCBncm91cGlkXSlcclxufSBcclxuXHJcbmNvbnN0IGxpc3RfdXNlciA9IGFzeW5jIChmcm9tLCB0bykgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBgdXNlcnNgIExJTUlUID8sID8nLCBbZnJvbSwgdG9dKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufSBcclxuXHJcbmNvbnN0IGRldGFpbF91c2VyID0gYXN5bmMgKG5hbWUpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgdXNlcnMudXNlcm5hbWUgTElLRSA/JywgW25hbWVdKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufSBcclxuXHJcbmNvbnN0IGVkaXRfdXNlciA9IGFzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBzZXgsIGVtYWlsLCBncm91cGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnVVBEQVRFIGB1c2Vyc2AgU0VUIGBwYXNzd29yZGA9PyxgZnVsbG5hbWVgPT8sYGFkZHJlc3NgPT8sYHNleGA9PyxgZW1haWxgPT8sYGdyb3VwaWRgPT8gV0hFUkUgdXNlcnMudXNlcm5hbWUgPSA/JyxbcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBzZXgsIGVtYWlsLCBncm91cGlkLCB1c2VybmFtZV0pXHJcbn1cclxuXHJcbmNvbnN0IGRlbF91c2VyID0gYXN5bmMgKHVzZXJuYW1lKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnREVMRVRFIEZST00gYHVzZXJzYCBXSEVSRSB1c2Vycy51c2VybmFtZSA9ID8nLFt1c2VybmFtZV0pXHJcbn1cclxuXHJcbmNvbnN0IGF1dGggPSBhc3luYyAodXNlcm5hbWUpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgdXNlcnMudXNlcm5hbWUgTElLRSA/JywgW3VzZXJuYW1lXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF91c2VyX1VzZXJzID0gYXN5bmMgKHVzZXJuYW1lLCBwYXNzd29yZCwgZnVsbG5hbWUsIGFkZHJlc3MsIGdyb3VwaWQpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdJTlNFUlQgSU5UTyBgdXNlcnNgKGB1c2VybmFtZWAsIGBwYXNzd29yZGAsIGBmdWxsbmFtZWAsIGBhZGRyZXNzYCwgYGdyb3VwaWRgKSBWQUxVRVMgKD8sPyw/LD8sPyknLFt1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBncm91cGlkXSlcclxufSBcclxuZXhwb3J0IGRlZmF1bHQge2luc2VydF91c2VyLCBsaXN0X3VzZXIsIGRldGFpbF91c2VyLCBlZGl0X3VzZXIsIGRlbF91c2VyLCBhdXRoLGluc2VydF91c2VyX1VzZXJzfSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFBQSxVQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBdUMsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFdkMsTUFBTUcsV0FBVyxHQUFHLE1BQUFBLENBQU9DLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsR0FBRyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sS0FBSztFQUN0RixNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsc0hBQXNILEVBQUMsQ0FBQ1IsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxDQUFDLENBQUM7QUFDMU0sQ0FBQztBQUVELE1BQU1HLFNBQVMsR0FBRyxNQUFBQSxDQUFPQyxJQUFJLEVBQUVDLEVBQUUsS0FBSztFQUNsQyxNQUFNLENBQUNDLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTU4sa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLGtDQUFrQyxFQUFFLENBQUNFLElBQUksRUFBRUMsRUFBRSxDQUFDLENBQUM7RUFDeEYsT0FBT0MsSUFBSTtBQUNmLENBQUM7QUFFRCxNQUFNRSxXQUFXLEdBQUcsTUFBT0MsSUFBSSxJQUFLO0VBQ2hDLE1BQU0sQ0FBQ0gsSUFBSSxFQUFFQyxNQUFNLENBQUMsR0FBRyxNQUFNTixrQkFBRyxDQUFDQyxPQUFPLENBQUMsaURBQWlELEVBQUUsQ0FBQ08sSUFBSSxDQUFDLENBQUM7RUFDbkcsT0FBT0gsSUFBSTtBQUNmLENBQUM7QUFFRCxNQUFNSSxTQUFTLEdBQUcsTUFBQUEsQ0FBT2hCLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsR0FBRyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sS0FBSztFQUNwRixNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsaUhBQWlILEVBQUMsQ0FBQ1AsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsR0FBRyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRU4sUUFBUSxDQUFDLENBQUM7QUFDck0sQ0FBQztBQUVELE1BQU1pQixRQUFRLEdBQUcsTUFBT2pCLFFBQVEsSUFBSztFQUNqQyxNQUFNTyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsOENBQThDLEVBQUMsQ0FBQ1IsUUFBUSxDQUFDLENBQUM7QUFDaEYsQ0FBQztBQUVELE1BQU1rQixJQUFJLEdBQUcsTUFBT2xCLFFBQVEsSUFBSztFQUM3QixNQUFNLENBQUNZLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTU4sa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLGlEQUFpRCxFQUFFLENBQUNSLFFBQVEsQ0FBQyxDQUFDO0VBQ3ZHLE9BQU9ZLElBQUk7QUFDZixDQUFDO0FBRUQsTUFBTU8saUJBQWlCLEdBQUcsTUFBQUEsQ0FBT25CLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUcsT0FBTyxLQUFLO0VBQ2hGLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxrR0FBa0csRUFBQyxDQUFDUixRQUFRLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUVHLE9BQU8sQ0FBQyxDQUFDO0FBQzFLLENBQUM7QUFBQSxJQUFBYyxRQUFBLEdBQUFDLE9BQUEsQ0FBQXZCLE9BQUEsR0FDYztFQUFDQyxXQUFXO0VBQUVVLFNBQVM7RUFBRUssV0FBVztFQUFFRSxTQUFTO0VBQUVDLFFBQVE7RUFBRUMsSUFBSTtFQUFDQztBQUFpQixDQUFDIn0=","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","insert_user","username","password","fullname","address","sex","email","groupid","con","execute","list_user","from","to","rows","fields","detail_user","name","edit_user","del_user","auth","insert_user_Users","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\services\\","sources":["userModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\nconst insert_user = async (username, password, fullname, address, sex, email, groupid) => {\r\n    await con.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `sex`, `email`, `groupid`) VALUES (?,?,?,?,?,?,?)',[username, password, fullname, address, sex, email, groupid])\r\n} \r\n\r\nconst list_user = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `users` LIMIT ?, ?', [from, to])\r\n    return rows\r\n} \r\n\r\nconst detail_user = async (name) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM users WHERE users.username LIKE ?', [name])\r\n    return rows\r\n} \r\n\r\nconst edit_user = async (username, password, fullname, address, sex, email, groupid) => {\r\n    await con.execute('UPDATE `users` SET `password`=?,`fullname`=?,`address`=?,`sex`=?,`email`=?,`groupid`=? WHERE users.username = ?',[password, fullname, address, sex, email, groupid, username])\r\n}\r\n\r\nconst del_user = async (username) => {\r\n    await con.execute('DELETE FROM `users` WHERE users.username = ?',[username])\r\n}\r\n\r\nconst auth = async (username) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM users WHERE users.username LIKE ?', [username])\r\n    return rows\r\n}\r\n\r\nconst insert_user_Users = async (username, password, fullname, address, groupid) => {\r\n    await con.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `groupid`) VALUES (?,?,?,?,?)',[username, password, fullname, address, groupid])\r\n} \r\nexport default {insert_user, list_user, detail_user, edit_user, del_user, auth,insert_user_Users}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEvC,MAAMG,WAAW,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,KAAK;EACtF,MAAMC,kBAAG,CAACC,OAAO,CAAC,sHAAsH,EAAC,CAACR,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,CAAC,CAAC;AAC1M,CAAC;AAED,MAAMG,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,kCAAkC,EAAE,CAACE,IAAI,EAAEC,EAAE,CAAC,CAAC;EACxF,OAAOC,IAAI;AACf,CAAC;AAED,MAAME,WAAW,GAAG,MAAOC,IAAI,IAAK;EAChC,MAAM,CAACH,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAE,CAACO,IAAI,CAAC,CAAC;EACnG,OAAOH,IAAI;AACf,CAAC;AAED,MAAMI,SAAS,GAAG,MAAAA,CAAOhB,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,KAAK;EACpF,MAAMC,kBAAG,CAACC,OAAO,CAAC,iHAAiH,EAAC,CAACP,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,EAAEN,QAAQ,CAAC,CAAC;AACrM,CAAC;AAED,MAAMiB,QAAQ,GAAG,MAAOjB,QAAQ,IAAK;EACjC,MAAMO,kBAAG,CAACC,OAAO,CAAC,8CAA8C,EAAC,CAACR,QAAQ,CAAC,CAAC;AAChF,CAAC;AAED,MAAMkB,IAAI,GAAG,MAAOlB,QAAQ,IAAK;EAC7B,MAAM,CAACY,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAE,CAACR,QAAQ,CAAC,CAAC;EACvG,OAAOY,IAAI;AACf,CAAC;AAED,MAAMO,iBAAiB,GAAG,MAAAA,CAAOnB,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEG,OAAO,KAAK;EAChF,MAAMC,kBAAG,CAACC,OAAO,CAAC,kGAAkG,EAAC,CAACR,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEG,OAAO,CAAC,CAAC;AAC1K,CAAC;AAAA,IAAAc,QAAA,GAAAC,OAAA,CAAAvB,OAAA,GACc;EAACC,WAAW;EAAEU,SAAS;EAAEK,WAAW;EAAEE,SAAS;EAAEC,QAAQ;EAAEC,IAAI;EAACC;AAAiB,CAAC"}},"mtime":1696681786455},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\config\\\\connectDB.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _promise = _interopRequireDefault(require(\"mysql2/promise\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst con = _promise.default.createPool({\n  host: 'localhost',\n  user: 'root',\n  database: 'bc_node',\n  waitForConnections: true,\n  connectionLimit: 10,\n  maxIdle: 10,\n  // max idle connections, the default value is the same as `connectionLimit`\n  idleTimeout: 60000,\n  // idle connections timeout, in milliseconds, the default value 60000\n  queueLimit: 0,\n  enableKeepAlive: true,\n  keepAliveInitialDelay: 0\n});\nvar _default = exports.default = con;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvbWlzZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjb24iLCJteXNxbCIsImNyZWF0ZVBvb2wiLCJob3N0IiwidXNlciIsImRhdGFiYXNlIiwid2FpdEZvckNvbm5lY3Rpb25zIiwiY29ubmVjdGlvbkxpbWl0IiwibWF4SWRsZSIsImlkbGVUaW1lb3V0IiwicXVldWVMaW1pdCIsImVuYWJsZUtlZXBBbGl2ZSIsImtlZXBBbGl2ZUluaXRpYWxEZWxheSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVqc1xcc3JjXFxjb25maWdcXCIsInNvdXJjZXMiOlsiY29ubmVjdERCLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBteXNxbCBmcm9tIFwibXlzcWwyL3Byb21pc2VcIlxyXG5cclxuY29uc3QgY29uID0gbXlzcWwuY3JlYXRlUG9vbCh7XHJcblxyXG4gICAgaG9zdDogJ2xvY2FsaG9zdCcsXHJcbiAgICB1c2VyOiAncm9vdCcsXHJcbiAgICBkYXRhYmFzZTogJ2JjX25vZGUnLFxyXG4gICAgd2FpdEZvckNvbm5lY3Rpb25zOiB0cnVlLFxyXG4gICAgY29ubmVjdGlvbkxpbWl0OiAxMCxcclxuICAgIG1heElkbGU6IDEwLCAvLyBtYXggaWRsZSBjb25uZWN0aW9ucywgdGhlIGRlZmF1bHQgdmFsdWUgaXMgdGhlIHNhbWUgYXMgYGNvbm5lY3Rpb25MaW1pdGBcclxuICAgIGlkbGVUaW1lb3V0OiA2MDAwMCwgLy8gaWRsZSBjb25uZWN0aW9ucyB0aW1lb3V0LCBpbiBtaWxsaXNlY29uZHMsIHRoZSBkZWZhdWx0IHZhbHVlIDYwMDAwXHJcbiAgICBxdWV1ZUxpbWl0OiAwLFxyXG4gICAgZW5hYmxlS2VlcEFsaXZlOiB0cnVlLFxyXG4gICAga2VlcEFsaXZlSW5pdGlhbERlbGF5OiAwXHJcblxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBa0MsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFbEMsTUFBTUcsR0FBRyxHQUFHQyxnQkFBSyxDQUFDQyxVQUFVLENBQUM7RUFFekJDLElBQUksRUFBRSxXQUFXO0VBQ2pCQyxJQUFJLEVBQUUsTUFBTTtFQUNaQyxRQUFRLEVBQUUsU0FBUztFQUNuQkMsa0JBQWtCLEVBQUUsSUFBSTtFQUN4QkMsZUFBZSxFQUFFLEVBQUU7RUFDbkJDLE9BQU8sRUFBRSxFQUFFO0VBQUU7RUFDYkMsV0FBVyxFQUFFLEtBQUs7RUFBRTtFQUNwQkMsVUFBVSxFQUFFLENBQUM7RUFDYkMsZUFBZSxFQUFFLElBQUk7RUFDckJDLHFCQUFxQixFQUFFO0FBRTNCLENBQUMsQ0FBQztBQUFBLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBZixPQUFBLEdBRWFDLEdBQUcifQ==","map":{"version":3,"names":["_promise","_interopRequireDefault","require","obj","__esModule","default","con","mysql","createPool","host","user","database","waitForConnections","connectionLimit","maxIdle","idleTimeout","queueLimit","enableKeepAlive","keepAliveInitialDelay","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\config\\","sources":["connectDB.js"],"sourcesContent":["import mysql from \"mysql2/promise\"\r\n\r\nconst con = mysql.createPool({\r\n\r\n    host: 'localhost',\r\n    user: 'root',\r\n    database: 'bc_node',\r\n    waitForConnections: true,\r\n    connectionLimit: 10,\r\n    maxIdle: 10, // max idle connections, the default value is the same as `connectionLimit`\r\n    idleTimeout: 60000, // idle connections timeout, in milliseconds, the default value 60000\r\n    queueLimit: 0,\r\n    enableKeepAlive: true,\r\n    keepAliveInitialDelay: 0\r\n\r\n})\r\n\r\nexport default con"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAkC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAElC,MAAMG,GAAG,GAAGC,gBAAK,CAACC,UAAU,CAAC;EAEzBC,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,MAAM;EACZC,QAAQ,EAAE,SAAS;EACnBC,kBAAkB,EAAE,IAAI;EACxBC,eAAe,EAAE,EAAE;EACnBC,OAAO,EAAE,EAAE;EAAE;EACbC,WAAW,EAAE,KAAK;EAAE;EACpBC,UAAU,EAAE,CAAC;EACbC,eAAe,EAAE,IAAI;EACrBC,qBAAqB,EAAE;AAE3B,CAAC,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAEaC,GAAG"}},"mtime":1696681779487},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\formLoginController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst login = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'login',\n      title: 'Đăng nhập'\n    }\n  });\n};\nconst login_auth = async (req, res) => {\n  let body = req.body;\n  if (!body.username || !body.password) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    try {\n      let auth = await _userModel.default.auth(body.username);\n      if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\n        console.log(\"khong ton tai tk\");\n      } else {\n        let hash = _bcryptjs.default.hashSync(body.password, _bcryptjs.default.genSaltSync(10));\n        if (_bcryptjs.default.compareSync(body.password, auth[0].password)) {\n          req.session.auth = {\n            name: auth[0].username,\n            pass: auth[0].password,\n            role: auth[0].groupid\n          };\n          res.redirect(\"/list-user/0-10\");\n        } else {\n          console.log(\"sai mat khau\");\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\nconst logout = (req, res) => {\n  req.session.destroy();\n  res.redirect('/login');\n};\nvar _default = exports.default = {\n  login,\n  login_auth,\n  logout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibG9naW4iLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwibG9naW5fYXV0aCIsImJvZHkiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwic3RhdHVzIiwic2VuZCIsImF1dGgiLCJ1c2VyTW9kZWwiLCJncm91cGlkIiwiY29uc29sZSIsImxvZyIsImhhc2giLCJiY3J5cHQiLCJoYXNoU3luYyIsImdlblNhbHRTeW5jIiwiY29tcGFyZVN5bmMiLCJzZXNzaW9uIiwibmFtZSIsInBhc3MiLCJyb2xlIiwicmVkaXJlY3QiLCJlcnJvciIsImxvZ291dCIsImRlc3Ryb3kiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlanNcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiZm9ybUxvZ2luQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcbmltcG9ydCB1c2VyTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL3VzZXJNb2RlbFwiXHJcblxyXG5jb25zdCBsb2dpbiA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2xvZ2luJywgdGl0bGU6ICfEkMSDbmcgbmjhuq1wJ319KVxyXG59XHJcblxyXG5jb25zdCBsb2dpbl9hdXRoID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBpZiAoIWJvZHkudXNlcm5hbWUgfHwgIWJvZHkucGFzc3dvcmQpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGF1dGggPSBhd2FpdCB1c2VyTW9kZWwuYXV0aChib2R5LnVzZXJuYW1lKVxyXG5cclxuICAgICAgICAgICAgaWYgKCFhdXRoWzBdLnVzZXJuYW1lIHx8ICFhdXRoWzBdLnBhc3N3b3JkIHx8ICFhdXRoWzBdLmdyb3VwaWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwia2hvbmcgdG9uIHRhaSB0a1wiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGhhc2ggPSBiY3J5cHQuaGFzaFN5bmMoYm9keS5wYXNzd29yZCwgYmNyeXB0LmdlblNhbHRTeW5jKDEwKSlcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGJjcnlwdC5jb21wYXJlU3luYyhib2R5LnBhc3N3b3JkLCBhdXRoWzBdLnBhc3N3b3JkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLmF1dGggPSB7bmFtZTphdXRoWzBdLnVzZXJuYW1lLCBwYXNzOmF1dGhbMF0ucGFzc3dvcmQsIHJvbGU6YXV0aFswXS5ncm91cGlkfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5yZWRpcmVjdChcIi9saXN0LXVzZXIvMC0xMFwiKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzYWkgbWF0IGtoYXVcIilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGxvZ291dCA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVxLnNlc3Npb24uZGVzdHJveSgpXHJcbiAgICByZXMucmVkaXJlY3QoJy9sb2dpbicpXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtsb2dpbiwgbG9naW5fYXV0aCwgbG9nb3V0fSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUU3QyxNQUFNRyxLQUFLLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3hCQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxNQUFNLEVBQUU7SUFBQ0MsSUFBSSxFQUFFO01BQUNDLElBQUksRUFBRSxPQUFPO01BQUVDLEtBQUssRUFBRTtJQUFXO0VBQUMsQ0FBQyxDQUFDO0FBQ25FLENBQUM7QUFFRCxNQUFNQyxVQUFVLEdBQUcsTUFBQUEsQ0FBT04sR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDbkMsSUFBSU0sSUFBSSxHQUFHUCxHQUFHLENBQUNPLElBQUk7RUFDbkIsSUFBSSxDQUFDQSxJQUFJLENBQUNDLFFBQVEsSUFBSSxDQUFDRCxJQUFJLENBQUNFLFFBQVEsRUFBRTtJQUNsQ1IsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyw0QkFBNEIsQ0FBQztFQUN0RCxDQUFDLE1BQ0k7SUFDRCxJQUFJO01BQ0EsSUFBSUMsSUFBSSxHQUFHLE1BQU1DLGtCQUFTLENBQUNELElBQUksQ0FBQ0wsSUFBSSxDQUFDQyxRQUFRLENBQUM7TUFFOUMsSUFBSSxDQUFDSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNKLFFBQVEsSUFBSSxDQUFDSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNILFFBQVEsSUFBSSxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNFLE9BQU8sRUFBRTtRQUM1REMsT0FBTyxDQUFDQyxHQUFHLENBQUMsa0JBQWtCLENBQUM7TUFDbkMsQ0FBQyxNQUNJO1FBQ0QsSUFBSUMsSUFBSSxHQUFHQyxpQkFBTSxDQUFDQyxRQUFRLENBQUNaLElBQUksQ0FBQ0UsUUFBUSxFQUFFUyxpQkFBTSxDQUFDRSxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFakUsSUFBSUYsaUJBQU0sQ0FBQ0csV0FBVyxDQUFDZCxJQUFJLENBQUNFLFFBQVEsRUFBRUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDSCxRQUFRLENBQUMsRUFBRTtVQUNyRFQsR0FBRyxDQUFDc0IsT0FBTyxDQUFDVixJQUFJLEdBQUc7WUFBQ1csSUFBSSxFQUFDWCxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNKLFFBQVE7WUFBRWdCLElBQUksRUFBQ1osSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDSCxRQUFRO1lBQUVnQixJQUFJLEVBQUNiLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ0U7VUFBTyxDQUFDO1VBQ3ZGYixHQUFHLENBQUN5QixRQUFRLENBQUMsaUJBQWlCLENBQUM7UUFDbkMsQ0FBQyxNQUNJO1VBQ0RYLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGNBQWMsQ0FBQztRQUMvQjtNQUNKO0lBRUosQ0FBQyxDQUFDLE9BQU9XLEtBQUssRUFBRTtNQUNaWixPQUFPLENBQUNDLEdBQUcsQ0FBQ1csS0FBSyxDQUFDO0lBQ3RCO0VBQ0o7QUFDSixDQUFDO0FBRUQsTUFBTUMsTUFBTSxHQUFHQSxDQUFDNUIsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDekJELEdBQUcsQ0FBQ3NCLE9BQU8sQ0FBQ08sT0FBTyxDQUFDLENBQUM7RUFDckI1QixHQUFHLENBQUN5QixRQUFRLENBQUMsUUFBUSxDQUFDO0FBQzFCLENBQUM7QUFBQSxJQUFBSSxRQUFBLEdBQUFDLE9BQUEsQ0FBQWpDLE9BQUEsR0FFYztFQUFDQyxLQUFLO0VBQUVPLFVBQVU7RUFBRXNCO0FBQU0sQ0FBQyJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","obj","__esModule","default","login","req","res","render","data","page","title","login_auth","body","username","password","status","send","auth","userModel","groupid","console","log","hash","bcrypt","hashSync","genSaltSync","compareSync","session","name","pass","role","redirect","error","logout","destroy","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["formLoginController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst login = (req, res) => {\r\n    res.render('home', {data: {page: 'login', title: 'Đăng nhập'}})\r\n}\r\n\r\nconst login_auth = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username || !body.password) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else {\r\n        try {\r\n            let auth = await userModel.auth(body.username)\r\n\r\n            if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\r\n                console.log(\"khong ton tai tk\")\r\n            }\r\n            else {\r\n                let hash = bcrypt.hashSync(body.password, bcrypt.genSaltSync(10))\r\n                \r\n                if (bcrypt.compareSync(body.password, auth[0].password)) {\r\n                    req.session.auth = {name:auth[0].username, pass:auth[0].password, role:auth[0].groupid}\r\n                    res.redirect(\"/list-user/0-10\")\r\n                }\r\n                else {\r\n                    console.log(\"sai mat khau\")\r\n                }\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n}\r\n\r\nconst logout = (req, res) => {\r\n    req.session.destroy()\r\n    res.redirect('/login')\r\n}\r\n\r\nexport default {login, login_auth, logout}"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA6C,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7C,MAAMG,KAAK,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EACxBA,GAAG,CAACC,MAAM,CAAC,MAAM,EAAE;IAACC,IAAI,EAAE;MAACC,IAAI,EAAE,OAAO;MAAEC,KAAK,EAAE;IAAW;EAAC,CAAC,CAAC;AACnE,CAAC;AAED,MAAMC,UAAU,GAAG,MAAAA,CAAON,GAAG,EAAEC,GAAG,KAAK;EACnC,IAAIM,IAAI,GAAGP,GAAG,CAACO,IAAI;EACnB,IAAI,CAACA,IAAI,CAACC,QAAQ,IAAI,CAACD,IAAI,CAACE,QAAQ,EAAE;IAClCR,GAAG,CAACS,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,4BAA4B,CAAC;EACtD,CAAC,MACI;IACD,IAAI;MACA,IAAIC,IAAI,GAAG,MAAMC,kBAAS,CAACD,IAAI,CAACL,IAAI,CAACC,QAAQ,CAAC;MAE9C,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,CAACJ,QAAQ,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ,IAAI,CAACG,IAAI,CAAC,CAAC,CAAC,CAACE,OAAO,EAAE;QAC5DC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MACnC,CAAC,MACI;QACD,IAAIC,IAAI,GAAGC,iBAAM,CAACC,QAAQ,CAACZ,IAAI,CAACE,QAAQ,EAAES,iBAAM,CAACE,WAAW,CAAC,EAAE,CAAC,CAAC;QAEjE,IAAIF,iBAAM,CAACG,WAAW,CAACd,IAAI,CAACE,QAAQ,EAAEG,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ,CAAC,EAAE;UACrDT,GAAG,CAACsB,OAAO,CAACV,IAAI,GAAG;YAACW,IAAI,EAACX,IAAI,CAAC,CAAC,CAAC,CAACJ,QAAQ;YAAEgB,IAAI,EAACZ,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ;YAAEgB,IAAI,EAACb,IAAI,CAAC,CAAC,CAAC,CAACE;UAAO,CAAC;UACvFb,GAAG,CAACyB,QAAQ,CAAC,iBAAiB,CAAC;QACnC,CAAC,MACI;UACDX,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;QAC/B;MACJ;IAEJ,CAAC,CAAC,OAAOW,KAAK,EAAE;MACZZ,OAAO,CAACC,GAAG,CAACW,KAAK,CAAC;IACtB;EACJ;AACJ,CAAC;AAED,MAAMC,MAAM,GAAGA,CAAC5B,GAAG,EAAEC,GAAG,KAAK;EACzBD,GAAG,CAACsB,OAAO,CAACO,OAAO,CAAC,CAAC;EACrB5B,GAAG,CAACyB,QAAQ,CAAC,QAAQ,CAAC;AAC1B,CAAC;AAAA,IAAAI,QAAA,GAAAC,OAAA,CAAAjC,OAAA,GAEc;EAACC,KAAK;EAAEO,UAAU;EAAEsB;AAAM,CAAC"}},"mtime":1696681786374},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\HomeUserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _connectDB = _interopRequireDefault(require(\"../config/connectDB\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst HomeUser = async (req, res) => {\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n\n  //lay 3 tin tuc noi bat\n  var limitt = 3;\n  let list = await _postModel.default.list_hot_post_user(limitt);\n\n  //lay tin tuc moi nhat\n\n  let lists = await _postModel.default.list_new_post_user();\n  res.render('User/HomeUser', {\n    data: {\n      page: 'IndexUser',\n      title: 'Trang Chu',\n      list: list,\n      lists: lists,\n      auth: auth\n    }\n  });\n};\n\n//chi tiet bai viet singlepost\n\nconst SinglePage = async (req, res) => {\n  let id = req.params.id;\n  let item = await _postModel.default.detail_post(id);\n\n  //lay ra danh sach tin tuc\n\n  let items = await _newsModel.default.list_news_all();\n  res.render('User/HomeUser', {\n    data: {\n      page: 'SinglePage',\n      item: item,\n      items: items\n    }\n  });\n};\nconst LoginUser = (req, res) => {\n  res.render('User/LoginUser', {\n    data: {\n      title: 'Login'\n    }\n  });\n};\nconst login_auth_User = async (req, res) => {\n  let body = req.body;\n  if (!body.username || !body.password) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    try {\n      let auth = await _userModel.default.auth(body.username);\n      if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\n        console.log(\"khong ton tai tk\");\n      } else {\n        let hash = _bcryptjs.default.hashSync(body.password, _bcryptjs.default.genSaltSync(10));\n        if (auth[0].groupid == 1) {\n          if (_bcryptjs.default.compareSync(body.password, auth[0].password)) {\n            req.session.auth = {\n              name: auth[0].username,\n              pass: auth[0].password,\n              role: auth[0].groupid\n            };\n            res.redirect(\"/\");\n          } else {\n            console.log(\"sai mat khau\");\n          }\n        } else {\n          console.log(\"sai mat khau\");\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\nconst logout_User = (req, res) => {\n  req.session.destroy();\n  res.redirect('/');\n};\nconst RegisterUser = (req, res) => {\n  res.render('User/RegisterUser', {\n    data: {\n      title: 'Register'\n    }\n  });\n};\nconst request_register = async (req, res) => {\n  let body = req.body;\n  if (!body.username || !body.password || !body.fullname || !body.address) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    let role = 1;\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.password, pass);\n    await _userModel.default.insert_user_Users(body.username, hash, body.fullname, body.address, role);\n    res.redirect(\"/\");\n  }\n};\nvar _default = exports.default = {\n  HomeUser,\n  LoginUser,\n  SinglePage,\n  RegisterUser,\n  login_auth_User,\n  logout_User,\n  request_register\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX2Nvbm5lY3REQiIsIl9wb3N0TW9kZWwiLCJfbmV3c01vZGVsIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiSG9tZVVzZXIiLCJyZXEiLCJyZXMiLCJhdXRoIiwic2Vzc2lvbiIsImxpbWl0dCIsImxpc3QiLCJwb3N0TW9kZWwiLCJsaXN0X2hvdF9wb3N0X3VzZXIiLCJsaXN0cyIsImxpc3RfbmV3X3Bvc3RfdXNlciIsInJlbmRlciIsImRhdGEiLCJwYWdlIiwidGl0bGUiLCJTaW5nbGVQYWdlIiwiaWQiLCJwYXJhbXMiLCJpdGVtIiwiZGV0YWlsX3Bvc3QiLCJpdGVtcyIsIm5ld3NNb2RlbCIsImxpc3RfbmV3c19hbGwiLCJMb2dpblVzZXIiLCJsb2dpbl9hdXRoX1VzZXIiLCJib2R5IiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInN0YXR1cyIsInNlbmQiLCJ1c2VyTW9kZWwiLCJncm91cGlkIiwiY29uc29sZSIsImxvZyIsImhhc2giLCJiY3J5cHQiLCJoYXNoU3luYyIsImdlblNhbHRTeW5jIiwiY29tcGFyZVN5bmMiLCJuYW1lIiwicGFzcyIsInJvbGUiLCJyZWRpcmVjdCIsImVycm9yIiwibG9nb3V0X1VzZXIiLCJkZXN0cm95IiwiUmVnaXN0ZXJVc2VyIiwicmVxdWVzdF9yZWdpc3RlciIsImZ1bGxuYW1lIiwiYWRkcmVzcyIsImluc2VydF91c2VyX1VzZXJzIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxceGFtcHBcXGh0ZG9jc1xcQkNfTm9kZWpzXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkhvbWVVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBmcyBmcm9tICdmcydcclxuaW1wb3J0IGNvbiBmcm9tIFwiLi4vY29uZmlnL2Nvbm5lY3REQlwiXHJcbmltcG9ydCBwb3N0TW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL3Bvc3RNb2RlbFwiXHJcbmltcG9ydCBuZXdzTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL25ld3NNb2RlbFwiXHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcbmltcG9ydCB1c2VyTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL3VzZXJNb2RlbFwiXHJcblxyXG5jb25zdCBIb21lVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIGxldCBhdXRoID0gbnVsbFxyXG5cclxuICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRoKSB7XHJcbiAgICAgICAgYXV0aCA9IHJlcS5zZXNzaW9uLmF1dGhcclxuICAgIH1cclxuXHJcbiAgICAvL2xheSAzIHRpbiB0dWMgbm9pIGJhdFxyXG4gICAgdmFyIGxpbWl0dCA9IDNcclxuICAgIGxldCBsaXN0ID0gYXdhaXQgcG9zdE1vZGVsLmxpc3RfaG90X3Bvc3RfdXNlcihsaW1pdHQpXHJcbiAgIFxyXG5cclxuICAgIC8vbGF5IHRpbiB0dWMgbW9pIG5oYXRcclxuICBcclxuICAgIGxldCBsaXN0cyA9IGF3YWl0IHBvc3RNb2RlbC5saXN0X25ld19wb3N0X3VzZXIoKVxyXG5cclxuXHJcbiAgICByZXMucmVuZGVyKCdVc2VyL0hvbWVVc2VyJywge2RhdGE6IHtwYWdlOiAnSW5kZXhVc2VyJywgdGl0bGU6ICdUcmFuZyBDaHUnLGxpc3Q6bGlzdCxsaXN0czpsaXN0cyxhdXRoOmF1dGh9fSlcclxufVxyXG5cclxuLy9jaGkgdGlldCBiYWkgdmlldCBzaW5nbGVwb3N0XHJcblxyXG5jb25zdCBTaW5nbGVQYWdlID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgbGV0IGl0ZW0gPSBhd2FpdCBwb3N0TW9kZWwuZGV0YWlsX3Bvc3QoaWQpXHJcblxyXG4gICAgLy9sYXkgcmEgZGFuaCBzYWNoIHRpbiB0dWNcclxuXHJcbiAgIGxldCBpdGVtcyA9IGF3YWl0IG5ld3NNb2RlbC5saXN0X25ld3NfYWxsKCk7IFxyXG5cclxuXHJcbiAgICByZXMucmVuZGVyKCdVc2VyL0hvbWVVc2VyJywge2RhdGE6IHtwYWdlOiAnU2luZ2xlUGFnZScsaXRlbTppdGVtLGl0ZW1zOml0ZW1zfX0pXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5jb25zdCBMb2dpblVzZXIgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ1VzZXIvTG9naW5Vc2VyJywge2RhdGE6IHt0aXRsZTogJ0xvZ2luJ319KVxyXG59XHJcbmNvbnN0IGxvZ2luX2F1dGhfVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgaWYgKCFib2R5LnVzZXJuYW1lIHx8ICFib2R5LnBhc3N3b3JkKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBhdXRoID0gYXdhaXQgdXNlck1vZGVsLmF1dGgoYm9keS51c2VybmFtZSlcclxuXHJcbiAgICAgICAgICAgIGlmICghYXV0aFswXS51c2VybmFtZSB8fCAhYXV0aFswXS5wYXNzd29yZCB8fCAhYXV0aFswXS5ncm91cGlkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImtob25nIHRvbiB0YWkgdGtcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBoYXNoID0gYmNyeXB0Lmhhc2hTeW5jKGJvZHkucGFzc3dvcmQsIGJjcnlwdC5nZW5TYWx0U3luYygxMCkpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgaWYoYXV0aFswXS5ncm91cGlkID09IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJjcnlwdC5jb21wYXJlU3luYyhib2R5LnBhc3N3b3JkLCBhdXRoWzBdLnBhc3N3b3JkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLmF1dGggPSB7bmFtZTphdXRoWzBdLnVzZXJuYW1lLCBwYXNzOmF1dGhbMF0ucGFzc3dvcmQsIHJvbGU6YXV0aFswXS5ncm91cGlkfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5yZWRpcmVjdChcIi9cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2FpIG1hdCBraGF1XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNhaSBtYXQga2hhdVwiKVxyXG4gICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBsb2dvdXRfVXNlciA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVxLnNlc3Npb24uZGVzdHJveSgpXHJcbiAgICByZXMucmVkaXJlY3QoJy8nKVxyXG59XHJcblxyXG5jb25zdCBSZWdpc3RlclVzZXIgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ1VzZXIvUmVnaXN0ZXJVc2VyJywge2RhdGE6IHt0aXRsZTogJ1JlZ2lzdGVyJ319KVxyXG59XHJcbmNvbnN0IHJlcXVlc3RfcmVnaXN0ZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuICAgIGlmICghYm9keS51c2VybmFtZSB8fCAhYm9keS5wYXNzd29yZCB8fCAhYm9keS5mdWxsbmFtZSB8fCAhYm9keS5hZGRyZXNzKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgbGV0IHJvbGUgPSAxXHJcbiAgICAgICAgbGV0IHBhc3MgPSBiY3J5cHQuZ2VuU2FsdFN5bmMoMTApXHJcbiAgICAgICAgbGV0IGhhc2ggPSBiY3J5cHQuaGFzaFN5bmMoYm9keS5wYXNzd29yZCwgcGFzcylcclxuICAgICAgICBhd2FpdCB1c2VyTW9kZWwuaW5zZXJ0X3VzZXJfVXNlcnMoYm9keS51c2VybmFtZSwgaGFzaCwgYm9keS5mdWxsbmFtZSwgYm9keS5hZGRyZXNzLCByb2xlKVxyXG4gICAgICAgIHJlcy5yZWRpcmVjdChcIi9cIilcclxuICAgIH1cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQge0hvbWVVc2VyLExvZ2luVXNlcixTaW5nbGVQYWdlLFJlZ2lzdGVyVXNlcixsb2dpbl9hdXRoX1VzZXIsbG9nb3V0X1VzZXIscmVxdWVzdF9yZWdpc3Rlcn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxHQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxVQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxVQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxTQUFB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_connectDB","_postModel","_newsModel","_bcryptjs","_userModel","obj","__esModule","default","HomeUser","req","res","auth","session","limitt","list","postModel","list_hot_post_user","lists","list_new_post_user","render","data","page","title","SinglePage","id","params","item","detail_post","items","newsModel","list_news_all","LoginUser","login_auth_User","body","username","password","status","send","userModel","groupid","console","log","hash","bcrypt","hashSync","genSaltSync","compareSync","name","pass","role","redirect","error","logout_User","destroy","RegisterUser","request_register","fullname","address","insert_user_Users","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["HomeUserController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs'\r\nimport con from \"../config/connectDB\"\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst HomeUser = async (req, res) => {\r\n\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n\r\n    //lay 3 tin tuc noi bat\r\n    var limitt = 3\r\n    let list = await postModel.list_hot_post_user(limitt)\r\n   \r\n\r\n    //lay tin tuc moi nhat\r\n  \r\n    let lists = await postModel.list_new_post_user()\r\n\r\n\r\n    res.render('User/HomeUser', {data: {page: 'IndexUser', title: 'Trang Chu',list:list,lists:lists,auth:auth}})\r\n}\r\n\r\n//chi tiet bai viet singlepost\r\n\r\nconst SinglePage = async (req, res) => {\r\n\r\n    let id = req.params.id\r\n    let item = await postModel.detail_post(id)\r\n\r\n    //lay ra danh sach tin tuc\r\n\r\n   let items = await newsModel.list_news_all(); \r\n\r\n\r\n    res.render('User/HomeUser', {data: {page: 'SinglePage',item:item,items:items}})\r\n}\r\n\r\n\r\n\r\n\r\n\r\nconst LoginUser = (req, res) => {\r\n    res.render('User/LoginUser', {data: {title: 'Login'}})\r\n}\r\nconst login_auth_User = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username || !body.password) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else {\r\n        try {\r\n            let auth = await userModel.auth(body.username)\r\n\r\n            if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\r\n                console.log(\"khong ton tai tk\")\r\n            }\r\n            else {\r\n                let hash = bcrypt.hashSync(body.password, bcrypt.genSaltSync(10))\r\n                \r\n               if(auth[0].groupid == 1){\r\n                            if (bcrypt.compareSync(body.password, auth[0].password)) {\r\n                                req.session.auth = {name:auth[0].username, pass:auth[0].password, role:auth[0].groupid}\r\n                                res.redirect(\"/\")\r\n                            }\r\n                            else {\r\n                                console.log(\"sai mat khau\")\r\n                            }\r\n                }\r\n               else{\r\n                console.log(\"sai mat khau\")\r\n               }\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n}\r\n\r\nconst logout_User = (req, res) => {\r\n    req.session.destroy()\r\n    res.redirect('/')\r\n}\r\n\r\nconst RegisterUser = (req, res) => {\r\n    res.render('User/RegisterUser', {data: {title: 'Register'}})\r\n}\r\nconst request_register = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username || !body.password || !body.fullname || !body.address) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        let role = 1\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.password, pass)\r\n        await userModel.insert_user_Users(body.username, hash, body.fullname, body.address, role)\r\n        res.redirect(\"/\")\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default {HomeUser,LoginUser,SinglePage,RegisterUser,login_auth_User,logout_User,request_register}"],"mappings":"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"}},"mtime":1696681786375},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\NewsController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst list_news = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _newsModel.default.list_news(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listNews',\n        title: 'Danh sách tin tức',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst new_news = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'newNews',\n      title: 'Tạo tin tức'\n    }\n  });\n};\nconst insert_news = async (req, res) => {\n  let body = req.body;\n  if (!body.title) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    await _newsModel.default.insert_news(body.title);\n    res.redirect(\"/list-news/0-10\");\n  }\n};\nconst detail_news = async (req, res) => {\n  let title = req.params.title;\n  let list = await _newsModel.default.detail_news(title);\n  res.render('home', {\n    data: {\n      page: 'detailNews',\n      title: 'Chi tiết tin tức',\n      list: list\n    }\n  });\n};\nconst view_edit_news = async (req, res) => {\n  let id = req.params.id;\n  let list = await _newsModel.default.detail_news_edit(id);\n  res.render('home', {\n    data: {\n      page: 'viewEditNews',\n      list: list\n    }\n  });\n};\nconst edit_news = async (req, res) => {\n  const id = req.body.id;\n  let body = req.body;\n  console.table(body);\n  await _newsModel.default.edit_news(body.title, id);\n  res.redirect('/list-news/0-10');\n};\nconst del_news = async (req, res) => {\n  const id = req.body.id;\n  let list = await _newsModel.default.del_news(id);\n  res.redirect(\"/list-news/0-10\");\n};\nvar _default = exports.default = {\n  list_news,\n  new_news,\n  insert_news,\n  detail_news,\n  view_edit_news,\n  edit_news,\n  del_news\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX25ld3NNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibGlzdF9uZXdzIiwicmVxIiwicmVzIiwiX2Zyb20iLCJwYXJhbXMiLCJmcm9tIiwiX3RvIiwidG8iLCJhdXRoIiwic2Vzc2lvbiIsImlzTmFOIiwibGlzdCIsIm5ld3NNb2RlbCIsInJlbmRlciIsImRhdGEiLCJwYWdlIiwidGl0bGUiLCJzdGF0dXMiLCJzZW5kIiwibmV3X25ld3MiLCJpbnNlcnRfbmV3cyIsImJvZHkiLCJyZWRpcmVjdCIsImRldGFpbF9uZXdzIiwidmlld19lZGl0X25ld3MiLCJpZCIsImRldGFpbF9uZXdzX2VkaXQiLCJlZGl0X25ld3MiLCJjb25zb2xlIiwidGFibGUiLCJkZWxfbmV3cyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVqc1xcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJOZXdzQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcbmltcG9ydCBuZXdzTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL25ld3NNb2RlbFwiXHJcblxyXG5jb25zdCBsaXN0X25ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICBsZXQgX2Zyb20gPSByZXEucGFyYW1zLmZyb21cclxuICAgIGxldCBfdG8gPSByZXEucGFyYW1zLnRvXHJcbiAgICBsZXQgYXV0aCA9IG51bGxcclxuXHJcbiAgICBpZiAocmVxLnNlc3Npb24uYXV0aCkge1xyXG4gICAgICAgIGF1dGggPSByZXEuc2Vzc2lvbi5hdXRoXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChpc05hTihfZnJvbSkgPT09IGZhbHNlICYmIGlzTmFOKF90bykgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzKF9mcm9tLCBfdG8pXHJcbiAgICAgICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2xpc3ROZXdzJywgdGl0bGU6ICdEYW5oIHPDoWNoIHRpbiB04bupYycsIHBhcmFtczoge19mcm9tLCBfdG99ICwgbGlzdDpsaXN0LCBhdXRoOmF1dGh9fSlcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbmV3X25ld3MgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICduZXdOZXdzJywgdGl0bGU6ICdU4bqhbyB0aW4gdOG7qWMnfX0pXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBpZiAoIWJvZHkudGl0bGUgKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgXHJcbiAgICAgICBcclxuICAgICAgICBhd2FpdCBuZXdzTW9kZWwuaW5zZXJ0X25ld3MoYm9keS50aXRsZSlcclxuICAgICAgICByZXMucmVkaXJlY3QoXCIvbGlzdC1uZXdzLzAtMTBcIilcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZGV0YWlsX25ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCB0aXRsZSA9IHJlcS5wYXJhbXMudGl0bGVcclxuICAgIGxldCBsaXN0ID0gYXdhaXQgbmV3c01vZGVsLmRldGFpbF9uZXdzKHRpdGxlKVxyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2RldGFpbE5ld3MnLCB0aXRsZTogJ0NoaSB0aeG6v3QgdGluIHThu6ljJywgbGlzdDpsaXN0fX0pXHJcbn1cclxuXHJcbmNvbnN0IHZpZXdfZWRpdF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IG5ld3NNb2RlbC5kZXRhaWxfbmV3c19lZGl0KGlkKVxyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ3ZpZXdFZGl0TmV3cycsIGxpc3Q6bGlzdH19KVxyXG59XHJcblxyXG5jb25zdCBlZGl0X25ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQgXHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBjb25zb2xlLnRhYmxlKGJvZHkpXHJcbiAgICBhd2FpdCBuZXdzTW9kZWwuZWRpdF9uZXdzKGJvZHkudGl0bGUsaWQpXHJcbiAgICByZXMucmVkaXJlY3QoJy9saXN0LW5ld3MvMC0xMCcpXHJcbn1cclxuXHJcbmNvbnN0IGRlbF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5ib2R5LmlkIFxyXG4gXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IG5ld3NNb2RlbC5kZWxfbmV3cyhpZClcclxuICAgIHJlcy5yZWRpcmVjdChcIi9saXN0LW5ld3MvMC0xMFwiKVxyXG59XHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtsaXN0X25ld3MsbmV3X25ld3MsaW5zZXJ0X25ld3MsZGV0YWlsX25ld3Msdmlld19lZGl0X25ld3MsZWRpdF9uZXdzLGRlbF9uZXdzfSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_newsModel","obj","__esModule","default","list_news","req","res","_from","params","from","_to","to","auth","session","isNaN","list","newsModel","render","data","page","title","status","send","new_news","insert_news","body","redirect","detail_news","view_edit_news","id","detail_news_edit","edit_news","console","table","del_news","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["NewsController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport newsModel from \"../services/newsModel\"\r\n\r\nconst list_news = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await newsModel.list_news(_from, _to)\r\n        res.render('home', {data: {page: 'listNews', title: 'Danh sách tin tức', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst new_news = (req, res) => {\r\n    res.render('home', {data: {page: 'newNews', title: 'Tạo tin tức'}})\r\n}\r\n\r\nconst insert_news = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.title ) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        \r\n       \r\n        await newsModel.insert_news(body.title)\r\n        res.redirect(\"/list-news/0-10\")\r\n    }\r\n}\r\n\r\nconst detail_news = async (req, res) => {\r\n    let title = req.params.title\r\n    let list = await newsModel.detail_news(title)\r\n    res.render('home', {data: {page: 'detailNews', title: 'Chi tiết tin tức', list:list}})\r\n}\r\n\r\nconst view_edit_news = async (req, res) => {\r\n    let id = req.params.id\r\n    let list = await newsModel.detail_news_edit(id)\r\n    res.render('home', {data: {page: 'viewEditNews', list:list}})\r\n}\r\n\r\nconst edit_news = async (req, res) => {\r\n    const id = req.body.id \r\n    let body = req.body\r\n    console.table(body)\r\n    await newsModel.edit_news(body.title,id)\r\n    res.redirect('/list-news/0-10')\r\n}\r\n\r\nconst del_news = async (req, res) => {\r\n    const id = req.body.id \r\n \r\n    let list = await newsModel.del_news(id)\r\n    res.redirect(\"/list-news/0-10\")\r\n}\r\n\r\n\r\n\r\nexport default {list_news,new_news,insert_news,detail_news,view_edit_news,edit_news,del_news}"],"mappings":"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"}},"mtime":1696681786375},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\services\\\\newsModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst list_news_all = async () => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `news`');\n  return rows;\n};\nconst list_news = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `news` LIMIT ?, ?', [from, to]);\n  return rows;\n};\nconst insert_news = async title => {\n  await _connectDB.default.execute('INSERT INTO `news`(`title`) VALUES (?)', [title]);\n};\nconst detail_news = async title => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM news WHERE news.title LIKE ?', [title]);\n  return rows;\n};\nconst detail_news_edit = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM news WHERE news.id LIKE ?', [id]);\n  return rows;\n};\nconst edit_news = async (title, id) => {\n  await _connectDB.default.execute('UPDATE `news` SET `title`=? where news.id = ?  ', [title, id]);\n};\nconst del_news = async id => {\n  await _connectDB.default.execute('DELETE FROM `news` WHERE news.id = ?', [id]);\n};\nvar _default = exports.default = {\n  list_news,\n  insert_news,\n  detail_news,\n  edit_news,\n  detail_news_edit,\n  del_news,\n  list_news_all\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfbmV3c19hbGwiLCJyb3dzIiwiZmllbGRzIiwiY29uIiwiZXhlY3V0ZSIsImxpc3RfbmV3cyIsImZyb20iLCJ0byIsImluc2VydF9uZXdzIiwidGl0bGUiLCJkZXRhaWxfbmV3cyIsImRldGFpbF9uZXdzX2VkaXQiLCJpZCIsImVkaXRfbmV3cyIsImRlbF9uZXdzIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxceGFtcHBcXGh0ZG9jc1xcQkNfTm9kZWpzXFxzcmNcXHNlcnZpY2VzXFwiLCJzb3VyY2VzIjpbIm5ld3NNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29uIGZyb20gXCIuLy4uL2NvbmZpZy9jb25uZWN0REJcIlxyXG5cclxuY29uc3QgbGlzdF9uZXdzX2FsbCA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYG5ld3NgJylcclxuICAgIHJldHVybiByb3dzXHJcbn0gXHJcblxyXG5jb25zdCBsaXN0X25ld3MgPSBhc3luYyAoZnJvbSwgdG8pID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYG5ld3NgIExJTUlUID8sID8nLCBbZnJvbSwgdG9dKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufSBcclxuXHJcbmNvbnN0IGluc2VydF9uZXdzID0gYXN5bmMgKHRpdGxlKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnSU5TRVJUIElOVE8gYG5ld3NgKGB0aXRsZWApIFZBTFVFUyAoPyknLFt0aXRsZV0pXHJcbn0gXHJcbmNvbnN0IGRldGFpbF9uZXdzID0gYXN5bmMgKHRpdGxlKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIG5ld3MgV0hFUkUgbmV3cy50aXRsZSBMSUtFID8nLCBbdGl0bGVdKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5cclxuY29uc3QgZGV0YWlsX25ld3NfZWRpdCA9IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBuZXdzIFdIRVJFIG5ld3MuaWQgTElLRSA/JywgW2lkXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuY29uc3QgZWRpdF9uZXdzID0gYXN5bmMgKHRpdGxlLGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnVVBEQVRFIGBuZXdzYCBTRVQgYHRpdGxlYD0/IHdoZXJlIG5ld3MuaWQgPSA/ICAnLFt0aXRsZSxpZF0pXHJcbn1cclxuXHJcbmNvbnN0IGRlbF9uZXdzID0gYXN5bmMgKGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnREVMRVRFIEZST00gYG5ld3NgIFdIRVJFIG5ld3MuaWQgPSA/JyxbaWRdKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHtsaXN0X25ld3MsaW5zZXJ0X25ld3MsZGV0YWlsX25ld3MsZWRpdF9uZXdzLGRldGFpbF9uZXdzX2VkaXQsZGVsX25ld3MsIGxpc3RfbmV3c19hbGx9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLElBQUFBLFVBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUF1QyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV2QyxNQUFNRyxhQUFhLEdBQUcsTUFBQUEsQ0FBQSxLQUFZO0VBQzlCLE1BQU0sQ0FBQ0MsSUFBSSxFQUFFQyxNQUFNLENBQUMsR0FBRyxNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsc0JBQXNCLENBQUM7RUFDaEUsT0FBT0gsSUFBSTtBQUNmLENBQUM7QUFFRCxNQUFNSSxTQUFTLEdBQUcsTUFBQUEsQ0FBT0MsSUFBSSxFQUFFQyxFQUFFLEtBQUs7RUFDbEMsTUFBTSxDQUFDTixJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxpQ0FBaUMsRUFBRSxDQUFDRSxJQUFJLEVBQUVDLEVBQUUsQ0FBQyxDQUFDO0VBQ3ZGLE9BQU9OLElBQUk7QUFDZixDQUFDO0FBRUQsTUFBTU8sV0FBVyxHQUFHLE1BQU9DLEtBQUssSUFBSztFQUNqQyxNQUFNTixrQkFBRyxDQUFDQyxPQUFPLENBQUMsd0NBQXdDLEVBQUMsQ0FBQ0ssS0FBSyxDQUFDLENBQUM7QUFDdkUsQ0FBQztBQUNELE1BQU1DLFdBQVcsR0FBRyxNQUFPRCxLQUFLLElBQUs7RUFDakMsTUFBTSxDQUFDUixJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyw0Q0FBNEMsRUFBRSxDQUFDSyxLQUFLLENBQUMsQ0FBQztFQUMvRixPQUFPUixJQUFJO0FBQ2YsQ0FBQztBQUVELE1BQU1VLGdCQUFnQixHQUFHLE1BQU9DLEVBQUUsSUFBSztFQUNuQyxNQUFNLENBQUNYLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHlDQUF5QyxFQUFFLENBQUNRLEVBQUUsQ0FBQyxDQUFDO0VBQ3pGLE9BQU9YLElBQUk7QUFDZixDQUFDO0FBQ0QsTUFBTVksU0FBUyxHQUFHLE1BQUFBLENBQU9KLEtBQUssRUFBQ0csRUFBRSxLQUFLO0VBQ2xDLE1BQU1ULGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxpREFBaUQsRUFBQyxDQUFDSyxLQUFLLEVBQUNHLEVBQUUsQ0FBQyxDQUFDO0FBQ25GLENBQUM7QUFFRCxNQUFNRSxRQUFRLEdBQUcsTUFBT0YsRUFBRSxJQUFLO0VBQzNCLE1BQU1ULGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxzQ0FBc0MsRUFBQyxDQUFDUSxFQUFFLENBQUMsQ0FBQztBQUNsRSxDQUFDO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFqQixPQUFBLEdBQ2M7RUFBQ00sU0FBUztFQUFDRyxXQUFXO0VBQUNFLFdBQVc7RUFBQ0csU0FBUztFQUFDRixnQkFBZ0I7RUFBQ0csUUFBUTtFQUFFZDtBQUFhLENBQUMifQ==","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","list_news_all","rows","fields","con","execute","list_news","from","to","insert_news","title","detail_news","detail_news_edit","id","edit_news","del_news","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\services\\","sources":["newsModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\nconst list_news_all = async () => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `news`')\r\n    return rows\r\n} \r\n\r\nconst list_news = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `news` LIMIT ?, ?', [from, to])\r\n    return rows\r\n} \r\n\r\nconst insert_news = async (title) => {\r\n    await con.execute('INSERT INTO `news`(`title`) VALUES (?)',[title])\r\n} \r\nconst detail_news = async (title) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM news WHERE news.title LIKE ?', [title])\r\n    return rows\r\n}\r\n\r\nconst detail_news_edit = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM news WHERE news.id LIKE ?', [id])\r\n    return rows\r\n}\r\nconst edit_news = async (title,id) => {\r\n    await con.execute('UPDATE `news` SET `title`=? where news.id = ?  ',[title,id])\r\n}\r\n\r\nconst del_news = async (id) => {\r\n    await con.execute('DELETE FROM `news` WHERE news.id = ?',[id])\r\n}\r\nexport default {list_news,insert_news,detail_news,edit_news,detail_news_edit,del_news, list_news_all}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEvC,MAAMG,aAAa,GAAG,MAAAA,CAAA,KAAY;EAC9B,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,sBAAsB,CAAC;EAChE,OAAOH,IAAI;AACf,CAAC;AAED,MAAMI,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACN,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,iCAAiC,EAAE,CAACE,IAAI,EAAEC,EAAE,CAAC,CAAC;EACvF,OAAON,IAAI;AACf,CAAC;AAED,MAAMO,WAAW,GAAG,MAAOC,KAAK,IAAK;EACjC,MAAMN,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAC,CAACK,KAAK,CAAC,CAAC;AACvE,CAAC;AACD,MAAMC,WAAW,GAAG,MAAOD,KAAK,IAAK;EACjC,MAAM,CAACR,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,4CAA4C,EAAE,CAACK,KAAK,CAAC,CAAC;EAC/F,OAAOR,IAAI;AACf,CAAC;AAED,MAAMU,gBAAgB,GAAG,MAAOC,EAAE,IAAK;EACnC,MAAM,CAACX,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,yCAAyC,EAAE,CAACQ,EAAE,CAAC,CAAC;EACzF,OAAOX,IAAI;AACf,CAAC;AACD,MAAMY,SAAS,GAAG,MAAAA,CAAOJ,KAAK,EAACG,EAAE,KAAK;EAClC,MAAMT,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAC,CAACK,KAAK,EAACG,EAAE,CAAC,CAAC;AACnF,CAAC;AAED,MAAME,QAAQ,GAAG,MAAOF,EAAE,IAAK;EAC3B,MAAMT,kBAAG,CAACC,OAAO,CAAC,sCAAsC,EAAC,CAACQ,EAAE,CAAC,CAAC;AAClE,CAAC;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAjB,OAAA,GACc;EAACM,SAAS;EAACG,WAAW;EAACE,WAAW;EAACG,SAAS;EAACF,gBAAgB;EAACG,QAAQ;EAAEd;AAAa,CAAC"}},"mtime":1696681786452},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\PostController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thư viện thao tác file\n\nconst list_post = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _postModel.default.list_post(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listpost',\n        title: 'Danh sách bài viết',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst new_post = async (req, res) => {\n  let danhmuc = await _newsModel.default.list_news_all();\n  res.render('home', {\n    data: {\n      page: 'newpost',\n      title: 'Tạo bài viết',\n      danhmuc: danhmuc\n    }\n  });\n};\nconst insert_post = async (req, res) => {\n  let img = req.file;\n  let body = req.body;\n  if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    const currentDate = new Date();\n    await _postModel.default.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id, currentDate);\n    res.redirect(\"list-post/0-10\");\n  }\n};\nconst detail_post = async (req, res) => {\n  let id = req.params.id;\n  let danhmuc = await _newsModel.default.list_news_all();\n  let list = await _postModel.default.detail_post(id);\n  res.render('home', {\n    data: {\n      page: 'detailpost',\n      title: 'Chi tiết bài viết',\n      list: list,\n      danhmuc: danhmuc\n    }\n  });\n};\nconst view_edit_post = async (req, res) => {\n  let id = req.params.id;\n  let danhmuc = await _newsModel.default.list_news_all();\n  let list = await _postModel.default.detail_post_edit(id);\n  res.render('home', {\n    data: {\n      page: 'viewEditpost',\n      title: 'Cập nhật bài viết',\n      list: list,\n      danhmuc: danhmuc\n    }\n  });\n};\nconst edit_post = async (req, res) => {\n  const id = req.body.id;\n  let body = req.body;\n  let img = body.img_old;\n  let file = req.file;\n  if (file) {\n    img = file.filename;\n    let post = await _postModel.default.detail_post(id);\n    _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n  }\n  if (!body.titlenew || !body.contentnew || !body.news_id) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    await _postModel.default.edit_post(body.titlenew, body.contentnew, img, body.news_id, id);\n    res.redirect('list-post/0-10');\n  }\n};\nconst del_post = async (req, res) => {\n  const id = req.body.id;\n  let post = await _postModel.default.detail_post(id);\n  _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n  let list = await _postModel.default.del_post(id);\n  res.redirect(\"list-post/0-10\");\n};\nvar _default = exports.default = {\n  list_post,\n  new_post,\n  insert_post,\n  detail_post,\n  view_edit_post,\n  edit_post,\n  del_post\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX3Bvc3RNb2RlbCIsIl9uZXdzTW9kZWwiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfcG9zdCIsInJlcSIsInJlcyIsIl9mcm9tIiwicGFyYW1zIiwiZnJvbSIsIl90byIsInRvIiwiYXV0aCIsInNlc3Npb24iLCJpc05hTiIsImxpc3QiLCJwb3N0TW9kZWwiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwic3RhdHVzIiwic2VuZCIsIm5ld19wb3N0IiwiZGFuaG11YyIsIm5ld3NNb2RlbCIsImxpc3RfbmV3c19hbGwiLCJpbnNlcnRfcG9zdCIsImltZyIsImZpbGUiLCJib2R5IiwidGl0bGVuZXciLCJjb250ZW50bmV3IiwiZmlsZW5hbWUiLCJuZXdzX2lkIiwiY3VycmVudERhdGUiLCJEYXRlIiwicmVkaXJlY3QiLCJkZXRhaWxfcG9zdCIsImlkIiwidmlld19lZGl0X3Bvc3QiLCJkZXRhaWxfcG9zdF9lZGl0IiwiZWRpdF9wb3N0IiwiaW1nX29sZCIsInBvc3QiLCJmcyIsInVubGlua1N5bmMiLCJpbWFnZSIsImRlbF9wb3N0IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxceGFtcHBcXGh0ZG9jc1xcQkNfTm9kZWpzXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlBvc3RDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJyAvLyB0aMawIHZp4buHbiB0aGFvIHTDoWMgZmlsZVxyXG5cclxuaW1wb3J0IHBvc3RNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvcG9zdE1vZGVsXCJcclxuaW1wb3J0IG5ld3NNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvbmV3c01vZGVsXCJcclxuXHJcblxyXG5jb25zdCBsaXN0X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICBsZXQgX2Zyb20gPSByZXEucGFyYW1zLmZyb21cclxuICAgIGxldCBfdG8gPSByZXEucGFyYW1zLnRvXHJcbiAgICBsZXQgYXV0aCA9IG51bGxcclxuXHJcbiAgICBpZiAocmVxLnNlc3Npb24uYXV0aCkge1xyXG4gICAgICAgIGF1dGggPSByZXEuc2Vzc2lvbi5hdXRoXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChpc05hTihfZnJvbSkgPT09IGZhbHNlICYmIGlzTmFOKF90bykgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwubGlzdF9wb3N0KF9mcm9tLCBfdG8pXHJcbiAgICAgICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2xpc3Rwb3N0JywgdGl0bGU6ICdEYW5oIHPDoWNoIGLDoGkgdmnhur90JywgcGFyYW1zOiB7X2Zyb20sIF90b30gLCBsaXN0Omxpc3QsIGF1dGg6YXV0aH19KVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBuZXdfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGRhbmhtdWMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpXHJcbiAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHtwYWdlOiAnbmV3cG9zdCcsIHRpdGxlOiAnVOG6oW8gYsOgaSB2aeG6v3QnLCBkYW5obXVjOmRhbmhtdWN9fSlcclxufVxyXG5cclxuY29uc3QgaW5zZXJ0X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCBpbWcgPSByZXEuZmlsZVxyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgaWYgKCFib2R5LnRpdGxlbmV3IHx8ICFib2R5LmNvbnRlbnRuZXcgfHwgIWltZy5maWxlbmFtZSB8fCAhYm9keS5uZXdzX2lkKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGF3YWl0IHBvc3RNb2RlbC5pbnNlcnRfcG9zdChib2R5LnRpdGxlbmV3LCBib2R5LmNvbnRlbnRuZXcsIGltZy5maWxlbmFtZSwgYm9keS5uZXdzX2lkLGN1cnJlbnREYXRlKVxyXG4gICAgICAgIHJlcy5yZWRpcmVjdChcImxpc3QtcG9zdC8wLTEwXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRldGFpbF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICBsZXQgZGFuaG11YyA9IGF3YWl0IG5ld3NNb2RlbC5saXN0X25ld3NfYWxsKClcclxuICAgIGxldCBsaXN0ID0gYXdhaXQgcG9zdE1vZGVsLmRldGFpbF9wb3N0KGlkKVxyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2RldGFpbHBvc3QnLCB0aXRsZTogJ0NoaSB0aeG6v3QgYsOgaSB2aeG6v3QnLCBsaXN0Omxpc3QsIGRhbmhtdWM6ZGFuaG11Y319KVxyXG59XHJcblxyXG5jb25zdCB2aWV3X2VkaXRfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgbGV0IGRhbmhtdWMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdF9lZGl0KGlkKVxyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ3ZpZXdFZGl0cG9zdCcsIHRpdGxlOiAnQ+G6rXAgbmjhuq10IGLDoGkgdmnhur90JywgbGlzdDpsaXN0LCBkYW5obXVjOmRhbmhtdWN9fSlcclxufVxyXG5cclxuY29uc3QgZWRpdF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5ib2R5LmlkIFxyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgbGV0IGltZyA9IGJvZHkuaW1nX29sZFxyXG4gICAgbGV0IGZpbGUgPSByZXEuZmlsZVxyXG5cclxuICAgIGlmIChmaWxlKSB7XHJcbiAgICAgICAgaW1nID0gZmlsZS5maWxlbmFtZVxyXG4gICAgICAgIGxldCBwb3N0ID0gYXdhaXQgcG9zdE1vZGVsLmRldGFpbF9wb3N0KGlkKVxyXG4gICAgICAgIGZzLnVubGlua1N5bmMoJy4vc3JjL3B1YmxpYy91cGxvYWQvJyArIHBvc3RbMF0uaW1hZ2UpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICghYm9keS50aXRsZW5ldyB8fCAhYm9keS5jb250ZW50bmV3IHx8ICFib2R5Lm5ld3NfaWQpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfSBcclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGF3YWl0IHBvc3RNb2RlbC5lZGl0X3Bvc3QoYm9keS50aXRsZW5ldywgYm9keS5jb250ZW50bmV3LCBpbWcsIGJvZHkubmV3c19pZCwgaWQpXHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KCdsaXN0LXBvc3QvMC0xMCcpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRlbF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5ib2R5LmlkIFxyXG4gICAgbGV0IHBvc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGV0YWlsX3Bvc3QoaWQpXHJcbiAgICBmcy51bmxpbmtTeW5jKCcuL3NyYy9wdWJsaWMvdXBsb2FkLycgKyBwb3N0WzBdLmltYWdlKVxyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGVsX3Bvc3QoaWQpXHJcbiAgICByZXMucmVkaXJlY3QoXCJsaXN0LXBvc3QvMC0xMFwiKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7bGlzdF9wb3N0LG5ld19wb3N0LGluc2VydF9wb3N0LGRldGFpbF9wb3N0LHZpZXdfZWRpdF9wb3N0LGVkaXRfcG9zdCxkZWxfcG9zdH0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxHQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxVQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBNkMsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFIekI7O0FBTXBCLE1BQU1HLFNBQVMsR0FBRyxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUVsQyxJQUFJQyxLQUFLLEdBQUdGLEdBQUcsQ0FBQ0csTUFBTSxDQUFDQyxJQUFJO0VBQzNCLElBQUlDLEdBQUcsR0FBR0wsR0FBRyxDQUFDRyxNQUFNLENBQUNHLEVBQUU7RUFDdkIsSUFBSUMsSUFBSSxHQUFHLElBQUk7RUFFZixJQUFJUCxHQUFHLENBQUNRLE9BQU8sQ0FBQ0QsSUFBSSxFQUFFO0lBQ2xCQSxJQUFJLEdBQUdQLEdBQUcsQ0FBQ1EsT0FBTyxDQUFDRCxJQUFJO0VBQzNCO0VBRUEsSUFBSUUsS0FBSyxDQUFDUCxLQUFLLENBQUMsS0FBSyxLQUFLLElBQUlPLEtBQUssQ0FBQ0osR0FBRyxDQUFDLEtBQUssS0FBSyxFQUFFO0lBQ2hELElBQUlLLElBQUksR0FBRyxNQUFNQyxrQkFBUyxDQUFDWixTQUFTLENBQUNHLEtBQUss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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_postModel","_newsModel","obj","__esModule","default","list_post","req","res","_from","params","from","_to","to","auth","session","isNaN","list","postModel","render","data","page","title","status","send","new_post","danhmuc","newsModel","list_news_all","insert_post","img","file","body","titlenew","contentnew","filename","news_id","currentDate","Date","redirect","detail_post","id","view_edit_post","detail_post_edit","edit_post","img_old","post","fs","unlinkSync","image","del_post","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["PostController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs' // thư viện thao tác file\r\n\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\n\r\n\r\nconst list_post = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await postModel.list_post(_from, _to)\r\n        res.render('home', {data: {page: 'listpost', title: 'Danh sách bài viết', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst new_post = async (req, res) => {\r\n    let danhmuc = await newsModel.list_news_all()\r\n    res.render('home', {data: {page: 'newpost', title: 'Tạo bài viết', danhmuc:danhmuc}})\r\n}\r\n\r\nconst insert_post = async (req, res) => {\r\n    let img = req.file\r\n    let body = req.body\r\n    if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        const currentDate = new Date();\r\n        await postModel.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id,currentDate)\r\n        res.redirect(\"list-post/0-10\")\r\n    }\r\n}\r\n\r\nconst detail_post = async (req, res) => {\r\n    let id = req.params.id\r\n    let danhmuc = await newsModel.list_news_all()\r\n    let list = await postModel.detail_post(id)\r\n    res.render('home', {data: {page: 'detailpost', title: 'Chi tiết bài viết', list:list, danhmuc:danhmuc}})\r\n}\r\n\r\nconst view_edit_post = async (req, res) => {\r\n    let id = req.params.id\r\n    let danhmuc = await newsModel.list_news_all()\r\n    let list = await postModel.detail_post_edit(id)\r\n    res.render('home', {data: {page: 'viewEditpost', title: 'Cập nhật bài viết', list:list, danhmuc:danhmuc}})\r\n}\r\n\r\nconst edit_post = async (req, res) => {\r\n    const id = req.body.id \r\n    let body = req.body\r\n    let img = body.img_old\r\n    let file = req.file\r\n\r\n    if (file) {\r\n        img = file.filename\r\n        let post = await postModel.detail_post(id)\r\n        fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n    }\r\n    \r\n    if (!body.titlenew || !body.contentnew || !body.news_id) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    } \r\n    else {\r\n        await postModel.edit_post(body.titlenew, body.contentnew, img, body.news_id, id)\r\n        res.redirect('list-post/0-10')\r\n    }\r\n}\r\n\r\nconst del_post = async (req, res) => {\r\n    const id = req.body.id \r\n    let post = await postModel.detail_post(id)\r\n    fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n    let list = await postModel.del_post(id)\r\n    res.redirect(\"list-post/0-10\")\r\n}\r\n\r\nexport default {list_post,new_post,insert_post,detail_post,view_edit_post,edit_post,del_post}"],"mappings":"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"}},"mtime":1696730596549},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\services\\\\postModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//show user noi bat\nconst list_hot_post_user = async limitt => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts` LIMIT ?', [limitt]);\n  return rows;\n};\n\n//moi nhat\nconst list_new_post_user = async () => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts`');\n  return rows;\n};\nconst list_post = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts` LIMIT ?, ?', [from, to]);\n  return rows;\n};\nconst insert_post = async (title, content, image, news_id, currentDate) => {\n  await _connectDB.default.execute('INSERT INTO `posts`(`title`, `content`, `image`, `news_id`,`create_at`) VALUES (?, ?, ?, ?,?)', [title, content, image, news_id, currentDate]);\n};\nconst detail_post = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM posts WHERE posts.id = ?', [id]);\n  return rows;\n};\nconst detail_post_edit = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM posts WHERE posts.id = ?', [id]);\n  return rows;\n};\nconst edit_post = async (title, content, image, news_id, id) => {\n  await _connectDB.default.execute('UPDATE `posts` SET `title`=?,`content`=?,`image`=?,`news_id`=? where posts.id = ?  ', [title, content, image, news_id, id]);\n};\nconst del_post = async id => {\n  await _connectDB.default.execute('DELETE FROM `posts` WHERE posts.id = ?', [id]);\n};\nvar _default = exports.default = {\n  list_post,\n  insert_post,\n  detail_post,\n  edit_post,\n  detail_post_edit,\n  del_post,\n  list_hot_post_user,\n  list_new_post_user\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfaG90X3Bvc3RfdXNlciIsImxpbWl0dCIsInJvd3MiLCJmaWVsZHMiLCJjb24iLCJleGVjdXRlIiwibGlzdF9uZXdfcG9zdF91c2VyIiwibGlzdF9wb3N0IiwiZnJvbSIsInRvIiwiaW5zZXJ0X3Bvc3QiLCJ0aXRsZSIsImNvbnRlbnQiLCJpbWFnZSIsIm5ld3NfaWQiLCJjdXJyZW50RGF0ZSIsImRldGFpbF9wb3N0IiwiaWQiLCJkZXRhaWxfcG9zdF9lZGl0IiwiZWRpdF9wb3N0IiwiZGVsX3Bvc3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlanNcXHNyY1xcc2VydmljZXNcXCIsInNvdXJjZXMiOlsicG9zdE1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb24gZnJvbSBcIi4vLi4vY29uZmlnL2Nvbm5lY3REQlwiXHJcblxyXG5cclxuLy9zaG93IHVzZXIgbm9pIGJhdFxyXG5jb25zdCBsaXN0X2hvdF9wb3N0X3VzZXIgPSBhc3luYyAobGltaXR0KSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGBwb3N0c2AgTElNSVQgPycsIFtsaW1pdHRdKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5cclxuLy9tb2kgbmhhdFxyXG5jb25zdCBsaXN0X25ld19wb3N0X3VzZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGBwb3N0c2AnKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5cclxuY29uc3QgbGlzdF9wb3N0ID0gYXN5bmMgKGZyb20sIHRvKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGBwb3N0c2AgTElNSVQgPywgPycsIFtmcm9tLCB0b10pXHJcbiAgICByZXR1cm4gcm93c1xyXG59XHJcblxyXG5jb25zdCBpbnNlcnRfcG9zdCA9IGFzeW5jICh0aXRsZSwgY29udGVudCwgaW1hZ2UsIG5ld3NfaWQsIGN1cnJlbnREYXRlKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnSU5TRVJUIElOVE8gYHBvc3RzYChgdGl0bGVgLCBgY29udGVudGAsIGBpbWFnZWAsIGBuZXdzX2lkYCxgY3JlYXRlX2F0YCkgVkFMVUVTICg/LCA/LCA/LCA/LD8pJyxbdGl0bGUsIGNvbnRlbnQsIGltYWdlLCBuZXdzX2lkLGN1cnJlbnREYXRlXSlcclxufSBcclxuY29uc3QgZGV0YWlsX3Bvc3QgPSBhc3luYyAoaWQpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gcG9zdHMgV0hFUkUgcG9zdHMuaWQgPSA/JywgW2lkXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuXHJcbmNvbnN0IGRldGFpbF9wb3N0X2VkaXQgPSBhc3luYyAoaWQpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gcG9zdHMgV0hFUkUgcG9zdHMuaWQgPSA/JywgW2lkXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuY29uc3QgZWRpdF9wb3N0ID0gYXN5bmMgKHRpdGxlLCBjb250ZW50LCBpbWFnZSwgbmV3c19pZCwgaWQpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdVUERBVEUgYHBvc3RzYCBTRVQgYHRpdGxlYD0/LGBjb250ZW50YD0/LGBpbWFnZWA9PyxgbmV3c19pZGA9PyB3aGVyZSBwb3N0cy5pZCA9ID8gICcsW3RpdGxlLCBjb250ZW50LCBpbWFnZSwgbmV3c19pZCwgaWRdKVxyXG59XHJcblxyXG5jb25zdCBkZWxfcG9zdCA9IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgYXdhaXQgY29uLmV4ZWN1dGUoJ0RFTEVURSBGUk9NIGBwb3N0c2AgV0hFUkUgcG9zdHMuaWQgPSA/JyxbaWRdKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHtsaXN0X3Bvc3QsaW5zZXJ0X3Bvc3QsZGV0YWlsX3Bvc3QsZWRpdF9wb3N0LGRldGFpbF9wb3N0X2VkaXQsZGVsX3Bvc3QsbGlzdF9ob3RfcG9zdF91c2VyLGxpc3RfbmV3X3Bvc3RfdXNlcn0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBQUEsVUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXVDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBR3ZDO0FBQ0EsTUFBTUcsa0JBQWtCLEdBQUcsTUFBT0MsTUFBTSxJQUFLO0VBQ3pDLE1BQU0sQ0FBQ0MsSUFBSSxFQUFFQyxNQUFNLENBQUMsR0FBRyxNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsK0JBQStCLEVBQUUsQ0FBQ0osTUFBTSxDQUFDLENBQUM7RUFDbkYsT0FBT0MsSUFBSTtBQUNmLENBQUM7O0FBRUQ7QUFDQSxNQUFNSSxrQkFBa0IsR0FBRyxNQUFBQSxDQUFBLEtBQVk7RUFDbkMsTUFBTSxDQUFDSixJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQztFQUNqRSxPQUFPSCxJQUFJO0FBQ2YsQ0FBQztBQUVELE1BQU1LLFNBQVMsR0FBRyxNQUFBQSxDQUFPQyxJQUFJLEVBQUVDLEVBQUUsS0FBSztFQUNsQyxNQUFNLENBQUNQLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLGtDQUFrQyxFQUFFLENBQUNHLElBQUksRUFBRUMsRUFBRSxDQUFDLENBQUM7RUFDeEYsT0FBT1AsSUFBSTtBQUNmLENBQUM7QUFFRCxNQUFNUSxXQUFXLEdBQUcsTUFBQUEsQ0FBT0MsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxFQUFFQyxXQUFXLEtBQUs7RUFDdkUsTUFBTVgsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLCtGQUErRixFQUFDLENBQUNNLEtBQUssRUFBRUMsT0FBTyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBQ0MsV0FBVyxDQUFDLENBQUM7QUFDbkssQ0FBQztBQUNELE1BQU1DLFdBQVcsR0FBRyxNQUFPQyxFQUFFLElBQUs7RUFDOUIsTUFBTSxDQUFDZixJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyx3Q0FBd0MsRUFBRSxDQUFDWSxFQUFFLENBQUMsQ0FBQztFQUN4RixPQUFPZixJQUFJO0FBQ2YsQ0FBQztBQUVELE1BQU1nQixnQkFBZ0IsR0FBRyxNQUFPRCxFQUFFLElBQUs7RUFDbkMsTUFBTSxDQUFDZixJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyx3Q0FBd0MsRUFBRSxDQUFDWSxFQUFFLENBQUMsQ0FBQztFQUN4RixPQUFPZixJQUFJO0FBQ2YsQ0FBQztBQUNELE1BQU1pQixTQUFTLEdBQUcsTUFBQUEsQ0FBT1IsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxFQUFFRyxFQUFFLEtBQUs7RUFDNUQsTUFBTWIsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHFGQUFxRixFQUFDLENBQUNNLEtBQUssRUFBRUMsT0FBTyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRUcsRUFBRSxDQUFDLENBQUM7QUFDakosQ0FBQztBQUVELE1BQU1HLFFBQVEsR0FBRyxNQUFPSCxFQUFFLElBQUs7RUFDM0IsTUFBTWIsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHdDQUF3QyxFQUFDLENBQUNZLEVBQUUsQ0FBQyxDQUFDO0FBQ3BFLENBQUM7QUFBQSxJQUFBSSxRQUFBLEdBQUFDLE9BQUEsQ0FBQXZCLE9BQUEsR0FDYztFQUFDUSxTQUFTO0VBQUNHLFdBQVc7RUFBQ00sV0FBVztFQUFDRyxTQUFTO0VBQUNELGdCQUFnQjtFQUFDRSxRQUFRO0VBQUNwQixrQkFBa0I7RUFBQ007QUFBa0IsQ0FBQyJ9","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","list_hot_post_user","limitt","rows","fields","con","execute","list_new_post_user","list_post","from","to","insert_post","title","content","image","news_id","currentDate","detail_post","id","detail_post_edit","edit_post","del_post","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\services\\","sources":["postModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\n\r\n//show user noi bat\r\nconst list_hot_post_user = async (limitt) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts` LIMIT ?', [limitt])\r\n    return rows\r\n}\r\n\r\n//moi nhat\r\nconst list_new_post_user = async () => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts`')\r\n    return rows\r\n}\r\n\r\nconst list_post = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts` LIMIT ?, ?', [from, to])\r\n    return rows\r\n}\r\n\r\nconst insert_post = async (title, content, image, news_id, currentDate) => {\r\n    await con.execute('INSERT INTO `posts`(`title`, `content`, `image`, `news_id`,`create_at`) VALUES (?, ?, ?, ?,?)',[title, content, image, news_id,currentDate])\r\n} \r\nconst detail_post = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM posts WHERE posts.id = ?', [id])\r\n    return rows\r\n}\r\n\r\nconst detail_post_edit = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM posts WHERE posts.id = ?', [id])\r\n    return rows\r\n}\r\nconst edit_post = async (title, content, image, news_id, id) => {\r\n    await con.execute('UPDATE `posts` SET `title`=?,`content`=?,`image`=?,`news_id`=? where posts.id = ?  ',[title, content, image, news_id, id])\r\n}\r\n\r\nconst del_post = async (id) => {\r\n    await con.execute('DELETE FROM `posts` WHERE posts.id = ?',[id])\r\n}\r\nexport default {list_post,insert_post,detail_post,edit_post,detail_post_edit,del_post,list_hot_post_user,list_new_post_user}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAGvC;AACA,MAAMG,kBAAkB,GAAG,MAAOC,MAAM,IAAK;EACzC,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,+BAA+B,EAAE,CAACJ,MAAM,CAAC,CAAC;EACnF,OAAOC,IAAI;AACf,CAAC;;AAED;AACA,MAAMI,kBAAkB,GAAG,MAAAA,CAAA,KAAY;EACnC,MAAM,CAACJ,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,uBAAuB,CAAC;EACjE,OAAOH,IAAI;AACf,CAAC;AAED,MAAMK,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACP,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,kCAAkC,EAAE,CAACG,IAAI,EAAEC,EAAE,CAAC,CAAC;EACxF,OAAOP,IAAI;AACf,CAAC;AAED,MAAMQ,WAAW,GAAG,MAAAA,CAAOC,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEC,OAAO,EAAEC,WAAW,KAAK;EACvE,MAAMX,kBAAG,CAACC,OAAO,CAAC,+FAA+F,EAAC,CAACM,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEC,OAAO,EAACC,WAAW,CAAC,CAAC;AACnK,CAAC;AACD,MAAMC,WAAW,GAAG,MAAOC,EAAE,IAAK;EAC9B,MAAM,CAACf,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAE,CAACY,EAAE,CAAC,CAAC;EACxF,OAAOf,IAAI;AACf,CAAC;AAED,MAAMgB,gBAAgB,GAAG,MAAOD,EAAE,IAAK;EACnC,MAAM,CAACf,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAE,CAACY,EAAE,CAAC,CAAC;EACxF,OAAOf,IAAI;AACf,CAAC;AACD,MAAMiB,SAAS,GAAG,MAAAA,CAAOR,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEC,OAAO,EAAEG,EAAE,KAAK;EAC5D,MAAMb,kBAAG,CAACC,OAAO,CAAC,qFAAqF,EAAC,CAACM,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEC,OAAO,EAAEG,EAAE,CAAC,CAAC;AACjJ,CAAC;AAED,MAAMG,QAAQ,GAAG,MAAOH,EAAE,IAAK;EAC3B,MAAMb,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAC,CAACY,EAAE,CAAC,CAAC;AACpE,CAAC;AAAA,IAAAI,QAAA,GAAAC,OAAA,CAAAvB,OAAA,GACc;EAACQ,SAAS;EAACG,WAAW;EAACM,WAAW;EAACG,SAAS;EAACD,gBAAgB;EAACE,QAAQ;EAACpB,kBAAkB;EAACM;AAAkB,CAAC"}},"mtime":1696729685375},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\router\\\\apiRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _ApiLoginController = _interopRequireDefault(require(\"./../controllers/ApiLoginController\"));\nvar _ApiUserController = _interopRequireDefault(require(\"./../controllers/ApiUserController\"));\nvar _ApiPostController = _interopRequireDefault(require(\"./../controllers/ApiPostController\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thu vien up img\n\nconst storage = _multer.default.diskStorage({\n  destination: function destination(req, file, cb) {\n    cb(null, './src/public/upload');\n  },\n  filename: function filename(req, file, cb) {\n    const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9);\n    cb(null, uniqueSuffix + _path.default.extname(file.originalname));\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst api = _express.default.Router();\nconst initAPIRoute = app => {\n  api.get('/login', _ApiLoginController.default.login);\n  api.post('/login', _ApiLoginController.default.login_auth);\n  api.get('/logout', _ApiLoginController.default.logout);\n  api.get('/create_new_user', _ApiUserController.default.new_user);\n  api.post('/insert_new_user', _ApiUserController.default.insert_user);\n  api.get('/list-user/:from-:to', _ApiUserController.default.list_user);\n  api.get('/detail_user/:username', _ApiUserController.default.detail_user);\n  api.delete('/del_user', _ApiUserController.default.del_user);\n  api.get('/view_edit/:username', _ApiUserController.default.view_edit);\n  api.put('/edit_user', _ApiUserController.default.edit_user);\n\n  //quan ly bai viet ( post )  \n  api.get('/list-post/:from-:to', _ApiPostController.default.list_post);\n  api.get('/create_new_post', _ApiPostController.default.new_post);\n  api.post('/insert_new_post', upload.single('filenew'), _ApiPostController.default.insert_post);\n  api.get('/detail_post/:id', _ApiPostController.default.detail_post);\n  api.get('/view_edit_post/:id', _ApiPostController.default.view_edit_post);\n  api.put('/edit_post', upload.single('filenew'), _ApiPostController.default.edit_post);\n  api.delete('/del_post', _ApiPostController.default.del_post);\n  return app.use('/api/v1', api);\n};\nvar _default = exports.default = initAPIRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9wYXRoIiwiX0FwaUxvZ2luQ29udHJvbGxlciIsIl9BcGlVc2VyQ29udHJvbGxlciIsIl9BcGlQb3N0Q29udHJvbGxlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsInVuaXF1ZVN1ZmZpeCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJwYXRoIiwiZXh0bmFtZSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZCIsImFwaSIsImV4cHJlc3MiLCJSb3V0ZXIiLCJpbml0QVBJUm91dGUiLCJhcHAiLCJnZXQiLCJBcGlMb2dpbkNvbnRyb2xsZXIiLCJsb2dpbiIsInBvc3QiLCJsb2dpbl9hdXRoIiwibG9nb3V0IiwiQXBpVXNlckNvbnRyb2xsZXIiLCJuZXdfdXNlciIsImluc2VydF91c2VyIiwibGlzdF91c2VyIiwiZGV0YWlsX3VzZXIiLCJkZWxldGUiLCJkZWxfdXNlciIsInZpZXdfZWRpdCIsInB1dCIsImVkaXRfdXNlciIsIkFwaVBvc3RDb250cm9sbGVyIiwibGlzdF9wb3N0IiwibmV3X3Bvc3QiLCJzaW5nbGUiLCJpbnNlcnRfcG9zdCIsImRldGFpbF9wb3N0Iiwidmlld19lZGl0X3Bvc3QiLCJlZGl0X3Bvc3QiLCJkZWxfcG9zdCIsInVzZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVqc1xcc3JjXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsiYXBpUm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcicgLy8gdGh1IHZpZW4gdXAgaW1nXHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCJcclxuaW1wb3J0IEFwaUxvZ2luQ29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9BcGlMb2dpbkNvbnRyb2xsZXJcIlxyXG5pbXBvcnQgQXBpVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvQXBpVXNlckNvbnRyb2xsZXJcIlxyXG5pbXBvcnQgQXBpUG9zdENvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvQXBpUG9zdENvbnRyb2xsZXJcIlxyXG5cclxuY29uc3Qgc3RvcmFnZSA9IG11bHRlci5kaXNrU3RvcmFnZSh7XHJcbiAgICBkZXN0aW5hdGlvbjogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgICAgY2IobnVsbCwgJy4vc3JjL3B1YmxpYy91cGxvYWQnKVxyXG4gICAgfSxcclxuICAgIGZpbGVuYW1lOiBmdW5jdGlvbiAocmVxLCBmaWxlLCBjYikge1xyXG4gICAgICBjb25zdCB1bmlxdWVTdWZmaXggPSBEYXRlLm5vdygpICsgJy0nICsgTWF0aC5yb3VuZChNYXRoLnJhbmRvbSgpICogMUU5KVxyXG4gICAgICBjYihudWxsLCB1bmlxdWVTdWZmaXggKyBwYXRoLmV4dG5hbWUoZmlsZS5vcmlnaW5hbG5hbWUpKVxyXG4gICAgfVxyXG4gIH0pXHJcbiAgXHJcbmNvbnN0IHVwbG9hZCA9IG11bHRlcih7IHN0b3JhZ2U6IHN0b3JhZ2UgfSlcclxuXHJcbmNvbnN0IGFwaSA9IGV4cHJlc3MuUm91dGVyKClcclxuY29uc3QgaW5pdEFQSVJvdXRlID0gKGFwcCkgPT4ge1xyXG5cclxuICAgIGFwaS5nZXQoJy9sb2dpbicsIEFwaUxvZ2luQ29udHJvbGxlci5sb2dpbilcclxuICAgIGFwaS5wb3N0KCcvbG9naW4nLCBBcGlMb2dpbkNvbnRyb2xsZXIubG9naW5fYXV0aClcclxuICAgIGFwaS5nZXQoJy9sb2dvdXQnLCBBcGlMb2dpbkNvbnRyb2xsZXIubG9nb3V0KVxyXG5cclxuICAgIGFwaS5nZXQoJy9jcmVhdGVfbmV3X3VzZXInLCBBcGlVc2VyQ29udHJvbGxlci5uZXdfdXNlcilcclxuICAgIGFwaS5wb3N0KCcvaW5zZXJ0X25ld191c2VyJywgQXBpVXNlckNvbnRyb2xsZXIuaW5zZXJ0X3VzZXIpXHJcbiAgICBhcGkuZ2V0KCcvbGlzdC11c2VyLzpmcm9tLTp0bycsIEFwaVVzZXJDb250cm9sbGVyLmxpc3RfdXNlcilcclxuXHJcbiAgICBhcGkuZ2V0KCcvZGV0YWlsX3VzZXIvOnVzZXJuYW1lJywgQXBpVXNlckNvbnRyb2xsZXIuZGV0YWlsX3VzZXIpXHJcblxyXG4gICAgYXBpLmRlbGV0ZSgnL2RlbF91c2VyJywgQXBpVXNlckNvbnRyb2xsZXIuZGVsX3VzZXIpXHJcblxyXG4gICAgYXBpLmdldCgnL3ZpZXdfZWRpdC86dXNlcm5hbWUnLCBBcGlVc2VyQ29udHJvbGxlci52aWV3X2VkaXQpXHJcbiAgICBhcGkucHV0KCcvZWRpdF91c2VyJywgQXBpVXNlckNvbnRyb2xsZXIuZWRpdF91c2VyKVxyXG5cclxuXHJcbiAgICAvL3F1YW4gbHkgYmFpIHZpZXQgKCBwb3N0ICkgIFxyXG4gICAgYXBpLmdldCgnL2xpc3QtcG9zdC86ZnJvbS06dG8nLCBBcGlQb3N0Q29udHJvbGxlci5saXN0X3Bvc3QpXHJcbiAgICBhcGkuZ2V0KCcvY3JlYXRlX25ld19wb3N0JywgQXBpUG9zdENvbnRyb2xsZXIubmV3X3Bvc3QpXHJcbiAgICBhcGkucG9zdCgnL2luc2VydF9uZXdfcG9zdCcsIHVwbG9hZC5zaW5nbGUoJ2ZpbGVuZXcnKSwgQXBpUG9zdENvbnRyb2xsZXIuaW5zZXJ0X3Bvc3QpXHJcbiAgICBhcGkuZ2V0KCcvZGV0YWlsX3Bvc3QvOmlkJywgQXBpUG9zdENvbnRyb2xsZXIuZGV0YWlsX3Bvc3QpXHJcblxyXG4gICAgYXBpLmdldCgnL3ZpZXdfZWRpdF9wb3N0LzppZCcsIEFwaVBvc3RDb250cm9sbGVyLnZpZXdfZWRpdF9wb3N0KVxyXG4gICAgYXBpLnB1dCgnL2VkaXRfcG9zdCcsIHVwbG9hZC5zaW5nbGUoJ2ZpbGVuZXcnKSwgQXBpUG9zdENvbnRyb2xsZXIuZWRpdF9wb3N0KVxyXG4gICAgYXBpLmRlbGV0ZSgnL2RlbF9wb3N0JywgQXBpUG9zdENvbnRyb2xsZXIuZGVsX3Bvc3QpXHJcblxyXG5cclxuXHJcbiAgICByZXR1cm4gYXBwLnVzZSgnL2FwaS92MScsIGFwaSlcclxufVxyXG5leHBvcnQgZGVmYXVsdCBpbml0QVBJUm91dGUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLG1CQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxrQkFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssa0JBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUFrRSxTQUFBRCx1QkFBQU8sR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUp0Qzs7QUFNNUIsTUFBTUcsT0FBTyxHQUFHQyxlQUFNLENBQUNDLFdBQVcsQ0FBQztFQUMvQkMsV0FBVyxFQUFFLFNBQUFBLFlBQVVDLEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxFQUFFLEVBQUU7SUFDcENBLEVBQUUsQ0FBQyxJQUFJLEVBQUUscUJBQXFCLENBQUM7RUFDakMsQ0FBQztFQUNEQyxRQUFRLEVBQUUsU0FBQUEsU0FBVUgsR0FBRyxFQUFFQyxJQUFJLEVBQUVDLEVBQUUsRUFBRTtJQUNqQyxNQUFNRSxZQUFZLEdBQUdDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDRCxJQUFJLENBQUNFLE1BQU0sQ0FBQyxDQUFDLEdBQUcsR0FB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_multer","_path","_ApiLoginController","_ApiUserController","_ApiPostController","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","filename","uniqueSuffix","Date","now","Math","round","random","path","extname","originalname","upload","api","express","Router","initAPIRoute","app","get","ApiLoginController","login","post","login_auth","logout","ApiUserController","new_user","insert_user","list_user","detail_user","delete","del_user","view_edit","put","edit_user","ApiPostController","list_post","new_post","single","insert_post","detail_post","view_edit_post","edit_post","del_post","use","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\router\\","sources":["apiRoute.js"],"sourcesContent":["import express from \"express\"\r\nimport multer from 'multer' // thu vien up img\r\nimport path from \"path\"\r\nimport ApiLoginController from \"./../controllers/ApiLoginController\"\r\nimport ApiUserController from \"./../controllers/ApiUserController\"\r\nimport ApiPostController from \"./../controllers/ApiPostController\"\r\n\r\nconst storage = multer.diskStorage({\r\n    destination: function (req, file, cb) {\r\n      cb(null, './src/public/upload')\r\n    },\r\n    filename: function (req, file, cb) {\r\n      const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)\r\n      cb(null, uniqueSuffix + path.extname(file.originalname))\r\n    }\r\n  })\r\n  \r\nconst upload = multer({ storage: storage })\r\n\r\nconst api = express.Router()\r\nconst initAPIRoute = (app) => {\r\n\r\n    api.get('/login', ApiLoginController.login)\r\n    api.post('/login', ApiLoginController.login_auth)\r\n    api.get('/logout', ApiLoginController.logout)\r\n\r\n    api.get('/create_new_user', ApiUserController.new_user)\r\n    api.post('/insert_new_user', ApiUserController.insert_user)\r\n    api.get('/list-user/:from-:to', ApiUserController.list_user)\r\n\r\n    api.get('/detail_user/:username', ApiUserController.detail_user)\r\n\r\n    api.delete('/del_user', ApiUserController.del_user)\r\n\r\n    api.get('/view_edit/:username', ApiUserController.view_edit)\r\n    api.put('/edit_user', ApiUserController.edit_user)\r\n\r\n\r\n    //quan ly bai viet ( post )  \r\n    api.get('/list-post/:from-:to', ApiPostController.list_post)\r\n    api.get('/create_new_post', ApiPostController.new_post)\r\n    api.post('/insert_new_post', upload.single('filenew'), ApiPostController.insert_post)\r\n    api.get('/detail_post/:id', ApiPostController.detail_post)\r\n\r\n    api.get('/view_edit_post/:id', ApiPostController.view_edit_post)\r\n    api.put('/edit_post', upload.single('filenew'), ApiPostController.edit_post)\r\n    api.delete('/del_post', ApiPostController.del_post)\r\n\r\n\r\n\r\n    return app.use('/api/v1', api)\r\n}\r\nexport default initAPIRoute"],"mappings":"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"}},"mtime":1696738716744},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\ApiLoginController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst login = (req, res) => {\n  try {\n    let auth = null;\n    if (req.session.auth) {\n      auth = req.session.auth.name;\n    }\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        page: 'login',\n        title: 'Đăng nhập',\n        auth_name: auth\n      }\n    }));\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nconst login_auth = async (req, res) => {\n  try {\n    let body = req.body;\n    // console.log(body)\n\n    if (!body.username || !body.password) {\n      return res.status(400).json(_JWTAction.default.createJWT({\n        data: {\n          err: 1,\n          mess: \"Lỗi: thiếu tài khoản hoặc mật khẩu\"\n        }\n      }));\n    }\n    let auth = await _userModel.default.auth(body.username);\n    if (auth.length < 1) {\n      return res.status(400).json(_JWTAction.default.createJWT({\n        data: {\n          err: 1,\n          mess: \"Lỗi: tài khoản không tồn tại\"\n        }\n      }));\n    }\n    let hash = _bcryptjs.default.hashSync(body.password, _bcryptjs.default.genSaltSync(10));\n    if (_bcryptjs.default.compareSync(body.password, auth[0].password)) {\n      req.session.auth = {\n        name: auth[0].username,\n        pass: auth[0].password,\n        role: auth[0].groupid\n      };\n      return res.status(200).json(_JWTAction.default.createJWT({\n        data: {\n          err: 0,\n          mess: \"Đăng nhập thành công\"\n        }\n      }));\n    } else {\n      return res.status(400).json(_JWTAction.default.createJWT({\n        data: {\n          err: 1,\n          mess: \"Lỗi: sai mật khẩu\"\n        }\n      }));\n    }\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nconst logout = (req, res) => {\n  try {\n    if (req.session.auth) {\n      req.session.destroy(auth);\n      return res.status(200).json(_JWTAction.default.createJWT({\n        data: {\n          err: 0,\n          mess: \"Đăng xuất thành công\"\n        }\n      }));\n    }\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Chưa đăng nhập\"\n      }\n    }));\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nvar _default = exports.default = {\n  login,\n  login_auth,\n  logout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIl9ib2R5UGFyc2VyIiwiX0pXVEFjdGlvbiIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibG9naW4iLCJyZXEiLCJyZXMiLCJhdXRoIiwic2Vzc2lvbiIsIm5hbWUiLCJzdGF0dXMiLCJqc29uIiwiSldUIiwiY3JlYXRlSldUIiwiZGF0YSIsInBhZ2UiLCJ0aXRsZSIsImF1dGhfbmFtZSIsImVycm9yIiwiZXJyIiwibWVzcyIsImxvZ2luX2F1dGgiLCJib2R5IiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInVzZXJNb2RlbCIsImxlbmd0aCIsImhhc2giLCJiY3J5cHQiLCJoYXNoU3luYyIsImdlblNhbHRTeW5jIiwiY29tcGFyZVN5bmMiLCJwYXNzIiwicm9sZSIsImdyb3VwaWQiLCJsb2dvdXQiLCJkZXN0cm95IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxceGFtcHBcXGh0ZG9jc1xcQkNfTm9kZWpzXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkFwaUxvZ2luQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcbmltcG9ydCB1c2VyTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL3VzZXJNb2RlbFwiXHJcbmltcG9ydCB7IGpzb24gfSBmcm9tIFwiYm9keS1wYXJzZXJcIlxyXG5pbXBvcnQgSldUIGZyb20gXCIuLi9taWRkbGV3YXJlL0pXVEFjdGlvblwiXHJcblxyXG5cclxuY29uc3QgbG9naW4gPSAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgYXV0aCA9IG51bGxcclxuICAgIFxyXG4gICAgICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRoKSB7XHJcbiAgICAgICAgICAgIGF1dGggPSByZXEuc2Vzc2lvbi5hdXRoLm5hbWVcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBwYWdlOiAnbG9naW4nLCBcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnxJDEg25nIG5o4bqtcCcsIFxyXG4gICAgICAgICAgICAgICAgYXV0aF9uYW1lOmF1dGh9fVxyXG4gICAgICAgICAgICApICAgXHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yfX1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbG9naW5fYXV0aCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhib2R5KVxyXG5cclxuICAgICAgICBpZiAoIWJvZHkudXNlcm5hbWUgfHwgIWJvZHkucGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiB0aGnhur91IHTDoGkga2hv4bqjbiBob+G6t2MgbeG6rXQga2jhuql1XCJ9fVxyXG4gICAgICAgICAgICAgICAgKSAgXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBhdXRoID0gYXdhaXQgdXNlck1vZGVsLmF1dGgoYm9keS51c2VybmFtZSlcclxuXHJcbiAgICAgICAgaWYgKGF1dGgubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IHTDoGkga2hv4bqjbiBraMO0bmcgdOG7k24gdOG6oWlcIn19XHJcbiAgICAgICAgICAgICAgICApIFxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhib2R5LnBhc3N3b3JkLCBiY3J5cHQuZ2VuU2FsdFN5bmMoMTApKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICBpZiAoYmNyeXB0LmNvbXBhcmVTeW5jKGJvZHkucGFzc3dvcmQsIGF1dGhbMF0ucGFzc3dvcmQpKSB7XHJcbiAgICAgICAgICAgIHJlcS5zZXNzaW9uLmF1dGggPSB7bmFtZTphdXRoWzBdLnVzZXJuYW1lLCBwYXNzOmF1dGhbMF0ucGFzc3dvcmQsIHJvbGU6YXV0aFswXS5ncm91cGlkfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwixJDEg25nIG5o4bqtcCB0aMOgbmggY8O0bmdcIn19XHJcbiAgICAgICAgICAgICAgICApIFxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IHNhaSBt4bqtdCBraOG6qXVcIn19XHJcbiAgICAgICAgICAgICAgICApIFxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yfX1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbG9nb3V0ID0gKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgpIHtcclxuICAgICAgICAgICAgcmVxLnNlc3Npb24uZGVzdHJveShhdXRoKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwixJDEg25nIHh14bqldCB0aMOgbmggY8O0bmdcIn19XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJDaMawYSDEkcSDbmcgbmjhuq1wXCJ9fVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKSAgICAgICAgXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIEpXVC5jcmVhdGVKV1Qoe2RhdGE6IHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3J9fVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7bG9naW4sIGxvZ2luX2F1dGgsIGxvZ291dH1cclxuXHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxTQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxXQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxVQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUQsdUJBQUFNLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFHekMsTUFBTUcsS0FBSyxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUV4QixJQUFJO0lBRUEsSUFBSUMsSUFBSSxHQUFHLElBQUk7SUFFZixJQUFJRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0QsSUFBSSxFQUFFO01BQ2xCQSxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csT0FB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","_bodyParser","_JWTAction","obj","__esModule","default","login","req","res","auth","session","name","status","json","JWT","createJWT","data","page","title","auth_name","error","err","mess","login_auth","body","username","password","userModel","length","hash","bcrypt","hashSync","genSaltSync","compareSync","pass","role","groupid","logout","destroy","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["ApiLoginController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n\r\nconst login = (req, res) => {\r\n\r\n    try {\r\n\r\n        let auth = null\r\n    \r\n        if (req.session.auth) {\r\n            auth = req.session.auth.name\r\n        }\r\n        \r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                page: 'login', \r\n                title: 'Đăng nhập', \r\n                auth_name:auth}}\r\n            )   \r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nconst login_auth = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n        // console.log(body)\r\n\r\n        if (!body.username || !body.password) {\r\n            return res.status(400).json(\r\n                JWT.createJWT({data: {\r\n                    err: 1,\r\n                    mess: \"Lỗi: thiếu tài khoản hoặc mật khẩu\"}}\r\n                )  \r\n            )\r\n        }\r\n\r\n        let auth = await userModel.auth(body.username)\r\n\r\n        if (auth.length < 1) {\r\n            return res.status(400).json(\r\n                JWT.createJWT({data: {\r\n                    err: 1,\r\n                    mess: \"Lỗi: tài khoản không tồn tại\"}}\r\n                ) \r\n            )\r\n        }\r\n\r\n        let hash = bcrypt.hashSync(body.password, bcrypt.genSaltSync(10))\r\n            \r\n        if (bcrypt.compareSync(body.password, auth[0].password)) {\r\n            req.session.auth = {name:auth[0].username, pass:auth[0].password, role:auth[0].groupid}\r\n            return res.status(200).json(\r\n                JWT.createJWT({data: {\r\n                    err: 0,\r\n                    mess: \"Đăng nhập thành công\"}}\r\n                ) \r\n            )\r\n        }\r\n        else {\r\n            return res.status(400).json(\r\n                JWT.createJWT({data: {\r\n                    err: 1,\r\n                    mess: \"Lỗi: sai mật khẩu\"}}\r\n                ) \r\n            )\r\n        }\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nconst logout = (req, res) => {\r\n\r\n    try {\r\n\r\n        if (req.session.auth) {\r\n            req.session.destroy(auth)\r\n            return res.status(200).json(\r\n                JWT.createJWT({data: {\r\n                    err: 0,\r\n                    mess: \"Đăng xuất thành công\"}}\r\n                )\r\n            )\r\n        }\r\n\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Chưa đăng nhập\"}}\r\n            )\r\n        )        \r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nexport default {login, login_auth, logout}\r\n\r\n\r\n"],"mappings":"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"}},"mtime":1696681786373},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\middleware\\\\JWTAction.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_dotenv.default.config();\nconst key = process.env.JWT_SECRET;\nconst createJWT = payload => {\n  // let payload = { foo: 'bar' }\n  let token = null;\n  try {\n    token = _jsonwebtoken.default.sign(payload, key, {\n      algorithm: 'HS256'\n    });\n  } catch (err) {\n    console.log(err);\n  }\n  // console.log(token)\n  return token;\n};\nconst verifyToken = token => {\n  let decoded = null;\n  try {\n    decoded = _jsonwebtoken.default.verify(token, key);\n  } catch (err) {\n    console.log(err);\n  }\n  // console.log(decoded)\n  return decoded;\n};\nvar _default = exports.default = {\n  createJWT,\n  verifyToken\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZG90ZW52Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJkb3RlbnYiLCJjb25maWciLCJrZXkiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImNyZWF0ZUpXVCIsInBheWxvYWQiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJhbGdvcml0aG0iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwidmVyaWZ5VG9rZW4iLCJkZWNvZGVkIiwidmVyaWZ5IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxceGFtcHBcXGh0ZG9jc1xcQkNfTm9kZWpzXFxzcmNcXG1pZGRsZXdhcmVcXCIsInNvdXJjZXMiOlsiSldUQWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiXHJcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiXHJcblxyXG5kb3RlbnYuY29uZmlnKClcclxuY29uc3Qga2V5ID0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVFxyXG5cclxuY29uc3QgY3JlYXRlSldUID0gKHBheWxvYWQpID0+IHtcclxuICAgIC8vIGxldCBwYXlsb2FkID0geyBmb286ICdiYXInIH1cclxuICAgIGxldCB0b2tlbiA9IG51bGxcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdG9rZW4gPSBqd3Quc2lnbihwYXlsb2FkLCBrZXksIHsgYWxnb3JpdGhtOiAnSFMyNTYnIH0pO1xyXG4gICAgfSBcclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpIFxyXG4gICAgfVxyXG4gICAgLy8gY29uc29sZS5sb2codG9rZW4pXHJcbiAgICByZXR1cm4gdG9rZW5cclxufVxyXG5cclxuY29uc3QgdmVyaWZ5VG9rZW4gPSAodG9rZW4pID0+IHtcclxuICAgIGxldCBkZWNvZGVkID0gbnVsbFxyXG4gICAgdHJ5IHtcclxuICAgICAgICBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwga2V5KVxyXG4gICAgfSBcclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICB9XHJcbiAgICAvLyBjb25zb2xlLmxvZyhkZWNvZGVkKVxyXG4gICAgcmV0dXJuIGRlY29kZWQgXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtjcmVhdGVKV1QsIHZlcmlmeVRva2VufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQTJCLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTNCRyxlQUFNLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBQ2YsTUFBTUMsR0FBRyxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsVUFBVTtBQUVsQyxNQUFNQyxTQUFTLEdBQUlDLE9BQU8sSUFBSztFQUMzQjtFQUNBLElBQUlDLEtBQUssR0FBRyxJQUFJO0VBQ2hCLElBQUk7SUFDQUEsS0FBSyxHQUFHQyxxQkFBRyxDQUFDQyxJQUFJLENBQUNILE9BQU8sRUFBRUwsR0FBRyxFQUFFO01BQUVTLFNBQVMsRUFBRTtJQUFRLENBQUMsQ0FBQztFQUMxRCxDQUFDLENBQ0QsT0FBT0MsR0FBRyxFQUFFO0lBQ1JDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixHQUFHLENBQUM7RUFDcEI7RUFDQTtFQUNBLE9BQU9KLEtBQUs7QUFDaEIsQ0FBQztBQUVELE1BQU1PLFdBQVcsR0FBSVAsS0FBSyxJQUFLO0VBQzNCLElBQUlRLE9BQU8sR0FBRyxJQUFJO0VBQ2xCLElBQUk7SUFDQUEsT0FBTyxHQUFHUCxxQkFBRyxDQUFDUSxNQUFNLENBQUNULEtBQUssRUFBRU4sR0FBRyxDQUFDO0VBQ3BDLENBQUMsQ0FDRCxPQUFPVSxHQUFHLEVBQUU7SUFDUkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQztFQUNwQjtFQUNBO0VBQ0EsT0FBT0ksT0FBTztBQUNsQixDQUFDO0FBQUEsSUFBQUUsUUFBQSxHQUFBQyxPQUFBLENBQUFwQixPQUFBLEdBRWM7RUFBQ08sU0FBUztFQUFFUztBQUFXLENBQUMifQ==","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_dotenv","obj","__esModule","default","dotenv","config","key","process","env","JWT_SECRET","createJWT","payload","token","jwt","sign","algorithm","err","console","log","verifyToken","decoded","verify","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\middleware\\","sources":["JWTAction.js"],"sourcesContent":["import jwt from \"jsonwebtoken\"\r\nimport dotenv from \"dotenv\"\r\n\r\ndotenv.config()\r\nconst key = process.env.JWT_SECRET\r\n\r\nconst createJWT = (payload) => {\r\n    // let payload = { foo: 'bar' }\r\n    let token = null\r\n    try {\r\n        token = jwt.sign(payload, key, { algorithm: 'HS256' });\r\n    } \r\n    catch (err) {\r\n        console.log(err) \r\n    }\r\n    // console.log(token)\r\n    return token\r\n}\r\n\r\nconst verifyToken = (token) => {\r\n    let decoded = null\r\n    try {\r\n        decoded = jwt.verify(token, key)\r\n    } \r\n    catch (err) {\r\n        console.log(err)\r\n    }\r\n    // console.log(decoded)\r\n    return decoded \r\n}\r\n\r\nexport default {createJWT, verifyToken}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA2B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE3BG,eAAM,CAACC,MAAM,CAAC,CAAC;AACf,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,UAAU;AAElC,MAAMC,SAAS,GAAIC,OAAO,IAAK;EAC3B;EACA,IAAIC,KAAK,GAAG,IAAI;EAChB,IAAI;IACAA,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAACH,OAAO,EAAEL,GAAG,EAAE;MAAES,SAAS,EAAE;IAAQ,CAAC,CAAC;EAC1D,CAAC,CACD,OAAOC,GAAG,EAAE;IACRC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;EACA;EACA,OAAOJ,KAAK;AAChB,CAAC;AAED,MAAMO,WAAW,GAAIP,KAAK,IAAK;EAC3B,IAAIQ,OAAO,GAAG,IAAI;EAClB,IAAI;IACAA,OAAO,GAAGP,qBAAG,CAACQ,MAAM,CAACT,KAAK,EAAEN,GAAG,CAAC;EACpC,CAAC,CACD,OAAOU,GAAG,EAAE;IACRC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;EACA;EACA,OAAOI,OAAO;AAClB,CAAC;AAAA,IAAAE,QAAA,GAAAC,OAAA,CAAApB,OAAA,GAEc;EAACO,SAAS;EAAES;AAAW,CAAC"}},"mtime":1696681786377},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\ApiUserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst new_user = (req, res) => {\n  try {\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        page: 'newUser',\n        title: 'Tạo tài khoản'\n      }\n    }));\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nconst insert_user = async (req, res) => {\n  try {\n    let body = req.body;\n    if (!body.name || !body.pass || !body.nameuser || !body.address || !body.sex || !body.email) {\n      return res.status(400).json(_JWTAction.default.createJWT({\n        data: {\n          err: 1,\n          mess: \"Thiếu thông tin cần thiết\"\n        }\n      }));\n    }\n    let user = await _userModel.default.detail_user(body.name);\n    if (user.length >= 1) {\n      return res.status(400).json(_JWTAction.default.createJWT({\n        data: {\n          err: 1,\n          mess: \"Tài khoản đã tồn tại\"\n        }\n      }));\n    }\n    let role = 1;\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.pass, pass);\n    await _userModel.default.insert_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role);\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nconst list_user = async (req, res) => {\n  try {\n    let _from = req.params.from;\n    let _to = req.params.to;\n    let auth = null;\n    if (req.session.auth) {\n      auth = req.session.auth.name;\n    }\n    if (isNaN(_from) === false && isNaN(_to) === false) {\n      let list = await _userModel.default.list_user(_from, _to);\n      return res.status(200).json(_JWTAction.default.createJWT({\n        data: {\n          page: 'listUser',\n          title: 'Danh sách tài khoản',\n          params: {\n            from: _from,\n            to: _to\n          },\n          list: list,\n          auth: auth\n        }\n      }));\n    }\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nconst detail_user = async (req, res) => {\n  try {\n    let Username = req.params.username;\n    let list = await _userModel.default.detail_user(Username);\n    if (list.length < 1) {\n      return res.status(400).json(_JWTAction.default.createJWT({\n        data: {\n          err: 1,\n          mess: \"Người dùng không tồn tại\"\n        }\n      }));\n    }\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        page: 'detailUser',\n        title: 'Chi tiết người dùng',\n        list: list\n      }\n    }));\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nconst edit_user = async (req, res) => {\n  try {\n    let role = 1;\n    let body = req.body;\n    if (!body.name || !body.pass || !body.nameuser || !body.address || !body.sex || !body.email) {\n      return res.status(400).json(_JWTAction.default.createJWT({\n        data: {\n          err: 1,\n          mess: \"Thiếu thông tin cần thiết\"\n        }\n      }));\n    }\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.pass, pass);\n    await _userModel.default.edit_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role);\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        err: 0,\n        mess: \"Cập nhật thành công\"\n      }\n    }));\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nconst view_edit = async (req, res) => {\n  try {\n    let Username = req.params.username;\n    let list = await _userModel.default.detail_user(Username);\n    if (list.length < 1) {\n      return res.status(400).json(_JWTAction.default.createJWT({\n        data: {\n          err: 1,\n          mess: \"Người dùng không tồn tại\"\n        }\n      }));\n    }\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        page: 'viewEdit',\n        title: 'Cập nhật',\n        list: list\n      }\n    }));\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nconst del_user = async (req, res) => {\n  try {\n    let body = req.body;\n    if (!body.username) {\n      return res.status(400).json(_JWTAction.default.createJWT({\n        data: {\n          err: 1,\n          mess: \"Lỗi: thiếu tài khoản\"\n        }\n      }));\n    }\n    let list = await _userModel.default.del_user(body.username);\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        err: 0,\n        mess: \"Xóa tài khoản thành công\"\n      }\n    }));\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nvar _default = exports.default = {\n  new_user,\n  list_user,\n  detail_user,\n  insert_user,\n  edit_user,\n  del_user,\n  view_edit\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIl9ib2R5UGFyc2VyIiwiX0pXVEFjdGlvbiIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibmV3X3VzZXIiLCJyZXEiLCJyZXMiLCJzdGF0dXMiLCJqc29uIiwiSldUIiwiY3JlYXRlSldUIiwiZGF0YSIsInBhZ2UiLCJ0aXRsZSIsImVycm9yIiwiZXJyIiwibWVzcyIsImluc2VydF91c2VyIiwiYm9keSIsIm5hbWUiLCJwYXNzIiwibmFtZXVzZXIiLCJhZGRyZXNzIiwic2V4IiwiZW1haWwiLCJ1c2VyIiwidXNlck1vZGVsIiwiZGV0YWlsX3VzZXIiLCJsZW5ndGgiLCJyb2xlIiwiYmNyeXB0IiwiZ2VuU2FsdFN5bmMiLCJoYXNoIiwiaGFzaFN5bmMiLCJmbGV4UmFkaW9EZWZhdWx0IiwibGlzdF91c2VyIiwiX2Zyb20iLCJwYXJhbXMiLCJmcm9tIiwiX3RvIiwidG8iLCJhdXRoIiwic2Vzc2lvbiIsImlzTmFOIiwibGlzdCIsIlVzZXJuYW1lIiwidXNlcm5hbWUiLCJlZGl0X3VzZXIiLCJ2aWV3X2VkaXQiLCJkZWxfdXNlciIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVqc1xcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJBcGlVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcbmltcG9ydCB1c2VyTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL3VzZXJNb2RlbFwiXHJcbmltcG9ydCB7IGpzb24gfSBmcm9tIFwiYm9keS1wYXJzZXJcIlxyXG5pbXBvcnQgSldUIGZyb20gXCIuLi9taWRkbGV3YXJlL0pXVEFjdGlvblwiXHJcblxyXG5cclxuY29uc3QgbmV3X3VzZXIgPSAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgcGFnZTogJ25ld1VzZXInLCBcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnVOG6oW8gdMOgaSBraG/huqNuJ319XHJcbiAgICAgICAgICAgICkgXHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yfX1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5jb25zdCBpbnNlcnRfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuXHJcbiAgICAgICAgaWYgKCFib2R5Lm5hbWUgfHwgIWJvZHkucGFzcyB8fCAhYm9keS5uYW1ldXNlciB8fCAhYm9keS5hZGRyZXNzIHx8ICFib2R5LnNleCB8fCAhYm9keS5lbWFpbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiVGhp4bq/dSB0aMO0bmcgdGluIGPhuqduIHRoaeG6v3RcIn19XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmRldGFpbF91c2VyKGJvZHkubmFtZSlcclxuXHJcbiAgICAgICAgaWYgKHVzZXIubGVuZ3RoID49IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIlTDoGkga2hv4bqjbiDEkcOjIHThu5NuIHThuqFpXCJ9fVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcm9sZSA9IDFcclxuICAgICAgICBsZXQgcGFzcyA9IGJjcnlwdC5nZW5TYWx0U3luYygxMClcclxuICAgICAgICBsZXQgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhib2R5LnBhc3MsIHBhc3MpXHJcblxyXG4gICAgICAgIGF3YWl0IHVzZXJNb2RlbC5pbnNlcnRfdXNlcihib2R5Lm5hbWUsIGhhc2gsIGJvZHkubmFtZXVzZXIsIGJvZHkuYWRkcmVzcywgYm9keS5mbGV4UmFkaW9EZWZhdWx0LCBib2R5LmVtYWlsLCByb2xlKVxyXG5cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvcn19XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGxpc3RfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBfZnJvbSA9IHJlcS5wYXJhbXMuZnJvbVxyXG4gICAgICAgIGxldCBfdG8gPSByZXEucGFyYW1zLnRvXHJcbiAgICAgICAgbGV0IGF1dGggPSBudWxsXHJcblxyXG4gICAgICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRoKSB7XHJcbiAgICAgICAgICAgIGF1dGggPSByZXEuc2Vzc2lvbi5hdXRoLm5hbWVcclxuICAgICAgICB9IFxyXG5cclxuICAgICAgICBpZiAoaXNOYU4oX2Zyb20pID09PSBmYWxzZSAmJiBpc05hTihfdG8pID09PSBmYWxzZSkge1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgbGlzdCA9IGF3YWl0IHVzZXJNb2RlbC5saXN0X3VzZXIoX2Zyb20sIF90bylcclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogJ2xpc3RVc2VyJywgXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdEYW5oIHPDoWNoIHTDoGkga2hv4bqjbicsIFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tOl9mcm9tLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG86X3RvXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgXHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdDpsaXN0LCBcclxuICAgICAgICAgICAgICAgICAgICBhdXRoOmF1dGh9fVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIEpXVC5jcmVhdGVKV1Qoe2RhdGE6IHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3J9fVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBkZXRhaWxfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBVc2VybmFtZSA9IHJlcS5wYXJhbXMudXNlcm5hbWVcclxuICAgICAgICBsZXQgbGlzdCA9IGF3YWl0IHVzZXJNb2RlbC5kZXRhaWxfdXNlcihVc2VybmFtZSlcclxuXHJcbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiTmfGsOG7nWkgZMO5bmcga2jDtG5nIHThu5NuIHThuqFpXCJ9fVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIEpXVC5jcmVhdGVKV1Qoe2RhdGE6IHtcclxuICAgICAgICAgICAgICAgIHBhZ2U6ICdkZXRhaWxVc2VyJywgXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0NoaSB0aeG6v3QgbmfGsOG7nWkgZMO5bmcnLCBcclxuICAgICAgICAgICAgICAgIGxpc3Q6bGlzdH19XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIEpXVC5jcmVhdGVKV1Qoe2RhdGE6IHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3J9fVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbmNvbnN0IGVkaXRfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCByb2xlID0gMVxyXG4gICAgICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuXHJcbiAgICAgICAgaWYgKCFib2R5Lm5hbWUgfHwgIWJvZHkucGFzcyB8fCAhYm9keS5uYW1ldXNlciB8fCAhYm9keS5hZGRyZXNzIHx8ICFib2R5LnNleCB8fCAhYm9keS5lbWFpbCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiVGhp4bq/dSB0aMO0bmcgdGluIGPhuqduIHRoaeG6v3RcIn19XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwYXNzID0gYmNyeXB0LmdlblNhbHRTeW5jKDEwKVxyXG4gICAgICAgIGxldCBoYXNoID0gYmNyeXB0Lmhhc2hTeW5jKGJvZHkucGFzcywgcGFzcylcclxuXHJcbiAgICAgICAgYXdhaXQgdXNlck1vZGVsLmVkaXRfdXNlcihib2R5Lm5hbWUsIGhhc2gsIGJvZHkubmFtZXVzZXIsIGJvZHkuYWRkcmVzcywgYm9keS5mbGV4UmFkaW9EZWZhdWx0LCBib2R5LmVtYWlsLCByb2xlKVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIEpXVC5jcmVhdGVKV1Qoe2RhdGE6IHtcclxuICAgICAgICAgICAgICAgIGVycjogMCxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiQ+G6rXAgbmjhuq10IHRow6BuaCBjw7RuZ1wifX1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvcn19XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHZpZXdfZWRpdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBVc2VybmFtZSA9IHJlcS5wYXJhbXMudXNlcm5hbWVcclxuICAgICAgICBsZXQgbGlzdCA9IGF3YWl0IHVzZXJNb2RlbC5kZXRhaWxfdXNlcihVc2VybmFtZSlcclxuXHJcbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiTmfGsOG7nWkgZMO5bmcga2jDtG5nIHThu5NuIHThuqFpXCJ9fVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIEpXVC5jcmVhdGVKV1Qoe2RhdGE6IHtcclxuICAgICAgICAgICAgICAgIHBhZ2U6ICd2aWV3RWRpdCcsIFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdD4bqtcCBuaOG6rXQnLCBcclxuICAgICAgICAgICAgICAgIGxpc3Q6bGlzdH19XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIEpXVC5jcmVhdGVKV1Qoe2RhdGE6IHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3J9fVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY29uc3QgZGVsX3VzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcblxyXG4gICAgICAgIGlmICghYm9keS51c2VybmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IHRoaeG6v3UgdMOgaSBraG/huqNuXCJ9fVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgbGlzdCA9IGF3YWl0IHVzZXJNb2RlbC5kZWxfdXNlcihib2R5LnVzZXJuYW1lKVxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJYw7NhIHTDoGkga2hv4bqjbiB0aMOgbmggY8O0bmdcIn19XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIEpXVC5jcmVhdGVKV1Qoe2RhdGE6IHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3J9fVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7bmV3X3VzZXIsIGxpc3RfdXNlciwgZGV0YWlsX3VzZXIsIGluc2VydF91c2VyLCBlZGl0X3VzZXIsIGRlbF91c2VyLCB2aWV3X2VkaXR9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsVUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsV0FBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksVUFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFELHVCQUFBTSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBR3pDLE1BQU1HLFFBQVEsR0FBR0EsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFFM0IsSUFBSTtJQUVBLE9BQU9BLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQ3ZCQyxrQkFBRyxDQUFDQyxTQUFTLENBQUM7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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","_bodyParser","_JWTAction","obj","__esModule","default","new_user","req","res","status","json","JWT","createJWT","data","page","title","error","err","mess","insert_user","body","name","pass","nameuser","address","sex","email","user","userModel","detail_user","length","role","bcrypt","genSaltSync","hash","hashSync","flexRadioDefault","list_user","_from","params","from","_to","to","auth","session","isNaN","list","Username","username","edit_user","view_edit","del_user","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["ApiUserController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n\r\nconst new_user = (req, res) => {\r\n\r\n    try {\r\n        \r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                page: 'newUser', \r\n                title: 'Tạo tài khoản'}}\r\n            ) \r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst insert_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n\r\n        if (!body.name || !body.pass || !body.nameuser || !body.address || !body.sex || !body.email) {\r\n            return res.status(400).json(\r\n                JWT.createJWT({data: {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"}}\r\n                )\r\n            )\r\n        }\r\n\r\n        let user = await userModel.detail_user(body.name)\r\n\r\n        if (user.length >= 1) {\r\n            return res.status(400).json(\r\n                JWT.createJWT({data: {\r\n                    err: 1,\r\n                    mess: \"Tài khoản đã tồn tại\"}}\r\n                )\r\n            )\r\n        }\r\n\r\n        let role = 1\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.pass, pass)\r\n\r\n        await userModel.insert_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role)\r\n\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nconst list_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let _from = req.params.from\r\n        let _to = req.params.to\r\n        let auth = null\r\n\r\n        if (req.session.auth) {\r\n            auth = req.session.auth.name\r\n        } \r\n\r\n        if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        \r\n            let list = await userModel.list_user(_from, _to)\r\n    \r\n            return res.status(200).json(\r\n                JWT.createJWT({data: {\r\n                    page: 'listUser', \r\n                    title: 'Danh sách tài khoản', \r\n                    params: {\r\n                        from:_from, \r\n                        to:_to\r\n                    }, \r\n                    list:list, \r\n                    auth:auth}}\r\n                )\r\n            )\r\n        }\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nconst detail_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let Username = req.params.username\r\n        let list = await userModel.detail_user(Username)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(400).json(\r\n                JWT.createJWT({data: {\r\n                    err: 1,\r\n                    mess: \"Người dùng không tồn tại\"}}\r\n                )\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                page: 'detailUser', \r\n                title: 'Chi tiết người dùng', \r\n                list:list}}\r\n            )\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst edit_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let role = 1\r\n        let body = req.body\r\n\r\n        if (!body.name || !body.pass || !body.nameuser || !body.address || !body.sex || !body.email) {\r\n            return res.status(400).json(\r\n                JWT.createJWT({data: {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"}}\r\n                )\r\n            )\r\n        }\r\n\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.pass, pass)\r\n\r\n        await userModel.edit_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role)\r\n\r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                err: 0,\r\n                mess: \"Cập nhật thành công\"}}\r\n            )\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nconst view_edit = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let Username = req.params.username\r\n        let list = await userModel.detail_user(Username)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(400).json(\r\n                JWT.createJWT({data: {\r\n                    err: 1,\r\n                    mess: \"Người dùng không tồn tại\"}}\r\n                )\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                page: 'viewEdit', \r\n                title: 'Cập nhật', \r\n                list:list}}\r\n            )\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst del_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n\r\n        if (!body.username) {\r\n            return res.status(400).json(\r\n                JWT.createJWT({data: {\r\n                    err: 1,\r\n                    mess: \"Lỗi: thiếu tài khoản\"}}\r\n                )\r\n            )\r\n        }\r\n\r\n        let list = await userModel.del_user(body.username)\r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                err: 0,\r\n                mess: \"Xóa tài khoản thành công\"}}\r\n            )\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nexport default {new_user, list_user, detail_user, insert_user, edit_user, del_user, view_edit}"],"mappings":"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"}},"mtime":1696681786373},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\middleware\\\\Auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst Notfound = (req, res, next) => {\n  res.status(404).send(\"<h1>Page not found on the server</h1>\");\n};\nconst Author = (req, res, next) => {\n  if (req.session.auth) {\n    next();\n  } else {\n    res.redirect('/login');\n  }\n};\nconst Authen = (req, res, next) => {\n  if (req.session.auth) {\n    if (req.session.auth.role == 2) {\n      next();\n    } else {\n      res.redirect('/list-user/0-10');\n    }\n  } else {\n    res.redirect('/login');\n  }\n};\nconst auth = _express.default.Router();\nconst authMiddleware = app => {\n  auth.use(\"/insert_new_user\", Authen);\n  auth.use(\"/detail_user/:username\", Authen);\n  auth.use(\"/del_user\", Authen);\n  auth.use(\"/view_edit/:username\", Authen);\n  auth.use(\"/edit_user\", Authen);\n  auth.use(\"/list-user/:from-:to\", Authen);\n  auth.use(\"/create_new_user\", Authen);\n\n  //quan ly tin tuc ( news ) \n  // auth.use('/list-news/:from-:to', Authen)\n  auth.use('/create_new_news', Authen);\n  auth.use('/insert_new_news', Authen);\n  // auth.use('/detail_news/:title', Authen)\n\n  auth.use('/view_edit_news/:id', Authen);\n  auth.use('/edit_news', Authen);\n  auth.use('/del_news', Authen);\n\n  //quan ly bai viet ( post )  \n  // auth.use('/list-post/:from-:to', Authen)\n  auth.use('/create_new_post', Authen);\n  auth.use('/insert_new_post', Authen);\n  // auth.use('/detail_post/:id', Authen)\n\n  auth.use('/view_edit_post/:id', Authen);\n  auth.use('/edit_post', Authen);\n  auth.use('/del_post', Authen);\n  return app.use(\"/\", auth);\n};\nvar _default = exports.default = {\n  authMiddleware,\n  Notfound\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJOb3Rmb3VuZCIsInJlcSIsInJlcyIsIm5leHQiLCJzdGF0dXMiLCJzZW5kIiwiQXV0aG9yIiwic2Vzc2lvbiIsImF1dGgiLCJyZWRpcmVjdCIsIkF1dGhlbiIsInJvbGUiLCJleHByZXNzIiwiUm91dGVyIiwiYXV0aE1pZGRsZXdhcmUiLCJhcHAiLCJ1c2UiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlanNcXHNyY1xcbWlkZGxld2FyZVxcIiwic291cmNlcyI6WyJBdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuXHJcblxyXG5jb25zdCBOb3Rmb3VuZCA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoXCI8aDE+UGFnZSBub3QgZm91bmQgb24gdGhlIHNlcnZlcjwvaDE+XCIpXHJcbn1cclxuXHJcbmNvbnN0IEF1dGhvciA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG5cclxuICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRoKSB7XHJcbiAgICAgICAgbmV4dCgpXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXMucmVkaXJlY3QoJy9sb2dpbicpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IEF1dGhlbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG5cclxuICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRoKSB7XHJcbiAgICAgICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgucm9sZSA9PSAyKSB7XHJcbiAgICAgICAgICAgIG5leHQoKVxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcy5yZWRpcmVjdCgnL2xpc3QtdXNlci8wLTEwJylcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXMucmVkaXJlY3QoJy9sb2dpbicpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGF1dGggPSBleHByZXNzLlJvdXRlcigpXHJcbmNvbnN0IGF1dGhNaWRkbGV3YXJlID0gKGFwcCkgPT4ge1xyXG5cclxuICAgIGF1dGgudXNlKFwiL2luc2VydF9uZXdfdXNlclwiLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZShcIi9kZXRhaWxfdXNlci86dXNlcm5hbWVcIiwgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoXCIvZGVsX3VzZXJcIiwgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoXCIvdmlld19lZGl0Lzp1c2VybmFtZVwiLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZShcIi9lZGl0X3VzZXJcIiwgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoXCIvbGlzdC11c2VyLzpmcm9tLTp0b1wiLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZShcIi9jcmVhdGVfbmV3X3VzZXJcIiwgQXV0aGVuKVxyXG5cclxuICAgIC8vcXVhbiBseSB0aW4gdHVjICggbmV3cyApIFxyXG4gICAgLy8gYXV0aC51c2UoJy9saXN0LW5ld3MvOmZyb20tOnRvJywgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoJy9jcmVhdGVfbmV3X25ld3MnLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZSgnL2luc2VydF9uZXdfbmV3cycsIEF1dGhlbilcclxuICAgIC8vIGF1dGgudXNlKCcvZGV0YWlsX25ld3MvOnRpdGxlJywgQXV0aGVuKVxyXG5cclxuICAgIGF1dGgudXNlKCcvdmlld19lZGl0X25ld3MvOmlkJywgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoJy9lZGl0X25ld3MnLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZSgnL2RlbF9uZXdzJywgQXV0aGVuKVxyXG5cclxuXHJcbiAgICAvL3F1YW4gbHkgYmFpIHZpZXQgKCBwb3N0ICkgIFxyXG4gICAgLy8gYXV0aC51c2UoJy9saXN0LXBvc3QvOmZyb20tOnRvJywgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoJy9jcmVhdGVfbmV3X3Bvc3QnLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZSgnL2luc2VydF9uZXdfcG9zdCcsIEF1dGhlbilcclxuICAgIC8vIGF1dGgudXNlKCcvZGV0YWlsX3Bvc3QvOmlkJywgQXV0aGVuKVxyXG5cclxuICAgIGF1dGgudXNlKCcvdmlld19lZGl0X3Bvc3QvOmlkJywgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoJy9lZGl0X3Bvc3QnLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZSgnL2RlbF9wb3N0JywgQXV0aGVuKVxyXG5cclxuICAgIHJldHVybiBhcHAudXNlKFwiL1wiLCBhdXRoKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7YXV0aE1pZGRsZXdhcmUsIE5vdGZvdW5kfVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUc3QixNQUFNRyxRQUFRLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDakNELEdBQUcsQ0FBQ0UsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsdUNBQXVDLENBQUM7QUFDakUsQ0FBQztBQUVELE1BQU1DLE1BQU0sR0FBR0EsQ0FBQ0wsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUUvQixJQUFJRixHQUFHLENBQUNNLE9BQU8sQ0FBQ0MsSUFBSSxFQUFFO0lBQ2xCTCxJQUFJLENBQUMsQ0FBQztFQUNWLENBQUMsTUFDSTtJQUNERCxHQUFHLENBQUNPLFFBQVEsQ0FBQyxRQUFRLENBQUM7RUFDMUI7QUFDSixDQUFDO0FBRUQsTUFBTUMsTUFBTSxHQUFHQSxDQUFDVCxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBRS9CLElBQUlGLEdBQUcsQ0FBQ00sT0FBTyxDQUFDQyxJQUFJLEVBQUU7SUFDbEIsSUFBSVAsR0FBRyxDQUFDTSxPQUFPLENBQUNDLElBQUksQ0FBQ0csSUFBSSxJQUFJLENBQUMsRUFBRTtNQUM1QlIsSUFBSSxDQUFDLENBQUM7SUFDVixDQUFDLE1BQ0k7TUFDREQsR0FBRyxDQUFDTyxRQUFRLENBQUMsaUJBQWlCLENBQUM7SUFDbkM7RUFDSixDQUFDLE1BQ0k7SUFDRFAsR0FBRyxDQUFDTyxRQUFRLENBQUMsUUFBUSxDQUFDO0VBQzFCO0FBQ0osQ0FBQztBQUVELE1BQU1ELElBQUksR0FBR0ksZ0JBQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFDN0IsTUFBTUMsY0FBYyxHQUFJQyxHQUFHLElBQUs7RUFFNUJQLElBQUksQ0FBQ1EsR0FBRyxDQUFDLGtCQUFrQixFQUFFTixNQUFNLENBQUM7RUFDcENGLElBQUksQ0FBQ1EsR0FBRyxDQUFDLHdCQUF3QixFQUFFTixNQUFNLENBQUM7RUFDMUNGLElBQUksQ0FBQ1EsR0FBRyxDQUFDLFdBQVcsRUFBRU4sTUFBTSxDQUFDO0VBQzdCRixJQUFJLENBQUNRLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRU4sTUFBTSxDQUFDO0VBQ3hDRixJQUFJLENBQUNRLEdBQUcsQ0FBQyxZQUFZLEVBQUVOLE1BQU0sQ0FBQztFQUM5QkYsSUFBSSxDQUFDUSxHQUFHLENBQUMsc0JBQXNCLEVBQUVOLE1BQU0sQ0FBQztFQUN4Q0YsSUFBSSxDQUFDUSxHQUFHLENBQUMsa0JBQWtCLEVBQUVOLE1BQU0sQ0FBQzs7RUFFcEM7RUFDQTtFQUNBRixJQUFJLENBQUNRLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRU4sTUFBTSxDQUFDO0VBQ3BDRixJQUFJLENBQUNRLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRU4sTUFBTSxDQUFDO0VBQ3BDOztFQUVBRixJQUFJLENBQUNRLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRU4sTUFBTSxDQUFDO0VBQ3ZDRixJQUFJLENBQUNRLEdBQUcsQ0FBQyxZQUFZLEVBQUVOLE1BQU0sQ0FBQztFQUM5QkYsSUFBSSxDQUFDUSxHQUFHLENBQUMsV0FBVyxFQUFFTixNQUFNLENBQUM7O0VBRzdCO0VBQ0E7RUFDQUYsSUFBSSxDQUFDUSxHQUFHLENBQUMsa0JBQWtCLEVBQUVOLE1BQU0sQ0FBQztFQUNwQ0YsSUFBSSxDQUFDUSxHQUFHLENBQUMsa0JBQWtCLEVBQUVOLE1BQU0sQ0FBQztFQUNwQzs7RUFFQUYsSUFBSSxDQUFDUSxHQUFHLENBQUMscUJBQXFCLEVBQUVOLE1BQU0sQ0FBQztFQUN2Q0YsSUFBSSxDQUFDUSxHQUFHLENBQUMsWUFBWSxFQUFFTixNQUFNLENBQUM7RUFDOUJGLElBQUksQ0FBQ1EsR0FBRyxDQUFDLFdBQVcsRUFBRU4sTUFBTSxDQUFDO0VBRTdCLE9BQU9LLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLEdBQUcsRUFBRVIsSUFBSSxDQUFDO0FBQzdCLENBQUM7QUFBQSxJQUFBUyxRQUFBLEdBQUFDLE9BQUEsQ0FBQW5CLE9BQUEsR0FFYztFQUFDZSxjQUFjO0VBQUVkO0FBQVEsQ0FBQyJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","obj","__esModule","default","Notfound","req","res","next","status","send","Author","session","auth","redirect","Authen","role","express","Router","authMiddleware","app","use","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\middleware\\","sources":["Auth.js"],"sourcesContent":["import express from \"express\"\r\n\r\n\r\nconst Notfound = (req, res, next) => {\r\n    res.status(404).send(\"<h1>Page not found on the server</h1>\")\r\n}\r\n\r\nconst Author = (req, res, next) => {\r\n\r\n    if (req.session.auth) {\r\n        next()\r\n    }\r\n    else {\r\n        res.redirect('/login')\r\n    }\r\n}\r\n\r\nconst Authen = (req, res, next) => {\r\n\r\n    if (req.session.auth) {\r\n        if (req.session.auth.role == 2) {\r\n            next()\r\n        } \r\n        else {\r\n            res.redirect('/list-user/0-10')\r\n        }\r\n    }\r\n    else {\r\n        res.redirect('/login')\r\n    }\r\n}\r\n\r\nconst auth = express.Router()\r\nconst authMiddleware = (app) => {\r\n\r\n    auth.use(\"/insert_new_user\", Authen)\r\n    auth.use(\"/detail_user/:username\", Authen)\r\n    auth.use(\"/del_user\", Authen)\r\n    auth.use(\"/view_edit/:username\", Authen)\r\n    auth.use(\"/edit_user\", Authen)\r\n    auth.use(\"/list-user/:from-:to\", Authen)\r\n    auth.use(\"/create_new_user\", Authen)\r\n\r\n    //quan ly tin tuc ( news ) \r\n    // auth.use('/list-news/:from-:to', Authen)\r\n    auth.use('/create_new_news', Authen)\r\n    auth.use('/insert_new_news', Authen)\r\n    // auth.use('/detail_news/:title', Authen)\r\n\r\n    auth.use('/view_edit_news/:id', Authen)\r\n    auth.use('/edit_news', Authen)\r\n    auth.use('/del_news', Authen)\r\n\r\n\r\n    //quan ly bai viet ( post )  \r\n    // auth.use('/list-post/:from-:to', Authen)\r\n    auth.use('/create_new_post', Authen)\r\n    auth.use('/insert_new_post', Authen)\r\n    // auth.use('/detail_post/:id', Authen)\r\n\r\n    auth.use('/view_edit_post/:id', Authen)\r\n    auth.use('/edit_post', Authen)\r\n    auth.use('/del_post', Authen)\r\n\r\n    return app.use(\"/\", auth)\r\n}\r\n\r\nexport default {authMiddleware, Notfound}\r\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAG7B,MAAMG,QAAQ,GAAGA,CAACC,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EACjCD,GAAG,CAACE,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,uCAAuC,CAAC;AACjE,CAAC;AAED,MAAMC,MAAM,GAAGA,CAACL,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAE/B,IAAIF,GAAG,CAACM,OAAO,CAACC,IAAI,EAAE;IAClBL,IAAI,CAAC,CAAC;EACV,CAAC,MACI;IACDD,GAAG,CAACO,QAAQ,CAAC,QAAQ,CAAC;EAC1B;AACJ,CAAC;AAED,MAAMC,MAAM,GAAGA,CAACT,GAAG,EAAEC,GAAG,EAAEC,IAAI,KAAK;EAE/B,IAAIF,GAAG,CAACM,OAAO,CAACC,IAAI,EAAE;IAClB,IAAIP,GAAG,CAACM,OAAO,CAACC,IAAI,CAACG,IAAI,IAAI,CAAC,EAAE;MAC5BR,IAAI,CAAC,CAAC;IACV,CAAC,MACI;MACDD,GAAG,CAACO,QAAQ,CAAC,iBAAiB,CAAC;IACnC;EACJ,CAAC,MACI;IACDP,GAAG,CAACO,QAAQ,CAAC,QAAQ,CAAC;EAC1B;AACJ,CAAC;AAED,MAAMD,IAAI,GAAGI,gBAAO,CAACC,MAAM,CAAC,CAAC;AAC7B,MAAMC,cAAc,GAAIC,GAAG,IAAK;EAE5BP,IAAI,CAACQ,GAAG,CAAC,kBAAkB,EAAEN,MAAM,CAAC;EACpCF,IAAI,CAACQ,GAAG,CAAC,wBAAwB,EAAEN,MAAM,CAAC;EAC1CF,IAAI,CAACQ,GAAG,CAAC,WAAW,EAAEN,MAAM,CAAC;EAC7BF,IAAI,CAACQ,GAAG,CAAC,sBAAsB,EAAEN,MAAM,CAAC;EACxCF,IAAI,CAACQ,GAAG,CAAC,YAAY,EAAEN,MAAM,CAAC;EAC9BF,IAAI,CAACQ,GAAG,CAAC,sBAAsB,EAAEN,MAAM,CAAC;EACxCF,IAAI,CAACQ,GAAG,CAAC,kBAAkB,EAAEN,MAAM,CAAC;;EAEpC;EACA;EACAF,IAAI,CAACQ,GAAG,CAAC,kBAAkB,EAAEN,MAAM,CAAC;EACpCF,IAAI,CAACQ,GAAG,CAAC,kBAAkB,EAAEN,MAAM,CAAC;EACpC;;EAEAF,IAAI,CAACQ,GAAG,CAAC,qBAAqB,EAAEN,MAAM,CAAC;EACvCF,IAAI,CAACQ,GAAG,CAAC,YAAY,EAAEN,MAAM,CAAC;EAC9BF,IAAI,CAACQ,GAAG,CAAC,WAAW,EAAEN,MAAM,CAAC;;EAG7B;EACA;EACAF,IAAI,CAACQ,GAAG,CAAC,kBAAkB,EAAEN,MAAM,CAAC;EACpCF,IAAI,CAACQ,GAAG,CAAC,kBAAkB,EAAEN,MAAM,CAAC;EACpC;;EAEAF,IAAI,CAACQ,GAAG,CAAC,qBAAqB,EAAEN,MAAM,CAAC;EACvCF,IAAI,CAACQ,GAAG,CAAC,YAAY,EAAEN,MAAM,CAAC;EAC9BF,IAAI,CAACQ,GAAG,CAAC,WAAW,EAAEN,MAAM,CAAC;EAE7B,OAAOK,GAAG,CAACC,GAAG,CAAC,GAAG,EAAER,IAAI,CAAC;AAC7B,CAAC;AAAA,IAAAS,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GAEc;EAACe,cAAc;EAAEd;AAAQ,CAAC"}},"mtime":1696737757327},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\config\\\\viewEngine.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst configViewEngine = app => {\n  app.set(\"view engine\", \"ejs\");\n  app.set(\"views\", \"./src/views\");\n};\nvar _default = exports.default = configViewEngine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWdWaWV3RW5naW5lIiwiYXBwIiwic2V0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVqc1xcc3JjXFxjb25maWdcXCIsInNvdXJjZXMiOlsidmlld0VuZ2luZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjb25maWdWaWV3RW5naW5lID0gKGFwcCkgPT4ge1xyXG4gICAgYXBwLnNldChcInZpZXcgZW5naW5lXCIsIFwiZWpzXCIpXHJcbiAgICBhcHAuc2V0KFwidmlld3NcIiwgXCIuL3NyYy92aWV3c1wiKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IGNvbmZpZ1ZpZXdFbmdpbmUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQU1BLGdCQUFnQixHQUFJQyxHQUFHLElBQUs7RUFDOUJBLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUM7RUFDN0JELEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUM7QUFDbkMsQ0FBQztBQUFBLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBQyxPQUFBLEdBQ2NMLGdCQUFnQiJ9","map":{"version":3,"names":["configViewEngine","app","set","_default","exports","default"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\config\\","sources":["viewEngine.js"],"sourcesContent":["const configViewEngine = (app) => {\r\n    app.set(\"view engine\", \"ejs\")\r\n    app.set(\"views\", \"./src/views\")\r\n}\r\nexport default configViewEngine"],"mappings":";;;;;;AAAA,MAAMA,gBAAgB,GAAIC,GAAG,IAAK;EAC9BA,GAAG,CAACC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;EAC7BD,GAAG,CAACC,GAAG,CAAC,OAAO,EAAE,aAAa,CAAC;AACnC,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GACcL,gBAAgB"}},"mtime":1696681786372},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\router\\\\webRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _HomeController = _interopRequireDefault(require(\"./../controllers/HomeController\"));\nvar _AboutController = _interopRequireDefault(require(\"./../controllers/AboutController\"));\nvar _UserController = _interopRequireDefault(require(\"./../controllers/UserController\"));\nvar _formLoginController = _interopRequireDefault(require(\"./../controllers/formLoginController\"));\nvar _HomeUserController = _interopRequireDefault(require(\"./../controllers/HomeUserController\"));\nvar _NewsController = _interopRequireDefault(require(\"./../controllers/NewsController\"));\nvar _PostController = _interopRequireDefault(require(\"./../controllers/PostController\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thu vien up img\n\n// add controller\n// add controller\n// add controller\n\n// add controller\n\n// add controller\n// add controller\n\nconst storage = _multer.default.diskStorage({\n  destination: function destination(req, file, cb) {\n    cb(null, './src/public/upload');\n  },\n  filename: function filename(req, file, cb) {\n    const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9);\n    cb(null, uniqueSuffix + _path.default.extname(file.originalname));\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst router = _express.default.Router();\nconst initWebRoute = app => {\n  // app.get('/home/:namepage', HomeController.getHome) // truyền param\n  // app.get('/set-session', HomeController.setSession)\n  // app.get('/abc', HomeController.getAbc)\n\n  router.get('/admin', _HomeController.default.getHome);\n  router.get('/about', _AboutController.default.getAbout);\n  router.get('/create_new_user', _UserController.default.new_user);\n  router.post('/insert_new_user', _UserController.default.insert_user);\n  router.get('/list-user/:from-:to', _UserController.default.list_user);\n  router.get('/login', _formLoginController.default.login);\n  router.post('/login', _formLoginController.default.login_auth);\n  router.get('/logout', _formLoginController.default.logout);\n  router.get('/detail_user/:username', _UserController.default.detail_user);\n  router.post('/del_user', _UserController.default.del_user);\n  router.get('/view_edit/:username', _UserController.default.view_edit);\n  router.post('/edit_user', _UserController.default.edit_user);\n\n  //user\n  router.get('/', _HomeUserController.default.HomeUser);\n  router.get('/LoginUser', _HomeUserController.default.LoginUser);\n  router.post('/login_auth_User', _HomeUserController.default.login_auth_User);\n  router.get('/logout_User', _HomeUserController.default.logout_User);\n  router.get('/RegisterUser', _HomeUserController.default.RegisterUser);\n  router.post('/request_register', _HomeUserController.default.request_register);\n  router.get('/SinglePage/:id', _HomeUserController.default.SinglePage);\n\n  //quan ly tin tuc ( news )  \n  router.get('/list-news/:from-:to', _NewsController.default.list_news);\n  router.get('/create_new_news', _NewsController.default.new_news);\n  router.post('/insert_new_news', _NewsController.default.insert_news);\n  router.get('/detail_news/:title', _NewsController.default.detail_news);\n  router.get('/view_edit_news/:id', _NewsController.default.view_edit_news);\n  router.post('/edit_news', _NewsController.default.edit_news);\n  router.post('/del_news', _NewsController.default.del_news);\n\n  //quan ly bai viet ( post )  \n  router.get('/list-post/:from-:to', _PostController.default.list_post);\n  router.get('/create_new_post', _PostController.default.new_post);\n  router.post('/insert_new_post', upload.single('filenew'), _PostController.default.insert_post);\n  router.get('/detail_post/:id', _PostController.default.detail_post);\n  router.get('/view_edit_post/:id', _PostController.default.view_edit_post);\n  router.post('/edit_post', upload.single('filenew'), _PostController.default.edit_post);\n  router.post('/del_post', _PostController.default.del_post);\n  return app.use(\"/\", router);\n};\nvar _default = exports.default = initWebRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9wYXRoIiwiX0hvbWVDb250cm9sbGVyIiwiX0Fib3V0Q29udHJvbGxlciIsIl9Vc2VyQ29udHJvbGxlciIsIl9mb3JtTG9naW5Db250cm9sbGVyIiwiX0hvbWVVc2VyQ29udHJvbGxlciIsIl9OZXdzQ29udHJvbGxlciIsIl9Qb3N0Q29udHJvbGxlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsInVuaXF1ZVN1ZmZpeCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJwYXRoIiwiZXh0bmFtZSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJpbml0V2ViUm91dGUiLCJhcHAiLCJnZXQiLCJIb21lQ29udHJvbGxlciIsImdldEhvbWUiLCJBYm91dENvbnRyb2xsZXIiLCJnZXRBYm91dCIsIlVzZXJDb250cm9sbGVyIiwibmV3X3VzZXIiLCJwb3N0IiwiaW5zZXJ0X3VzZXIiLCJsaXN0X3VzZXIiLCJmb3JtTG9naW5Db250cm9sbGVyIiwibG9naW4iLCJsb2dpbl9hdXRoIiwibG9nb3V0IiwiZGV0YWlsX3VzZXIiLCJkZWxfdXNlciIsInZpZXdfZWRpdCIsImVkaXRfdXNlciIsIkhvbWVVc2VyQ29udHJvbGxlciIsIkhvbWVVc2VyIiwiTG9naW5Vc2VyIiwibG9naW5fYXV0aF9Vc2VyIiwibG9nb3V0X1VzZXIiLCJSZWdpc3RlclVzZXIiLCJyZXF1ZXN0X3JlZ2lzdGVyIiwiU2luZ2xlUGFnZSIsIk5ld3NDb250cm9sbGVyIiwibGlzdF9uZXdzIiwibmV3X25ld3MiLCJpbnNlcnRfbmV3cyIsImRldGFpbF9uZXdzIiwidmlld19lZGl0X25ld3MiLCJlZGl0X25ld3MiLCJkZWxfbmV3cyIsIlBvc3RDb250cm9sbGVyIiwibGlzdF9wb3N0IiwibmV3X3Bvc3QiLCJzaW5nbGUiLCJpbnNlcnRfcG9zdCIsImRldGFpbF9wb3N0Iiwidmlld19lZGl0X3Bvc3QiLCJlZGl0X3Bvc3QiLCJkZWxfcG9zdCIsInVzZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVqc1xcc3JjXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsid2ViUm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcicgLy8gdGh1IHZpZW4gdXAgaW1nXHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCJcclxuaW1wb3J0IEhvbWVDb250cm9sbGVyIGZyb20gXCIuLy4uL2NvbnRyb2xsZXJzL0hvbWVDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuaW1wb3J0IEFib3V0Q29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9BYm91dENvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5pbXBvcnQgVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5pbXBvcnQgZm9ybUxvZ2luQ29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9mb3JtTG9naW5Db250cm9sbGVyXCJcclxuXHJcbmltcG9ydCBIb21lVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvSG9tZVVzZXJDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuXHJcblxyXG5pbXBvcnQgTmV3c0NvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvTmV3c0NvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5pbXBvcnQgUG9zdENvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvUG9zdENvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5cclxuXHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gICAgZGVzdGluYXRpb246IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICAgIGNiKG51bGwsICcuL3NyYy9wdWJsaWMvdXBsb2FkJylcclxuICAgIH0sXHJcbiAgICBmaWxlbmFtZTogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgICAgY29uc3QgdW5pcXVlU3VmZml4ID0gRGF0ZS5ub3coKSArICctJyArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDFFOSlcclxuICAgICAgY2IobnVsbCwgdW5pcXVlU3VmZml4ICsgcGF0aC5leHRuYW1lKGZpbGUub3JpZ2luYWxuYW1lKSlcclxuICAgIH1cclxuICB9KVxyXG4gIFxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlIH0pXHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpXHJcbmNvbnN0IGluaXRXZWJSb3V0ZSA9IChhcHApID0+IHtcclxuXHJcbiAgICAvLyBhcHAuZ2V0KCcvaG9tZS86bmFtZXBhZ2UnLCBIb21lQ29udHJvbGxlci5nZXRIb21lKSAvLyB0cnV54buBbiBwYXJhbVxyXG4gICAgLy8gYXBwLmdldCgnL3NldC1zZXNzaW9uJywgSG9tZUNvbnRyb2xsZXIuc2V0U2Vzc2lvbilcclxuICAgIC8vIGFwcC5nZXQoJy9hYmMnLCBIb21lQ29udHJvbGxlci5nZXRBYmMpXHJcblxyXG4gICAgcm91dGVyLmdldCgnL2FkbWluJywgSG9tZUNvbnRyb2xsZXIuZ2V0SG9tZSlcclxuICAgIHJvdXRlci5nZXQoJy9hYm91dCcsIEFib3V0Q29udHJvbGxlci5nZXRBYm91dClcclxuXHJcbiAgICByb3V0ZXIuZ2V0KCcvY3JlYXRlX25ld191c2VyJywgVXNlckNvbnRyb2xsZXIubmV3X3VzZXIpXHJcbiAgICByb3V0ZXIucG9zdCgnL2luc2VydF9uZXdfdXNlcicsIFVzZXJDb250cm9sbGVyLmluc2VydF91c2VyKVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy9saXN0LXVzZXIvOmZyb20tOnRvJywgVXNlckNvbnRyb2xsZXIubGlzdF91c2VyKVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy9sb2dpbicsIGZvcm1Mb2dpbkNvbnRyb2xsZXIubG9naW4pXHJcbiAgICByb3V0ZXIucG9zdCgnL2xvZ2luJywgZm9ybUxvZ2luQ29udHJvbGxlci5sb2dpbl9hdXRoKVxyXG4gICAgcm91dGVyLmdldCgnL2xvZ291dCcsIGZvcm1Mb2dpbkNvbnRyb2xsZXIubG9nb3V0KVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy9kZXRhaWxfdXNlci86dXNlcm5hbWUnLCBVc2VyQ29udHJvbGxlci5kZXRhaWxfdXNlcilcclxuXHJcbiAgICByb3V0ZXIucG9zdCgnL2RlbF91c2VyJywgVXNlckNvbnRyb2xsZXIuZGVsX3VzZXIpXHJcblxyXG4gICAgcm91dGVyLmdldCgnL3ZpZXdfZWRpdC86dXNlcm5hbWUnLCBVc2VyQ29udHJvbGxlci52aWV3X2VkaXQpXHJcbiAgICByb3V0ZXIucG9zdCgnL2VkaXRfdXNlcicsIFVzZXJDb250cm9sbGVyLmVkaXRfdXNlcilcclxuXHJcbiAgICBcclxuICAgIC8vdXNlclxyXG4gICAgcm91dGVyLmdldCgnLycsIEhvbWVVc2VyQ29udHJvbGxlci5Ib21lVXNlcilcclxuICAgIFxyXG4gICAgcm91dGVyLmdldCgnL0xvZ2luVXNlcicsIEhvbWVVc2VyQ29udHJvbGxlci5Mb2dpblVzZXIpXHJcbiAgICByb3V0ZXIucG9zdCgnL2xvZ2luX2F1dGhfVXNlcicsIEhvbWVVc2VyQ29udHJvbGxlci5sb2dpbl9hdXRoX1VzZXIpXHJcbiAgICByb3V0ZXIuZ2V0KCcvbG9nb3V0X1VzZXInLCBIb21lVXNlckNvbnRyb2xsZXIubG9nb3V0X1VzZXIpXHJcblxyXG4gICAgXHJcbiAgICByb3V0ZXIuZ2V0KCcvUmVnaXN0ZXJVc2VyJywgSG9tZVVzZXJDb250cm9sbGVyLlJlZ2lzdGVyVXNlcilcclxuICAgIHJvdXRlci5wb3N0KCcvcmVxdWVzdF9yZWdpc3RlcicsIEhvbWVVc2VyQ29udHJvbGxlci5yZXF1ZXN0X3JlZ2lzdGVyKVxyXG5cclxuICAgIFxyXG4gICAgcm91dGVyLmdldCgnL1NpbmdsZVBhZ2UvOmlkJywgSG9tZVVzZXJDb250cm9sbGVyLlNpbmdsZVBhZ2UpXHJcbiAgICBcclxuICAgIFxyXG5cclxuICAgIC8vcXVhbiBseSB0aW4gdHVjICggbmV3cyApICBcclxuICAgIHJvdXRlci5nZXQoJy9saXN0LW5ld3MvOmZyb20tOnRvJywgTmV3c0NvbnRyb2xsZXIubGlzdF9uZXdzKVxyXG4gICAgcm91dGVyLmdldCgnL2NyZWF0ZV9uZXdfbmV3cycsIE5ld3NDb250cm9sbGVyLm5ld19uZXdzKVxyXG4gICAgcm91dGVyLnBvc3QoJy9pbnNlcnRfbmV3X25ld3MnLCBOZXdzQ29udHJvbGxlci5pbnNlcnRfbmV3cylcclxuICAgIHJvdXRlci5nZXQoJy9kZXRhaWxfbmV3cy86dGl0bGUnLCBOZXdzQ29udHJvbGxlci5kZXRhaWxfbmV3cylcclxuXHJcbiAgICByb3V0ZXIuZ2V0KCcvdmlld19lZGl0X25ld3MvOmlkJywgTmV3c0NvbnRyb2xsZXIudmlld19lZGl0X25ld3MpXHJcbiAgICByb3V0ZXIucG9zdCgnL2VkaXRfbmV3cycsIE5ld3NDb250cm9sbGVyLmVkaXRfbmV3cylcclxuICAgIHJvdXRlci5wb3N0KCcvZGVsX25ld3MnLCBOZXdzQ29udHJvbGxlci5kZWxfbmV3cylcclxuXHJcblxyXG4gICAgLy9xdWFuIGx5IGJhaSB2aWV0ICggcG9zdCApICBcclxuICAgIHJvdXRlci5nZXQoJy9saXN0LXBvc3QvOmZyb20tOnRvJywgUG9zdENvbnRyb2xsZXIubGlzdF9wb3N0KVxyXG4gICAgcm91dGVyLmdldCgnL2NyZWF0ZV9uZXdfcG9zdCcsIFBvc3RDb250cm9sbGVyLm5ld19wb3N0KVxyXG4gICAgcm91dGVyLnBvc3QoJy9pbnNlcnRfbmV3X3Bvc3QnLCB1cGxvYWQuc2luZ2xlKCdmaWxlbmV3JyksIFBvc3RDb250cm9sbGVyLmluc2VydF9wb3N0KVxyXG4gICAgcm91dGVyLmdldCgnL2RldGFpbF9wb3N0LzppZCcsIFBvc3RDb250cm9sbGVyLmRldGFpbF9wb3N0KVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy92aWV3X2VkaXRfcG9zdC86aWQnLCBQb3N0Q29udHJvbGxlci52aWV3X2VkaXRfcG9zdClcclxuICAgIHJvdXRlci5wb3N0KCcvZWRpdF9wb3N0JywgdXBsb2FkLnNpbmdsZSgnZmlsZW5ldycpLCBQb3N0Q29udHJvbGxlci5lZGl0X3Bvc3QpXHJcbiAgICByb3V0ZXIucG9zdCgnL2RlbF9wb3N0JywgUG9zdENvbnRyb2xsZXIuZGVsX3Bvc3QpXHJcbiAgICBcclxuICAgIHJldHVybiBhcHAudXNlKFwiL1wiLCByb3V0ZXIpXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQgaW5pdFdlYlJvdXRlIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxLQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxlQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxnQkFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUssZUFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sb0JBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFPLG1CQUFBLEdBQUFSLHNCQUFBLENBQUFDLE9BQUE7QUFHQSxJQUFBUSxlQUFBLEdBQUFULHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBUyxlQUFBLEdBQUFWLHNCQUFBLENB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_multer","_path","_HomeController","_AboutController","_UserController","_formLoginController","_HomeUserController","_NewsController","_PostController","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","filename","uniqueSuffix","Date","now","Math","round","random","path","extname","originalname","upload","router","express","Router","initWebRoute","app","get","HomeController","getHome","AboutController","getAbout","UserController","new_user","post","insert_user","list_user","formLoginController","login","login_auth","logout","detail_user","del_user","view_edit","edit_user","HomeUserController","HomeUser","LoginUser","login_auth_User","logout_User","RegisterUser","request_register","SinglePage","NewsController","list_news","new_news","insert_news","detail_news","view_edit_news","edit_news","del_news","PostController","list_post","new_post","single","insert_post","detail_post","view_edit_post","edit_post","del_post","use","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\router\\","sources":["webRoute.js"],"sourcesContent":["import express from \"express\"\r\nimport multer from 'multer' // thu vien up img\r\nimport path from \"path\"\r\nimport HomeController from \"./../controllers/HomeController\" // add controller\r\nimport AboutController from \"./../controllers/AboutController\" // add controller\r\nimport UserController from \"./../controllers/UserController\" // add controller\r\nimport formLoginController from \"./../controllers/formLoginController\"\r\n\r\nimport HomeUserController from \"./../controllers/HomeUserController\" // add controller\r\n\r\n\r\nimport NewsController from \"./../controllers/NewsController\" // add controller\r\nimport PostController from \"./../controllers/PostController\" // add controller\r\n\r\n\r\nconst storage = multer.diskStorage({\r\n    destination: function (req, file, cb) {\r\n      cb(null, './src/public/upload')\r\n    },\r\n    filename: function (req, file, cb) {\r\n      const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)\r\n      cb(null, uniqueSuffix + path.extname(file.originalname))\r\n    }\r\n  })\r\n  \r\nconst upload = multer({ storage: storage })\r\n\r\nconst router = express.Router()\r\nconst initWebRoute = (app) => {\r\n\r\n    // app.get('/home/:namepage', HomeController.getHome) // truyền param\r\n    // app.get('/set-session', HomeController.setSession)\r\n    // app.get('/abc', HomeController.getAbc)\r\n\r\n    router.get('/admin', HomeController.getHome)\r\n    router.get('/about', AboutController.getAbout)\r\n\r\n    router.get('/create_new_user', UserController.new_user)\r\n    router.post('/insert_new_user', UserController.insert_user)\r\n\r\n    router.get('/list-user/:from-:to', UserController.list_user)\r\n\r\n    router.get('/login', formLoginController.login)\r\n    router.post('/login', formLoginController.login_auth)\r\n    router.get('/logout', formLoginController.logout)\r\n\r\n    router.get('/detail_user/:username', UserController.detail_user)\r\n\r\n    router.post('/del_user', UserController.del_user)\r\n\r\n    router.get('/view_edit/:username', UserController.view_edit)\r\n    router.post('/edit_user', UserController.edit_user)\r\n\r\n    \r\n    //user\r\n    router.get('/', HomeUserController.HomeUser)\r\n    \r\n    router.get('/LoginUser', HomeUserController.LoginUser)\r\n    router.post('/login_auth_User', HomeUserController.login_auth_User)\r\n    router.get('/logout_User', HomeUserController.logout_User)\r\n\r\n    \r\n    router.get('/RegisterUser', HomeUserController.RegisterUser)\r\n    router.post('/request_register', HomeUserController.request_register)\r\n\r\n    \r\n    router.get('/SinglePage/:id', HomeUserController.SinglePage)\r\n    \r\n    \r\n\r\n    //quan ly tin tuc ( news )  \r\n    router.get('/list-news/:from-:to', NewsController.list_news)\r\n    router.get('/create_new_news', NewsController.new_news)\r\n    router.post('/insert_new_news', NewsController.insert_news)\r\n    router.get('/detail_news/:title', NewsController.detail_news)\r\n\r\n    router.get('/view_edit_news/:id', NewsController.view_edit_news)\r\n    router.post('/edit_news', NewsController.edit_news)\r\n    router.post('/del_news', NewsController.del_news)\r\n\r\n\r\n    //quan ly bai viet ( post )  \r\n    router.get('/list-post/:from-:to', PostController.list_post)\r\n    router.get('/create_new_post', PostController.new_post)\r\n    router.post('/insert_new_post', upload.single('filenew'), PostController.insert_post)\r\n    router.get('/detail_post/:id', PostController.detail_post)\r\n\r\n    router.get('/view_edit_post/:id', PostController.view_edit_post)\r\n    router.post('/edit_post', upload.single('filenew'), PostController.edit_post)\r\n    router.post('/del_post', PostController.del_post)\r\n    \r\n    return app.use(\"/\", router)\r\n}\r\nexport default initWebRoute"],"mappings":"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"}},"mtime":1696681786446},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// import homeModel from \"../services/homeModel\"\n\n// const getHome = (req, res) => {\n//     let name = req.params.namepage // nhân param\n//     res.render('home', {data: {tilte:name}})\n// }\n\n// const setSession = async (req, res) => {\n//     //req.session.destroy()\n//     req.session.views = {'page':'home', 'test':10}\n//     res.render('home', {data: {tilte:req.session.views.page}})\n// }\n\n// const getAbc = async (req, res) => {\n//     let list = await homeModel.getall() // call model\n//     return res.render('home', {data: {tilte:'name', rows:list}})\n// }\n\n// const getapi = (req, res) => {\n//     return res.status(200).json({\n//         data: 'list'\n//     })\n// }\nconst getHome = (req, res) => {\n  // res.send('Home')\n  res.redirect(\"/login\");\n};\nvar _default = exports.default = {\n  getHome\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRIb21lIiwicmVxIiwicmVzIiwicmVkaXJlY3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlanNcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiSG9tZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG4vLyBpbXBvcnQgaG9tZU1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9ob21lTW9kZWxcIlxyXG5cclxuLy8gY29uc3QgZ2V0SG9tZSA9IChyZXEsIHJlcykgPT4ge1xyXG4vLyAgICAgbGV0IG5hbWUgPSByZXEucGFyYW1zLm5hbWVwYWdlIC8vIG5ow6JuIHBhcmFtXHJcbi8vICAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHt0aWx0ZTpuYW1lfX0pXHJcbi8vIH1cclxuXHJcbi8vIGNvbnN0IHNldFNlc3Npb24gPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuLy8gICAgIC8vcmVxLnNlc3Npb24uZGVzdHJveSgpXHJcbi8vICAgICByZXEuc2Vzc2lvbi52aWV3cyA9IHsncGFnZSc6J2hvbWUnLCAndGVzdCc6MTB9XHJcbi8vICAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHt0aWx0ZTpyZXEuc2Vzc2lvbi52aWV3cy5wYWdlfX0pXHJcbi8vIH1cclxuXHJcbi8vIGNvbnN0IGdldEFiYyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4vLyAgICAgbGV0IGxpc3QgPSBhd2FpdCBob21lTW9kZWwuZ2V0YWxsKCkgLy8gY2FsbCBtb2RlbFxyXG4vLyAgICAgcmV0dXJuIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3RpbHRlOiduYW1lJywgcm93czpsaXN0fX0pXHJcbi8vIH1cclxuXHJcbi8vIGNvbnN0IGdldGFwaSA9IChyZXEsIHJlcykgPT4ge1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuLy8gICAgICAgICBkYXRhOiAnbGlzdCdcclxuLy8gICAgIH0pXHJcbi8vIH1cclxuXHJcblxyXG5jb25zdCBnZXRIb21lID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAvLyByZXMuc2VuZCgnSG9tZScpXHJcbiAgICByZXMucmVkaXJlY3QoXCIvbG9naW5cIilcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge2dldEhvbWV9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBNkIsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0EsTUFBTUcsT0FBTyxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMxQjtFQUNBQSxHQUFHLENBQUNDLFFBQVEsQ0FBQyxRQUFRLENBQUM7QUFDMUIsQ0FBQztBQUFBLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBTixPQUFBLEdBRWM7RUFBQ0M7QUFBTyxDQUFDIn0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","obj","__esModule","default","getHome","req","res","redirect","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["HomeController.js"],"sourcesContent":["import express from \"express\"\r\n// import homeModel from \"../services/homeModel\"\r\n\r\n// const getHome = (req, res) => {\r\n//     let name = req.params.namepage // nhân param\r\n//     res.render('home', {data: {tilte:name}})\r\n// }\r\n\r\n// const setSession = async (req, res) => {\r\n//     //req.session.destroy()\r\n//     req.session.views = {'page':'home', 'test':10}\r\n//     res.render('home', {data: {tilte:req.session.views.page}})\r\n// }\r\n\r\n// const getAbc = async (req, res) => {\r\n//     let list = await homeModel.getall() // call model\r\n//     return res.render('home', {data: {tilte:'name', rows:list}})\r\n// }\r\n\r\n// const getapi = (req, res) => {\r\n//     return res.status(200).json({\r\n//         data: 'list'\r\n//     })\r\n// }\r\n\r\n\r\nconst getHome = (req, res) => {\r\n    // res.send('Home')\r\n    res.redirect(\"/login\")\r\n}\r\n\r\nexport default {getHome}"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC7B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAGA,MAAMG,OAAO,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC1B;EACAA,GAAG,CAACC,QAAQ,CAAC,QAAQ,CAAC;AAC1B,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAN,OAAA,GAEc;EAACC;AAAO,CAAC"}},"mtime":1696681786374},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\AboutController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getAbout = (req, res) => {\n  res.render('About', {\n    data: {\n      tilte: 'About Page'\n    }\n  });\n};\nvar _default = exports.default = {\n  getAbout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRBYm91dCIsInJlcSIsInJlcyIsInJlbmRlciIsImRhdGEiLCJ0aWx0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVqc1xcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJBYm91dENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5cclxuY29uc3QgZ2V0QWJvdXQgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ0Fib3V0Jywge2RhdGE6IHt0aWx0ZTonQWJvdXQgUGFnZSd9fSlcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtnZXRBYm91dH0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUU3QixNQUFNRyxRQUFRLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzNCQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxPQUFPLEVBQUU7SUFBQ0MsSUFBSSxFQUFFO01BQUNDLEtBQUssRUFBQztJQUFZO0VBQUMsQ0FBQyxDQUFDO0FBQ3JELENBQUM7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQVIsT0FBQSxHQUdjO0VBQUNDO0FBQVEsQ0FBQyJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","obj","__esModule","default","getAbout","req","res","render","data","tilte","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["AboutController.js"],"sourcesContent":["import express from \"express\"\r\n\r\nconst getAbout = (req, res) => {\r\n    res.render('About', {data: {tilte:'About Page'}})\r\n}\r\n\r\n\r\nexport default {getAbout}"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7B,MAAMG,QAAQ,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC3BA,GAAG,CAACC,MAAM,CAAC,OAAO,EAAE;IAACC,IAAI,EAAE;MAACC,KAAK,EAAC;IAAY;EAAC,CAAC,CAAC;AACrD,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAR,OAAA,GAGc;EAACC;AAAQ,CAAC"}},"mtime":1696681786373},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst new_user = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'newUser',\n      title: 'Tạo tài khoản'\n    }\n  });\n};\nconst insert_user = async (req, res) => {\n  let body = req.body;\n  if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    let role = 1;\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.pass, pass);\n    await _userModel.default.insert_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role);\n    res.redirect(\"/list-user/0-10\");\n  }\n};\nconst list_user = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _userModel.default.list_user(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listUser',\n        title: 'Danh sách tài khoản',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst detail_user = async (req, res) => {\n  let Username = req.params.username;\n  let list = await _userModel.default.detail_user(Username);\n  res.render('home', {\n    data: {\n      page: 'detailUser',\n      title: 'Chi tiết người dùng',\n      list: list\n    }\n  });\n};\nconst edit_user = async (req, res) => {\n  let role = 1;\n  let body = req.body;\n  console.table(body);\n  if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n  let pass = _bcryptjs.default.genSaltSync(10);\n  let hash = _bcryptjs.default.hashSync(body.pass, pass);\n  await _userModel.default.edit_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role);\n  res.redirect(\"/detail_user/\" + body.name);\n};\nconst view_edit = async (req, res) => {\n  let Username = req.params.username;\n  let list = await _userModel.default.detail_user(Username);\n  res.render('home', {\n    data: {\n      page: 'viewEdit',\n      title: 'Cập nhật',\n      list: list\n    }\n  });\n};\nconst del_user = async (req, res) => {\n  let body = req.body;\n  if (!body.username) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n  let list = await _userModel.default.del_user(body.username);\n  res.redirect(\"/list-user/0-10\");\n};\nvar _default = exports.default = {\n  new_user,\n  list_user,\n  detail_user,\n  insert_user,\n  edit_user,\n  del_user,\n  view_edit\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibmV3X3VzZXIiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwiaW5zZXJ0X3VzZXIiLCJib2R5IiwibmFtZSIsInBhc3MiLCJuYW1ldXNlciIsImFkZHJlc3MiLCJmbGV4UmFkaW9EZWZhdWx0IiwiZW1haWwiLCJzdGF0dXMiLCJzZW5kIiwicm9sZSIsImJjcnlwdCIsImdlblNhbHRTeW5jIiwiaGFzaCIsImhhc2hTeW5jIiwidXNlck1vZGVsIiwicmVkaXJlY3QiLCJsaXN0X3VzZXIiLCJfZnJvbSIsInBhcmFtcyIsImZyb20iLCJfdG8iLCJ0byIsImF1dGgiLCJzZXNzaW9uIiwiaXNOYU4iLCJsaXN0IiwiZGV0YWlsX3VzZXIiLCJVc2VybmFtZSIsInVzZXJuYW1lIiwiZWRpdF91c2VyIiwiY29uc29sZSIsInRhYmxlIiwidmlld19lZGl0IiwiZGVsX3VzZXIiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlanNcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgdXNlck1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy91c2VyTW9kZWxcIlxyXG5cclxuY29uc3QgbmV3X3VzZXIgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICduZXdVc2VyJywgdGl0bGU6ICdU4bqhbyB0w6BpIGtob+G6o24nfX0pXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBpZiAoIWJvZHkubmFtZSB8fCAhYm9keS5wYXNzIHx8ICFib2R5Lm5hbWV1c2VyIHx8ICFib2R5LmFkZHJlc3MgfHwgIWJvZHkuZmxleFJhZGlvRGVmYXVsdCB8fCAhYm9keS5lbWFpbCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIGxldCByb2xlID0gMVxyXG4gICAgICAgIGxldCBwYXNzID0gYmNyeXB0LmdlblNhbHRTeW5jKDEwKVxyXG4gICAgICAgIGxldCBoYXNoID0gYmNyeXB0Lmhhc2hTeW5jKGJvZHkucGFzcywgcGFzcylcclxuICAgICAgICBhd2FpdCB1c2VyTW9kZWwuaW5zZXJ0X3VzZXIoYm9keS5uYW1lLCBoYXNoLCBib2R5Lm5hbWV1c2VyLCBib2R5LmFkZHJlc3MsIGJvZHkuZmxleFJhZGlvRGVmYXVsdCwgYm9keS5lbWFpbCwgcm9sZSlcclxuICAgICAgICByZXMucmVkaXJlY3QoXCIvbGlzdC11c2VyLzAtMTBcIilcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbGlzdF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgbGV0IF9mcm9tID0gcmVxLnBhcmFtcy5mcm9tXHJcbiAgICBsZXQgX3RvID0gcmVxLnBhcmFtcy50b1xyXG4gICAgbGV0IGF1dGggPSBudWxsXHJcblxyXG4gICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgpIHtcclxuICAgICAgICBhdXRoID0gcmVxLnNlc3Npb24uYXV0aFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoaXNOYU4oX2Zyb20pID09PSBmYWxzZSAmJiBpc05hTihfdG8pID09PSBmYWxzZSkge1xyXG4gICAgICAgIGxldCBsaXN0ID0gYXdhaXQgdXNlck1vZGVsLmxpc3RfdXNlcihfZnJvbSwgX3RvKVxyXG4gICAgICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdsaXN0VXNlcicsIHRpdGxlOiAnRGFuaCBzw6FjaCB0w6BpIGtob+G6o24nLCBwYXJhbXM6IHtfZnJvbSwgX3RvfSAsIGxpc3Q6bGlzdCwgYXV0aDphdXRofX0pXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRldGFpbF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgVXNlcm5hbWUgPSByZXEucGFyYW1zLnVzZXJuYW1lXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IHVzZXJNb2RlbC5kZXRhaWxfdXNlcihVc2VybmFtZSlcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdkZXRhaWxVc2VyJywgdGl0bGU6ICdDaGkgdGnhur90IG5nxrDhu51pIGTDuW5nJywgbGlzdDpsaXN0fX0pXHJcbn1cclxuXHJcbmNvbnN0IGVkaXRfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IHJvbGUgPSAxXHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBjb25zb2xlLnRhYmxlKGJvZHkpXHJcbiAgICBpZiAoIWJvZHkubmFtZSB8fCAhYm9keS5wYXNzIHx8ICFib2R5Lm5hbWV1c2VyIHx8ICFib2R5LmFkZHJlc3MgfHwgIWJvZHkuZmxleFJhZGlvRGVmYXVsdCB8fCAhYm9keS5lbWFpbCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbiAgICBsZXQgcGFzcyA9IGJjcnlwdC5nZW5TYWx0U3luYygxMClcclxuICAgIGxldCBoYXNoID0gYmNyeXB0Lmhhc2hTeW5jKGJvZHkucGFzcywgcGFzcylcclxuICAgIGF3YWl0IHVzZXJNb2RlbC5lZGl0X3VzZXIoYm9keS5uYW1lLCBoYXNoLCBib2R5Lm5hbWV1c2VyLCBib2R5LmFkZHJlc3MsIGJvZHkuZmxleFJhZGlvRGVmYXVsdCwgYm9keS5lbWFpbCwgcm9sZSlcclxuICAgIHJlcy5yZWRpcmVjdChcIi9kZXRhaWxfdXNlci9cIiArIGJvZHkubmFtZSlcclxufVxyXG5cclxuY29uc3Qgdmlld19lZGl0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgVXNlcm5hbWUgPSByZXEucGFyYW1zLnVzZXJuYW1lXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IHVzZXJNb2RlbC5kZXRhaWxfdXNlcihVc2VybmFtZSlcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICd2aWV3RWRpdCcsIHRpdGxlOiAnQ+G6rXAgbmjhuq10JywgbGlzdDpsaXN0fX0pXHJcbn1cclxuXHJcbmNvbnN0IGRlbF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBpZiAoIWJvZHkudXNlcm5hbWUpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCB1c2VyTW9kZWwuZGVsX3VzZXIoYm9keS51c2VybmFtZSlcclxuICAgIHJlcy5yZWRpcmVjdChcIi9saXN0LXVzZXIvMC0xMFwiKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7bmV3X3VzZXIsIGxpc3RfdXNlciwgZGV0YWlsX3VzZXIsIGluc2VydF91c2VyLCBlZGl0X3VzZXIsIGRlbF91c2VyLCB2aWV3X2VkaXR9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRixzQkFBQSxDQUFB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","obj","__esModule","default","new_user","req","res","render","data","page","title","insert_user","body","name","pass","nameuser","address","flexRadioDefault","email","status","send","role","bcrypt","genSaltSync","hash","hashSync","userModel","redirect","list_user","_from","params","from","_to","to","auth","session","isNaN","list","detail_user","Username","username","edit_user","console","table","view_edit","del_user","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["UserController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst new_user = (req, res) => {\r\n    res.render('home', {data: {page: 'newUser', title: 'Tạo tài khoản'}})\r\n}\r\n\r\nconst insert_user = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        let role = 1\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.pass, pass)\r\n        await userModel.insert_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role)\r\n        res.redirect(\"/list-user/0-10\")\r\n    }\r\n}\r\n\r\nconst list_user = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await userModel.list_user(_from, _to)\r\n        res.render('home', {data: {page: 'listUser', title: 'Danh sách tài khoản', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst detail_user = async (req, res) => {\r\n    let Username = req.params.username\r\n    let list = await userModel.detail_user(Username)\r\n    res.render('home', {data: {page: 'detailUser', title: 'Chi tiết người dùng', list:list}})\r\n}\r\n\r\nconst edit_user = async (req, res) => {\r\n    let role = 1\r\n    let body = req.body\r\n    console.table(body)\r\n    if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    let pass = bcrypt.genSaltSync(10)\r\n    let hash = bcrypt.hashSync(body.pass, pass)\r\n    await userModel.edit_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role)\r\n    res.redirect(\"/detail_user/\" + body.name)\r\n}\r\n\r\nconst view_edit = async (req, res) => {\r\n    let Username = req.params.username\r\n    let list = await userModel.detail_user(Username)\r\n    res.render('home', {data: {page: 'viewEdit', title: 'Cập nhật', list:list}})\r\n}\r\n\r\nconst del_user = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    let list = await userModel.del_user(body.username)\r\n    res.redirect(\"/list-user/0-10\")\r\n}\r\n\r\nexport default {new_user, list_user, detail_user, insert_user, edit_user, del_user, view_edit}"],"mappings":"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"}},"mtime":1696567327996},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\services\\\\userModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst insert_user = async (username, password, fullname, address, sex, email, groupid) => {\n  await _connectDB.default.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `sex`, `email`, `groupid`) VALUES (?,?,?,?,?,?,?)', [username, password, fullname, address, sex, email, groupid]);\n};\nconst list_user = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `users` LIMIT ?, ?', [from, to]);\n  return rows;\n};\nconst detail_user = async name => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM users WHERE users.username LIKE ?', [name]);\n  return rows;\n};\nconst edit_user = async (username, password, fullname, address, sex, email, groupid) => {\n  await _connectDB.default.execute('UPDATE `users` SET `password`=?,`fullname`=?,`address`=?,`sex`=?,`email`=?,`groupid`=? WHERE users.username = ?', [password, fullname, address, sex, email, groupid, username]);\n};\nconst del_user = async username => {\n  await _connectDB.default.execute('DELETE FROM `users` WHERE users.username = ?', [username]);\n};\nconst auth = async username => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM users WHERE users.username LIKE ?', [username]);\n  return rows;\n};\nconst insert_user_Users = async (username, password, fullname, address, groupid) => {\n  await _connectDB.default.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `groupid`) VALUES (?,?,?,?,?)', [username, password, fullname, address, groupid]);\n};\nvar _default = exports.default = {\n  insert_user,\n  list_user,\n  detail_user,\n  edit_user,\n  del_user,\n  auth,\n  insert_user_Users\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImluc2VydF91c2VyIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImZ1bGxuYW1lIiwiYWRkcmVzcyIsInNleCIsImVtYWlsIiwiZ3JvdXBpZCIsImNvbiIsImV4ZWN1dGUiLCJsaXN0X3VzZXIiLCJmcm9tIiwidG8iLCJyb3dzIiwiZmllbGRzIiwiZGV0YWlsX3VzZXIiLCJuYW1lIiwiZWRpdF91c2VyIiwiZGVsX3VzZXIiLCJhdXRoIiwiaW5zZXJ0X3VzZXJfVXNlcnMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlanNcXHNyY1xcc2VydmljZXNcXCIsInNvdXJjZXMiOlsidXNlck1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb24gZnJvbSBcIi4vLi4vY29uZmlnL2Nvbm5lY3REQlwiXHJcblxyXG5jb25zdCBpbnNlcnRfdXNlciA9IGFzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBzZXgsIGVtYWlsLCBncm91cGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnSU5TRVJUIElOVE8gYHVzZXJzYChgdXNlcm5hbWVgLCBgcGFzc3dvcmRgLCBgZnVsbG5hbWVgLCBgYWRkcmVzc2AsIGBzZXhgLCBgZW1haWxgLCBgZ3JvdXBpZGApIFZBTFVFUyAoPyw/LD8sPyw/LD8sPyknLFt1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBzZXgsIGVtYWlsLCBncm91cGlkXSlcclxufSBcclxuXHJcbmNvbnN0IGxpc3RfdXNlciA9IGFzeW5jIChmcm9tLCB0bykgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBgdXNlcnNgIExJTUlUID8sID8nLCBbZnJvbSwgdG9dKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufSBcclxuXHJcbmNvbnN0IGRldGFpbF91c2VyID0gYXN5bmMgKG5hbWUpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgdXNlcnMudXNlcm5hbWUgTElLRSA/JywgW25hbWVdKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufSBcclxuXHJcbmNvbnN0IGVkaXRfdXNlciA9IGFzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBzZXgsIGVtYWlsLCBncm91cGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnVVBEQVRFIGB1c2Vyc2AgU0VUIGBwYXNzd29yZGA9PyxgZnVsbG5hbWVgPT8sYGFkZHJlc3NgPT8sYHNleGA9PyxgZW1haWxgPT8sYGdyb3VwaWRgPT8gV0hFUkUgdXNlcnMudXNlcm5hbWUgPSA/JyxbcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBzZXgsIGVtYWlsLCBncm91cGlkLCB1c2VybmFtZV0pXHJcbn1cclxuXHJcbmNvbnN0IGRlbF91c2VyID0gYXN5bmMgKHVzZXJuYW1lKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnREVMRVRFIEZST00gYHVzZXJzYCBXSEVSRSB1c2Vycy51c2VybmFtZSA9ID8nLFt1c2VybmFtZV0pXHJcbn1cclxuXHJcbmNvbnN0IGF1dGggPSBhc3luYyAodXNlcm5hbWUpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgdXNlcnMudXNlcm5hbWUgTElLRSA/JywgW3VzZXJuYW1lXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF91c2VyX1VzZXJzID0gYXN5bmMgKHVzZXJuYW1lLCBwYXNzd29yZCwgZnVsbG5hbWUsIGFkZHJlc3MsIGdyb3VwaWQpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdJTlNFUlQgSU5UTyBgdXNlcnNgKGB1c2VybmFtZWAsIGBwYXNzd29yZGAsIGBmdWxsbmFtZWAsIGBhZGRyZXNzYCwgYGdyb3VwaWRgKSBWQUxVRVMgKD8sPyw/LD8sPyknLFt1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBncm91cGlkXSlcclxufSBcclxuZXhwb3J0IGRlZmF1bHQge2luc2VydF91c2VyLCBsaXN0X3VzZXIsIGRldGFpbF91c2VyLCBlZGl0X3VzZXIsIGRlbF91c2VyLCBhdXRoLGluc2VydF91c2VyX1VzZXJzfSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFBQSxVQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBdUMsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFdkMsTUFBTUcsV0FBVyxHQUFHLE1BQUFBLENBQU9DLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsR0FBRyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sS0FBSztFQUN0RixNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsc0hBQXNILEVBQUMsQ0FBQ1IsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxDQUFDLENBQUM7QUFDMU0sQ0FBQztBQUVELE1BQU1HLFNBQVMsR0FBRyxNQUFBQSxDQUFPQyxJQUFJLEVBQUVDLEVBQUUsS0FBSztFQUNsQyxNQUFNLENBQUNDLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTU4sa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLGtDQUFrQyxFQUFFLENBQUNFLElBQUksRUFBRUMsRUFBRSxDQUFDLENBQUM7RUFDeEYsT0FBT0MsSUFBSTtBQUNmLENBQUM7QUFFRCxNQUFNRSxXQUFXLEdBQUcsTUFBT0MsSUFBSSxJQUFLO0VBQ2hDLE1BQU0sQ0FBQ0gsSUFBSSxFQUFFQyxNQUFNLENBQUMsR0FBRyxNQUFNTixrQkFBRyxDQUFDQyxPQUFPLENBQUMsaURBQWlELEVBQUUsQ0FBQ08sSUFBSSxDQUFDLENBQUM7RUFDbkcsT0FBT0gsSUFBSTtBQUNmLENBQUM7QUFFRCxNQUFNSSxTQUFTLEdBQUcsTUFBQUEsQ0FBT2hCLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsR0FBRyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sS0FBSztFQUNwRixNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsaUhBQWlILEVBQUMsQ0FBQ1AsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsR0FBRyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sRUFBRU4sUUFBUSxDQUFDLENBQUM7QUFDck0sQ0FBQztBQUVELE1BQU1pQixRQUFRLEdBQUcsTUFBT2pCLFFBQVEsSUFBSztFQUNqQyxNQUFNTyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsOENBQThDLEVBQUMsQ0FBQ1IsUUFBUSxDQUFDLENBQUM7QUFDaEYsQ0FBQztBQUVELE1BQU1rQixJQUFJLEdBQUcsTUFBT2xCLFFBQVEsSUFBSztFQUM3QixNQUFNLENBQUNZLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTU4sa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLGlEQUFpRCxFQUFFLENBQUNSLFFBQVEsQ0FBQyxDQUFDO0VBQ3ZHLE9BQU9ZLElBQUk7QUFDZixDQUFDO0FBRUQsTUFBTU8saUJBQWlCLEdBQUcsTUFBQUEsQ0FBT25CLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUcsT0FBTyxLQUFLO0VBQ2hGLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxrR0FBa0csRUFBQyxDQUFDUixRQUFRLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUVHLE9BQU8sQ0FBQyxDQUFDO0FBQzFLLENBQUM7QUFBQSxJQUFBYyxRQUFBLEdBQUFDLE9BQUEsQ0FBQXZCLE9BQUEsR0FDYztFQUFDQyxXQUFXO0VBQUVVLFNBQVM7RUFBRUssV0FBVztFQUFFRSxTQUFTO0VBQUVDLFFBQVE7RUFBRUMsSUFBSTtFQUFDQztBQUFpQixDQUFDIn0=","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","insert_user","username","password","fullname","address","sex","email","groupid","con","execute","list_user","from","to","rows","fields","detail_user","name","edit_user","del_user","auth","insert_user_Users","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\services\\","sources":["userModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\nconst insert_user = async (username, password, fullname, address, sex, email, groupid) => {\r\n    await con.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `sex`, `email`, `groupid`) VALUES (?,?,?,?,?,?,?)',[username, password, fullname, address, sex, email, groupid])\r\n} \r\n\r\nconst list_user = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `users` LIMIT ?, ?', [from, to])\r\n    return rows\r\n} \r\n\r\nconst detail_user = async (name) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM users WHERE users.username LIKE ?', [name])\r\n    return rows\r\n} \r\n\r\nconst edit_user = async (username, password, fullname, address, sex, email, groupid) => {\r\n    await con.execute('UPDATE `users` SET `password`=?,`fullname`=?,`address`=?,`sex`=?,`email`=?,`groupid`=? WHERE users.username = ?',[password, fullname, address, sex, email, groupid, username])\r\n}\r\n\r\nconst del_user = async (username) => {\r\n    await con.execute('DELETE FROM `users` WHERE users.username = ?',[username])\r\n}\r\n\r\nconst auth = async (username) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM users WHERE users.username LIKE ?', [username])\r\n    return rows\r\n}\r\n\r\nconst insert_user_Users = async (username, password, fullname, address, groupid) => {\r\n    await con.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `groupid`) VALUES (?,?,?,?,?)',[username, password, fullname, address, groupid])\r\n} \r\nexport default {insert_user, list_user, detail_user, edit_user, del_user, auth,insert_user_Users}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEvC,MAAMG,WAAW,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,KAAK;EACtF,MAAMC,kBAAG,CAACC,OAAO,CAAC,sHAAsH,EAAC,CAACR,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,CAAC,CAAC;AAC1M,CAAC;AAED,MAAMG,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,kCAAkC,EAAE,CAACE,IAAI,EAAEC,EAAE,CAAC,CAAC;EACxF,OAAOC,IAAI;AACf,CAAC;AAED,MAAME,WAAW,GAAG,MAAOC,IAAI,IAAK;EAChC,MAAM,CAACH,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAE,CAACO,IAAI,CAAC,CAAC;EACnG,OAAOH,IAAI;AACf,CAAC;AAED,MAAMI,SAAS,GAAG,MAAAA,CAAOhB,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,KAAK;EACpF,MAAMC,kBAAG,CAACC,OAAO,CAAC,iHAAiH,EAAC,CAACP,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,EAAEN,QAAQ,CAAC,CAAC;AACrM,CAAC;AAED,MAAMiB,QAAQ,GAAG,MAAOjB,QAAQ,IAAK;EACjC,MAAMO,kBAAG,CAACC,OAAO,CAAC,8CAA8C,EAAC,CAACR,QAAQ,CAAC,CAAC;AAChF,CAAC;AAED,MAAMkB,IAAI,GAAG,MAAOlB,QAAQ,IAAK;EAC7B,MAAM,CAACY,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAE,CAACR,QAAQ,CAAC,CAAC;EACvG,OAAOY,IAAI;AACf,CAAC;AAED,MAAMO,iBAAiB,GAAG,MAAAA,CAAOnB,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEG,OAAO,KAAK;EAChF,MAAMC,kBAAG,CAACC,OAAO,CAAC,kGAAkG,EAAC,CAACR,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEG,OAAO,CAAC,CAAC;AAC1K,CAAC;AAAA,IAAAc,QAAA,GAAAC,OAAA,CAAAvB,OAAA,GACc;EAACC,WAAW;EAAEU,SAAS;EAAEK,WAAW;EAAEE,SAAS;EAAEC,QAAQ;EAAEC,IAAI;EAACC;AAAiB,CAAC"}},"mtime":1696678727613},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\config\\\\connectDB.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _promise = _interopRequireDefault(require(\"mysql2/promise\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst con = _promise.default.createPool({\n  host: 'localhost',\n  user: 'root',\n  database: 'bc_node',\n  waitForConnections: true,\n  connectionLimit: 10,\n  maxIdle: 10,\n  // max idle connections, the default value is the same as `connectionLimit`\n  idleTimeout: 60000,\n  // idle connections timeout, in milliseconds, the default value 60000\n  queueLimit: 0,\n  enableKeepAlive: true,\n  keepAliveInitialDelay: 0\n});\nvar _default = exports.default = con;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvbWlzZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjb24iLCJteXNxbCIsImNyZWF0ZVBvb2wiLCJob3N0IiwidXNlciIsImRhdGFiYXNlIiwid2FpdEZvckNvbm5lY3Rpb25zIiwiY29ubmVjdGlvbkxpbWl0IiwibWF4SWRsZSIsImlkbGVUaW1lb3V0IiwicXVldWVMaW1pdCIsImVuYWJsZUtlZXBBbGl2ZSIsImtlZXBBbGl2ZUluaXRpYWxEZWxheSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVqc1xcc3JjXFxjb25maWdcXCIsInNvdXJjZXMiOlsiY29ubmVjdERCLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBteXNxbCBmcm9tIFwibXlzcWwyL3Byb21pc2VcIlxyXG5cclxuY29uc3QgY29uID0gbXlzcWwuY3JlYXRlUG9vbCh7XHJcblxyXG4gICAgaG9zdDogJ2xvY2FsaG9zdCcsXHJcbiAgICB1c2VyOiAncm9vdCcsXHJcbiAgICBkYXRhYmFzZTogJ2JjX25vZGUnLFxyXG4gICAgd2FpdEZvckNvbm5lY3Rpb25zOiB0cnVlLFxyXG4gICAgY29ubmVjdGlvbkxpbWl0OiAxMCxcclxuICAgIG1heElkbGU6IDEwLCAvLyBtYXggaWRsZSBjb25uZWN0aW9ucywgdGhlIGRlZmF1bHQgdmFsdWUgaXMgdGhlIHNhbWUgYXMgYGNvbm5lY3Rpb25MaW1pdGBcclxuICAgIGlkbGVUaW1lb3V0OiA2MDAwMCwgLy8gaWRsZSBjb25uZWN0aW9ucyB0aW1lb3V0LCBpbiBtaWxsaXNlY29uZHMsIHRoZSBkZWZhdWx0IHZhbHVlIDYwMDAwXHJcbiAgICBxdWV1ZUxpbWl0OiAwLFxyXG4gICAgZW5hYmxlS2VlcEFsaXZlOiB0cnVlLFxyXG4gICAga2VlcEFsaXZlSW5pdGlhbERlbGF5OiAwXHJcblxyXG59KVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY29uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBa0MsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFbEMsTUFBTUcsR0FBRyxHQUFHQyxnQkFBSyxDQUFDQyxVQUFVLENBQUM7RUFFekJDLElBQUksRUFBRSxXQUFXO0VBQ2pCQyxJQUFJLEVBQUUsTUFBTTtFQUNaQyxRQUFRLEVBQUUsU0FBUztFQUNuQkMsa0JBQWtCLEVBQUUsSUFBSTtFQUN4QkMsZUFBZSxFQUFFLEVBQUU7RUFDbkJDLE9BQU8sRUFBRSxFQUFFO0VBQUU7RUFDYkMsV0FBVyxFQUFFLEtBQUs7RUFBRTtFQUNwQkMsVUFBVSxFQUFFLENBQUM7RUFDYkMsZUFBZSxFQUFFLElBQUk7RUFDckJDLHFCQUFxQixFQUFFO0FBRTNCLENBQUMsQ0FBQztBQUFBLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBZixPQUFBLEdBRWFDLEdBQUcifQ==","map":{"version":3,"names":["_promise","_interopRequireDefault","require","obj","__esModule","default","con","mysql","createPool","host","user","database","waitForConnections","connectionLimit","maxIdle","idleTimeout","queueLimit","enableKeepAlive","keepAliveInitialDelay","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\config\\","sources":["connectDB.js"],"sourcesContent":["import mysql from \"mysql2/promise\"\r\n\r\nconst con = mysql.createPool({\r\n\r\n    host: 'localhost',\r\n    user: 'root',\r\n    database: 'bc_node',\r\n    waitForConnections: true,\r\n    connectionLimit: 10,\r\n    maxIdle: 10, // max idle connections, the default value is the same as `connectionLimit`\r\n    idleTimeout: 60000, // idle connections timeout, in milliseconds, the default value 60000\r\n    queueLimit: 0,\r\n    enableKeepAlive: true,\r\n    keepAliveInitialDelay: 0\r\n\r\n})\r\n\r\nexport default con"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAkC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAElC,MAAMG,GAAG,GAAGC,gBAAK,CAACC,UAAU,CAAC;EAEzBC,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,MAAM;EACZC,QAAQ,EAAE,SAAS;EACnBC,kBAAkB,EAAE,IAAI;EACxBC,eAAe,EAAE,EAAE;EACnBC,OAAO,EAAE,EAAE;EAAE;EACbC,WAAW,EAAE,KAAK;EAAE;EACpBC,UAAU,EAAE,CAAC;EACbC,eAAe,EAAE,IAAI;EACrBC,qBAAqB,EAAE;AAE3B,CAAC,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAEaC,GAAG"}},"mtime":1696567682650},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\formLoginController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst login = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'login',\n      title: 'Đăng nhập'\n    }\n  });\n};\nconst login_auth = async (req, res) => {\n  let body = req.body;\n  if (!body.username || !body.password) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    try {\n      let auth = await _userModel.default.auth(body.username);\n      if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\n        console.log(\"khong ton tai tk\");\n      } else {\n        let hash = _bcryptjs.default.hashSync(body.password, _bcryptjs.default.genSaltSync(10));\n        if (_bcryptjs.default.compareSync(body.password, auth[0].password)) {\n          req.session.auth = {\n            name: auth[0].username,\n            pass: auth[0].password,\n            role: auth[0].groupid\n          };\n          res.redirect(\"/list-user/0-10\");\n        } else {\n          console.log(\"sai mat khau\");\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\nconst logout = (req, res) => {\n  req.session.destroy();\n  res.redirect('/login');\n};\nvar _default = exports.default = {\n  login,\n  login_auth,\n  logout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibG9naW4iLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwibG9naW5fYXV0aCIsImJvZHkiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwic3RhdHVzIiwic2VuZCIsImF1dGgiLCJ1c2VyTW9kZWwiLCJncm91cGlkIiwiY29uc29sZSIsImxvZyIsImhhc2giLCJiY3J5cHQiLCJoYXNoU3luYyIsImdlblNhbHRTeW5jIiwiY29tcGFyZVN5bmMiLCJzZXNzaW9uIiwibmFtZSIsInBhc3MiLCJyb2xlIiwicmVkaXJlY3QiLCJlcnJvciIsImxvZ291dCIsImRlc3Ryb3kiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlanNcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiZm9ybUxvZ2luQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcbmltcG9ydCB1c2VyTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL3VzZXJNb2RlbFwiXHJcblxyXG5jb25zdCBsb2dpbiA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2xvZ2luJywgdGl0bGU6ICfEkMSDbmcgbmjhuq1wJ319KVxyXG59XHJcblxyXG5jb25zdCBsb2dpbl9hdXRoID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBpZiAoIWJvZHkudXNlcm5hbWUgfHwgIWJvZHkucGFzc3dvcmQpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGF1dGggPSBhd2FpdCB1c2VyTW9kZWwuYXV0aChib2R5LnVzZXJuYW1lKVxyXG5cclxuICAgICAgICAgICAgaWYgKCFhdXRoWzBdLnVzZXJuYW1lIHx8ICFhdXRoWzBdLnBhc3N3b3JkIHx8ICFhdXRoWzBdLmdyb3VwaWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwia2hvbmcgdG9uIHRhaSB0a1wiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGhhc2ggPSBiY3J5cHQuaGFzaFN5bmMoYm9keS5wYXNzd29yZCwgYmNyeXB0LmdlblNhbHRTeW5jKDEwKSlcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGJjcnlwdC5jb21wYXJlU3luYyhib2R5LnBhc3N3b3JkLCBhdXRoWzBdLnBhc3N3b3JkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLmF1dGggPSB7bmFtZTphdXRoWzBdLnVzZXJuYW1lLCBwYXNzOmF1dGhbMF0ucGFzc3dvcmQsIHJvbGU6YXV0aFswXS5ncm91cGlkfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5yZWRpcmVjdChcIi9saXN0LXVzZXIvMC0xMFwiKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzYWkgbWF0IGtoYXVcIilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGxvZ291dCA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVxLnNlc3Npb24uZGVzdHJveSgpXHJcbiAgICByZXMucmVkaXJlY3QoJy9sb2dpbicpXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtsb2dpbiwgbG9naW5fYXV0aCwgbG9nb3V0fSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUU3QyxNQUFNRyxLQUFLLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3hCQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxNQUFNLEVBQUU7SUFBQ0MsSUFBSSxFQUFFO01BQUNDLElBQUksRUFBRSxPQUFPO01BQUVDLEtBQUssRUFBRTtJQUFXO0VBQUMsQ0FBQyxDQUFDO0FBQ25FLENBQUM7QUFFRCxNQUFNQyxVQUFVLEdBQUcsTUFBQUEsQ0FBT04sR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDbkMsSUFBSU0sSUFBSSxHQUFHUCxHQUFHLENBQUNPLElBQUk7RUFDbkIsSUFBSSxDQUFDQSxJQUFJLENBQUNDLFFBQVEsSUFBSSxDQUFDRCxJQUFJLENBQUNFLFFBQVEsRUFBRTtJQUNsQ1IsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyw0QkFBNEIsQ0FBQztFQUN0RCxDQUFDLE1BQ0k7SUFDRCxJQUFJO01BQ0EsSUFBSUMsSUFBSSxHQUFHLE1BQU1DLGtCQUFTLENBQUNELElBQUksQ0FBQ0wsSUFBSSxDQUFDQyxRQUFRLENBQUM7TUFFOUMsSUFBSSxDQUFDSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNKLFFBQVEsSUFBSSxDQUFDSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNILFFBQVEsSUFBSSxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNFLE9BQU8sRUFBRTtRQUM1REMsT0FBTyxDQUFDQyxHQUFHLENBQUMsa0JBQWtCLENBQUM7TUFDbkMsQ0FBQyxNQUNJO1FBQ0QsSUFBSUMsSUFBSSxHQUFHQyxpQkFBTSxDQUFDQyxRQUFRLENBQUNaLElBQUksQ0FBQ0UsUUFBUSxFQUFFUyxpQkFBTSxDQUFDRSxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFakUsSUFBSUYsaUJBQU0sQ0FBQ0csV0FBVyxDQUFDZCxJQUFJLENBQUNFLFFBQVEsRUFBRUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDSCxRQUFRLENBQUMsRUFBRTtVQUNyRFQsR0FBRyxDQUFDc0IsT0FBTyxDQUFDVixJQUFJLEdBQUc7WUFBQ1csSUFBSSxFQUFDWCxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNKLFFBQVE7WUFBRWdCLElBQUksRUFBQ1osSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDSCxRQUFRO1lBQUVnQixJQUFJLEVBQUNiLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ0U7VUFBTyxDQUFDO1VBQ3ZGYixHQUFHLENBQUN5QixRQUFRLENBQUMsaUJBQWlCLENBQUM7UUFDbkMsQ0FBQyxNQUNJO1VBQ0RYLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGNBQWMsQ0FBQztRQUMvQjtNQUNKO0lBRUosQ0FBQyxDQUFDLE9BQU9XLEtBQUssRUFBRTtNQUNaWixPQUFPLENBQUNDLEdBQUcsQ0FBQ1csS0FBSyxDQUFDO0lBQ3RCO0VBQ0o7QUFDSixDQUFDO0FBRUQsTUFBTUMsTUFBTSxHQUFHQSxDQUFDNUIsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDekJELEdBQUcsQ0FBQ3NCLE9BQU8sQ0FBQ08sT0FBTyxDQUFDLENBQUM7RUFDckI1QixHQUFHLENBQUN5QixRQUFRLENBQUMsUUFBUSxDQUFDO0FBQzFCLENBQUM7QUFBQSxJQUFBSSxRQUFBLEdBQUFDLE9BQUEsQ0FBQWpDLE9BQUEsR0FFYztFQUFDQyxLQUFLO0VBQUVPLFVBQVU7RUFBRXNCO0FBQU0sQ0FBQyJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","obj","__esModule","default","login","req","res","render","data","page","title","login_auth","body","username","password","status","send","auth","userModel","groupid","console","log","hash","bcrypt","hashSync","genSaltSync","compareSync","session","name","pass","role","redirect","error","logout","destroy","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["formLoginController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst login = (req, res) => {\r\n    res.render('home', {data: {page: 'login', title: 'Đăng nhập'}})\r\n}\r\n\r\nconst login_auth = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username || !body.password) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else {\r\n        try {\r\n            let auth = await userModel.auth(body.username)\r\n\r\n            if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\r\n                console.log(\"khong ton tai tk\")\r\n            }\r\n            else {\r\n                let hash = bcrypt.hashSync(body.password, bcrypt.genSaltSync(10))\r\n                \r\n                if (bcrypt.compareSync(body.password, auth[0].password)) {\r\n                    req.session.auth = {name:auth[0].username, pass:auth[0].password, role:auth[0].groupid}\r\n                    res.redirect(\"/list-user/0-10\")\r\n                }\r\n                else {\r\n                    console.log(\"sai mat khau\")\r\n                }\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n}\r\n\r\nconst logout = (req, res) => {\r\n    req.session.destroy()\r\n    res.redirect('/login')\r\n}\r\n\r\nexport default {login, login_auth, logout}"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA6C,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7C,MAAMG,KAAK,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EACxBA,GAAG,CAACC,MAAM,CAAC,MAAM,EAAE;IAACC,IAAI,EAAE;MAACC,IAAI,EAAE,OAAO;MAAEC,KAAK,EAAE;IAAW;EAAC,CAAC,CAAC;AACnE,CAAC;AAED,MAAMC,UAAU,GAAG,MAAAA,CAAON,GAAG,EAAEC,GAAG,KAAK;EACnC,IAAIM,IAAI,GAAGP,GAAG,CAACO,IAAI;EACnB,IAAI,CAACA,IAAI,CAACC,QAAQ,IAAI,CAACD,IAAI,CAACE,QAAQ,EAAE;IAClCR,GAAG,CAACS,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,4BAA4B,CAAC;EACtD,CAAC,MACI;IACD,IAAI;MACA,IAAIC,IAAI,GAAG,MAAMC,kBAAS,CAACD,IAAI,CAACL,IAAI,CAACC,QAAQ,CAAC;MAE9C,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,CAACJ,QAAQ,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ,IAAI,CAACG,IAAI,CAAC,CAAC,CAAC,CAACE,OAAO,EAAE;QAC5DC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MACnC,CAAC,MACI;QACD,IAAIC,IAAI,GAAGC,iBAAM,CAACC,QAAQ,CAACZ,IAAI,CAACE,QAAQ,EAAES,iBAAM,CAACE,WAAW,CAAC,EAAE,CAAC,CAAC;QAEjE,IAAIF,iBAAM,CAACG,WAAW,CAACd,IAAI,CAACE,QAAQ,EAAEG,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ,CAAC,EAAE;UACrDT,GAAG,CAACsB,OAAO,CAACV,IAAI,GAAG;YAACW,IAAI,EAACX,IAAI,CAAC,CAAC,CAAC,CAACJ,QAAQ;YAAEgB,IAAI,EAACZ,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ;YAAEgB,IAAI,EAACb,IAAI,CAAC,CAAC,CAAC,CAACE;UAAO,CAAC;UACvFb,GAAG,CAACyB,QAAQ,CAAC,iBAAiB,CAAC;QACnC,CAAC,MACI;UACDX,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;QAC/B;MACJ;IAEJ,CAAC,CAAC,OAAOW,KAAK,EAAE;MACZZ,OAAO,CAACC,GAAG,CAACW,KAAK,CAAC;IACtB;EACJ;AACJ,CAAC;AAED,MAAMC,MAAM,GAAGA,CAAC5B,GAAG,EAAEC,GAAG,KAAK;EACzBD,GAAG,CAACsB,OAAO,CAACO,OAAO,CAAC,CAAC;EACrB5B,GAAG,CAACyB,QAAQ,CAAC,QAAQ,CAAC;AAC1B,CAAC;AAAA,IAAAI,QAAA,GAAAC,OAAA,CAAAjC,OAAA,GAEc;EAACC,KAAK;EAAEO,UAAU;EAAEsB;AAAM,CAAC"}},"mtime":1696567327996},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\HomeUserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst HomeUser = (req, res) => {\n  res.render('User/HomeUser', {\n    data: {\n      page: 'IndexUser',\n      title: 'Trang Chu'\n    }\n  });\n};\nconst LoginUser = (req, res) => {\n  res.render('User/LoginUser', {\n    data: {\n      title: 'Login'\n    }\n  });\n};\nvar _default = exports.default = {\n  HomeUser,\n  LoginUser\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiSG9tZVVzZXIiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwiTG9naW5Vc2VyIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxceGFtcHBcXGh0ZG9jc1xcQkNfTm9kZWpzXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkhvbWVVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcbmltcG9ydCB1c2VyTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL3VzZXJNb2RlbFwiXHJcblxyXG5jb25zdCBIb21lVXNlciA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLnJlbmRlcignVXNlci9Ib21lVXNlcicsIHtkYXRhOiB7cGFnZTogJ0luZGV4VXNlcicsIHRpdGxlOiAnVHJhbmcgQ2h1J319KVxyXG59XHJcblxyXG5cclxuY29uc3QgTG9naW5Vc2VyID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMucmVuZGVyKCdVc2VyL0xvZ2luVXNlcicsIHtkYXRhOiB7dGl0bGU6ICdMb2dpbid9fSlcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7SG9tZVVzZXIsTG9naW5Vc2VyfSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsVUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQTZDLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTdDLE1BQU1HLFFBQVEsR0FBR0EsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDM0JBLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLGVBQWUsRUFBRTtJQUFDQyxJQUFJLEVBQUU7TUFBQ0MsSUFBSSxFQUFFLFdBQVc7TUFBRUMsS0FBSyxFQUFFO0lBQVc7RUFBQyxDQUFDLENBQUM7QUFDaEYsQ0FBQztBQUdELE1BQU1DLFNBQVMsR0FBR0EsQ0FBQ04sR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDNUJBLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLGdCQUFnQixFQUFFO0lBQUNDLElBQUksRUFBRTtNQUFDRSxLQUFLLEVBQUU7SUFBTztFQUFDLENBQUMsQ0FBQztBQUMxRCxDQUFDO0FBQUEsSUFBQUUsUUFBQSxHQUFBQyxPQUFBLENBQUFWLE9BQUEsR0FJYztFQUFDQyxRQUFRO0VBQUNPO0FBQVMsQ0FBQyJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","obj","__esModule","default","HomeUser","req","res","render","data","page","title","LoginUser","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["HomeUserController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst HomeUser = (req, res) => {\r\n    res.render('User/HomeUser', {data: {page: 'IndexUser', title: 'Trang Chu'}})\r\n}\r\n\r\n\r\nconst LoginUser = (req, res) => {\r\n    res.render('User/LoginUser', {data: {title: 'Login'}})\r\n}\r\n\r\n\r\n\r\nexport default {HomeUser,LoginUser}"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA6C,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7C,MAAMG,QAAQ,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC3BA,GAAG,CAACC,MAAM,CAAC,eAAe,EAAE;IAACC,IAAI,EAAE;MAACC,IAAI,EAAE,WAAW;MAAEC,KAAK,EAAE;IAAW;EAAC,CAAC,CAAC;AAChF,CAAC;AAGD,MAAMC,SAAS,GAAGA,CAACN,GAAG,EAAEC,GAAG,KAAK;EAC5BA,GAAG,CAACC,MAAM,CAAC,gBAAgB,EAAE;IAACC,IAAI,EAAE;MAACE,KAAK,EAAE;IAAO;EAAC,CAAC,CAAC;AAC1D,CAAC;AAAA,IAAAE,QAAA,GAAAC,OAAA,CAAAV,OAAA,GAIc;EAACC,QAAQ;EAACO;AAAS,CAAC"}},"mtime":1696567327994},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\NewsController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst list_news = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _newsModel.default.list_news(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listNews',\n        title: 'Danh sách tin tức',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst new_news = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'newNews',\n      title: 'Tạo tin tức'\n    }\n  });\n};\nconst insert_news = async (req, res) => {\n  let body = req.body;\n  if (!body.title) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    await _newsModel.default.insert_news(body.title);\n    res.redirect(\"/list-news/0-10\");\n  }\n};\nconst detail_news = async (req, res) => {\n  let title = req.params.title;\n  let list = await _newsModel.default.detail_news(title);\n  res.render('home', {\n    data: {\n      page: 'detailNews',\n      title: 'Chi tiết tin tức',\n      list: list\n    }\n  });\n};\nconst view_edit_news = async (req, res) => {\n  let id = req.params.id;\n  let list = await _newsModel.default.detail_news_edit(id);\n  res.render('home', {\n    data: {\n      page: 'viewEditNews',\n      list: list\n    }\n  });\n};\nconst edit_news = async (req, res) => {\n  const id = req.body.id;\n  let body = req.body;\n  console.table(body);\n  await _newsModel.default.edit_news(body.title, id);\n  res.redirect('/list-news/0-10');\n};\nconst del_news = async (req, res) => {\n  const id = req.body.id;\n  let list = await _newsModel.default.del_news(id);\n  res.redirect(\"/list-news/0-10\");\n};\nvar _default = exports.default = {\n  list_news,\n  new_news,\n  insert_news,\n  detail_news,\n  view_edit_news,\n  edit_news,\n  del_news\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX25ld3NNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibGlzdF9uZXdzIiwicmVxIiwicmVzIiwiX2Zyb20iLCJwYXJhbXMiLCJmcm9tIiwiX3RvIiwidG8iLCJhdXRoIiwic2Vzc2lvbiIsImlzTmFOIiwibGlzdCIsIm5ld3NNb2RlbCIsInJlbmRlciIsImRhdGEiLCJwYWdlIiwidGl0bGUiLCJzdGF0dXMiLCJzZW5kIiwibmV3X25ld3MiLCJpbnNlcnRfbmV3cyIsImJvZHkiLCJyZWRpcmVjdCIsImRldGFpbF9uZXdzIiwidmlld19lZGl0X25ld3MiLCJpZCIsImRldGFpbF9uZXdzX2VkaXQiLCJlZGl0X25ld3MiLCJjb25zb2xlIiwidGFibGUiLCJkZWxfbmV3cyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVqc1xcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJOZXdzQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcbmltcG9ydCBuZXdzTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL25ld3NNb2RlbFwiXHJcblxyXG5jb25zdCBsaXN0X25ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICBsZXQgX2Zyb20gPSByZXEucGFyYW1zLmZyb21cclxuICAgIGxldCBfdG8gPSByZXEucGFyYW1zLnRvXHJcbiAgICBsZXQgYXV0aCA9IG51bGxcclxuXHJcbiAgICBpZiAocmVxLnNlc3Npb24uYXV0aCkge1xyXG4gICAgICAgIGF1dGggPSByZXEuc2Vzc2lvbi5hdXRoXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChpc05hTihfZnJvbSkgPT09IGZhbHNlICYmIGlzTmFOKF90bykgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzKF9mcm9tLCBfdG8pXHJcbiAgICAgICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2xpc3ROZXdzJywgdGl0bGU6ICdEYW5oIHPDoWNoIHRpbiB04bupYycsIHBhcmFtczoge19mcm9tLCBfdG99ICwgbGlzdDpsaXN0LCBhdXRoOmF1dGh9fSlcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbmV3X25ld3MgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICduZXdOZXdzJywgdGl0bGU6ICdU4bqhbyB0aW4gdOG7qWMnfX0pXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBpZiAoIWJvZHkudGl0bGUgKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgXHJcbiAgICAgICBcclxuICAgICAgICBhd2FpdCBuZXdzTW9kZWwuaW5zZXJ0X25ld3MoYm9keS50aXRsZSlcclxuICAgICAgICByZXMucmVkaXJlY3QoXCIvbGlzdC1uZXdzLzAtMTBcIilcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZGV0YWlsX25ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCB0aXRsZSA9IHJlcS5wYXJhbXMudGl0bGVcclxuICAgIGxldCBsaXN0ID0gYXdhaXQgbmV3c01vZGVsLmRldGFpbF9uZXdzKHRpdGxlKVxyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2RldGFpbE5ld3MnLCB0aXRsZTogJ0NoaSB0aeG6v3QgdGluIHThu6ljJywgbGlzdDpsaXN0fX0pXHJcbn1cclxuXHJcbmNvbnN0IHZpZXdfZWRpdF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IG5ld3NNb2RlbC5kZXRhaWxfbmV3c19lZGl0KGlkKVxyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ3ZpZXdFZGl0TmV3cycsIGxpc3Q6bGlzdH19KVxyXG59XHJcblxyXG5jb25zdCBlZGl0X25ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQgXHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBjb25zb2xlLnRhYmxlKGJvZHkpXHJcbiAgICBhd2FpdCBuZXdzTW9kZWwuZWRpdF9uZXdzKGJvZHkudGl0bGUsaWQpXHJcbiAgICByZXMucmVkaXJlY3QoJy9saXN0LW5ld3MvMC0xMCcpXHJcbn1cclxuXHJcbmNvbnN0IGRlbF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5ib2R5LmlkIFxyXG4gXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IG5ld3NNb2RlbC5kZWxfbmV3cyhpZClcclxuICAgIHJlcy5yZWRpcmVjdChcIi9saXN0LW5ld3MvMC0xMFwiKVxyXG59XHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtsaXN0X25ld3MsbmV3X25ld3MsaW5zZXJ0X25ld3MsZGV0YWlsX25ld3Msdmlld19lZGl0X25ld3MsZWRpdF9uZXdzLGRlbF9uZXdzfSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_newsModel","obj","__esModule","default","list_news","req","res","_from","params","from","_to","to","auth","session","isNaN","list","newsModel","render","data","page","title","status","send","new_news","insert_news","body","redirect","detail_news","view_edit_news","id","detail_news_edit","edit_news","console","table","del_news","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["NewsController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport newsModel from \"../services/newsModel\"\r\n\r\nconst list_news = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await newsModel.list_news(_from, _to)\r\n        res.render('home', {data: {page: 'listNews', title: 'Danh sách tin tức', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst new_news = (req, res) => {\r\n    res.render('home', {data: {page: 'newNews', title: 'Tạo tin tức'}})\r\n}\r\n\r\nconst insert_news = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.title ) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        \r\n       \r\n        await newsModel.insert_news(body.title)\r\n        res.redirect(\"/list-news/0-10\")\r\n    }\r\n}\r\n\r\nconst detail_news = async (req, res) => {\r\n    let title = req.params.title\r\n    let list = await newsModel.detail_news(title)\r\n    res.render('home', {data: {page: 'detailNews', title: 'Chi tiết tin tức', list:list}})\r\n}\r\n\r\nconst view_edit_news = async (req, res) => {\r\n    let id = req.params.id\r\n    let list = await newsModel.detail_news_edit(id)\r\n    res.render('home', {data: {page: 'viewEditNews', list:list}})\r\n}\r\n\r\nconst edit_news = async (req, res) => {\r\n    const id = req.body.id \r\n    let body = req.body\r\n    console.table(body)\r\n    await newsModel.edit_news(body.title,id)\r\n    res.redirect('/list-news/0-10')\r\n}\r\n\r\nconst del_news = async (req, res) => {\r\n    const id = req.body.id \r\n \r\n    let list = await newsModel.del_news(id)\r\n    res.redirect(\"/list-news/0-10\")\r\n}\r\n\r\n\r\n\r\nexport default {list_news,new_news,insert_news,detail_news,view_edit_news,edit_news,del_news}"],"mappings":"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"}},"mtime":1696567327995},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\services\\\\newsModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst list_news_all = async () => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `news`');\n  return rows;\n};\nconst list_news = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `news` LIMIT ?, ?', [from, to]);\n  return rows;\n};\nconst insert_news = async title => {\n  await _connectDB.default.execute('INSERT INTO `news`(`title`) VALUES (?)', [title]);\n};\nconst detail_news = async title => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM news WHERE news.title LIKE ?', [title]);\n  return rows;\n};\nconst detail_news_edit = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM news WHERE news.id LIKE ?', [id]);\n  return rows;\n};\nconst edit_news = async (title, id) => {\n  await _connectDB.default.execute('UPDATE `news` SET `title`=? where news.id = ?  ', [title, id]);\n};\nconst del_news = async id => {\n  await _connectDB.default.execute('DELETE FROM `news` WHERE news.id = ?', [id]);\n};\nvar _default = exports.default = {\n  list_news,\n  insert_news,\n  detail_news,\n  edit_news,\n  detail_news_edit,\n  del_news,\n  list_news_all\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfbmV3c19hbGwiLCJyb3dzIiwiZmllbGRzIiwiY29uIiwiZXhlY3V0ZSIsImxpc3RfbmV3cyIsImZyb20iLCJ0byIsImluc2VydF9uZXdzIiwidGl0bGUiLCJkZXRhaWxfbmV3cyIsImRldGFpbF9uZXdzX2VkaXQiLCJpZCIsImVkaXRfbmV3cyIsImRlbF9uZXdzIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxceGFtcHBcXGh0ZG9jc1xcQkNfTm9kZWpzXFxzcmNcXHNlcnZpY2VzXFwiLCJzb3VyY2VzIjpbIm5ld3NNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29uIGZyb20gXCIuLy4uL2NvbmZpZy9jb25uZWN0REJcIlxyXG5cclxuY29uc3QgbGlzdF9uZXdzX2FsbCA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYG5ld3NgJylcclxuICAgIHJldHVybiByb3dzXHJcbn0gXHJcblxyXG5jb25zdCBsaXN0X25ld3MgPSBhc3luYyAoZnJvbSwgdG8pID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYG5ld3NgIExJTUlUID8sID8nLCBbZnJvbSwgdG9dKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufSBcclxuXHJcbmNvbnN0IGluc2VydF9uZXdzID0gYXN5bmMgKHRpdGxlKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnSU5TRVJUIElOVE8gYG5ld3NgKGB0aXRsZWApIFZBTFVFUyAoPyknLFt0aXRsZV0pXHJcbn0gXHJcbmNvbnN0IGRldGFpbF9uZXdzID0gYXN5bmMgKHRpdGxlKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIG5ld3MgV0hFUkUgbmV3cy50aXRsZSBMSUtFID8nLCBbdGl0bGVdKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5cclxuY29uc3QgZGV0YWlsX25ld3NfZWRpdCA9IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBuZXdzIFdIRVJFIG5ld3MuaWQgTElLRSA/JywgW2lkXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuY29uc3QgZWRpdF9uZXdzID0gYXN5bmMgKHRpdGxlLGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnVVBEQVRFIGBuZXdzYCBTRVQgYHRpdGxlYD0/IHdoZXJlIG5ld3MuaWQgPSA/ICAnLFt0aXRsZSxpZF0pXHJcbn1cclxuXHJcbmNvbnN0IGRlbF9uZXdzID0gYXN5bmMgKGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnREVMRVRFIEZST00gYG5ld3NgIFdIRVJFIG5ld3MuaWQgPSA/JyxbaWRdKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHtsaXN0X25ld3MsaW5zZXJ0X25ld3MsZGV0YWlsX25ld3MsZWRpdF9uZXdzLGRldGFpbF9uZXdzX2VkaXQsZGVsX25ld3MsIGxpc3RfbmV3c19hbGx9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLElBQUFBLFVBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUF1QyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV2QyxNQUFNRyxhQUFhLEdBQUcsTUFBQUEsQ0FBQSxLQUFZO0VBQzlCLE1BQU0sQ0FBQ0MsSUFBSSxFQUFFQyxNQUFNLENBQUMsR0FBRyxNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsc0JBQXNCLENBQUM7RUFDaEUsT0FBT0gsSUFBSTtBQUNmLENBQUM7QUFFRCxNQUFNSSxTQUFTLEdBQUcsTUFBQUEsQ0FBT0MsSUFBSSxFQUFFQyxFQUFFLEtBQUs7RUFDbEMsTUFBTSxDQUFDTixJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxpQ0FBaUMsRUFBRSxDQUFDRSxJQUFJLEVBQUVDLEVBQUUsQ0FBQyxDQUFDO0VBQ3ZGLE9BQU9OLElBQUk7QUFDZixDQUFDO0FBRUQsTUFBTU8sV0FBVyxHQUFHLE1BQU9DLEtBQUssSUFBSztFQUNqQyxNQUFNTixrQkFBRyxDQUFDQyxPQUFPLENBQUMsd0NBQXdDLEVBQUMsQ0FBQ0ssS0FBSyxDQUFDLENBQUM7QUFDdkUsQ0FBQztBQUNELE1BQU1DLFdBQVcsR0FBRyxNQUFPRCxLQUFLLElBQUs7RUFDakMsTUFBTSxDQUFDUixJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyw0Q0FBNEMsRUFBRSxDQUFDSyxLQUFLLENBQUMsQ0FBQztFQUMvRixPQUFPUixJQUFJO0FBQ2YsQ0FBQztBQUVELE1BQU1VLGdCQUFnQixHQUFHLE1BQU9DLEVBQUUsSUFBSztFQUNuQyxNQUFNLENBQUNYLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHlDQUF5QyxFQUFFLENBQUNRLEVBQUUsQ0FBQyxDQUFDO0VBQ3pGLE9BQU9YLElBQUk7QUFDZixDQUFDO0FBQ0QsTUFBTVksU0FBUyxHQUFHLE1BQUFBLENBQU9KLEtBQUssRUFBQ0csRUFBRSxLQUFLO0VBQ2xDLE1BQU1ULGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxpREFBaUQsRUFBQyxDQUFDSyxLQUFLLEVBQUNHLEVBQUUsQ0FBQyxDQUFDO0FBQ25GLENBQUM7QUFFRCxNQUFNRSxRQUFRLEdBQUcsTUFBT0YsRUFBRSxJQUFLO0VBQzNCLE1BQU1ULGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxzQ0FBc0MsRUFBQyxDQUFDUSxFQUFFLENBQUMsQ0FBQztBQUNsRSxDQUFDO0FBQUEsSUFBQUcsUUFBQSxHQUFBQyxPQUFBLENBQUFqQixPQUFBLEdBQ2M7RUFBQ00sU0FBUztFQUFDRyxXQUFXO0VBQUNFLFdBQVc7RUFBQ0csU0FBUztFQUFDRixnQkFBZ0I7RUFBQ0csUUFBUTtFQUFFZDtBQUFhLENBQUMifQ==","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","list_news_all","rows","fields","con","execute","list_news","from","to","insert_news","title","detail_news","detail_news_edit","id","edit_news","del_news","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\services\\","sources":["newsModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\nconst list_news_all = async () => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `news`')\r\n    return rows\r\n} \r\n\r\nconst list_news = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `news` LIMIT ?, ?', [from, to])\r\n    return rows\r\n} \r\n\r\nconst insert_news = async (title) => {\r\n    await con.execute('INSERT INTO `news`(`title`) VALUES (?)',[title])\r\n} \r\nconst detail_news = async (title) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM news WHERE news.title LIKE ?', [title])\r\n    return rows\r\n}\r\n\r\nconst detail_news_edit = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM news WHERE news.id LIKE ?', [id])\r\n    return rows\r\n}\r\nconst edit_news = async (title,id) => {\r\n    await con.execute('UPDATE `news` SET `title`=? where news.id = ?  ',[title,id])\r\n}\r\n\r\nconst del_news = async (id) => {\r\n    await con.execute('DELETE FROM `news` WHERE news.id = ?',[id])\r\n}\r\nexport default {list_news,insert_news,detail_news,edit_news,detail_news_edit,del_news, list_news_all}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEvC,MAAMG,aAAa,GAAG,MAAAA,CAAA,KAAY;EAC9B,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,sBAAsB,CAAC;EAChE,OAAOH,IAAI;AACf,CAAC;AAED,MAAMI,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACN,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,iCAAiC,EAAE,CAACE,IAAI,EAAEC,EAAE,CAAC,CAAC;EACvF,OAAON,IAAI;AACf,CAAC;AAED,MAAMO,WAAW,GAAG,MAAOC,KAAK,IAAK;EACjC,MAAMN,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAC,CAACK,KAAK,CAAC,CAAC;AACvE,CAAC;AACD,MAAMC,WAAW,GAAG,MAAOD,KAAK,IAAK;EACjC,MAAM,CAACR,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,4CAA4C,EAAE,CAACK,KAAK,CAAC,CAAC;EAC/F,OAAOR,IAAI;AACf,CAAC;AAED,MAAMU,gBAAgB,GAAG,MAAOC,EAAE,IAAK;EACnC,MAAM,CAACX,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,yCAAyC,EAAE,CAACQ,EAAE,CAAC,CAAC;EACzF,OAAOX,IAAI;AACf,CAAC;AACD,MAAMY,SAAS,GAAG,MAAAA,CAAOJ,KAAK,EAACG,EAAE,KAAK;EAClC,MAAMT,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAC,CAACK,KAAK,EAACG,EAAE,CAAC,CAAC;AACnF,CAAC;AAED,MAAME,QAAQ,GAAG,MAAOF,EAAE,IAAK;EAC3B,MAAMT,kBAAG,CAACC,OAAO,CAAC,sCAAsC,EAAC,CAACQ,EAAE,CAAC,CAAC;AAClE,CAAC;AAAA,IAAAG,QAAA,GAAAC,OAAA,CAAAjB,OAAA,GACc;EAACM,SAAS;EAACG,WAAW;EAACE,WAAW;EAACG,SAAS;EAACF,gBAAgB;EAACG,QAAQ;EAAEd;AAAa,CAAC"}},"mtime":1696571548552},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\PostController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nvar _connectDB = _interopRequireDefault(require(\"../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst list_post = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _postModel.default.list_post(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listpost',\n        title: 'Danh sách bài viết',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst new_post = async (req, res) => {\n  let danhmuc = await _newsModel.default.list_news_all();\n  res.render('home', {\n    data: {\n      page: 'newpost',\n      title: 'Tạo bài viết',\n      danhmuc: danhmuc\n    }\n  });\n};\nconst insert_post = async (req, res) => {\n  let img = req.file;\n  let body = req.body;\n  if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    await _postModel.default.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id);\n    res.redirect(\"list-post/0-10\");\n  }\n};\nconst detail_post = async (req, res) => {\n  let id = req.params.id;\n  let danhmuc = await _newsModel.default.list_news_all();\n  let list = await _postModel.default.detail_post(id);\n  console.log(list[0].image);\n  res.render('home', {\n    data: {\n      page: 'detailpost',\n      title: 'Chi tiết bài viết',\n      list: list,\n      danhmuc: danhmuc\n    }\n  });\n};\nconst view_edit_post = async (req, res) => {\n  let id = req.params.id;\n  let danhmuc = await _newsModel.default.list_news_all();\n  let list = await _postModel.default.detail_post_edit(id);\n  res.render('home', {\n    data: {\n      page: 'viewEditpost',\n      title: 'Cập nhật bài viết',\n      list: list,\n      danhmuc: danhmuc\n    }\n  });\n};\nconst edit_post = async (req, res) => {\n  const id = req.body.id;\n  let body = req.body;\n  let img = body.img_old;\n  let file = req.file;\n  if (file) {\n    img = file.filename;\n    let post = await _postModel.default.detail_post(id);\n    _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n  }\n  if (!body.titlenew || !body.contentnew || !body.news_id) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    await _postModel.default.edit_post(body.titlenew, body.contentnew, img, body.news_id, id);\n    res.redirect('list-post/0-10');\n  }\n};\nconst del_post = async (req, res) => {\n  const id = req.body.id;\n  let post = await _postModel.default.detail_post(id);\n  _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n  let list = await _postModel.default.del_post(id);\n  res.redirect(\"list-post/0-10\");\n};\nvar _default = exports.default = {\n  list_post,\n  new_post,\n  insert_post,\n  detail_post,\n  view_edit_post,\n  edit_post,\n  del_post\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX3Bvc3RNb2RlbCIsIl9uZXdzTW9kZWwiLCJfY29ubmVjdERCIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJsaXN0X3Bvc3QiLCJyZXEiLCJyZXMiLCJfZnJvbSIsInBhcmFtcyIsImZyb20iLCJfdG8iLCJ0byIsImF1dGgiLCJzZXNzaW9uIiwiaXNOYU4iLCJsaXN0IiwicG9zdE1vZGVsIiwicmVuZGVyIiwiZGF0YSIsInBhZ2UiLCJ0aXRsZSIsInN0YXR1cyIsInNlbmQiLCJuZXdfcG9zdCIsImRhbmhtdWMiLCJuZXdzTW9kZWwiLCJsaXN0X25ld3NfYWxsIiwiaW5zZXJ0X3Bvc3QiLCJpbWciLCJmaWxlIiwiYm9keSIsInRpdGxlbmV3IiwiY29udGVudG5ldyIsImZpbGVuYW1lIiwibmV3c19pZCIsInJlZGlyZWN0IiwiZGV0YWlsX3Bvc3QiLCJpZCIsImNvbnNvbGUiLCJsb2ciLCJpbWFnZSIsInZpZXdfZWRpdF9wb3N0IiwiZGV0YWlsX3Bvc3RfZWRpdCIsImVkaXRfcG9zdCIsImltZ19vbGQiLCJwb3N0IiwiZnMiLCJ1bmxpbmtTeW5jIiwiZGVsX3Bvc3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlanNcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiUG9zdENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcblxyXG5pbXBvcnQgcG9zdE1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9wb3N0TW9kZWxcIlxyXG5pbXBvcnQgbmV3c01vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9uZXdzTW9kZWxcIlxyXG5pbXBvcnQgY29uIGZyb20gXCIuLi9jb25maWcvY29ubmVjdERCXCJcclxuXHJcbmNvbnN0IGxpc3RfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIGxldCBfZnJvbSA9IHJlcS5wYXJhbXMuZnJvbVxyXG4gICAgbGV0IF90byA9IHJlcS5wYXJhbXMudG9cclxuICAgIGxldCBhdXRoID0gbnVsbFxyXG5cclxuICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRoKSB7XHJcbiAgICAgICAgYXV0aCA9IHJlcS5zZXNzaW9uLmF1dGhcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGlzTmFOKF9mcm9tKSA9PT0gZmFsc2UgJiYgaXNOYU4oX3RvKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICBsZXQgbGlzdCA9IGF3YWl0IHBvc3RNb2RlbC5saXN0X3Bvc3QoX2Zyb20sIF90bylcclxuICAgICAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHtwYWdlOiAnbGlzdHBvc3QnLCB0aXRsZTogJ0Rhbmggc8OhY2ggYsOgaSB2aeG6v3QnLCBwYXJhbXM6IHtfZnJvbSwgX3RvfSAsIGxpc3Q6bGlzdCwgYXV0aDphdXRofX0pXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IG5ld19wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgZGFuaG11YyA9IGF3YWl0IG5ld3NNb2RlbC5saXN0X25ld3NfYWxsKClcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICduZXdwb3N0JywgdGl0bGU6ICdU4bqhbyBiw6BpIHZp4bq/dCcsIGRhbmhtdWM6ZGFuaG11Y319KVxyXG59XHJcblxyXG5jb25zdCBpbnNlcnRfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGltZyA9IHJlcS5maWxlXHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBpZiAoIWJvZHkudGl0bGVuZXcgfHwgIWJvZHkuY29udGVudG5ldyB8fCAhaW1nLmZpbGVuYW1lIHx8ICFib2R5Lm5ld3NfaWQpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICBcclxuICAgICAgICBhd2FpdCBwb3N0TW9kZWwuaW5zZXJ0X3Bvc3QoYm9keS50aXRsZW5ldywgYm9keS5jb250ZW50bmV3LCBpbWcuZmlsZW5hbWUsIGJvZHkubmV3c19pZClcclxuICAgICAgICByZXMucmVkaXJlY3QoXCJsaXN0LXBvc3QvMC0xMFwiKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBkZXRhaWxfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgbGV0IGRhbmhtdWMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdChpZClcclxuICAgIGNvbnNvbGUubG9nKGxpc3RbMF0uaW1hZ2UpXHJcbiAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHtwYWdlOiAnZGV0YWlscG9zdCcsIHRpdGxlOiAnQ2hpIHRp4bq/dCBiw6BpIHZp4bq/dCcsIGxpc3Q6bGlzdCwgZGFuaG11YzpkYW5obXVjfX0pXHJcbn1cclxuXHJcbmNvbnN0IHZpZXdfZWRpdF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICBsZXQgZGFuaG11YyA9IGF3YWl0IG5ld3NNb2RlbC5saXN0X25ld3NfYWxsKClcclxuICAgIGxldCBsaXN0ID0gYXdhaXQgcG9zdE1vZGVsLmRldGFpbF9wb3N0X2VkaXQoaWQpXHJcbiAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHtwYWdlOiAndmlld0VkaXRwb3N0JywgdGl0bGU6ICdD4bqtcCBuaOG6rXQgYsOgaSB2aeG6v3QnLCBsaXN0Omxpc3QsIGRhbmhtdWM6ZGFuaG11Y319KVxyXG59XHJcblxyXG5jb25zdCBlZGl0X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQgXHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBsZXQgaW1nID0gYm9keS5pbWdfb2xkXHJcbiAgICBsZXQgZmlsZSA9IHJlcS5maWxlXHJcblxyXG4gICAgaWYgKGZpbGUpIHtcclxuICAgICAgICBpbWcgPSBmaWxlLmZpbGVuYW1lXHJcbiAgICAgICAgbGV0IHBvc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGV0YWlsX3Bvc3QoaWQpXHJcbiAgICAgICAgZnMudW5saW5rU3luYygnLi9zcmMvcHVibGljL3VwbG9hZC8nICsgcG9zdFswXS5pbWFnZSlcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKCFib2R5LnRpdGxlbmV3IHx8ICFib2R5LmNvbnRlbnRuZXcgfHwgIWJvZHkubmV3c19pZCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9IFxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgYXdhaXQgcG9zdE1vZGVsLmVkaXRfcG9zdChib2R5LnRpdGxlbmV3LCBib2R5LmNvbnRlbnRuZXcsIGltZywgYm9keS5uZXdzX2lkLCBpZClcclxuICAgICAgICByZXMucmVkaXJlY3QoJ2xpc3QtcG9zdC8wLTEwJylcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZGVsX3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQgXHJcbiAgICBsZXQgcG9zdCA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdChpZClcclxuICAgIGZzLnVubGlua1N5bmMoJy4vc3JjL3B1YmxpYy91cGxvYWQvJyArIHBvc3RbMF0uaW1hZ2UpXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IHBvc3RNb2RlbC5kZWxfcG9zdChpZClcclxuICAgIHJlcy5yZWRpcmVjdChcImxpc3QtcG9zdC8wLTEwXCIpXHJcbn1cclxuXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQge2xpc3RfcG9zdCxuZXdfcG9zdCxpbnNlcnRfcG9zdCxkZXRhaWxfcG9zdCx2aWV3X2VkaXRfcG9zdCxlZGl0X3Bvc3QsZGVsX3Bvc3R9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsR0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUUsVUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsVUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksVUFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQXFDLFNBQUFELHVCQUFBTSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXJDLE1BQU1HLFNBQVMsR0FBRyxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUVsQyxJQUFJQyxLQUFLLEdBQUdGLEdBQUcsQ0FBQ0csTUFBTSxDQUFDQyxJQUFJO0VBQzNCLElBQUlDLEdBQUcsR0FBR0wsR0FBRyxDQUFDRyxNQUFNLENBQUNHLEVBQUU7RUFDdkIsSUFBSUMsSUFBSSxHQUFHLElBQUk7RUFFZixJQUFJUCxHQUFHLENBQUNRLE9BQU8sQ0FBQ0QsSUFBSSxFQUFFO0lBQ2xCQSxJQUFJLEdBQUdQLEdBQUcsQ0FBQ1EsT0FBTyxDQUFDRCxJQUFJO0VBQzNCO0VBRUEsSUFBSUUsS0FBSyxDQUFDUCxLQUFLLENBQUMsS0FBSyxLQUFLLElBQUlPLEtBQUssQ0FBQ0osR0FBRyxDQUFDLEtBQUssS0FBSyxFQUFFO0lBQ2hELElB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_postModel","_newsModel","_connectDB","obj","__esModule","default","list_post","req","res","_from","params","from","_to","to","auth","session","isNaN","list","postModel","render","data","page","title","status","send","new_post","danhmuc","newsModel","list_news_all","insert_post","img","file","body","titlenew","contentnew","filename","news_id","redirect","detail_post","id","console","log","image","view_edit_post","detail_post_edit","edit_post","img_old","post","fs","unlinkSync","del_post","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["PostController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs'\r\n\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\nimport con from \"../config/connectDB\"\r\n\r\nconst list_post = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await postModel.list_post(_from, _to)\r\n        res.render('home', {data: {page: 'listpost', title: 'Danh sách bài viết', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst new_post = async (req, res) => {\r\n    let danhmuc = await newsModel.list_news_all()\r\n    res.render('home', {data: {page: 'newpost', title: 'Tạo bài viết', danhmuc:danhmuc}})\r\n}\r\n\r\nconst insert_post = async (req, res) => {\r\n    let img = req.file\r\n    let body = req.body\r\n    if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        \r\n        await postModel.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id)\r\n        res.redirect(\"list-post/0-10\")\r\n    }\r\n}\r\n\r\nconst detail_post = async (req, res) => {\r\n    let id = req.params.id\r\n    let danhmuc = await newsModel.list_news_all()\r\n    let list = await postModel.detail_post(id)\r\n    console.log(list[0].image)\r\n    res.render('home', {data: {page: 'detailpost', title: 'Chi tiết bài viết', list:list, danhmuc:danhmuc}})\r\n}\r\n\r\nconst view_edit_post = async (req, res) => {\r\n    let id = req.params.id\r\n    let danhmuc = await newsModel.list_news_all()\r\n    let list = await postModel.detail_post_edit(id)\r\n    res.render('home', {data: {page: 'viewEditpost', title: 'Cập nhật bài viết', list:list, danhmuc:danhmuc}})\r\n}\r\n\r\nconst edit_post = async (req, res) => {\r\n    const id = req.body.id \r\n    let body = req.body\r\n    let img = body.img_old\r\n    let file = req.file\r\n\r\n    if (file) {\r\n        img = file.filename\r\n        let post = await postModel.detail_post(id)\r\n        fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n    }\r\n    \r\n    if (!body.titlenew || !body.contentnew || !body.news_id) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    } \r\n    else {\r\n        await postModel.edit_post(body.titlenew, body.contentnew, img, body.news_id, id)\r\n        res.redirect('list-post/0-10')\r\n    }\r\n}\r\n\r\nconst del_post = async (req, res) => {\r\n    const id = req.body.id \r\n    let post = await postModel.detail_post(id)\r\n    fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n    let list = await postModel.del_post(id)\r\n    res.redirect(\"list-post/0-10\")\r\n}\r\n\r\n\r\n\r\nexport default {list_post,new_post,insert_post,detail_post,view_edit_post,edit_post,del_post}"],"mappings":"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"}},"mtime":1696579593084},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\services\\\\postModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst list_post = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts` LIMIT ?, ?', [from, to]);\n  return rows;\n};\nconst insert_post = async (title, content, image, news_id) => {\n  await _connectDB.default.execute('INSERT INTO `posts`(`title`, `content`, `image`, `news_id`) VALUES (?, ?, ?, ?)', [title, content, image, news_id]);\n};\nconst detail_post = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM posts WHERE posts.id = ?', [id]);\n  return rows;\n};\nconst detail_post_edit = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM posts WHERE posts.id = ?', [id]);\n  return rows;\n};\nconst edit_post = async (title, content, image, news_id, id) => {\n  await _connectDB.default.execute('UPDATE `posts` SET `title`=?,`content`=?,`image`=?,`news_id`=? where posts.id = ?  ', [title, content, image, news_id, id]);\n};\nconst del_post = async id => {\n  await _connectDB.default.execute('DELETE FROM `posts` WHERE posts.id = ?', [id]);\n};\nvar _default = exports.default = {\n  list_post,\n  insert_post,\n  detail_post,\n  edit_post,\n  detail_post_edit,\n  del_post\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfcG9zdCIsImZyb20iLCJ0byIsInJvd3MiLCJmaWVsZHMiLCJjb24iLCJleGVjdXRlIiwiaW5zZXJ0X3Bvc3QiLCJ0aXRsZSIsImNvbnRlbnQiLCJpbWFnZSIsIm5ld3NfaWQiLCJkZXRhaWxfcG9zdCIsImlkIiwiZGV0YWlsX3Bvc3RfZWRpdCIsImVkaXRfcG9zdCIsImRlbF9wb3N0IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxceGFtcHBcXGh0ZG9jc1xcQkNfTm9kZWpzXFxzcmNcXHNlcnZpY2VzXFwiLCJzb3VyY2VzIjpbInBvc3RNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29uIGZyb20gXCIuLy4uL2NvbmZpZy9jb25uZWN0REJcIlxyXG5cclxuY29uc3QgbGlzdF9wb3N0ID0gYXN5bmMgKGZyb20sIHRvKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGBwb3N0c2AgTElNSVQgPywgPycsIFtmcm9tLCB0b10pXHJcbiAgICByZXR1cm4gcm93c1xyXG59IFxyXG5cclxuY29uc3QgaW5zZXJ0X3Bvc3QgPSBhc3luYyAodGl0bGUsIGNvbnRlbnQsIGltYWdlLCBuZXdzX2lkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnSU5TRVJUIElOVE8gYHBvc3RzYChgdGl0bGVgLCBgY29udGVudGAsIGBpbWFnZWAsIGBuZXdzX2lkYCkgVkFMVUVTICg/LCA/LCA/LCA/KScsW3RpdGxlLCBjb250ZW50LCBpbWFnZSwgbmV3c19pZF0pXHJcbn0gXHJcbmNvbnN0IGRldGFpbF9wb3N0ID0gYXN5bmMgKGlkKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIHBvc3RzIFdIRVJFIHBvc3RzLmlkID0gPycsIFtpZF0pXHJcbiAgICByZXR1cm4gcm93c1xyXG59XHJcblxyXG5jb25zdCBkZXRhaWxfcG9zdF9lZGl0ID0gYXN5bmMgKGlkKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIHBvc3RzIFdIRVJFIHBvc3RzLmlkID0gPycsIFtpZF0pXHJcbiAgICByZXR1cm4gcm93c1xyXG59XHJcbmNvbnN0IGVkaXRfcG9zdCA9IGFzeW5jICh0aXRsZSwgY29udGVudCwgaW1hZ2UsIG5ld3NfaWQsIGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnVVBEQVRFIGBwb3N0c2AgU0VUIGB0aXRsZWA9PyxgY29udGVudGA9PyxgaW1hZ2VgPT8sYG5ld3NfaWRgPT8gd2hlcmUgcG9zdHMuaWQgPSA/ICAnLFt0aXRsZSwgY29udGVudCwgaW1hZ2UsIG5ld3NfaWQsIGlkXSlcclxufVxyXG5cclxuY29uc3QgZGVsX3Bvc3QgPSBhc3luYyAoaWQpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdERUxFVEUgRlJPTSBgcG9zdHNgIFdIRVJFIHBvc3RzLmlkID0gPycsW2lkXSlcclxufVxyXG5leHBvcnQgZGVmYXVsdCB7bGlzdF9wb3N0LGluc2VydF9wb3N0LGRldGFpbF9wb3N0LGVkaXRfcG9zdCxkZXRhaWxfcG9zdF9lZGl0LGRlbF9wb3N0fSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFBQSxVQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBdUMsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFdkMsTUFBTUcsU0FBUyxHQUFHLE1BQUFBLENBQU9DLElBQUksRUFBRUMsRUFBRSxLQUFLO0VBQ2xDLE1BQU0sQ0FBQ0MsSUFBSSxFQUFFQyxNQUFNLENBQUMsR0FBRyxNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsa0NBQWtDLEVBQUUsQ0FBQ0wsSUFBSSxFQUFFQyxFQUFFLENBQUMsQ0FBQztFQUN4RixPQUFPQyxJQUFJO0FBQ2YsQ0FBQztBQUVELE1BQU1JLFdBQVcsR0FBRyxNQUFBQSxDQUFPQyxLQUFLLEVBQUVDLE9BQU8sRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEtBQUs7RUFDMUQsTUFBTU4sa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLGlGQUFpRixFQUFDLENBQUNFLEtBQUssRUFBRUMsT0FBTyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sQ0FBQyxDQUFDO0FBQ3pJLENBQUM7QUFDRCxNQUFNQyxXQUFXLEdBQUcsTUFBT0MsRUFBRSxJQUFLO0VBQzlCLE1BQU0sQ0FBQ1YsSUFBSSxFQUFFQyxNQUFNLENBQUMsR0FBRyxNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsd0NBQXdDLEVBQUUsQ0FBQ08sRUFBRSxDQUFDLENBQUM7RUFDeEYsT0FBT1YsSUFBSTtBQUNmLENBQUM7QUFFRCxNQUFNVyxnQkFBZ0IsR0FBRyxNQUFPRCxFQUFFLElBQUs7RUFDbkMsTUFBTSxDQUFDVixJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyx3Q0FBd0MsRUFBRSxDQUFDTyxFQUFFLENBQUMsQ0FBQztFQUN4RixPQUFPVixJQUFJO0FBQ2YsQ0FBQztBQUNELE1BQU1ZLFNBQVMsR0FBRyxNQUFBQSxDQUFPUCxLQUFLLEVBQUVDLE9BQU8sRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEVBQUVFLEVBQUUsS0FBSztFQUM1RCxNQUFNUixrQkFBRyxDQUFDQyxPQUFPLENBQUMscUZBQXFGLEVBQUMsQ0FBQ0UsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxFQUFFRSxFQUFFLENBQUMsQ0FBQztBQUNqSixDQUFDO0FBRUQsTUFBTUcsUUFBUSxHQUFHLE1BQU9ILEVBQUUsSUFBSztFQUMzQixNQUFNUixrQkFBRyxDQUFDQyxPQUFPLENBQUMsd0NBQXdDLEVBQUMsQ0FBQ08sRUFBRSxDQUFDLENBQUM7QUFDcEUsQ0FBQztBQUFBLElBQUFJLFFBQUEsR0FBQUMsT0FBQSxDQUFBbkIsT0FBQSxHQUNjO0VBQUNDLFNBQVM7RUFBQ08sV0FBVztFQUFDSyxXQUFXO0VBQUNHLFNBQVM7RUFBQ0QsZ0JBQWdCO0VBQUNFO0FBQVEsQ0FBQyJ9","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","list_post","from","to","rows","fields","con","execute","insert_post","title","content","image","news_id","detail_post","id","detail_post_edit","edit_post","del_post","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\services\\","sources":["postModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\nconst list_post = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts` LIMIT ?, ?', [from, to])\r\n    return rows\r\n} \r\n\r\nconst insert_post = async (title, content, image, news_id) => {\r\n    await con.execute('INSERT INTO `posts`(`title`, `content`, `image`, `news_id`) VALUES (?, ?, ?, ?)',[title, content, image, news_id])\r\n} \r\nconst detail_post = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM posts WHERE posts.id = ?', [id])\r\n    return rows\r\n}\r\n\r\nconst detail_post_edit = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM posts WHERE posts.id = ?', [id])\r\n    return rows\r\n}\r\nconst edit_post = async (title, content, image, news_id, id) => {\r\n    await con.execute('UPDATE `posts` SET `title`=?,`content`=?,`image`=?,`news_id`=? where posts.id = ?  ',[title, content, image, news_id, id])\r\n}\r\n\r\nconst del_post = async (id) => {\r\n    await con.execute('DELETE FROM `posts` WHERE posts.id = ?',[id])\r\n}\r\nexport default {list_post,insert_post,detail_post,edit_post,detail_post_edit,del_post}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEvC,MAAMG,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,kCAAkC,EAAE,CAACL,IAAI,EAAEC,EAAE,CAAC,CAAC;EACxF,OAAOC,IAAI;AACf,CAAC;AAED,MAAMI,WAAW,GAAG,MAAAA,CAAOC,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEC,OAAO,KAAK;EAC1D,MAAMN,kBAAG,CAACC,OAAO,CAAC,iFAAiF,EAAC,CAACE,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEC,OAAO,CAAC,CAAC;AACzI,CAAC;AACD,MAAMC,WAAW,GAAG,MAAOC,EAAE,IAAK;EAC9B,MAAM,CAACV,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAE,CAACO,EAAE,CAAC,CAAC;EACxF,OAAOV,IAAI;AACf,CAAC;AAED,MAAMW,gBAAgB,GAAG,MAAOD,EAAE,IAAK;EACnC,MAAM,CAACV,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAE,CAACO,EAAE,CAAC,CAAC;EACxF,OAAOV,IAAI;AACf,CAAC;AACD,MAAMY,SAAS,GAAG,MAAAA,CAAOP,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEC,OAAO,EAAEE,EAAE,KAAK;EAC5D,MAAMR,kBAAG,CAACC,OAAO,CAAC,qFAAqF,EAAC,CAACE,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEC,OAAO,EAAEE,EAAE,CAAC,CAAC;AACjJ,CAAC;AAED,MAAMG,QAAQ,GAAG,MAAOH,EAAE,IAAK;EAC3B,MAAMR,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAC,CAACO,EAAE,CAAC,CAAC;AACpE,CAAC;AAAA,IAAAI,QAAA,GAAAC,OAAA,CAAAnB,OAAA,GACc;EAACC,SAAS;EAACO,WAAW;EAACK,WAAW;EAACG,SAAS;EAACD,gBAAgB;EAACE;AAAQ,CAAC"}},"mtime":1696575515659},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\router\\\\apiRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _ApiLoginController = _interopRequireDefault(require(\"./../controllers/ApiLoginController\"));\nvar _ApiUserController = _interopRequireDefault(require(\"./../controllers/ApiUserController\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst api = _express.default.Router();\nconst initAPIRoute = app => {\n  api.get('/login', _ApiLoginController.default.login);\n  api.post('/login', _ApiLoginController.default.login_auth);\n  api.get('/logout', _ApiLoginController.default.logout);\n  api.get('/create_new_user', _ApiUserController.default.new_user);\n  api.post('/insert_new_user', _ApiUserController.default.insert_user);\n  api.get('/list-user/:from-:to', _ApiUserController.default.list_user);\n  api.get('/detail_user/:username', _ApiUserController.default.detail_user);\n  api.delete('/del_user', _ApiUserController.default.del_user);\n  api.get('/view_edit/:username', _ApiUserController.default.view_edit);\n  api.put('/edit_user', _ApiUserController.default.edit_user);\n  return app.use('/api/v1', api);\n};\nvar _default = exports.default = initAPIRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0FwaUxvZ2luQ29udHJvbGxlciIsIl9BcGlVc2VyQ29udHJvbGxlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiYXBpIiwiZXhwcmVzcyIsIlJvdXRlciIsImluaXRBUElSb3V0ZSIsImFwcCIsImdldCIsIkFwaUxvZ2luQ29udHJvbGxlciIsImxvZ2luIiwicG9zdCIsImxvZ2luX2F1dGgiLCJsb2dvdXQiLCJBcGlVc2VyQ29udHJvbGxlciIsIm5ld191c2VyIiwiaW5zZXJ0X3VzZXIiLCJsaXN0X3VzZXIiLCJkZXRhaWxfdXNlciIsImRlbGV0ZSIsImRlbF91c2VyIiwidmlld19lZGl0IiwicHV0IiwiZWRpdF91c2VyIiwidXNlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxceGFtcHBcXGh0ZG9jc1xcQkNfTm9kZWpzXFxzcmNcXHJvdXRlclxcIiwic291cmNlcyI6WyJhcGlSb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiO1xyXG5pbXBvcnQgQXBpTG9naW5Db250cm9sbGVyIGZyb20gXCIuLy4uL2NvbnRyb2xsZXJzL0FwaUxvZ2luQ29udHJvbGxlclwiXHJcbmltcG9ydCBBcGlVc2VyQ29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9BcGlVc2VyQ29udHJvbGxlclwiXHJcblxyXG5jb25zdCBhcGkgPSBleHByZXNzLlJvdXRlcigpXHJcbmNvbnN0IGluaXRBUElSb3V0ZSA9IChhcHApID0+IHtcclxuXHJcbiAgICBhcGkuZ2V0KCcvbG9naW4nLCBBcGlMb2dpbkNvbnRyb2xsZXIubG9naW4pXHJcbiAgICBhcGkucG9zdCgnL2xvZ2luJywgQXBpTG9naW5Db250cm9sbGVyLmxvZ2luX2F1dGgpXHJcbiAgICBhcGkuZ2V0KCcvbG9nb3V0JywgQXBpTG9naW5Db250cm9sbGVyLmxvZ291dClcclxuXHJcbiAgICBhcGkuZ2V0KCcvY3JlYXRlX25ld191c2VyJywgQXBpVXNlckNvbnRyb2xsZXIubmV3X3VzZXIpXHJcbiAgICBhcGkucG9zdCgnL2luc2VydF9uZXdfdXNlcicsIEFwaVVzZXJDb250cm9sbGVyLmluc2VydF91c2VyKVxyXG4gICAgYXBpLmdldCgnL2xpc3QtdXNlci86ZnJvbS06dG8nLCBBcGlVc2VyQ29udHJvbGxlci5saXN0X3VzZXIpXHJcblxyXG4gICAgYXBpLmdldCgnL2RldGFpbF91c2VyLzp1c2VybmFtZScsIEFwaVVzZXJDb250cm9sbGVyLmRldGFpbF91c2VyKVxyXG5cclxuICAgIGFwaS5kZWxldGUoJy9kZWxfdXNlcicsIEFwaVVzZXJDb250cm9sbGVyLmRlbF91c2VyKVxyXG5cclxuICAgIGFwaS5nZXQoJy92aWV3X2VkaXQvOnVzZXJuYW1lJywgQXBpVXNlckNvbnRyb2xsZXIudmlld19lZGl0KVxyXG4gICAgYXBpLnB1dCgnL2VkaXRfdXNlcicsIEFwaVVzZXJDb250cm9sbGVyLmVkaXRfdXNlcilcclxuXHJcbiAgICByZXR1cm4gYXBwLnVzZSgnL2FwaS92MScsIGFwaSlcclxufVxyXG5leHBvcnQgZGVmYXVsdCBpbml0QVBJUm91dGUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLG1CQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxrQkFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQWtFLFNBQUFELHVCQUFBSSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRWxFLE1BQU1HLEdBQUcsR0FBR0MsZ0JBQU8sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFDNUIsTUFBTUMsWUFBWSxHQUFJQyxHQUFHLElBQUs7RUFFMUJKLEdBQUcsQ0FBQ0ssR0FBRyxDQUFDLFFBQVEsRUFBRUMsMkJBQWtCLENBQUNDLEtBQUssQ0FBQztFQUMzQ1AsR0FBRyxDQUFDUSxJQUFJLENBQUMsUUFBUSxFQUFFRiwyQkFBa0IsQ0FBQ0csVUFBVSxDQUFDO0VBQ2pEVCxHQUFHLENBQUNLLEdBQUcsQ0FBQyxTQUFTLEVBQUVDLDJCQUFrQixDQUFDSSxNQUFNLENBQUM7RUFFN0NWLEdBQUcsQ0FBQ0ssR0FBRyxDQUFDLGtCQUFrQixFQUFFTSwwQkFBaUIsQ0FBQ0MsUUFBUSxDQUFDO0VBQ3ZEWixHQUFHLENBQUNRLElBQUksQ0FBQyxrQkFBa0IsRUFBRUcsMEJBQWlCLENBQUNFLFdBQVcsQ0FBQztFQUMzRGIsR0FBRyxDQUFDSyxHQUFHLENBQUMsc0JBQXNCLEVBQUVNLDBCQUFpQixDQUFDRyxTQUFTLENBQUM7RUFFNURkLEdBQUcsQ0FBQ0ssR0FBRyxDQUFDLHdCQUF3QixFQUFFTSwwQkFBaUIsQ0FBQ0ksV0FBVyxDQUFDO0VBRWhFZixHQUFHLENBQUNnQixNQUFNLENBQUMsV0FBVyxFQUFFTCwwQkFBaUIsQ0FBQ00sUUFBUSxDQUFDO0VBRW5EakIsR0FBRyxDQUFDSyxHQUFHLENBQUMsc0JBQXNCLEVBQUVNLDBCQUFpQixDQUFDTyxTQUFTLENBQUM7RUFDNURsQixHQUFHLENBQUNtQixHQUFHLENBQUMsWUFBWSxFQUFFUiwwQkFBaUIsQ0FBQ1MsU0FBUyxDQUFDO0VBRWxELE9BQU9oQixHQUFHLENBQUNpQixHQUFHLENBQUMsU0FBUyxFQUFFckIsR0FBRyxDQUFDO0FBQ2xDLENBQUM7QUFBQSxJQUFBc0IsUUFBQSxHQUFBQyxPQUFBLENBQUF4QixPQUFBLEdBQ2NJLFlBQVkifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_ApiLoginController","_ApiUserController","obj","__esModule","default","api","express","Router","initAPIRoute","app","get","ApiLoginController","login","post","login_auth","logout","ApiUserController","new_user","insert_user","list_user","detail_user","delete","del_user","view_edit","put","edit_user","use","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\router\\","sources":["apiRoute.js"],"sourcesContent":["import express from \"express\";\r\nimport ApiLoginController from \"./../controllers/ApiLoginController\"\r\nimport ApiUserController from \"./../controllers/ApiUserController\"\r\n\r\nconst api = express.Router()\r\nconst initAPIRoute = (app) => {\r\n\r\n    api.get('/login', ApiLoginController.login)\r\n    api.post('/login', ApiLoginController.login_auth)\r\n    api.get('/logout', ApiLoginController.logout)\r\n\r\n    api.get('/create_new_user', ApiUserController.new_user)\r\n    api.post('/insert_new_user', ApiUserController.insert_user)\r\n    api.get('/list-user/:from-:to', ApiUserController.list_user)\r\n\r\n    api.get('/detail_user/:username', ApiUserController.detail_user)\r\n\r\n    api.delete('/del_user', ApiUserController.del_user)\r\n\r\n    api.get('/view_edit/:username', ApiUserController.view_edit)\r\n    api.put('/edit_user', ApiUserController.edit_user)\r\n\r\n    return app.use('/api/v1', api)\r\n}\r\nexport default initAPIRoute"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,mBAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,kBAAA,GAAAH,sBAAA,CAAAC,OAAA;AAAkE,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAElE,MAAMG,GAAG,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAC5B,MAAMC,YAAY,GAAIC,GAAG,IAAK;EAE1BJ,GAAG,CAACK,GAAG,CAAC,QAAQ,EAAEC,2BAAkB,CAACC,KAAK,CAAC;EAC3CP,GAAG,CAACQ,IAAI,CAAC,QAAQ,EAAEF,2BAAkB,CAACG,UAAU,CAAC;EACjDT,GAAG,CAACK,GAAG,CAAC,SAAS,EAAEC,2BAAkB,CAACI,MAAM,CAAC;EAE7CV,GAAG,CAACK,GAAG,CAAC,kBAAkB,EAAEM,0BAAiB,CAACC,QAAQ,CAAC;EACvDZ,GAAG,CAACQ,IAAI,CAAC,kBAAkB,EAAEG,0BAAiB,CAACE,WAAW,CAAC;EAC3Db,GAAG,CAACK,GAAG,CAAC,sBAAsB,EAAEM,0BAAiB,CAACG,SAAS,CAAC;EAE5Dd,GAAG,CAACK,GAAG,CAAC,wBAAwB,EAAEM,0BAAiB,CAACI,WAAW,CAAC;EAEhEf,GAAG,CAACgB,MAAM,CAAC,WAAW,EAAEL,0BAAiB,CAACM,QAAQ,CAAC;EAEnDjB,GAAG,CAACK,GAAG,CAAC,sBAAsB,EAAEM,0BAAiB,CAACO,SAAS,CAAC;EAC5DlB,GAAG,CAACmB,GAAG,CAAC,YAAY,EAAER,0BAAiB,CAACS,SAAS,CAAC;EAElD,OAAOhB,GAAG,CAACiB,GAAG,CAAC,SAAS,EAAErB,GAAG,CAAC;AAClC,CAAC;AAAA,IAAAsB,QAAA,GAAAC,OAAA,CAAAxB,OAAA,GACcI,YAAY"}},"mtime":1696567328075},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\ApiLoginController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst login = (req, res) => {\n  try {\n    let auth = null;\n    if (req.session.auth) {\n      auth = req.session.auth.name;\n    }\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        page: 'login',\n        title: 'Đăng nhập',\n        auth_name: auth\n      }\n    }));\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nconst login_auth = async (req, res) => {\n  try {\n    let body = req.body;\n    // console.log(body)\n\n    if (!body.username || !body.password) {\n      return res.status(400).json(_JWTAction.default.createJWT({\n        data: {\n          err: 1,\n          mess: \"Lỗi: thiếu tài khoản hoặc mật khẩu\"\n        }\n      }));\n    }\n    let auth = await _userModel.default.auth(body.username);\n    if (auth.length < 1) {\n      return res.status(400).json(_JWTAction.default.createJWT({\n        data: {\n          err: 1,\n          mess: \"Lỗi: tài khoản không tồn tại\"\n        }\n      }));\n    }\n    let hash = _bcryptjs.default.hashSync(body.password, _bcryptjs.default.genSaltSync(10));\n    if (_bcryptjs.default.compareSync(body.password, auth[0].password)) {\n      req.session.auth = {\n        name: auth[0].username,\n        pass: auth[0].password,\n        role: auth[0].groupid\n      };\n      return res.status(200).json(_JWTAction.default.createJWT({\n        data: {\n          err: 0,\n          mess: \"Đăng nhập thành công\"\n        }\n      }));\n    } else {\n      return res.status(400).json(_JWTAction.default.createJWT({\n        data: {\n          err: 1,\n          mess: \"Lỗi: sai mật khẩu\"\n        }\n      }));\n    }\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nconst logout = (req, res) => {\n  try {\n    if (req.session.auth) {\n      req.session.destroy(auth);\n      return res.status(200).json(_JWTAction.default.createJWT({\n        data: {\n          err: 0,\n          mess: \"Đăng xuất thành công\"\n        }\n      }));\n    }\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Chưa đăng nhập\"\n      }\n    }));\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nvar _default = exports.default = {\n  login,\n  login_auth,\n  logout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIl9ib2R5UGFyc2VyIiwiX0pXVEFjdGlvbiIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibG9naW4iLCJyZXEiLCJyZXMiLCJhdXRoIiwic2Vzc2lvbiIsIm5hbWUiLCJzdGF0dXMiLCJqc29uIiwiSldUIiwiY3JlYXRlSldUIiwiZGF0YSIsInBhZ2UiLCJ0aXRsZSIsImF1dGhfbmFtZSIsImVycm9yIiwiZXJyIiwibWVzcyIsImxvZ2luX2F1dGgiLCJib2R5IiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInVzZXJNb2RlbCIsImxlbmd0aCIsImhhc2giLCJiY3J5cHQiLCJoYXNoU3luYyIsImdlblNhbHRTeW5jIiwiY29tcGFyZVN5bmMiLCJwYXNzIiwicm9sZSIsImdyb3VwaWQiLCJsb2dvdXQiLCJkZXN0cm95IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxceGFtcHBcXGh0ZG9jc1xcQkNfTm9kZWpzXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkFwaUxvZ2luQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcbmltcG9ydCB1c2VyTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL3VzZXJNb2RlbFwiXHJcbmltcG9ydCB7IGpzb24gfSBmcm9tIFwiYm9keS1wYXJzZXJcIlxyXG5pbXBvcnQgSldUIGZyb20gXCIuLi9taWRkbGV3YXJlL0pXVEFjdGlvblwiXHJcblxyXG5cclxuY29uc3QgbG9naW4gPSAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgYXV0aCA9IG51bGxcclxuICAgIFxyXG4gICAgICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRoKSB7XHJcbiAgICAgICAgICAgIGF1dGggPSByZXEuc2Vzc2lvbi5hdXRoLm5hbWVcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBwYWdlOiAnbG9naW4nLCBcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnxJDEg25nIG5o4bqtcCcsIFxyXG4gICAgICAgICAgICAgICAgYXV0aF9uYW1lOmF1dGh9fVxyXG4gICAgICAgICAgICApICAgXHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yfX1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbG9naW5fYXV0aCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhib2R5KVxyXG5cclxuICAgICAgICBpZiAoIWJvZHkudXNlcm5hbWUgfHwgIWJvZHkucGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiB0aGnhur91IHTDoGkga2hv4bqjbiBob+G6t2MgbeG6rXQga2jhuql1XCJ9fVxyXG4gICAgICAgICAgICAgICAgKSAgXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBhdXRoID0gYXdhaXQgdXNlck1vZGVsLmF1dGgoYm9keS51c2VybmFtZSlcclxuXHJcbiAgICAgICAgaWYgKGF1dGgubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IHTDoGkga2hv4bqjbiBraMO0bmcgdOG7k24gdOG6oWlcIn19XHJcbiAgICAgICAgICAgICAgICApIFxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhib2R5LnBhc3N3b3JkLCBiY3J5cHQuZ2VuU2FsdFN5bmMoMTApKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICBpZiAoYmNyeXB0LmNvbXBhcmVTeW5jKGJvZHkucGFzc3dvcmQsIGF1dGhbMF0ucGFzc3dvcmQpKSB7XHJcbiAgICAgICAgICAgIHJlcS5zZXNzaW9uLmF1dGggPSB7bmFtZTphdXRoWzBdLnVzZXJuYW1lLCBwYXNzOmF1dGhbMF0ucGFzc3dvcmQsIHJvbGU6YXV0aFswXS5ncm91cGlkfVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwixJDEg25nIG5o4bqtcCB0aMOgbmggY8O0bmdcIn19XHJcbiAgICAgICAgICAgICAgICApIFxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IHNhaSBt4bqtdCBraOG6qXVcIn19XHJcbiAgICAgICAgICAgICAgICApIFxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yfX1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbG9nb3V0ID0gKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgpIHtcclxuICAgICAgICAgICAgcmVxLnNlc3Npb24uZGVzdHJveShhdXRoKVxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwixJDEg25nIHh14bqldCB0aMOgbmggY8O0bmdcIn19XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJDaMawYSDEkcSDbmcgbmjhuq1wXCJ9fVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKSAgICAgICAgXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIEpXVC5jcmVhdGVKV1Qoe2RhdGE6IHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3J9fVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7bG9naW4sIGxvZ2luX2F1dGgsIGxvZ291dH1cclxuXHJcblxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxTQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxXQUFBLEdBQUFILE9BQUE7QUFDQSxJQUFBSSxVQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUQsdUJBQUFNLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFHekMsTUFBTUcsS0FBSyxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUV4QixJQUFJO0lBRUEsSUFBSUMsSUFBSSxHQUFHLElBQUk7SUFFZixJQUFJRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0QsSUFBSSxFQUFFO01BQ2xCQSxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csT0FB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","_bodyParser","_JWTAction","obj","__esModule","default","login","req","res","auth","session","name","status","json","JWT","createJWT","data","page","title","auth_name","error","err","mess","login_auth","body","username","password","userModel","length","hash","bcrypt","hashSync","genSaltSync","compareSync","pass","role","groupid","logout","destroy","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["ApiLoginController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n\r\nconst login = (req, res) => {\r\n\r\n    try {\r\n\r\n        let auth = null\r\n    \r\n        if (req.session.auth) {\r\n            auth = req.session.auth.name\r\n        }\r\n        \r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                page: 'login', \r\n                title: 'Đăng nhập', \r\n                auth_name:auth}}\r\n            )   \r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nconst login_auth = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n        // console.log(body)\r\n\r\n        if (!body.username || !body.password) {\r\n            return res.status(400).json(\r\n                JWT.createJWT({data: {\r\n                    err: 1,\r\n                    mess: \"Lỗi: thiếu tài khoản hoặc mật khẩu\"}}\r\n                )  \r\n            )\r\n        }\r\n\r\n        let auth = await userModel.auth(body.username)\r\n\r\n        if (auth.length < 1) {\r\n            return res.status(400).json(\r\n                JWT.createJWT({data: {\r\n                    err: 1,\r\n                    mess: \"Lỗi: tài khoản không tồn tại\"}}\r\n                ) \r\n            )\r\n        }\r\n\r\n        let hash = bcrypt.hashSync(body.password, bcrypt.genSaltSync(10))\r\n            \r\n        if (bcrypt.compareSync(body.password, auth[0].password)) {\r\n            req.session.auth = {name:auth[0].username, pass:auth[0].password, role:auth[0].groupid}\r\n            return res.status(200).json(\r\n                JWT.createJWT({data: {\r\n                    err: 0,\r\n                    mess: \"Đăng nhập thành công\"}}\r\n                ) \r\n            )\r\n        }\r\n        else {\r\n            return res.status(400).json(\r\n                JWT.createJWT({data: {\r\n                    err: 1,\r\n                    mess: \"Lỗi: sai mật khẩu\"}}\r\n                ) \r\n            )\r\n        }\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nconst logout = (req, res) => {\r\n\r\n    try {\r\n\r\n        if (req.session.auth) {\r\n            req.session.destroy(auth)\r\n            return res.status(200).json(\r\n                JWT.createJWT({data: {\r\n                    err: 0,\r\n                    mess: \"Đăng xuất thành công\"}}\r\n                )\r\n            )\r\n        }\r\n\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Chưa đăng nhập\"}}\r\n            )\r\n        )        \r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nexport default {login, login_auth, logout}\r\n\r\n\r\n"],"mappings":"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"}},"mtime":1696567327993},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\\\\src\\\\controllers\\\\ApiPostController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Nodejs\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thư viện thao tác file\n\nconst new_post = async (req, res) => {\n  try {\n    let danhmuc = await _newsModel.default.list_news_all();\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        page: 'newpost',\n        title: 'Tạo bài viết',\n        danhmuc: danhmuc\n      }\n    }));\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nconst insert_post = async (req, res) => {\n  try {\n    let body = req.body;\n    let img = req.file;\n    if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\n      return res.status(400).json(_JWTAction.default.createJWT({\n        data: {\n          err: 1,\n          mess: \"Thiếu thông tin cần thiết\"\n        }\n      }));\n    }\n    const currentDate = new Date();\n    await _postModel.default.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id, currentDate);\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nconst list_post = async (req, res) => {\n  try {\n    let _from = req.params.from;\n    let _to = req.params.to;\n    let auth = null;\n    if (req.session.auth) {\n      auth = req.session.auth.name;\n    }\n    if (isNaN(_from) === false && isNaN(_to) === false) {\n      let list = await _postModel.default.list_post(_from, _to);\n      return res.status(200).json(_JWTAction.default.createJWT({\n        data: {\n          page: 'listpost',\n          title: 'Danh sách bài viết',\n          params: {\n            from: _from,\n            to: _to\n          },\n          list: list,\n          auth: auth\n        }\n      }));\n    }\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nconst detail_post = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let danhmuc = await _newsModel.default.list_news_all();\n    let list = await _postModel.default.detail_post(id);\n    if (list.length < 1) {\n      return res.status(400).json(_JWTAction.default.createJWT({\n        data: {\n          err: 1,\n          mess: \"Bài viết không tồn tại\"\n        }\n      }));\n    }\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        page: 'detailpost',\n        title: 'Chi tiết bài viết',\n        list: list,\n        danhmuc: danhmuc\n      }\n    }));\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nconst edit_post = async (req, res) => {\n  try {\n    const id = req.body.id;\n    let body = req.body;\n    let img = body.img_old; // truyền img cũ qua hidden input\n    let file = req.file;\n    if (file) {\n      img = file.filename;\n      let post = await _postModel.default.detail_post(id);\n      if (post.length < 1) {\n        return res.status(400).json(_JWTAction.default.createJWT({\n          data: {\n            err: 1,\n            mess: \"Bài viết không tồn tại\"\n          }\n        }));\n      }\n      _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n    }\n    if (!body.titlenew || !body.contentnew || !body.news_id) {\n      return res.status(400).json(_JWTAction.default.createJWT({\n        data: {\n          err: 1,\n          mess: \"Thiếu thông tin cần thiết\"\n        }\n      }));\n    }\n    await _postModel.default.edit_post(body.titlenew, body.contentnew, img, body.news_id, id);\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        err: 0,\n        mess: \"Cập nhật thành công\"\n      }\n    }));\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nconst view_edit_post = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let danhmuc = await _newsModel.default.list_news_all();\n    let list = await _postModel.default.detail_post_edit(id);\n    if (list.length < 1) {\n      return res.status(400).json(_JWTAction.default.createJWT({\n        data: {\n          err: 1,\n          mess: \"Người dùng không tồn tại\"\n        }\n      }));\n    }\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        page: 'viewEditpost',\n        title: 'Cập nhật bài viết',\n        list: list,\n        danhmuc: danhmuc\n      }\n    }));\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nconst del_post = async (req, res) => {\n  try {\n    const id = req.body.id;\n    let post = await _postModel.default.detail_post(id);\n    if (post.length < 1) {\n      return res.status(400).json(_JWTAction.default.createJWT({\n        data: {\n          err: 1,\n          mess: \"Bài viết không tồn tại\"\n        }\n      }));\n    }\n    _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n    let list = await _postModel.default.del_post(id);\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        err: 0,\n        mess: \"Xóa bài viết thành công\"\n      }\n    }));\n  } catch (error) {\n    return res.status(400).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nvar _default = exports.default = {\n  list_post,\n  new_post,\n  insert_post,\n  detail_post,\n  view_edit_post,\n  edit_post,\n  del_post\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX3Bvc3RNb2RlbCIsIl9uZXdzTW9kZWwiLCJfYm9keVBhcnNlciIsIl9KV1RBY3Rpb24iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm5ld19wb3N0IiwicmVxIiwicmVzIiwiZGFuaG11YyIsIm5ld3NNb2RlbCIsImxpc3RfbmV3c19hbGwiLCJzdGF0dXMiLCJqc29uIiwiSldUIiwiY3JlYXRlSldUIiwiZGF0YSIsInBhZ2UiLCJ0aXRsZSIsImVycm9yIiwiZXJyIiwibWVzcyIsImluc2VydF9wb3N0IiwiYm9keSIsImltZyIsImZpbGUiLCJ0aXRsZW5ldyIsImNvbnRlbnRuZXciLCJmaWxlbmFtZSIsIm5ld3NfaWQiLCJjdXJyZW50RGF0ZSIsIkRhdGUiLCJwb3N0TW9kZWwiLCJsaXN0X3Bvc3QiLCJfZnJvbSIsInBhcmFtcyIsImZyb20iLCJfdG8iLCJ0byIsImF1dGgiLCJzZXNzaW9uIiwibmFtZSIsImlzTmFOIiwibGlzdCIsImRldGFpbF9wb3N0IiwiaWQiLCJsZW5ndGgiLCJlZGl0X3Bvc3QiLCJpbWdfb2xkIiwicG9zdCIsImZzIiwidW5saW5rU3luYyIsImltYWdlIiwidmlld19lZGl0X3Bvc3QiLCJkZXRhaWxfcG9zdF9lZGl0IiwiZGVsX3Bvc3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlanNcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQXBpUG9zdENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgZnMgZnJvbSAnZnMnIC8vIHRoxrAgdmnhu4duIHRoYW8gdMOhYyBmaWxlXHJcbmltcG9ydCBwb3N0TW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL3Bvc3RNb2RlbFwiXHJcbmltcG9ydCBuZXdzTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL25ld3NNb2RlbFwiXHJcbmltcG9ydCB7IGpzb24gfSBmcm9tIFwiYm9keS1wYXJzZXJcIlxyXG5pbXBvcnQgSldUIGZyb20gXCIuLi9taWRkbGV3YXJlL0pXVEFjdGlvblwiXHJcblxyXG5cclxuY29uc3QgbmV3X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCBkYW5obXVjID0gYXdhaXQgbmV3c01vZGVsLmxpc3RfbmV3c19hbGwoKVxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgcGFnZTogJ25ld3Bvc3QnLCBcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnVOG6oW8gYsOgaSB2aeG6v3QnLFxyXG4gICAgICAgICAgICAgICAgZGFuaG11YzogZGFuaG11Y319XHJcbiAgICAgICAgICAgICkgXHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yfX1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5jb25zdCBpbnNlcnRfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuICAgICAgICBsZXQgaW1nID0gcmVxLmZpbGVcclxuXHJcblxyXG4gICAgICAgIGlmICghYm9keS50aXRsZW5ldyB8fCAhYm9keS5jb250ZW50bmV3IHx8ICFpbWcuZmlsZW5hbWUgfHwgIWJvZHkubmV3c19pZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiVGhp4bq/dSB0aMO0bmcgdGluIGPhuqduIHRoaeG6v3RcIn19XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICAgICAgYXdhaXQgcG9zdE1vZGVsLmluc2VydF9wb3N0KGJvZHkudGl0bGVuZXcsIGJvZHkuY29udGVudG5ldywgaW1nLmZpbGVuYW1lLCBib2R5Lm5ld3NfaWQsY3VycmVudERhdGUpXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIEpXVC5jcmVhdGVKV1Qoe2RhdGE6IHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3J9fVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBsaXN0X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgX2Zyb20gPSByZXEucGFyYW1zLmZyb21cclxuICAgICAgICBsZXQgX3RvID0gcmVxLnBhcmFtcy50b1xyXG4gICAgICAgIGxldCBhdXRoID0gbnVsbFxyXG5cclxuICAgICAgICBpZiAocmVxLnNlc3Npb24uYXV0aCkge1xyXG4gICAgICAgICAgICBhdXRoID0gcmVxLnNlc3Npb24uYXV0aC5uYW1lXHJcbiAgICAgICAgfSBcclxuXHJcbiAgICAgICAgaWYgKGlzTmFOKF9mcm9tKSA9PT0gZmFsc2UgJiYgaXNOYU4oX3RvKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICBcclxuICAgICAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwubGlzdF9wb3N0KF9mcm9tLCBfdG8pXHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2U6ICdsaXN0cG9zdCcsIFxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnRGFuaCBzw6FjaCBiw6BpIHZp4bq/dCcsIFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tOiBfZnJvbSwgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvOiBfdG9cclxuICAgICAgICAgICAgICAgICAgICB9LCBcclxuICAgICAgICAgICAgICAgICAgICBsaXN0OiBsaXN0LCBcclxuICAgICAgICAgICAgICAgICAgICBhdXRoOiBhdXRofX1cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yfX1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZGV0YWlsX3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICAgICAgbGV0IGRhbmhtdWMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpXHJcbiAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGV0YWlsX3Bvc3QoaWQpXHJcblxyXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkLDoGkgdmnhur90IGtow7RuZyB04buTbiB04bqhaVwifX1cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBwYWdlOiAnZGV0YWlscG9zdCcsIFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdDaGkgdGnhur90IGLDoGkgdmnhur90JywgXHJcbiAgICAgICAgICAgICAgICBsaXN0OiBsaXN0LFxyXG4gICAgICAgICAgICAgICAgZGFuaG11YzogZGFuaG11Y319XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIEpXVC5jcmVhdGVKV1Qoe2RhdGE6IHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3J9fVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbmNvbnN0IGVkaXRfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQgXHJcbiAgICAgICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgICAgIGxldCBpbWcgPSBib2R5LmltZ19vbGQgLy8gdHJ1eeG7gW4gaW1nIGPFqSBxdWEgaGlkZGVuIGlucHV0XHJcbiAgICAgICAgbGV0IGZpbGUgPSByZXEuZmlsZVxyXG5cclxuICAgICAgICBpZiAoZmlsZSkge1xyXG5cclxuICAgICAgICAgICAgaW1nID0gZmlsZS5maWxlbmFtZVxyXG4gICAgICAgICAgICBsZXQgcG9zdCA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdChpZClcclxuXHJcbiAgICAgICAgICAgIGlmIChwb3N0Lmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzczogXCJCw6BpIHZp4bq/dCBraMO0bmcgdOG7k24gdOG6oWlcIn19XHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmcy51bmxpbmtTeW5jKCcuL3NyYy9wdWJsaWMvdXBsb2FkLycgKyBwb3N0WzBdLmltYWdlKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFib2R5LnRpdGxlbmV3IHx8ICFib2R5LmNvbnRlbnRuZXcgfHwgIWJvZHkubmV3c19pZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiVGhp4bq/dSB0aMO0bmcgdGluIGPhuqduIHRoaeG6v3RcIn19XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IHBvc3RNb2RlbC5lZGl0X3Bvc3QoYm9keS50aXRsZW5ldywgYm9keS5jb250ZW50bmV3LCBpbWcsIGJvZHkubmV3c19pZCwgaWQpXHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJD4bqtcCBuaOG6rXQgdGjDoG5oIGPDtG5nXCJ9fVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yfX1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3Qgdmlld19lZGl0X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICAgICAgbGV0IGRhbmhtdWMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpXHJcbiAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGV0YWlsX3Bvc3RfZWRpdChpZClcclxuXHJcbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiTmfGsOG7nWkgZMO5bmcga2jDtG5nIHThu5NuIHThuqFpXCJ9fVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIEpXVC5jcmVhdGVKV1Qoe2RhdGE6IHtcclxuICAgICAgICAgICAgICAgIHBhZ2U6ICd2aWV3RWRpdHBvc3QnLCBcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnQ+G6rXAgbmjhuq10IGLDoGkgdmnhur90JywgXHJcbiAgICAgICAgICAgICAgICBsaXN0OiBsaXN0LFxyXG4gICAgICAgICAgICAgICAgZGFuaG11YzogZGFuaG11Y319XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIEpXVC5jcmVhdGVKV1Qoe2RhdGE6IHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3J9fVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuY29uc3QgZGVsX3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBjb25zdCBpZCA9IHJlcS5ib2R5LmlkIFxyXG4gICAgICAgIGxldCBwb3N0ID0gYXdhaXQgcG9zdE1vZGVsLmRldGFpbF9wb3N0KGlkKVxyXG5cclxuICAgICAgICBpZiAocG9zdC5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIEpXVC5jcmVhdGVKV1Qoe2RhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJCw6BpIHZp4bq/dCBraMO0bmcgdOG7k24gdOG6oWlcIn19XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZzLnVubGlua1N5bmMoJy4vc3JjL3B1YmxpYy91cGxvYWQvJyArIHBvc3RbMF0uaW1hZ2UpXHJcbiAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGVsX3Bvc3QoaWQpXHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJYw7NhIGLDoGkgdmnhur90IHRow6BuaCBjw7RuZ1wifX1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvcn19XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtsaXN0X3Bvc3QsbmV3X3Bvc3QsaW5zZXJ0X3Bvc3QsZGV0YWlsX3Bvc3Qsdmlld19lZGl0X3Bvc3QsZWRpdF9wb3N0LGRlbF9wb3N0fVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxHQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxVQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxXQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxVQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUQsdUJBQUFPLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFKckI7O0FBT3BCLE1BQU1HLFFBQVEsR0FBRyxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUVqQyxJQUFJO0lBQ0EsSUFBSUMsT0FBTyxHQUFHLE1BQU1DLGtCQUFTLENBQUNDLGFBQWEsQ0FBQyxDQUFDO0lBQzdDLE9BQU9ILEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQ3ZCQyxrQkFBRyxDQUFDQyxTQUFTLENBQUM7TUFBQ0MsSUFBSSxFQUFFO1FBQ2pCQyxJQUFJLEVBQUUsU0FBUztRQUNmQyxLQUFLLEVBQUUsY0FBYztRQUNyQlQsT0FBTyxFQUFFQTtNQUFPO0lBQUMsQ0FDckIsQ0FDSixDQUFDO0VBRUwsQ0FBQyxDQUFDLE9BQU9VLEtBQUssRUFBRTtJQUNaLE9BQU9YLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQ3ZCQyxrQkFBRyxDQUFDQyxTQUFTLENBQUM7TUFBQ0MsSUFBSSxFQUFFO1FBQ2pCSSxHQUFHLEVB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_postModel","_newsModel","_bodyParser","_JWTAction","obj","__esModule","default","new_post","req","res","danhmuc","newsModel","list_news_all","status","json","JWT","createJWT","data","page","title","error","err","mess","insert_post","body","img","file","titlenew","contentnew","filename","news_id","currentDate","Date","postModel","list_post","_from","params","from","_to","to","auth","session","name","isNaN","list","detail_post","id","length","edit_post","img_old","post","fs","unlinkSync","image","view_edit_post","detail_post_edit","del_post","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Nodejs\\src\\controllers\\","sources":["ApiPostController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs' // thư viện thao tác file\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n\r\nconst new_post = async (req, res) => {\r\n\r\n    try {\r\n        let danhmuc = await newsModel.list_news_all()\r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                page: 'newpost', \r\n                title: 'Tạo bài viết',\r\n                danhmuc: danhmuc}}\r\n            ) \r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst insert_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n        let img = req.file\r\n\r\n\r\n        if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\r\n            return res.status(400).json(\r\n                JWT.createJWT({data: {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"}}\r\n                )\r\n            )\r\n        }\r\n\r\n        const currentDate = new Date();\r\n\r\n        await postModel.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id,currentDate)\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nconst list_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let _from = req.params.from\r\n        let _to = req.params.to\r\n        let auth = null\r\n\r\n        if (req.session.auth) {\r\n            auth = req.session.auth.name\r\n        } \r\n\r\n        if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        \r\n            let list = await postModel.list_post(_from, _to)\r\n    \r\n            return res.status(200).json(\r\n                JWT.createJWT({data: {\r\n                    page: 'listpost', \r\n                    title: 'Danh sách bài viết', \r\n                    params: {\r\n                        from: _from, \r\n                        to: _to\r\n                    }, \r\n                    list: list, \r\n                    auth: auth}}\r\n                )\r\n            )\r\n        }\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nconst detail_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let id = req.params.id\r\n        let danhmuc = await newsModel.list_news_all()\r\n        let list = await postModel.detail_post(id)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(400).json(\r\n                JWT.createJWT({data: {\r\n                    err: 1,\r\n                    mess: \"Bài viết không tồn tại\"}}\r\n                )\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                page: 'detailpost', \r\n                title: 'Chi tiết bài viết', \r\n                list: list,\r\n                danhmuc: danhmuc}}\r\n            )\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst edit_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        const id = req.body.id \r\n        let body = req.body\r\n        let img = body.img_old // truyền img cũ qua hidden input\r\n        let file = req.file\r\n\r\n        if (file) {\r\n\r\n            img = file.filename\r\n            let post = await postModel.detail_post(id)\r\n\r\n            if (post.length < 1) {\r\n                return res.status(400).json(\r\n                    JWT.createJWT({data: {\r\n                        err: 1,\r\n                        mess: \"Bài viết không tồn tại\"}}\r\n                    )\r\n                )\r\n            }\r\n\r\n            fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n        }\r\n\r\n        if (!body.titlenew || !body.contentnew || !body.news_id) {\r\n            return res.status(400).json(\r\n                JWT.createJWT({data: {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"}}\r\n                )\r\n            )\r\n        }\r\n\r\n        await postModel.edit_post(body.titlenew, body.contentnew, img, body.news_id, id)\r\n\r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                err: 0,\r\n                mess: \"Cập nhật thành công\"}}\r\n            )\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nconst view_edit_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let id = req.params.id\r\n        let danhmuc = await newsModel.list_news_all()\r\n        let list = await postModel.detail_post_edit(id)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(400).json(\r\n                JWT.createJWT({data: {\r\n                    err: 1,\r\n                    mess: \"Người dùng không tồn tại\"}}\r\n                )\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                page: 'viewEditpost', \r\n                title: 'Cập nhật bài viết', \r\n                list: list,\r\n                danhmuc: danhmuc}}\r\n            )\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst del_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        const id = req.body.id \r\n        let post = await postModel.detail_post(id)\r\n\r\n        if (post.length < 1) {\r\n            return res.status(400).json(\r\n                JWT.createJWT({data: {\r\n                    err: 1,\r\n                    mess: \"Bài viết không tồn tại\"}}\r\n                )\r\n            )\r\n        }\r\n\r\n        fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n        let list = await postModel.del_post(id)\r\n\r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                err: 0,\r\n                mess: \"Xóa bài viết thành công\"}}\r\n            )\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nexport default {list_post,new_post,insert_post,detail_post,view_edit_post,edit_post,del_post}\r\n"],"mappings":"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"}},"mtime":1696730628355},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nvar _connectRedis = _interopRequireDefault(require(\"connect-redis\"));\nvar _expressSession = _interopRequireDefault(require(\"express-session\"));\nvar _redis = require(\"redis\");\nvar _viewEngine = _interopRequireDefault(require(\"./config/viewEngine\"));\nvar _webRoute = _interopRequireDefault(require(\"./router/webRoute\"));\nvar _apiRoute = _interopRequireDefault(require(\"./router/apiRoute\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\nvar _Auth = _interopRequireDefault(require(\"./middleware/Auth\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _cookieParser = _interopRequireDefault(require(\"cookie-parser\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst app = (0, _express.default)();\n_dotenv.default.config(); // cấu hình port trong .env\nconst port = process.env.PORT;\n\n// Initialize client.\nlet redisClient = (0, _redis.createClient)();\nredisClient.connect().catch(console.error);\n\n// Initialize store.\nlet redisStore = new _connectRedis.default({\n  client: redisClient,\n  prefix: \"myapp:\"\n});\n\n// Initialize sesssion storage.\napp.use((0, _expressSession.default)({\n  store: redisStore,\n  resave: false,\n  // required: force lightweight session keep alive (touch)\n  saveUninitialized: false,\n  // recommended: only save session when data exists\n  secret: \"keyboard cat\"\n}));\napp.use(_bodyParser.default.urlencoded({\n  extended: false\n}));\napp.use(_bodyParser.default.json());\n(0, _viewEngine.default)(app); // khởi tạo viewEngine\n\napp.use('/static', _express.default.static(_path.default.join(__dirname, 'public'))); // thêm \"/static\" vào link ảnh vd:\"/static/img/h1.jpg\"\n\napp.use((0, _cookieParser.default)());\nconst corsOptions = {\n  origin: ['http://localhost:3000', 'http://127.0.0.1'\n  // your origins here\n  ],\n\n  credentials: true,\n  exposedHeaders: ['set-cookie']\n};\napp.use((0, _cors.default)(corsOptions));\n_Auth.default.authMiddleware(app);\n(0, _webRoute.default)(app); // khởi tạo router\n(0, _apiRoute.default)(app); // khởi tạo router api\n\napp.use(_Auth.default.Notfound);\napp.listen(port, () => {\n  console.log(\"Example app listening on port http://localhost:\".concat(port));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2RvdGVudiIsIl9jb25uZWN0UmVkaXMiLCJfZXhwcmVzc1Nlc3Npb24iLCJfcmVkaXMiLCJfdmlld0VuZ2luZSIsIl93ZWJSb3V0ZSIsIl9hcGlSb3V0ZSIsIl9wYXRoIiwiX2JvZHlQYXJzZXIiLCJfQXV0aCIsIl9jb3JzIiwiX2Nvb2tpZVBhcnNlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiYXBwIiwiZXhwcmVzcyIsImRvdGVudiIsImNvbmZpZyIsInBvcnQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsInJlZGlzQ2xpZW50IiwiY3JlYXRlQ2xpZW50IiwiY29ubmVjdCIsImNhdGNoIiwiY29uc29sZSIsImVycm9yIiwicmVkaXNTdG9yZSIsIlJlZGlzU3RvcmUiLCJjbGllbnQiLCJwcmVmaXgiLCJ1c2UiLCJzZXNzaW9uIiwic3RvcmUiLCJyZXNhdmUiLCJzYXZlVW5pbml0aWFsaXplZCIsInNlY3JldCIsImJvZHlQYXJzZXIiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJqc29uIiwiY29uZmlnVmlld0VuZ2luZSIsInN0YXRpYyIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwiY29va2llUGFyc2VyIiwiY29yc09wdGlvbnMiLCJvcmlnaW4iLCJjcmVkZW50aWFscyIsImV4cG9zZWRIZWFkZXJzIiwiY29ycyIsIkF1dGgiLCJhdXRoTWlkZGxld2FyZSIsImluaXRXZWJSb3V0ZSIsImluaXRBUElSb3V0ZSIsIk5vdGZvdW5kIiwibGlzdGVuIiwibG9nIiwiY29uY2F0Il0sInNvdXJjZVJvb3QiOiJEOlxceGFtcHBcXGh0ZG9jc1xcQkNfTm9kZVxcc3JjXFwiLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuaW1wb3J0IGRvdGVudiBmcm9tIFwiZG90ZW52XCJcclxuaW1wb3J0IFJlZGlzU3RvcmUgZnJvbSBcImNvbm5lY3QtcmVkaXNcIlxyXG5pbXBvcnQgc2Vzc2lvbiBmcm9tIFwiZXhwcmVzcy1zZXNzaW9uXCJcclxuaW1wb3J0IHtjcmVhdGVDbGllbnR9IGZyb20gXCJyZWRpc1wiXHJcbmltcG9ydCBjb25maWdWaWV3RW5naW5lIGZyb20gXCIuL2NvbmZpZy92aWV3RW5naW5lXCJcclxuaW1wb3J0IGluaXRXZWJSb3V0ZSBmcm9tIFwiLi9yb3V0ZXIvd2ViUm91dGVcIlxyXG5pbXBvcnQgaW5pdEFQSVJvdXRlIGZyb20gXCIuL3JvdXRlci9hcGlSb3V0ZVwiXHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCJcclxuaW1wb3J0IGJvZHlQYXJzZXIgZnJvbSBcImJvZHktcGFyc2VyXCJcclxuaW1wb3J0IEF1dGggZnJvbSBcIi4vbWlkZGxld2FyZS9BdXRoXCJcclxuaW1wb3J0IGNvcnMgZnJvbSBcImNvcnNcIlxyXG5pbXBvcnQgY29va2llUGFyc2VyIGZyb20gJ2Nvb2tpZS1wYXJzZXInXHJcblxyXG5jb25zdCBhcHAgPSBleHByZXNzKClcclxuXHJcbmRvdGVudi5jb25maWcoKSAvLyBj4bqldSBow6xuaCBwb3J0IHRyb25nIC5lbnZcclxuY29uc3QgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlRcclxuXHJcbi8vIEluaXRpYWxpemUgY2xpZW50LlxyXG5sZXQgcmVkaXNDbGllbnQgPSBjcmVhdGVDbGllbnQoKVxyXG5yZWRpc0NsaWVudC5jb25uZWN0KCkuY2F0Y2goY29uc29sZS5lcnJvcilcclxuXHJcbi8vIEluaXRpYWxpemUgc3RvcmUuXHJcbmxldCByZWRpc1N0b3JlID0gbmV3IFJlZGlzU3RvcmUoe1xyXG4gIGNsaWVudDogcmVkaXNDbGllbnQsXHJcbiAgcHJlZml4OiBcIm15YXBwOlwiLFxyXG59KVxyXG5cclxuLy8gSW5pdGlhbGl6ZSBzZXNzc2lvbiBzdG9yYWdlLlxyXG5hcHAudXNlKFxyXG4gIHNlc3Npb24oe1xyXG4gICAgc3RvcmU6IHJlZGlzU3RvcmUsXHJcbiAgICByZXNhdmU6IGZhbHNlLCAvLyByZXF1aXJlZDogZm9yY2UgbGlnaHR3ZWlnaHQgc2Vzc2lvbiBrZWVwIGFsaXZlICh0b3VjaClcclxuICAgIHNhdmVVbmluaXRpYWxpemVkOiBmYWxzZSwgLy8gcmVjb21tZW5kZWQ6IG9ubHkgc2F2ZSBzZXNzaW9uIHdoZW4gZGF0YSBleGlzdHNcclxuICAgIHNlY3JldDogXCJrZXlib2FyZCBjYXRcIixcclxuICAgIFxyXG4gIH0pXHJcbilcclxuYXBwLnVzZShib2R5UGFyc2VyLnVybGVuY29kZWQoeyBleHRlbmRlZDogZmFsc2UgfSkpXHJcbmFwcC51c2UoYm9keVBhcnNlci5qc29uKCkpXHJcblxyXG5jb25maWdWaWV3RW5naW5lKGFwcCkgLy8ga2jhu59pIHThuqFvIHZpZXdFbmdpbmVcclxuXHJcbmFwcC51c2UoJy9zdGF0aWMnLCBleHByZXNzLnN0YXRpYyhwYXRoLmpvaW4oX19kaXJuYW1lLCdwdWJsaWMnKSkpIC8vIHRow6ptIFwiL3N0YXRpY1wiIHbDoG8gbGluayDhuqNuaCB2ZDpcIi9zdGF0aWMvaW1nL2gxLmpwZ1wiXHJcblxyXG5hcHAudXNlKGNvb2tpZVBhcnNlcigpKVxyXG5cclxuY29uc3QgY29yc09wdGlvbnMgPSB7XHJcbiAgb3JpZ2luOiBbXHJcbiAgICAnaHR0cDovL2xvY2FsaG9zdDozMDAwJyxcclxuICAgICdodHRwOi8vMTI3LjAuMC4xJ1xyXG4gICAgLy8geW91ciBvcmlnaW5zIGhlcmVcclxuICBdLFxyXG4gIGNyZWRlbnRpYWxzOiB0cnVlLFxyXG4gIGV4cG9zZWRIZWFkZXJzOiBbJ3NldC1jb29raWUnXSxcclxufTtcclxuXHJcbmFwcC51c2UoY29ycyhjb3JzT3B0aW9ucykpO1xyXG5cclxuQXV0aC5hdXRoTWlkZGxld2FyZShhcHApXHJcblxyXG5pbml0V2ViUm91dGUoYXBwKSAvLyBraOG7n2kgdOG6oW8gcm91dGVyXHJcbmluaXRBUElSb3V0ZShhcHApIC8vIGto4bufaSB04bqhbyByb3V0ZXIgYXBpXHJcblxyXG5hcHAudXNlKEF1dGguTm90Zm91bmQpXHJcblxyXG5hcHAubGlzdGVuKHBvcnQsICgpID0+IHtcclxuICBjb25zb2xlLmxvZyhgRXhhbXBsZSBhcHAgbGlzdGVuaW5nIG9uIHBvcnQgaHR0cDovL2xvY2FsaG9zdDoke3BvcnR9YClcclxufSkiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsYUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsZUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksTUFBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUssV0FBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sU0FBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU8sU0FBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVEsS0FBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVMsV0FBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVUsS0FBQSxHQUFBWCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVcsS0FBQSxHQUFBWixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVksYUFBQSxHQUFBYixzQkFBQSxDQUFBQyxPQUFBO0FBQXdDLFNBQUFELHVCQUFBYyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXhDLE1BQU1HLEdBQUcsR0FBRyxJQUFBQyxnQkFBTyxFQUFDLENBQUM7QUFFckJDLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDLENBQUMsRUFBQztBQUNoQixNQUFNQyxJQUFJLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxJQUFJOztBQUU3QjtBQUNBLElBQUlDLFdBQVcsR0FBRyxJQUFBQyxtQkFBWSxFQUFDLENBQUM7QUFDaENELFdBQVcsQ0FBQ0UsT0FBTyxDQUFDLENBQUMsQ0FBQ0MsS0FBSyxDQUFDQyxPQUFPLENBQUNDLEtBQUssQ0FBQzs7QUFFMUM7QUFDQSxJQUFJQyxVQUFVLEdBQUcsSUFBSUMscUJBQVUsQ0FBQztFQUM5QkMsTUFBTSxFQUFFUixXQUFXO0VBQ25CUyxNQUFNLEVBQUU7QUFDVixDQUFDLENBQUM7O0FBRUY7QUFDQWpCLEdBQUcsQ0FBQ2tCLEdBQUcsQ0FDTCxJQUFBQyx1QkFBTyxFQUFDO0VBQ05DLEtBQUssRUFBRU4sVUFBVTtFQUNqQk8sTUFBTSxFQUFFLEtBQUs7RUFBRTtFQUNmQyxpQkFBaUIsRUFBRSxLQUFLO0VBQUU7RUFDMUJDLE1BQU0sRUFBRTtBQUVWLENBQUMsQ0FDSCxDQUFDO0FBQ0R2QixHQUFHLENBQUNrQixHQUFHLENBQUNNLG1CQUFVLENBQUNDLFVBQVUsQ0FBQztFQUFFQyxRQUFRLEVBQUU7QUFBTSxDQUFDLENBQUMsQ0FBQztBQUNuRDFCLEdBQUcsQ0FBQ2tCLEdBQUcsQ0FBQ00sbUJBQVUsQ0FBQ0csSUFBSSxDQUFDLENBQUMsQ0FBQztBQUUxQixJQUFBQyxtQkFBZ0IsRUFBQzVCLEdBQUcsQ0FBQyxFQUFDOztBQUV0QkEsR0FBRyxDQUFDa0IsR0FBRyxDQUFDLFNBQVMsRUFBRWpCLGdCQUFPLENBQUM0QixNQUFNLENBQUNDLGFBQUksQ0FBQ0MsSUFBSSxDQUFDQyxTQUFTLEVBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxFQUFDOztBQUVsRWhDLEdBQUcsQ0FBQ2tCLEdBQUcsQ0FBQyxJQUFBZSxxQkFBWSxFQUFDLENBQUMsQ0FBQztBQUV2QixNQUFNQyxXQUFXLEdBQUc7RUFDbEJDLE1BQU0sRUFBRSxDQUNOLHVCQUF1QixFQUN2QjtFQUNBO0VBQUEsQ0FDRDs7RUFDREMsV0FBVyxFQUFFLElBQUk7RUFDakJDLGNBQWMsRUFBRSxDQUFDLFlBQVk7QUFDL0IsQ0FBQztBQUVEckMsR0FBRyxDQUFDa0IsR0FBRyxDQUFDLElBQUFvQixhQUFJLEVBQUNKLFdBQVcsQ0FBQyxDQUFDO0FBRTFCSyxhQUFJLENBQUNDLGNBQWMsQ0FBQ3hDLEdBQUcsQ0FBQztBQUV4QixJQUFBeUMsaUJBQVksRUFBQ3pDLEdBQUcsQ0FBQyxFQUFDO0FBQ2xCLElBQUEwQyxpQkFBWSxFQUFDMUMsR0FBRyxDQUFDLEVBQUM7O0FBRWxCQSxHQUFHLENBQUNrQixHQUFHLENBQUNxQixhQUFJLENBQUNJLFFBQVEsQ0FBQztBQUV0QjNDLEdBQUcsQ0FBQzRDLE1BQU0sQ0FBQ3hDLElBQUksRUFBRSxNQUFNO0VBQ3JCUSxPQUFPLENBQUNpQyxHQUFHLG1EQUFBQyxNQUFBLENBQW1EMUMsSUFBSSxDQUFFLENBQUM7QUFDdkUsQ0FBQyxDQUFDIn0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_dotenv","_connectRedis","_expressSession","_redis","_viewEngine","_webRoute","_apiRoute","_path","_bodyParser","_Auth","_cors","_cookieParser","obj","__esModule","default","app","express","dotenv","config","port","process","env","PORT","redisClient","createClient","connect","catch","console","error","redisStore","RedisStore","client","prefix","use","session","store","resave","saveUninitialized","secret","bodyParser","urlencoded","extended","json","configViewEngine","static","path","join","__dirname","cookieParser","corsOptions","origin","credentials","exposedHeaders","cors","Auth","authMiddleware","initWebRoute","initAPIRoute","Notfound","listen","log","concat"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\","sources":["index.js"],"sourcesContent":["import express from \"express\"\r\nimport dotenv from \"dotenv\"\r\nimport RedisStore from \"connect-redis\"\r\nimport session from \"express-session\"\r\nimport {createClient} from \"redis\"\r\nimport configViewEngine from \"./config/viewEngine\"\r\nimport initWebRoute from \"./router/webRoute\"\r\nimport initAPIRoute from \"./router/apiRoute\"\r\nimport path from \"path\"\r\nimport bodyParser from \"body-parser\"\r\nimport Auth from \"./middleware/Auth\"\r\nimport cors from \"cors\"\r\nimport cookieParser from 'cookie-parser'\r\n\r\nconst app = express()\r\n\r\ndotenv.config() // cấu hình port trong .env\r\nconst port = process.env.PORT\r\n\r\n// Initialize client.\r\nlet redisClient = createClient()\r\nredisClient.connect().catch(console.error)\r\n\r\n// Initialize store.\r\nlet redisStore = new RedisStore({\r\n  client: redisClient,\r\n  prefix: \"myapp:\",\r\n})\r\n\r\n// Initialize sesssion storage.\r\napp.use(\r\n  session({\r\n    store: redisStore,\r\n    resave: false, // required: force lightweight session keep alive (touch)\r\n    saveUninitialized: false, // recommended: only save session when data exists\r\n    secret: \"keyboard cat\",\r\n    \r\n  })\r\n)\r\napp.use(bodyParser.urlencoded({ extended: false }))\r\napp.use(bodyParser.json())\r\n\r\nconfigViewEngine(app) // khởi tạo viewEngine\r\n\r\napp.use('/static', express.static(path.join(__dirname,'public'))) // thêm \"/static\" vào link ảnh vd:\"/static/img/h1.jpg\"\r\n\r\napp.use(cookieParser())\r\n\r\nconst corsOptions = {\r\n  origin: [\r\n    'http://localhost:3000',\r\n    'http://127.0.0.1'\r\n    // your origins here\r\n  ],\r\n  credentials: true,\r\n  exposedHeaders: ['set-cookie'],\r\n};\r\n\r\napp.use(cors(corsOptions));\r\n\r\nAuth.authMiddleware(app)\r\n\r\ninitWebRoute(app) // khởi tạo router\r\ninitAPIRoute(app) // khởi tạo router api\r\n\r\napp.use(Auth.Notfound)\r\n\r\napp.listen(port, () => {\r\n  console.log(`Example app listening on port http://localhost:${port}`)\r\n})"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,aAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,eAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,MAAA,GAAAJ,OAAA;AACA,IAAAK,WAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,SAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,KAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,WAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,KAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,KAAA,GAAAZ,sBAAA,CAAAC,OAAA;AACA,IAAAY,aAAA,GAAAb,sBAAA,CAAAC,OAAA;AAAwC,SAAAD,uBAAAc,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAExC,MAAMG,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AAErBC,eAAM,CAACC,MAAM,CAAC,CAAC,EAAC;AAChB,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACC,IAAI;;AAE7B;AACA,IAAIC,WAAW,GAAG,IAAAC,mBAAY,EAAC,CAAC;AAChCD,WAAW,CAACE,OAAO,CAAC,CAAC,CAACC,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC;;AAE1C;AACA,IAAIC,UAAU,GAAG,IAAIC,qBAAU,CAAC;EAC9BC,MAAM,EAAER,WAAW;EACnBS,MAAM,EAAE;AACV,CAAC,CAAC;;AAEF;AACAjB,GAAG,CAACkB,GAAG,CACL,IAAAC,uBAAO,EAAC;EACNC,KAAK,EAAEN,UAAU;EACjBO,MAAM,EAAE,KAAK;EAAE;EACfC,iBAAiB,EAAE,KAAK;EAAE;EAC1BC,MAAM,EAAE;AAEV,CAAC,CACH,CAAC;AACDvB,GAAG,CAACkB,GAAG,CAACM,mBAAU,CAACC,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAM,CAAC,CAAC,CAAC;AACnD1B,GAAG,CAACkB,GAAG,CAACM,mBAAU,CAACG,IAAI,CAAC,CAAC,CAAC;AAE1B,IAAAC,mBAAgB,EAAC5B,GAAG,CAAC,EAAC;;AAEtBA,GAAG,CAACkB,GAAG,CAAC,SAAS,EAAEjB,gBAAO,CAAC4B,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAC,QAAQ,CAAC,CAAC,CAAC,EAAC;;AAElEhC,GAAG,CAACkB,GAAG,CAAC,IAAAe,qBAAY,EAAC,CAAC,CAAC;AAEvB,MAAMC,WAAW,GAAG;EAClBC,MAAM,EAAE,CACN,uBAAuB,EACvB;EACA;EAAA,CACD;;EACDC,WAAW,EAAE,IAAI;EACjBC,cAAc,EAAE,CAAC,YAAY;AAC/B,CAAC;AAEDrC,GAAG,CAACkB,GAAG,CAAC,IAAAoB,aAAI,EAACJ,WAAW,CAAC,CAAC;AAE1BK,aAAI,CAACC,cAAc,CAACxC,GAAG,CAAC;AAExB,IAAAyC,iBAAY,EAACzC,GAAG,CAAC,EAAC;AAClB,IAAA0C,iBAAY,EAAC1C,GAAG,CAAC,EAAC;;AAElBA,GAAG,CAACkB,GAAG,CAACqB,aAAI,CAACI,QAAQ,CAAC;AAEtB3C,GAAG,CAAC4C,MAAM,CAACxC,IAAI,EAAE,MAAM;EACrBQ,OAAO,CAACiC,GAAG,mDAAAC,MAAA,CAAmD1C,IAAI,CAAE,CAAC;AACvE,CAAC,CAAC"}},"mtime":1700121220963},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\config\\\\viewEngine.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst configViewEngine = app => {\n  app.set(\"view engine\", \"ejs\");\n  app.set(\"views\", \"./src/views\");\n};\nvar _default = exports.default = configViewEngine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWdWaWV3RW5naW5lIiwiYXBwIiwic2V0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcY29uZmlnXFwiLCJzb3VyY2VzIjpbInZpZXdFbmdpbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY29uZmlnVmlld0VuZ2luZSA9IChhcHApID0+IHtcclxuICAgIGFwcC5zZXQoXCJ2aWV3IGVuZ2luZVwiLCBcImVqc1wiKVxyXG4gICAgYXBwLnNldChcInZpZXdzXCIsIFwiLi9zcmMvdmlld3NcIilcclxufVxyXG5leHBvcnQgZGVmYXVsdCBjb25maWdWaWV3RW5naW5lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxNQUFNQSxnQkFBZ0IsR0FBSUMsR0FBRyxJQUFLO0VBQzlCQSxHQUFHLENBQUNDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDO0VBQzdCRCxHQUFHLENBQUNDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFDO0FBQ25DLENBQUM7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUMsT0FBQSxHQUNjTCxnQkFBZ0IifQ==","map":{"version":3,"names":["configViewEngine","app","set","_default","exports","default"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\config\\","sources":["viewEngine.js"],"sourcesContent":["const configViewEngine = (app) => {\r\n    app.set(\"view engine\", \"ejs\")\r\n    app.set(\"views\", \"./src/views\")\r\n}\r\nexport default configViewEngine"],"mappings":";;;;;;AAAA,MAAMA,gBAAgB,GAAIC,GAAG,IAAK;EAC9BA,GAAG,CAACC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;EAC7BD,GAAG,CAACC,GAAG,CAAC,OAAO,EAAE,aAAa,CAAC;AACnC,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GACcL,gBAAgB"}},"mtime":1696863602408},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\router\\\\webRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _HomeController = _interopRequireDefault(require(\"./../controllers/HomeController\"));\nvar _AboutController = _interopRequireDefault(require(\"./../controllers/AboutController\"));\nvar _UserController = _interopRequireDefault(require(\"./../controllers/UserController\"));\nvar _formLoginController = _interopRequireDefault(require(\"./../controllers/formLoginController\"));\nvar _HomeUserController = _interopRequireDefault(require(\"./../controllers/HomeUserController\"));\nvar _NewsController = _interopRequireDefault(require(\"./../controllers/NewsController\"));\nvar _PostController = _interopRequireDefault(require(\"./../controllers/PostController\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thu vien up img\n\n// add controller\n// add controller\n// add controller\n\n// add controller\n\n// add controller\n// add controller\n\nconst storage = _multer.default.diskStorage({\n  destination: function destination(req, file, cb) {\n    cb(null, './src/public/upload');\n  },\n  filename: function filename(req, file, cb) {\n    const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9);\n    cb(null, uniqueSuffix + _path.default.extname(file.originalname));\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst router = _express.default.Router();\nconst initWebRoute = app => {\n  // app.get('/home/:namepage', HomeController.getHome) // truyền param\n  // app.get('/set-session', HomeController.setSession)\n  // app.get('/abc', HomeController.getAbc)\n\n  router.get('/admin', _HomeController.default.getHome);\n  router.get('/about', _AboutController.default.getAbout);\n  router.get('/create_new_user', _UserController.default.new_user);\n  router.post('/insert_new_user', _UserController.default.insert_user);\n  router.get('/list-user/:from-:to', _UserController.default.list_user);\n  router.get('/login', _formLoginController.default.login);\n  router.post('/login', _formLoginController.default.login_auth);\n  router.get('/logout', _formLoginController.default.logout);\n  router.get('/detail_user/:username', _UserController.default.detail_user);\n  router.post('/del_user', _UserController.default.del_user);\n  router.get('/view_edit/:username', _UserController.default.view_edit);\n  router.post('/edit_user', _UserController.default.edit_user);\n\n  //user\n  router.get('/', _HomeUserController.default.HomeUser);\n  router.get('/LoginUser', _HomeUserController.default.LoginUser);\n  router.post('/login_auth_User', _HomeUserController.default.login_auth_User);\n  router.get('/logout_User', _HomeUserController.default.logout_User);\n  router.get('/RegisterUser', _HomeUserController.default.RegisterUser);\n  router.post('/request_register', _HomeUserController.default.request_register);\n  router.get('/SinglePage/:id', _HomeUserController.default.SinglePage);\n\n  //hien thi bai viet theo tin tuc\n  router.get('/ByNews/:id', _HomeUserController.default.ByNews);\n\n  //quan ly tin tuc ( news )  \n  router.get('/list-news/:from-:to', _NewsController.default.list_news);\n  router.get('/create_new_news', _NewsController.default.new_news);\n  router.post('/insert_new_news', _NewsController.default.insert_news);\n  router.get('/detail_news/:title', _NewsController.default.detail_news);\n  router.get('/view_edit_news/:id', _NewsController.default.view_edit_news);\n  router.post('/edit_news', _NewsController.default.edit_news);\n  router.post('/del_news', _NewsController.default.del_news);\n\n  //quan ly bai viet ( post )  \n  router.get('/list-post/:from-:to', _PostController.default.list_post);\n  router.get('/create_new_post', _PostController.default.new_post);\n  router.post('/insert_new_post', upload.single('filenew'), _PostController.default.insert_post);\n  router.get('/detail_post/:id', _PostController.default.detail_post);\n  router.get('/SinglePage/:id', _HomeUserController.default.SinglePage);\n\n  //hien thi bai viet theo tin tuc\n  router.get('/ByNews/:id', _HomeUserController.default.ByNews);\n\n  //quan ly tin tuc ( news )  \n  router.get('/list-news/:from-:to', _NewsController.default.list_news);\n  router.get('/create_new_news', _NewsController.default.new_news);\n  router.post('/insert_new_news', _NewsController.default.insert_news);\n  router.get('/detail_news/:title', _NewsController.default.detail_news);\n  router.get('/view_edit_news/:id', _NewsController.default.view_edit_news);\n  router.post('/edit_news', _NewsController.default.edit_news);\n  router.post('/del_news', _NewsController.default.del_news);\n\n  //quan ly bai viet ( post )  \n  router.get('/list-post/:from-:to', _PostController.default.list_post);\n  router.get('/create_new_post', _PostController.default.new_post);\n  router.post('/insert_new_post', upload.single('filenew'), _PostController.default.insert_post);\n  router.get('/detail_post/:id', _PostController.default.detail_post);\n  router.get('/view_edit_post/:id', _PostController.default.view_edit_post);\n  router.post('/edit_post', upload.single('filenew'), _PostController.default.edit_post);\n  router.post('/del_post', _PostController.default.del_post);\n\n  //api react\n\n  router.get('/api/news', ApiNewsController.apiReactList);\n  router.get('/api/news/:id', ApiNewsController.apiPostFromNew);\n  router.get('/api/posts', ApiPostController.apiPostList);\n  router.get('/api/post/:id', ApiPostController.apiPostId);\n  return app.use(\"/\", router);\n};\nvar _default = exports.default = initWebRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9wYXRoIiwiX0hvbWVDb250cm9sbGVyIiwiX0Fib3V0Q29udHJvbGxlciIsIl9Vc2VyQ29udHJvbGxlciIsIl9mb3JtTG9naW5Db250cm9sbGVyIiwiX0hvbWVVc2VyQ29udHJvbGxlciIsIl9OZXdzQ29udHJvbGxlciIsIl9Qb3N0Q29udHJvbGxlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsInVuaXF1ZVN1ZmZpeCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJwYXRoIiwiZXh0bmFtZSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJpbml0V2ViUm91dGUiLCJhcHAiLCJnZXQiLCJIb21lQ29udHJvbGxlciIsImdldEhvbWUiLCJBYm91dENvbnRyb2xsZXIiLCJnZXRBYm91dCIsIlVzZXJDb250cm9sbGVyIiwibmV3X3VzZXIiLCJwb3N0IiwiaW5zZXJ0X3VzZXIiLCJsaXN0X3VzZXIiLCJmb3JtTG9naW5Db250cm9sbGVyIiwibG9naW4iLCJsb2dpbl9hdXRoIiwibG9nb3V0IiwiZGV0YWlsX3VzZXIiLCJkZWxfdXNlciIsInZpZXdfZWRpdCIsImVkaXRfdXNlciIsIkhvbWVVc2VyQ29udHJvbGxlciIsIkhvbWVVc2VyIiwiTG9naW5Vc2VyIiwibG9naW5fYXV0aF9Vc2VyIiwibG9nb3V0X1VzZXIiLCJSZWdpc3RlclVzZXIiLCJyZXF1ZXN0X3JlZ2lzdGVyIiwiU2luZ2xlUGFnZSIsIkJ5TmV3cyIsIk5ld3NDb250cm9sbGVyIiwibGlzdF9uZXdzIiwibmV3X25ld3MiLCJpbnNlcnRfbmV3cyIsImRldGFpbF9uZXdzIiwidmlld19lZGl0X25ld3MiLCJlZGl0X25ld3MiLCJkZWxfbmV3cyIsIlBvc3RDb250cm9sbGVyIiwibGlzdF9wb3N0IiwibmV3X3Bvc3QiLCJzaW5nbGUiLCJpbnNlcnRfcG9zdCIsImRldGFpbF9wb3N0Iiwidmlld19lZGl0X3Bvc3QiLCJlZGl0X3Bvc3QiLCJkZWxfcG9zdCIsIkFwaU5ld3NDb250cm9sbGVyIiwiYXBpUmVhY3RMaXN0IiwiYXBpUG9zdEZyb21OZXciLCJBcGlQb3N0Q29udHJvbGxlciIsImFwaVBvc3RMaXN0IiwiYXBpUG9zdElkIiwidXNlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxceGFtcHBcXGh0ZG9jc1xcQkNfTm9kZVxcc3JjXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsid2ViUm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcicgLy8gdGh1IHZpZW4gdXAgaW1nXHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCJcclxuaW1wb3J0IEhvbWVDb250cm9sbGVyIGZyb20gXCIuLy4uL2NvbnRyb2xsZXJzL0hvbWVDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuaW1wb3J0IEFib3V0Q29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9BYm91dENvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5pbXBvcnQgVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5pbXBvcnQgZm9ybUxvZ2luQ29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9mb3JtTG9naW5Db250cm9sbGVyXCJcclxuXHJcbmltcG9ydCBIb21lVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvSG9tZVVzZXJDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuXHJcblxyXG5pbXBvcnQgTmV3c0NvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvTmV3c0NvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5pbXBvcnQgUG9zdENvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvUG9zdENvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5cclxuXHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gICAgZGVzdGluYXRpb246IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICAgIGNiKG51bGwsICcuL3NyYy9wdWJsaWMvdXBsb2FkJylcclxuICAgIH0sXHJcbiAgICBmaWxlbmFtZTogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgICAgY29uc3QgdW5pcXVlU3VmZml4ID0gRGF0ZS5ub3coKSArICctJyArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDFFOSlcclxuICAgICAgY2IobnVsbCwgdW5pcXVlU3VmZml4ICsgcGF0aC5leHRuYW1lKGZpbGUub3JpZ2luYWxuYW1lKSlcclxuICAgIH1cclxuICB9KVxyXG4gIFxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlIH0pXHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpXHJcbmNvbnN0IGluaXRXZWJSb3V0ZSA9IChhcHApID0+IHtcclxuXHJcbiAgICAvLyBhcHAuZ2V0KCcvaG9tZS86bmFtZXBhZ2UnLCBIb21lQ29udHJvbGxlci5nZXRIb21lKSAvLyB0cnV54buBbiBwYXJhbVxyXG4gICAgLy8gYXBwLmdldCgnL3NldC1zZXNzaW9uJywgSG9tZUNvbnRyb2xsZXIuc2V0U2Vzc2lvbilcclxuICAgIC8vIGFwcC5nZXQoJy9hYmMnLCBIb21lQ29udHJvbGxlci5nZXRBYmMpXHJcblxyXG4gICAgcm91dGVyLmdldCgnL2FkbWluJywgSG9tZUNvbnRyb2xsZXIuZ2V0SG9tZSlcclxuICAgIHJvdXRlci5nZXQoJy9hYm91dCcsIEFib3V0Q29udHJvbGxlci5nZXRBYm91dClcclxuXHJcbiAgICByb3V0ZXIuZ2V0KCcvY3JlYXRlX25ld191c2VyJywgVXNlckNvbnRyb2xsZXIubmV3X3VzZXIpXHJcbiAgICByb3V0ZXIucG9zdCgnL2luc2VydF9uZXdfdXNlcicsIFVzZXJDb250cm9sbGVyLmluc2VydF91c2VyKVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy9saXN0LXVzZXIvOmZyb20tOnRvJywgVXNlckNvbnRyb2xsZXIubGlzdF91c2VyKVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy9sb2dpbicsIGZvcm1Mb2dpbkNvbnRyb2xsZXIubG9naW4pXHJcbiAgICByb3V0ZXIucG9zdCgnL2xvZ2luJywgZm9ybUxvZ2luQ29udHJvbGxlci5sb2dpbl9hdXRoKVxyXG4gICAgcm91dGVyLmdldCgnL2xvZ291dCcsIGZvcm1Mb2dpbkNvbnRyb2xsZXIubG9nb3V0KVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy9kZXRhaWxfdXNlci86dXNlcm5hbWUnLCBVc2VyQ29udHJvbGxlci5kZXRhaWxfdXNlcilcclxuXHJcbiAgICByb3V0ZXIucG9zdCgnL2RlbF91c2VyJywgVXNlckNvbnRyb2xsZXIuZGVsX3VzZXIpXHJcblxyXG4gICAgcm91dGVyLmdldCgnL3ZpZXdfZWRpdC86dXNlcm5hbWUnLCBVc2VyQ29udHJvbGxlci52aWV3X2VkaXQpXHJcbiAgICByb3V0ZXIucG9zdCgnL2VkaXRfdXNlcicsIFVzZXJDb250cm9sbGVyLmVkaXRfdXNlcilcclxuXHJcbiAgICBcclxuICAgIC8vdXNlclxyXG4gICAgcm91dGVyLmdldCgnLycsIEhvbWVVc2VyQ29udHJvbGxlci5Ib21lVXNlcilcclxuICAgIFxyXG4gICAgcm91dGVyLmdldCgnL0xvZ2luVXNlcicsIEhvbWVVc2VyQ29udHJvbGxlci5Mb2dpblVzZXIpXHJcbiAgICByb3V0ZXIucG9zdCgnL2xvZ2luX2F1dGhfVXNlcicsIEhvbWVVc2VyQ29udHJvbGxlci5sb2dpbl9hdXRoX1VzZXIpXHJcbiAgICByb3V0ZXIuZ2V0KCcvbG9nb3V0X1VzZXInLCBIb21lVXNlckNvbnRyb2xsZXIubG9nb3V0X1VzZXIpXHJcblxyXG4gICAgXHJcbiAgICByb3V0ZXIuZ2V0KCcvUmVnaXN0ZXJVc2VyJywgSG9tZVVzZXJDb250cm9sbGVyLlJlZ2lzdGVyVXNlcilcclxuICAgIHJvdXRlci5wb3N0KCcvcmVxdWVzdF9yZWdpc3RlcicsIEhvbWVVc2VyQ29udHJvbGxlci5yZXF1ZXN0X3JlZ2lzdGVyKVxyXG5cclxuICAgIFxyXG4gICAgcm91dGVyLmdldCgnL1NpbmdsZVBhZ2UvOmlkJywgSG9tZVVzZXJDb250cm9sbGVyLlNpbmdsZVBhZ2UpXHJcblxyXG5cclxuICAgIC8vaGllbiB0aGkgYmFpIHZpZXQgdGhlbyB0aW4gdHVjXHJcbiAgICByb3V0ZXIuZ2V0KCcvQnlOZXdzLzppZCcsIEhvbWVVc2VyQ29udHJvbGxlci5CeU5ld3MpXHJcbiAgICBcclxuXHJcbiAgICAvL3F1YW4gbHkgdGluIHR1YyAoIG5ld3MgKSAgXHJcbiAgICByb3V0ZXIuZ2V0KCcvbGlzdC1uZXdzLzpmcm9tLTp0bycsIE5ld3NDb250cm9sbGVyLmxpc3RfbmV3cylcclxuICAgIHJvdXRlci5nZXQoJy9jcmVhdGVfbmV3X25ld3MnLCBOZXdzQ29udHJvbGxlci5uZXdfbmV3cylcclxuICAgIHJvdXRlci5wb3N0KCcvaW5zZXJ0X25ld19uZXdzJywgTmV3c0NvbnRyb2xsZXIuaW5zZXJ0X25ld3MpXHJcbiAgICByb3V0ZXIuZ2V0KCcvZGV0YWlsX25ld3MvOnRpdGxlJywgTmV3c0NvbnRyb2xsZXIuZGV0YWlsX25ld3MpXHJcblxyXG4gICAgcm91dGVyLmdldCgnL3ZpZXdfZWRpdF9uZXdzLzppZCcsIE5ld3NDb250cm9sbGVyLnZpZXdfZWRpdF9uZXdzKVxyXG4gICAgcm91dGVyLnBvc3QoJy9lZGl0X25ld3MnLCBOZXdzQ29udHJvbGxlci5lZGl0X25ld3MpXHJcbiAgICByb3V0ZXIucG9zdCgnL2RlbF9uZXdzJywgTmV3c0NvbnRyb2xsZXIuZGVsX25ld3MpXHJcblxyXG5cclxuICAgIC8vcXVhbiBseSBiYWkgdmlldCAoIHBvc3QgKSAgXHJcbiAgICByb3V0ZXIuZ2V0KCcvbGlzdC1wb3N0Lzpmcm9tLTp0bycsIFBvc3RDb250cm9sbGVyLmxpc3RfcG9zdClcclxuICAgIHJvdXRlci5nZXQoJy9jcmVhdGVfbmV3X3Bvc3QnLCBQb3N0Q29udHJvbGxlci5uZXdfcG9zdClcclxuICAgIHJvdXRlci5wb3N0KCcvaW5zZXJ0X25ld19wb3N0JywgdXBsb2FkLnNpbmdsZSgnZmlsZW5ldycpLCBQb3N0Q29udHJvbGxlci5pbnNlcnRfcG9zdClcclxuICAgIHJvdXRlci5nZXQoJy9kZXRhaWxfcG9zdC86aWQnLCBQb3N0Q29udHJvbGxlci5kZXRhaWxfcG9zdClcclxuXHJcblxyXG4gIHJvdXRlci5nZXQoJy9TaW5nbGVQYWdlLzppZCcsIEhvbWVVc2VyQ29udHJvbGxlci5TaW5nbGVQYWdlKVxyXG5cclxuXHJcbiAgLy9oaWVuIHRoaSBiYWkgdmlldCB0aGVvIHRpbiB0dWNcclxuICByb3V0ZXIuZ2V0KCcvQnlOZXdzLzppZCcsIEhvbWVVc2VyQ29udHJvbGxlci5CeU5ld3MpXHJcblxyXG5cclxuICAvL3F1YW4gbHkgdGluIHR1YyAoIG5ld3MgKSAgXHJcbiAgcm91dGVyLmdldCgnL2xpc3QtbmV3cy86ZnJvbS06dG8nLCBOZXdzQ29udHJvbGxlci5saXN0X25ld3MpXHJcbiAgcm91dGVyLmdldCgnL2NyZWF0ZV9uZXdfbmV3cycsIE5ld3NDb250cm9sbGVyLm5ld19uZXdzKVxyXG4gIHJvdXRlci5wb3N0KCcvaW5zZXJ0X25ld19uZXdzJywgTmV3c0NvbnRyb2xsZXIuaW5zZXJ0X25ld3MpXHJcbiAgcm91dGVyLmdldCgnL2RldGFpbF9uZXdzLzp0aXRsZScsIE5ld3NDb250cm9sbGVyLmRldGFpbF9uZXdzKVxyXG5cclxuICByb3V0ZXIuZ2V0KCcvdmlld19lZGl0X25ld3MvOmlkJywgTmV3c0NvbnRyb2xsZXIudmlld19lZGl0X25ld3MpXHJcbiAgcm91dGVyLnBvc3QoJy9lZGl0X25ld3MnLCBOZXdzQ29udHJvbGxlci5lZGl0X25ld3MpXHJcbiAgcm91dGVyLnBvc3QoJy9kZWxfbmV3cycsIE5ld3NDb250cm9sbGVyLmRlbF9uZXdzKVxyXG5cclxuXHJcbiAgLy9xdWFuIGx5IGJhaSB2aWV0ICggcG9zdCApICBcclxuICByb3V0ZXIuZ2V0KCcvbGlzdC1wb3N0Lzpmcm9tLTp0bycsIFBvc3RDb250cm9sbGVyLmxpc3RfcG9zdClcclxuICByb3V0ZXIuZ2V0KCcvY3JlYXRlX25ld19wb3N0JywgUG9zdENvbnRyb2xsZXIubmV3X3Bvc3QpXHJcbiAgcm91dGVyLnBvc3QoJy9pbnNlcnRfbmV3X3Bvc3QnLCB1cGxvYWQuc2luZ2xlKCdmaWxlbmV3JyksIFBvc3RDb250cm9sbGVyLmluc2VydF9wb3N0KVxyXG4gIHJvdXRlci5nZXQoJy9kZXRhaWxfcG9zdC86aWQnLCBQb3N0Q29udHJvbGxlci5kZXRhaWxfcG9zdClcclxuXHJcbiAgcm91dGVyLmdldCgnL3ZpZXdfZWRpdF9wb3N0LzppZCcsIFBvc3RDb250cm9sbGVyLnZpZXdfZWRpdF9wb3N0KVxyXG4gIHJvdXRlci5wb3N0KCcvZWRpdF9wb3N0JywgdXBsb2FkLnNpbmdsZSgnZmlsZW5ldycpLCBQb3N0Q29udHJvbGxlci5lZGl0X3Bvc3QpXHJcbiAgcm91dGVyLnBvc3QoJy9kZWxfcG9zdCcsIFBvc3RDb250cm9sbGVyLmRlbF9wb3N0KVxyXG5cclxuXHJcbiAgLy9hcGkgcmVhY3RcclxuXHJcbiAgcm91dGVyLmdldCgnL2FwaS9uZXdzJywgQXBpTmV3c0NvbnRyb2xsZXIuYXBpUmVhY3RMaXN0KVxyXG4gIHJvdXRlci5nZXQoJy9hcGkvbmV3cy86aWQnLCBBcGlOZXdzQ29udHJvbGxlci5hcGlQb3N0RnJvbU5ldylcclxuXHJcbiAgcm91dGVyLmdldCgnL2FwaS9wb3N0cycsIEFwaVBvc3RDb250cm9sbGVyLmFwaVBvc3RMaXN0KVxyXG4gIHJvdXRlci5nZXQoJy9hcGkvcG9zdC86aWQnLCBBcGlQb3N0Q29udHJvbGxlci5hcGlQb3N0SWQpXHJcblxyXG5cclxuICByZXR1cm4gYXBwLnVzZShcIi9cIiwgcm91dGVyKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IGluaXRXZWJSb3V0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsZUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksZ0JBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLGVBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLG9CQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBTyxtQkFBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBR0EsSUFBQVEsZUFBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVMsZUFBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBQTRELFNBQUFELHVCQUFBVyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBWGhDOztBQUVpQztBQUNFO0FBQ0Y7O0FBR1E7O0FBR1I7QUFDQTs7QUFHN0QsTUFBTUcsT0FBTyxHQUFHQyxlQUFNLENBQUNDLFdBQVcsQ0FBQztFQUMvQkMsV0FBVyxFQUFFLFNBQUFBLFlBQVVDLEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxFQUFFLEVBQUU7SUFDcENBLEVBQUUsQ0FBQyxJQUFJLEVBQUUscUJBQXFCLENBQUM7RUFDakMsQ0FBQztFQUNEQyxRQUFRLEVBQUUsU0FBQUEsU0FBVUgsR0FBRyxF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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_multer","_path","_HomeController","_AboutController","_UserController","_formLoginController","_HomeUserController","_NewsController","_PostController","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","filename","uniqueSuffix","Date","now","Math","round","random","path","extname","originalname","upload","router","express","Router","initWebRoute","app","get","HomeController","getHome","AboutController","getAbout","UserController","new_user","post","insert_user","list_user","formLoginController","login","login_auth","logout","detail_user","del_user","view_edit","edit_user","HomeUserController","HomeUser","LoginUser","login_auth_User","logout_User","RegisterUser","request_register","SinglePage","ByNews","NewsController","list_news","new_news","insert_news","detail_news","view_edit_news","edit_news","del_news","PostController","list_post","new_post","single","insert_post","detail_post","view_edit_post","edit_post","del_post","ApiNewsController","apiReactList","apiPostFromNew","ApiPostController","apiPostList","apiPostId","use","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\router\\","sources":["webRoute.js"],"sourcesContent":["import express from \"express\"\r\nimport multer from 'multer' // thu vien up img\r\nimport path from \"path\"\r\nimport HomeController from \"./../controllers/HomeController\" // add controller\r\nimport AboutController from \"./../controllers/AboutController\" // add controller\r\nimport UserController from \"./../controllers/UserController\" // add controller\r\nimport formLoginController from \"./../controllers/formLoginController\"\r\n\r\nimport HomeUserController from \"./../controllers/HomeUserController\" // add controller\r\n\r\n\r\nimport NewsController from \"./../controllers/NewsController\" // add controller\r\nimport PostController from \"./../controllers/PostController\" // add controller\r\n\r\n\r\nconst storage = multer.diskStorage({\r\n    destination: function (req, file, cb) {\r\n      cb(null, './src/public/upload')\r\n    },\r\n    filename: function (req, file, cb) {\r\n      const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)\r\n      cb(null, uniqueSuffix + path.extname(file.originalname))\r\n    }\r\n  })\r\n  \r\nconst upload = multer({ storage: storage })\r\n\r\nconst router = express.Router()\r\nconst initWebRoute = (app) => {\r\n\r\n    // app.get('/home/:namepage', HomeController.getHome) // truyền param\r\n    // app.get('/set-session', HomeController.setSession)\r\n    // app.get('/abc', HomeController.getAbc)\r\n\r\n    router.get('/admin', HomeController.getHome)\r\n    router.get('/about', AboutController.getAbout)\r\n\r\n    router.get('/create_new_user', UserController.new_user)\r\n    router.post('/insert_new_user', UserController.insert_user)\r\n\r\n    router.get('/list-user/:from-:to', UserController.list_user)\r\n\r\n    router.get('/login', formLoginController.login)\r\n    router.post('/login', formLoginController.login_auth)\r\n    router.get('/logout', formLoginController.logout)\r\n\r\n    router.get('/detail_user/:username', UserController.detail_user)\r\n\r\n    router.post('/del_user', UserController.del_user)\r\n\r\n    router.get('/view_edit/:username', UserController.view_edit)\r\n    router.post('/edit_user', UserController.edit_user)\r\n\r\n    \r\n    //user\r\n    router.get('/', HomeUserController.HomeUser)\r\n    \r\n    router.get('/LoginUser', HomeUserController.LoginUser)\r\n    router.post('/login_auth_User', HomeUserController.login_auth_User)\r\n    router.get('/logout_User', HomeUserController.logout_User)\r\n\r\n    \r\n    router.get('/RegisterUser', HomeUserController.RegisterUser)\r\n    router.post('/request_register', HomeUserController.request_register)\r\n\r\n    \r\n    router.get('/SinglePage/:id', HomeUserController.SinglePage)\r\n\r\n\r\n    //hien thi bai viet theo tin tuc\r\n    router.get('/ByNews/:id', HomeUserController.ByNews)\r\n    \r\n\r\n    //quan ly tin tuc ( news )  \r\n    router.get('/list-news/:from-:to', NewsController.list_news)\r\n    router.get('/create_new_news', NewsController.new_news)\r\n    router.post('/insert_new_news', NewsController.insert_news)\r\n    router.get('/detail_news/:title', NewsController.detail_news)\r\n\r\n    router.get('/view_edit_news/:id', NewsController.view_edit_news)\r\n    router.post('/edit_news', NewsController.edit_news)\r\n    router.post('/del_news', NewsController.del_news)\r\n\r\n\r\n    //quan ly bai viet ( post )  \r\n    router.get('/list-post/:from-:to', PostController.list_post)\r\n    router.get('/create_new_post', PostController.new_post)\r\n    router.post('/insert_new_post', upload.single('filenew'), PostController.insert_post)\r\n    router.get('/detail_post/:id', PostController.detail_post)\r\n\r\n\r\n  router.get('/SinglePage/:id', HomeUserController.SinglePage)\r\n\r\n\r\n  //hien thi bai viet theo tin tuc\r\n  router.get('/ByNews/:id', HomeUserController.ByNews)\r\n\r\n\r\n  //quan ly tin tuc ( news )  \r\n  router.get('/list-news/:from-:to', NewsController.list_news)\r\n  router.get('/create_new_news', NewsController.new_news)\r\n  router.post('/insert_new_news', NewsController.insert_news)\r\n  router.get('/detail_news/:title', NewsController.detail_news)\r\n\r\n  router.get('/view_edit_news/:id', NewsController.view_edit_news)\r\n  router.post('/edit_news', NewsController.edit_news)\r\n  router.post('/del_news', NewsController.del_news)\r\n\r\n\r\n  //quan ly bai viet ( post )  \r\n  router.get('/list-post/:from-:to', PostController.list_post)\r\n  router.get('/create_new_post', PostController.new_post)\r\n  router.post('/insert_new_post', upload.single('filenew'), PostController.insert_post)\r\n  router.get('/detail_post/:id', PostController.detail_post)\r\n\r\n  router.get('/view_edit_post/:id', PostController.view_edit_post)\r\n  router.post('/edit_post', upload.single('filenew'), PostController.edit_post)\r\n  router.post('/del_post', PostController.del_post)\r\n\r\n\r\n  //api react\r\n\r\n  router.get('/api/news', ApiNewsController.apiReactList)\r\n  router.get('/api/news/:id', ApiNewsController.apiPostFromNew)\r\n\r\n  router.get('/api/posts', ApiPostController.apiPostList)\r\n  router.get('/api/post/:id', ApiPostController.apiPostId)\r\n\r\n\r\n  return app.use(\"/\", router)\r\n}\r\nexport default initWebRoute"],"mappings":"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"}},"mtime":1700121339654},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// import homeModel from \"../services/homeModel\"\n\n// const getHome = (req, res) => {\n//     let name = req.params.namepage // nhân param\n//     res.render('home', {data: {tilte:name}})\n// }\n\n// const setSession = async (req, res) => {\n//     //req.session.destroy()\n//     req.session.views = {'page':'home', 'test':10}\n//     res.render('home', {data: {tilte:req.session.views.page}})\n// }\n\n// const getAbc = async (req, res) => {\n//     let list = await homeModel.getall() // call model\n//     return res.render('home', {data: {tilte:'name', rows:list}})\n// }\n\n// const getapi = (req, res) => {\n//     return res.status(200).json({\n//         data: 'list'\n//     })\n// }\nconst getHome = (req, res) => {\n  // res.send('Home')\n  res.redirect(\"/login\");\n};\nvar _default = exports.default = {\n  getHome\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRIb21lIiwicmVxIiwicmVzIiwicmVkaXJlY3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkhvbWVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuLy8gaW1wb3J0IGhvbWVNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvaG9tZU1vZGVsXCJcclxuXHJcbi8vIGNvbnN0IGdldEhvbWUgPSAocmVxLCByZXMpID0+IHtcclxuLy8gICAgIGxldCBuYW1lID0gcmVxLnBhcmFtcy5uYW1lcGFnZSAvLyBuaMOibiBwYXJhbVxyXG4vLyAgICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7dGlsdGU6bmFtZX19KVxyXG4vLyB9XHJcblxyXG4vLyBjb25zdCBzZXRTZXNzaW9uID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbi8vICAgICAvL3JlcS5zZXNzaW9uLmRlc3Ryb3koKVxyXG4vLyAgICAgcmVxLnNlc3Npb24udmlld3MgPSB7J3BhZ2UnOidob21lJywgJ3Rlc3QnOjEwfVxyXG4vLyAgICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7dGlsdGU6cmVxLnNlc3Npb24udmlld3MucGFnZX19KVxyXG4vLyB9XHJcblxyXG4vLyBjb25zdCBnZXRBYmMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuLy8gICAgIGxldCBsaXN0ID0gYXdhaXQgaG9tZU1vZGVsLmdldGFsbCgpIC8vIGNhbGwgbW9kZWxcclxuLy8gICAgIHJldHVybiByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHt0aWx0ZTonbmFtZScsIHJvd3M6bGlzdH19KVxyXG4vLyB9XHJcblxyXG4vLyBjb25zdCBnZXRhcGkgPSAocmVxLCByZXMpID0+IHtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbi8vICAgICAgICAgZGF0YTogJ2xpc3QnXHJcbi8vICAgICB9KVxyXG4vLyB9XHJcblxyXG5cclxuY29uc3QgZ2V0SG9tZSA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgLy8gcmVzLnNlbmQoJ0hvbWUnKVxyXG4gICAgcmVzLnJlZGlyZWN0KFwiL2xvZ2luXCIpXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtnZXRIb21lfSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQTZCLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQzdCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBLE1BQU1HLE9BQU8sR0FBR0EsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDMUI7RUFDQUEsR0FBRyxDQUFDQyxRQUFRLENBQUMsUUFBUSxDQUFDO0FBQzFCLENBQUM7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQU4sT0FBQSxHQUVjO0VBQUNDO0FBQU8sQ0FBQyJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","obj","__esModule","default","getHome","req","res","redirect","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["HomeController.js"],"sourcesContent":["import express from \"express\"\r\n// import homeModel from \"../services/homeModel\"\r\n\r\n// const getHome = (req, res) => {\r\n//     let name = req.params.namepage // nhân param\r\n//     res.render('home', {data: {tilte:name}})\r\n// }\r\n\r\n// const setSession = async (req, res) => {\r\n//     //req.session.destroy()\r\n//     req.session.views = {'page':'home', 'test':10}\r\n//     res.render('home', {data: {tilte:req.session.views.page}})\r\n// }\r\n\r\n// const getAbc = async (req, res) => {\r\n//     let list = await homeModel.getall() // call model\r\n//     return res.render('home', {data: {tilte:'name', rows:list}})\r\n// }\r\n\r\n// const getapi = (req, res) => {\r\n//     return res.status(200).json({\r\n//         data: 'list'\r\n//     })\r\n// }\r\n\r\n\r\nconst getHome = (req, res) => {\r\n    // res.send('Home')\r\n    res.redirect(\"/login\")\r\n}\r\n\r\nexport default {getHome}"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC7B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAGA,MAAMG,OAAO,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC1B;EACAA,GAAG,CAACC,QAAQ,CAAC,QAAQ,CAAC;AAC1B,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAN,OAAA,GAEc;EAACC;AAAO,CAAC"}},"mtime":1696863602409},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\AboutController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getAbout = (req, res) => {\n  res.render('About', {\n    data: {\n      tilte: 'About Page'\n    }\n  });\n};\nvar _default = exports.default = {\n  getAbout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRBYm91dCIsInJlcSIsInJlcyIsInJlbmRlciIsImRhdGEiLCJ0aWx0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQWJvdXRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuXHJcbmNvbnN0IGdldEFib3V0ID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMucmVuZGVyKCdBYm91dCcsIHtkYXRhOiB7dGlsdGU6J0Fib3V0IFBhZ2UnfX0pXHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7Z2V0QWJvdXR9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBNkIsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFN0IsTUFBTUcsUUFBUSxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMzQkEsR0FBRyxDQUFDQyxNQUFNLENBQUMsT0FBTyxFQUFFO0lBQUNDLElBQUksRUFBRTtNQUFDQyxLQUFLLEVBQUM7SUFBWTtFQUFDLENBQUMsQ0FBQztBQUNyRCxDQUFDO0FBQUEsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFSLE9BQUEsR0FHYztFQUFDQztBQUFRLENBQUMifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","obj","__esModule","default","getAbout","req","res","render","data","tilte","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["AboutController.js"],"sourcesContent":["import express from \"express\"\r\n\r\nconst getAbout = (req, res) => {\r\n    res.render('About', {data: {tilte:'About Page'}})\r\n}\r\n\r\n\r\nexport default {getAbout}"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7B,MAAMG,QAAQ,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC3BA,GAAG,CAACC,MAAM,CAAC,OAAO,EAAE;IAACC,IAAI,EAAE;MAACC,KAAK,EAAC;IAAY;EAAC,CAAC,CAAC;AACrD,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAR,OAAA,GAGc;EAACC;AAAQ,CAAC"}},"mtime":1696863602408},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst new_user = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'newUser',\n      title: 'Tạo tài khoản'\n    }\n  });\n};\nconst insert_user = async (req, res) => {\n  let body = req.body;\n  if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    let role = 1;\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.pass, pass);\n    await _userModel.default.insert_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role);\n    res.redirect(\"/list-user/0-10\");\n  }\n};\nconst list_user = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _userModel.default.list_user(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listUser',\n        title: 'Danh sách tài khoản',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst detail_user = async (req, res) => {\n  let Username = req.params.username;\n  let list = await _userModel.default.detail_user(Username);\n  res.render('home', {\n    data: {\n      page: 'detailUser',\n      title: 'Chi tiết người dùng',\n      list: list\n    }\n  });\n};\nconst edit_user = async (req, res) => {\n  let role = 1;\n  let body = req.body;\n  console.table(body);\n  if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n  let pass = _bcryptjs.default.genSaltSync(10);\n  let hash = _bcryptjs.default.hashSync(body.pass, pass);\n  await _userModel.default.edit_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role);\n  res.redirect(\"/detail_user/\" + body.name);\n};\nconst view_edit = async (req, res) => {\n  let Username = req.params.username;\n  let list = await _userModel.default.detail_user(Username);\n  res.render('home', {\n    data: {\n      page: 'viewEdit',\n      title: 'Cập nhật',\n      list: list\n    }\n  });\n};\nconst del_user = async (req, res) => {\n  let body = req.body;\n  if (!body.username) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n  let list = await _userModel.default.del_user(body.username);\n  res.redirect(\"/list-user/0-10\");\n};\nvar _default = exports.default = {\n  new_user,\n  list_user,\n  detail_user,\n  insert_user,\n  edit_user,\n  del_user,\n  view_edit\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibmV3X3VzZXIiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwiaW5zZXJ0X3VzZXIiLCJib2R5IiwibmFtZSIsInBhc3MiLCJuYW1ldXNlciIsImFkZHJlc3MiLCJmbGV4UmFkaW9EZWZhdWx0IiwiZW1haWwiLCJzdGF0dXMiLCJzZW5kIiwicm9sZSIsImJjcnlwdCIsImdlblNhbHRTeW5jIiwiaGFzaCIsImhhc2hTeW5jIiwidXNlck1vZGVsIiwicmVkaXJlY3QiLCJsaXN0X3VzZXIiLCJfZnJvbSIsInBhcmFtcyIsImZyb20iLCJfdG8iLCJ0byIsImF1dGgiLCJzZXNzaW9uIiwiaXNOYU4iLCJsaXN0IiwiZGV0YWlsX3VzZXIiLCJVc2VybmFtZSIsInVzZXJuYW1lIiwiZWRpdF91c2VyIiwiY29uc29sZSIsInRhYmxlIiwidmlld19lZGl0IiwiZGVsX3VzZXIiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuaW1wb3J0IHVzZXJNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvdXNlck1vZGVsXCJcclxuXHJcbmNvbnN0IG5ld191c2VyID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHtwYWdlOiAnbmV3VXNlcicsIHRpdGxlOiAnVOG6oW8gdMOgaSBraG/huqNuJ319KVxyXG59XHJcblxyXG5jb25zdCBpbnNlcnRfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgaWYgKCFib2R5Lm5hbWUgfHwgIWJvZHkucGFzcyB8fCAhYm9keS5uYW1ldXNlciB8fCAhYm9keS5hZGRyZXNzIHx8ICFib2R5LmZsZXhSYWRpb0RlZmF1bHQgfHwgIWJvZHkuZW1haWwpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICBsZXQgcm9sZSA9IDFcclxuICAgICAgICBsZXQgcGFzcyA9IGJjcnlwdC5nZW5TYWx0U3luYygxMClcclxuICAgICAgICBsZXQgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhib2R5LnBhc3MsIHBhc3MpXHJcbiAgICAgICAgYXdhaXQgdXNlck1vZGVsLmluc2VydF91c2VyKGJvZHkubmFtZSwgaGFzaCwgYm9keS5uYW1ldXNlciwgYm9keS5hZGRyZXNzLCBib2R5LmZsZXhSYWRpb0RlZmF1bHQsIGJvZHkuZW1haWwsIHJvbGUpXHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KFwiL2xpc3QtdXNlci8wLTEwXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGxpc3RfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIGxldCBfZnJvbSA9IHJlcS5wYXJhbXMuZnJvbVxyXG4gICAgbGV0IF90byA9IHJlcS5wYXJhbXMudG9cclxuICAgIGxldCBhdXRoID0gbnVsbFxyXG5cclxuICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRoKSB7XHJcbiAgICAgICAgYXV0aCA9IHJlcS5zZXNzaW9uLmF1dGhcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGlzTmFOKF9mcm9tKSA9PT0gZmFsc2UgJiYgaXNOYU4oX3RvKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICBsZXQgbGlzdCA9IGF3YWl0IHVzZXJNb2RlbC5saXN0X3VzZXIoX2Zyb20sIF90bylcclxuICAgICAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHtwYWdlOiAnbGlzdFVzZXInLCB0aXRsZTogJ0Rhbmggc8OhY2ggdMOgaSBraG/huqNuJywgcGFyYW1zOiB7X2Zyb20sIF90b30gLCBsaXN0Omxpc3QsIGF1dGg6YXV0aH19KVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBkZXRhaWxfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IFVzZXJuYW1lID0gcmVxLnBhcmFtcy51c2VybmFtZVxyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCB1c2VyTW9kZWwuZGV0YWlsX3VzZXIoVXNlcm5hbWUpXHJcbiAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHtwYWdlOiAnZGV0YWlsVXNlcicsIHRpdGxlOiAnQ2hpIHRp4bq/dCBuZ8aw4budaSBkw7luZycsIGxpc3Q6bGlzdH19KVxyXG59XHJcblxyXG5jb25zdCBlZGl0X3VzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCByb2xlID0gMVxyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgY29uc29sZS50YWJsZShib2R5KVxyXG4gICAgaWYgKCFib2R5Lm5hbWUgfHwgIWJvZHkucGFzcyB8fCAhYm9keS5uYW1ldXNlciB8fCAhYm9keS5hZGRyZXNzIHx8ICFib2R5LmZsZXhSYWRpb0RlZmF1bHQgfHwgIWJvZHkuZW1haWwpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG4gICAgbGV0IHBhc3MgPSBiY3J5cHQuZ2VuU2FsdFN5bmMoMTApXHJcbiAgICBsZXQgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhib2R5LnBhc3MsIHBhc3MpXHJcbiAgICBhd2FpdCB1c2VyTW9kZWwuZWRpdF91c2VyKGJvZHkubmFtZSwgaGFzaCwgYm9keS5uYW1ldXNlciwgYm9keS5hZGRyZXNzLCBib2R5LmZsZXhSYWRpb0RlZmF1bHQsIGJvZHkuZW1haWwsIHJvbGUpXHJcbiAgICByZXMucmVkaXJlY3QoXCIvZGV0YWlsX3VzZXIvXCIgKyBib2R5Lm5hbWUpXHJcbn1cclxuXHJcbmNvbnN0IHZpZXdfZWRpdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IFVzZXJuYW1lID0gcmVxLnBhcmFtcy51c2VybmFtZVxyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCB1c2VyTW9kZWwuZGV0YWlsX3VzZXIoVXNlcm5hbWUpXHJcbiAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHtwYWdlOiAndmlld0VkaXQnLCB0aXRsZTogJ0Phuq1wIG5o4bqtdCcsIGxpc3Q6bGlzdH19KVxyXG59XHJcblxyXG5jb25zdCBkZWxfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgaWYgKCFib2R5LnVzZXJuYW1lKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxuICAgIGxldCBsaXN0ID0gYXdhaXQgdXNlck1vZGVsLmRlbF91c2VyKGJvZHkudXNlcm5hbWUpXHJcbiAgICByZXMucmVkaXJlY3QoXCIvbGlzdC11c2VyLzAtMTBcIilcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge25ld191c2VyLCBsaXN0X3VzZXIsIGRldGFpbF91c2VyLCBpbnNlcnRfdXNlciwgZWRpdF91c2VyLCBkZWxfdXNlciwgdmlld19lZGl0fSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMs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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","obj","__esModule","default","new_user","req","res","render","data","page","title","insert_user","body","name","pass","nameuser","address","flexRadioDefault","email","status","send","role","bcrypt","genSaltSync","hash","hashSync","userModel","redirect","list_user","_from","params","from","_to","to","auth","session","isNaN","list","detail_user","Username","username","edit_user","console","table","view_edit","del_user","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["UserController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst new_user = (req, res) => {\r\n    res.render('home', {data: {page: 'newUser', title: 'Tạo tài khoản'}})\r\n}\r\n\r\nconst insert_user = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        let role = 1\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.pass, pass)\r\n        await userModel.insert_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role)\r\n        res.redirect(\"/list-user/0-10\")\r\n    }\r\n}\r\n\r\nconst list_user = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await userModel.list_user(_from, _to)\r\n        res.render('home', {data: {page: 'listUser', title: 'Danh sách tài khoản', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst detail_user = async (req, res) => {\r\n    let Username = req.params.username\r\n    let list = await userModel.detail_user(Username)\r\n    res.render('home', {data: {page: 'detailUser', title: 'Chi tiết người dùng', list:list}})\r\n}\r\n\r\nconst edit_user = async (req, res) => {\r\n    let role = 1\r\n    let body = req.body\r\n    console.table(body)\r\n    if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    let pass = bcrypt.genSaltSync(10)\r\n    let hash = bcrypt.hashSync(body.pass, pass)\r\n    await userModel.edit_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role)\r\n    res.redirect(\"/detail_user/\" + body.name)\r\n}\r\n\r\nconst view_edit = async (req, res) => {\r\n    let Username = req.params.username\r\n    let list = await userModel.detail_user(Username)\r\n    res.render('home', {data: {page: 'viewEdit', title: 'Cập nhật', list:list}})\r\n}\r\n\r\nconst del_user = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    let list = await userModel.del_user(body.username)\r\n    res.redirect(\"/list-user/0-10\")\r\n}\r\n\r\nexport default {new_user, list_user, detail_user, insert_user, edit_user, del_user, view_edit}"],"mappings":"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"}},"mtime":1696863602410},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\services\\\\userModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst insert_user = async (username, password, fullname, address, sex, email, groupid) => {\n  await _connectDB.default.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `sex`, `email`, `groupid`) VALUES (?,?,?,?,?,?,?)', [username, password, fullname, address, sex, email, groupid]);\n};\nconst list_user = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `users`');\n  return rows;\n};\nconst detail_user = async name => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM users WHERE users.username LIKE ?', [name]);\n  return rows;\n};\nconst edit_user = async (username, password, fullname, address, sex, email, groupid) => {\n  await _connectDB.default.execute('UPDATE `users` SET `password`=?,`fullname`=?,`address`=?,`sex`=?,`email`=?,`groupid`=? WHERE users.username = ?', [password, fullname, address, sex, email, groupid, username]);\n};\nconst del_user = async username => {\n  await _connectDB.default.execute('DELETE FROM `users` WHERE users.username = ?', [username]);\n};\nconst auth = async username => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM users WHERE users.username LIKE ?', [username]);\n  return rows;\n};\nconst insert_user_Users = async (username, password, fullname, address, groupid) => {\n  await _connectDB.default.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `groupid`) VALUES (?,?,?,?,?)', [username, password, fullname, address, groupid]);\n};\nvar _default = exports.default = {\n  insert_user,\n  list_user,\n  detail_user,\n  edit_user,\n  del_user,\n  auth,\n  insert_user_Users\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImluc2VydF91c2VyIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImZ1bGxuYW1lIiwiYWRkcmVzcyIsInNleCIsImVtYWlsIiwiZ3JvdXBpZCIsImNvbiIsImV4ZWN1dGUiLCJsaXN0X3VzZXIiLCJmcm9tIiwidG8iLCJyb3dzIiwiZmllbGRzIiwiZGV0YWlsX3VzZXIiLCJuYW1lIiwiZWRpdF91c2VyIiwiZGVsX3VzZXIiLCJhdXRoIiwiaW5zZXJ0X3VzZXJfVXNlcnMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlXFxzcmNcXHNlcnZpY2VzXFwiLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29uIGZyb20gXCIuLy4uL2NvbmZpZy9jb25uZWN0REJcIlxyXG5cclxuY29uc3QgaW5zZXJ0X3VzZXIgPSBhc3luYyAodXNlcm5hbWUsIHBhc3N3b3JkLCBmdWxsbmFtZSwgYWRkcmVzcywgc2V4LCBlbWFpbCwgZ3JvdXBpZCkgPT4ge1xyXG4gICAgYXdhaXQgY29uLmV4ZWN1dGUoJ0lOU0VSVCBJTlRPIGB1c2Vyc2AoYHVzZXJuYW1lYCwgYHBhc3N3b3JkYCwgYGZ1bGxuYW1lYCwgYGFkZHJlc3NgLCBgc2V4YCwgYGVtYWlsYCwgYGdyb3VwaWRgKSBWQUxVRVMgKD8sPyw/LD8sPyw/LD8pJyxbdXNlcm5hbWUsIHBhc3N3b3JkLCBmdWxsbmFtZSwgYWRkcmVzcywgc2V4LCBlbWFpbCwgZ3JvdXBpZF0pXHJcbn0gXHJcblxyXG5jb25zdCBsaXN0X3VzZXIgPSBhc3luYyAoZnJvbSwgdG8pID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYHVzZXJzYCcpXHJcbiAgICByZXR1cm4gcm93c1xyXG59IFxyXG5cclxuY29uc3QgZGV0YWlsX3VzZXIgPSBhc3luYyAobmFtZSkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSB1c2Vycy51c2VybmFtZSBMSUtFID8nLCBbbmFtZV0pXHJcbiAgICByZXR1cm4gcm93c1xyXG59IFxyXG5cclxuY29uc3QgZWRpdF91c2VyID0gYXN5bmMgKHVzZXJuYW1lLCBwYXNzd29yZCwgZnVsbG5hbWUsIGFkZHJlc3MsIHNleCwgZW1haWwsIGdyb3VwaWQpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdVUERBVEUgYHVzZXJzYCBTRVQgYHBhc3N3b3JkYD0/LGBmdWxsbmFtZWA9PyxgYWRkcmVzc2A9Pyxgc2V4YD0/LGBlbWFpbGA9PyxgZ3JvdXBpZGA9PyBXSEVSRSB1c2Vycy51c2VybmFtZSA9ID8nLFtwYXNzd29yZCwgZnVsbG5hbWUsIGFkZHJlc3MsIHNleCwgZW1haWwsIGdyb3VwaWQsIHVzZXJuYW1lXSlcclxufVxyXG5cclxuY29uc3QgZGVsX3VzZXIgPSBhc3luYyAodXNlcm5hbWUpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdERUxFVEUgRlJPTSBgdXNlcnNgIFdIRVJFIHVzZXJzLnVzZXJuYW1lID0gPycsW3VzZXJuYW1lXSlcclxufVxyXG5cclxuY29uc3QgYXV0aCA9IGFzeW5jICh1c2VybmFtZSkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSB1c2Vycy51c2VybmFtZSBMSUtFID8nLCBbdXNlcm5hbWVdKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5cclxuY29uc3QgaW5zZXJ0X3VzZXJfVXNlcnMgPSBhc3luYyAodXNlcm5hbWUsIHBhc3N3b3JkLCBmdWxsbmFtZSwgYWRkcmVzcywgZ3JvdXBpZCkgPT4ge1xyXG4gICAgYXdhaXQgY29uLmV4ZWN1dGUoJ0lOU0VSVCBJTlRPIGB1c2Vyc2AoYHVzZXJuYW1lYCwgYHBhc3N3b3JkYCwgYGZ1bGxuYW1lYCwgYGFkZHJlc3NgLCBgZ3JvdXBpZGApIFZBTFVFUyAoPyw/LD8sPyw/KScsW3VzZXJuYW1lLCBwYXNzd29yZCwgZnVsbG5hbWUsIGFkZHJlc3MsIGdyb3VwaWRdKVxyXG59IFxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtpbnNlcnRfdXNlciwgbGlzdF91c2VyLCBkZXRhaWxfdXNlciwgZWRpdF91c2VyLCBkZWxfdXNlciwgYXV0aCxpbnNlcnRfdXNlcl9Vc2Vyc30iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBQUEsVUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXVDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXZDLE1BQU1HLFdBQVcsR0FBRyxNQUFBQSxDQUFPQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUVDLEdBQUcsRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEtBQUs7RUFDdEYsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHNIQUFzSCxFQUFDLENBQUNSLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsR0FBRyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sQ0FBQyxDQUFDO0FBQzFNLENBQUM7QUFFRCxNQUFNRyxTQUFTLEdBQUcsTUFBQUEsQ0FBT0MsSUFBSSxFQUFFQyxFQUFFLEtBQUs7RUFDbEMsTUFBTSxDQUFDQyxJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1OLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQztFQUNqRSxPQUFPSSxJQUFJO0FBQ2YsQ0FBQztBQUVELE1BQU1FLFdBQVcsR0FBRyxNQUFPQyxJQUFJLElBQUs7RUFDaEMsTUFBTSxDQUFDSCxJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1OLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxpREFBaUQsRUFBRSxDQUFDTyxJQUFJLENBQUMsQ0FBQztFQUNuRyxPQUFPSCxJQUFJO0FBQ2YsQ0FBQztBQUVELE1BQU1JLFNBQVMsR0FBRyxNQUFBQSxDQUFPaEIsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxLQUFLO0VBQ3BGLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxpSEFBaUgsRUFBQyxDQUFDUCxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxFQUFFTixRQUFRLENBQUMsQ0FBQztBQUNyTSxDQUFDO0FBRUQsTUFBTWlCLFFBQVEsR0FBRyxNQUFPakIsUUFBUSxJQUFLO0VBQ2pDLE1BQU1PLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyw4Q0FBOEMsRUFBQyxDQUFDUixRQUFRLENBQUMsQ0FBQztBQUNoRixDQUFDO0FBRUQsTUFBTWtCLElBQUksR0FBRyxNQUFPbEIsUUFBUSxJQUFLO0VBQzdCLE1BQU0sQ0FBQ1ksSUFBSSxFQUFFQyxNQUFNLENBQUMsR0FBRyxNQUFNTixrQkFBRyxDQUFDQyxPQUFPLENBQUMsaURBQWlELEVBQUUsQ0FBQ1IsUUFBUSxDQUFDLENBQUM7RUFDdkcsT0FBT1ksSUFBSTtBQUNmLENBQUM7QUFFRCxNQUFNTyxpQkFBaUIsR0FBRyxNQUFBQSxDQUFPbkIsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFRyxPQUFPLEtBQUs7RUFDaEYsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLGtHQUFrRyxFQUFDLENBQUNSLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUcsT0FBTyxDQUFDLENBQUM7QUFDMUssQ0FBQztBQUFBLElBQUFjLFFBQUEsR0FBQUMsT0FBQSxDQUFBdkIsT0FBQSxHQUdjO0VBQUNDLFdBQVc7RUFBRVUsU0FBUztFQUFFSyxXQUFXO0VBQUVFLFNBQVM7RUFBRUMsUUFBUTtFQUFFQyxJQUFJO0VBQUNDO0FBQWlCLENBQUMifQ==","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","insert_user","username","password","fullname","address","sex","email","groupid","con","execute","list_user","from","to","rows","fields","detail_user","name","edit_user","del_user","auth","insert_user_Users","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\services\\","sources":["userModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\nconst insert_user = async (username, password, fullname, address, sex, email, groupid) => {\r\n    await con.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `sex`, `email`, `groupid`) VALUES (?,?,?,?,?,?,?)',[username, password, fullname, address, sex, email, groupid])\r\n} \r\n\r\nconst list_user = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `users`')\r\n    return rows\r\n} \r\n\r\nconst detail_user = async (name) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM users WHERE users.username LIKE ?', [name])\r\n    return rows\r\n} \r\n\r\nconst edit_user = async (username, password, fullname, address, sex, email, groupid) => {\r\n    await con.execute('UPDATE `users` SET `password`=?,`fullname`=?,`address`=?,`sex`=?,`email`=?,`groupid`=? WHERE users.username = ?',[password, fullname, address, sex, email, groupid, username])\r\n}\r\n\r\nconst del_user = async (username) => {\r\n    await con.execute('DELETE FROM `users` WHERE users.username = ?',[username])\r\n}\r\n\r\nconst auth = async (username) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM users WHERE users.username LIKE ?', [username])\r\n    return rows\r\n}\r\n\r\nconst insert_user_Users = async (username, password, fullname, address, groupid) => {\r\n    await con.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `groupid`) VALUES (?,?,?,?,?)',[username, password, fullname, address, groupid])\r\n} \r\n\r\n\r\nexport default {insert_user, list_user, detail_user, edit_user, del_user, auth,insert_user_Users}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEvC,MAAMG,WAAW,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,KAAK;EACtF,MAAMC,kBAAG,CAACC,OAAO,CAAC,sHAAsH,EAAC,CAACR,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,CAAC,CAAC;AAC1M,CAAC;AAED,MAAMG,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,uBAAuB,CAAC;EACjE,OAAOI,IAAI;AACf,CAAC;AAED,MAAME,WAAW,GAAG,MAAOC,IAAI,IAAK;EAChC,MAAM,CAACH,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAE,CAACO,IAAI,CAAC,CAAC;EACnG,OAAOH,IAAI;AACf,CAAC;AAED,MAAMI,SAAS,GAAG,MAAAA,CAAOhB,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,KAAK;EACpF,MAAMC,kBAAG,CAACC,OAAO,CAAC,iHAAiH,EAAC,CAACP,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,EAAEN,QAAQ,CAAC,CAAC;AACrM,CAAC;AAED,MAAMiB,QAAQ,GAAG,MAAOjB,QAAQ,IAAK;EACjC,MAAMO,kBAAG,CAACC,OAAO,CAAC,8CAA8C,EAAC,CAACR,QAAQ,CAAC,CAAC;AAChF,CAAC;AAED,MAAMkB,IAAI,GAAG,MAAOlB,QAAQ,IAAK;EAC7B,MAAM,CAACY,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAE,CAACR,QAAQ,CAAC,CAAC;EACvG,OAAOY,IAAI;AACf,CAAC;AAED,MAAMO,iBAAiB,GAAG,MAAAA,CAAOnB,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEG,OAAO,KAAK;EAChF,MAAMC,kBAAG,CAACC,OAAO,CAAC,kGAAkG,EAAC,CAACR,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEG,OAAO,CAAC,CAAC;AAC1K,CAAC;AAAA,IAAAc,QAAA,GAAAC,OAAA,CAAAvB,OAAA,GAGc;EAACC,WAAW;EAAEU,SAAS;EAAEK,WAAW;EAAEE,SAAS;EAAEC,QAAQ;EAAEC,IAAI;EAACC;AAAiB,CAAC"}},"mtime":1700121220965},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\config\\\\connectDB.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _promise = _interopRequireDefault(require(\"mysql2/promise\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst con = _promise.default.createPool({\n  host: 'localhost',\n  user: 'root',\n  database: 'bc_node',\n  waitForConnections: true,\n  connectionLimit: 10,\n  maxIdle: 10,\n  // max idle connections, the default value is the same as `connectionLimit`\n  idleTimeout: 60000,\n  // idle connections timeout, in milliseconds, the default value 60000\n  queueLimit: 0,\n  enableKeepAlive: true,\n  keepAliveInitialDelay: 0\n});\nvar _default = exports.default = con;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvbWlzZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjb24iLCJteXNxbCIsImNyZWF0ZVBvb2wiLCJob3N0IiwidXNlciIsImRhdGFiYXNlIiwid2FpdEZvckNvbm5lY3Rpb25zIiwiY29ubmVjdGlvbkxpbWl0IiwibWF4SWRsZSIsImlkbGVUaW1lb3V0IiwicXVldWVMaW1pdCIsImVuYWJsZUtlZXBBbGl2ZSIsImtlZXBBbGl2ZUluaXRpYWxEZWxheSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcY29uZmlnXFwiLCJzb3VyY2VzIjpbImNvbm5lY3REQi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbXlzcWwgZnJvbSBcIm15c3FsMi9wcm9taXNlXCJcclxuXHJcbmNvbnN0IGNvbiA9IG15c3FsLmNyZWF0ZVBvb2woe1xyXG5cclxuICAgIGhvc3Q6ICdsb2NhbGhvc3QnLFxyXG4gICAgdXNlcjogJ3Jvb3QnLFxyXG4gICAgZGF0YWJhc2U6ICdiY19ub2RlJyxcclxuICAgIHdhaXRGb3JDb25uZWN0aW9uczogdHJ1ZSxcclxuICAgIGNvbm5lY3Rpb25MaW1pdDogMTAsXHJcbiAgICBtYXhJZGxlOiAxMCwgLy8gbWF4IGlkbGUgY29ubmVjdGlvbnMsIHRoZSBkZWZhdWx0IHZhbHVlIGlzIHRoZSBzYW1lIGFzIGBjb25uZWN0aW9uTGltaXRgXHJcbiAgICBpZGxlVGltZW91dDogNjAwMDAsIC8vIGlkbGUgY29ubmVjdGlvbnMgdGltZW91dCwgaW4gbWlsbGlzZWNvbmRzLCB0aGUgZGVmYXVsdCB2YWx1ZSA2MDAwMFxyXG4gICAgcXVldWVMaW1pdDogMCxcclxuICAgIGVuYWJsZUtlZXBBbGl2ZTogdHJ1ZSxcclxuICAgIGtlZXBBbGl2ZUluaXRpYWxEZWxheTogMFxyXG5cclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQWtDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRWxDLE1BQU1HLEdBQUcsR0FBR0MsZ0JBQUssQ0FBQ0MsVUFBVSxDQUFDO0VBRXpCQyxJQUFJLEVBQUUsV0FBVztFQUNqQkMsSUFBSSxFQUFFLE1BQU07RUFDWkMsUUFBUSxFQUFFLFNBQVM7RUFDbkJDLGtCQUFrQixFQUFFLElBQUk7RUFDeEJDLGVBQWUsRUFBRSxFQUFFO0VBQ25CQyxPQUFPLEVBQUUsRUFBRTtFQUFFO0VBQ2JDLFdBQVcsRUFBRSxLQUFLO0VBQUU7RUFDcEJDLFVBQVUsRUFBRSxDQUFDO0VBQ2JDLGVBQWUsRUFBRSxJQUFJO0VBQ3JCQyxxQkFBcUIsRUFBRTtBQUUzQixDQUFDLENBQUM7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWYsT0FBQSxHQUVhQyxHQUFHIn0=","map":{"version":3,"names":["_promise","_interopRequireDefault","require","obj","__esModule","default","con","mysql","createPool","host","user","database","waitForConnections","connectionLimit","maxIdle","idleTimeout","queueLimit","enableKeepAlive","keepAliveInitialDelay","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\config\\","sources":["connectDB.js"],"sourcesContent":["import mysql from \"mysql2/promise\"\r\n\r\nconst con = mysql.createPool({\r\n\r\n    host: 'localhost',\r\n    user: 'root',\r\n    database: 'bc_node',\r\n    waitForConnections: true,\r\n    connectionLimit: 10,\r\n    maxIdle: 10, // max idle connections, the default value is the same as `connectionLimit`\r\n    idleTimeout: 60000, // idle connections timeout, in milliseconds, the default value 60000\r\n    queueLimit: 0,\r\n    enableKeepAlive: true,\r\n    keepAliveInitialDelay: 0\r\n\r\n})\r\n\r\nexport default con"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAkC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAElC,MAAMG,GAAG,GAAGC,gBAAK,CAACC,UAAU,CAAC;EAEzBC,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,MAAM;EACZC,QAAQ,EAAE,SAAS;EACnBC,kBAAkB,EAAE,IAAI;EACxBC,eAAe,EAAE,EAAE;EACnBC,OAAO,EAAE,EAAE;EAAE;EACbC,WAAW,EAAE,KAAK;EAAE;EACpBC,UAAU,EAAE,CAAC;EACbC,eAAe,EAAE,IAAI;EACrBC,qBAAqB,EAAE;AAE3B,CAAC,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAEaC,GAAG"}},"mtime":1696865112227},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\formLoginController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst login = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'login',\n      title: 'Đăng nhập'\n    }\n  });\n};\nconst login_auth = async (req, res) => {\n  let body = req.body;\n  if (!body.username || !body.password) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    try {\n      let auth = await _userModel.default.auth(body.username);\n      if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\n        console.log(\"khong ton tai tk\");\n      } else {\n        let hash = _bcryptjs.default.hashSync(body.password, _bcryptjs.default.genSaltSync(10));\n        if (_bcryptjs.default.compareSync(body.password, auth[0].password)) {\n          req.session.auth = {\n            name: auth[0].username,\n            pass: auth[0].password,\n            role: auth[0].groupid\n          };\n          res.redirect(\"/list-user/0-10\");\n        } else {\n          console.log(\"sai mat khau\");\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\nconst logout = (req, res) => {\n  req.session.destroy();\n  res.redirect('/login');\n};\nvar _default = exports.default = {\n  login,\n  login_auth,\n  logout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibG9naW4iLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwibG9naW5fYXV0aCIsImJvZHkiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwic3RhdHVzIiwic2VuZCIsImF1dGgiLCJ1c2VyTW9kZWwiLCJncm91cGlkIiwiY29uc29sZSIsImxvZyIsImhhc2giLCJiY3J5cHQiLCJoYXNoU3luYyIsImdlblNhbHRTeW5jIiwiY29tcGFyZVN5bmMiLCJzZXNzaW9uIiwibmFtZSIsInBhc3MiLCJyb2xlIiwicmVkaXJlY3QiLCJlcnJvciIsImxvZ291dCIsImRlc3Ryb3kiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbImZvcm1Mb2dpbkNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgdXNlck1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy91c2VyTW9kZWxcIlxyXG5cclxuY29uc3QgbG9naW4gPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdsb2dpbicsIHRpdGxlOiAnxJDEg25nIG5o4bqtcCd9fSlcclxufVxyXG5cclxuY29uc3QgbG9naW5fYXV0aCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgaWYgKCFib2R5LnVzZXJuYW1lIHx8ICFib2R5LnBhc3N3b3JkKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBhdXRoID0gYXdhaXQgdXNlck1vZGVsLmF1dGgoYm9keS51c2VybmFtZSlcclxuXHJcbiAgICAgICAgICAgIGlmICghYXV0aFswXS51c2VybmFtZSB8fCAhYXV0aFswXS5wYXNzd29yZCB8fCAhYXV0aFswXS5ncm91cGlkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImtob25nIHRvbiB0YWkgdGtcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBoYXNoID0gYmNyeXB0Lmhhc2hTeW5jKGJvZHkucGFzc3dvcmQsIGJjcnlwdC5nZW5TYWx0U3luYygxMCkpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChiY3J5cHQuY29tcGFyZVN5bmMoYm9keS5wYXNzd29yZCwgYXV0aFswXS5wYXNzd29yZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXEuc2Vzc2lvbi5hdXRoID0ge25hbWU6YXV0aFswXS51c2VybmFtZSwgcGFzczphdXRoWzBdLnBhc3N3b3JkLCByb2xlOmF1dGhbMF0uZ3JvdXBpZH1cclxuICAgICAgICAgICAgICAgICAgICByZXMucmVkaXJlY3QoXCIvbGlzdC11c2VyLzAtMTBcIilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2FpIG1hdCBraGF1XCIpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBsb2dvdXQgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcS5zZXNzaW9uLmRlc3Ryb3koKVxyXG4gICAgcmVzLnJlZGlyZWN0KCcvbG9naW4nKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7bG9naW4sIGxvZ2luX2F1dGgsIGxvZ291dH0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxTQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBNkMsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFN0MsTUFBTUcsS0FBSyxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN4QkEsR0FBRyxDQUFDQyxNQUFNLENBQUMsTUFBTSxFQUFFO0lBQUNDLElBQUksRUFBRTtNQUFDQyxJQUFJLEVBQUUsT0FBTztNQUFFQyxLQUFLLEVBQUU7SUFBVztFQUFDLENBQUMsQ0FBQztBQUNuRSxDQUFDO0FBRUQsTUFBTUMsVUFBVSxHQUFHLE1BQUFBLENBQU9OLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ25DLElBQUlNLElBQUksR0FBR1AsR0FBRyxDQUFDTyxJQUFJO0VBQ25CLElBQUksQ0FBQ0EsSUFBSSxDQUFDQyxRQUFRLElBQUksQ0FBQ0QsSUFBSSxDQUFDRSxRQUFRLEVBQUU7SUFDbENSLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsNEJBQTRCLENBQUM7RUFDdEQsQ0FBQyxNQUNJO0lBQ0QsSUFBSTtNQUNBLElBQUlDLElBQUksR0FBRyxNQUFNQyxrQkFBUyxDQUFDRCxJQUFJLENBQUNMLElBQUksQ0FBQ0MsUUFBUSxDQUFDO01BRTlDLElBQUksQ0FBQ0ksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDSixRQUFRLElBQUksQ0FBQ0ksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDSCxRQUFRLElBQUksQ0FBQ0csSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDRSxPQUFPLEVBQUU7UUFDNURDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGtCQUFrQixDQUFDO01BQ25DLENBQUMsTUFDSTtRQUNELElBQUlDLElBQUksR0FBR0MsaUJBQU0sQ0FBQ0MsUUFBUSxDQUFDWixJQUFJLENBQUNFLFFBQVEsRUFBRVMsaUJBQU0sQ0FBQ0UsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRWpFLElBQUlGLGlCQUFNLENBQUNHLFdBQVcsQ0FBQ2QsSUFBSSxDQUFDRSxRQUFRLEVBQUVHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ0gsUUFBUSxDQUFDLEVBQUU7VUFDckRULEdBQUcsQ0FBQ3NCLE9BQU8sQ0FBQ1YsSUFBSSxHQUFHO1lBQUNXLElBQUksRUFBQ1gsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDSixRQUFRO1lBQUVnQixJQUFJLEVBQUNaLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ0gsUUFBUTtZQUFFZ0IsSUFBSSxFQUFDYixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNFO1VBQU8sQ0FBQztVQUN2RmIsR0FBRyxDQUFDeUIsUUFBUSxDQUFDLGlCQUFpQixDQUFDO1FBQ25DLENBQUMsTUFDSTtVQUNEWCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxjQUFjLENBQUM7UUFDL0I7TUFDSjtJQUVKLENBQUMsQ0FBQyxPQUFPVyxLQUFLLEVBQUU7TUFDWlosT0FBTyxDQUFDQyxHQUFHLENBQUNXLEtBQUssQ0FBQztJQUN0QjtFQUNKO0FBQ0osQ0FBQztBQUVELE1BQU1DLE1BQU0sR0FBR0EsQ0FBQzVCLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3pCRCxHQUFHLENBQUNzQixPQUFPLENBQUNPLE9BQU8sQ0FBQyxDQUFDO0VBQ3JCNUIsR0FBRyxDQUFDeUIsUUFBUSxDQUFDLFFBQVEsQ0FBQztBQUMxQixDQUFDO0FBQUEsSUFBQUksUUFBQSxHQUFBQyxPQUFBLENBQUFqQyxPQUFBLEdBRWM7RUFBQ0MsS0FBSztFQUFFTyxVQUFVO0VBQUVzQjtBQUFNLENBQUMifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","obj","__esModule","default","login","req","res","render","data","page","title","login_auth","body","username","password","status","send","auth","userModel","groupid","console","log","hash","bcrypt","hashSync","genSaltSync","compareSync","session","name","pass","role","redirect","error","logout","destroy","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["formLoginController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst login = (req, res) => {\r\n    res.render('home', {data: {page: 'login', title: 'Đăng nhập'}})\r\n}\r\n\r\nconst login_auth = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username || !body.password) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else {\r\n        try {\r\n            let auth = await userModel.auth(body.username)\r\n\r\n            if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\r\n                console.log(\"khong ton tai tk\")\r\n            }\r\n            else {\r\n                let hash = bcrypt.hashSync(body.password, bcrypt.genSaltSync(10))\r\n                \r\n                if (bcrypt.compareSync(body.password, auth[0].password)) {\r\n                    req.session.auth = {name:auth[0].username, pass:auth[0].password, role:auth[0].groupid}\r\n                    res.redirect(\"/list-user/0-10\")\r\n                }\r\n                else {\r\n                    console.log(\"sai mat khau\")\r\n                }\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n}\r\n\r\nconst logout = (req, res) => {\r\n    req.session.destroy()\r\n    res.redirect('/login')\r\n}\r\n\r\nexport default {login, login_auth, logout}"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA6C,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7C,MAAMG,KAAK,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EACxBA,GAAG,CAACC,MAAM,CAAC,MAAM,EAAE;IAACC,IAAI,EAAE;MAACC,IAAI,EAAE,OAAO;MAAEC,KAAK,EAAE;IAAW;EAAC,CAAC,CAAC;AACnE,CAAC;AAED,MAAMC,UAAU,GAAG,MAAAA,CAAON,GAAG,EAAEC,GAAG,KAAK;EACnC,IAAIM,IAAI,GAAGP,GAAG,CAACO,IAAI;EACnB,IAAI,CAACA,IAAI,CAACC,QAAQ,IAAI,CAACD,IAAI,CAACE,QAAQ,EAAE;IAClCR,GAAG,CAACS,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,4BAA4B,CAAC;EACtD,CAAC,MACI;IACD,IAAI;MACA,IAAIC,IAAI,GAAG,MAAMC,kBAAS,CAACD,IAAI,CAACL,IAAI,CAACC,QAAQ,CAAC;MAE9C,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,CAACJ,QAAQ,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ,IAAI,CAACG,IAAI,CAAC,CAAC,CAAC,CAACE,OAAO,EAAE;QAC5DC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MACnC,CAAC,MACI;QACD,IAAIC,IAAI,GAAGC,iBAAM,CAACC,QAAQ,CAACZ,IAAI,CAACE,QAAQ,EAAES,iBAAM,CAACE,WAAW,CAAC,EAAE,CAAC,CAAC;QAEjE,IAAIF,iBAAM,CAACG,WAAW,CAACd,IAAI,CAACE,QAAQ,EAAEG,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ,CAAC,EAAE;UACrDT,GAAG,CAACsB,OAAO,CAACV,IAAI,GAAG;YAACW,IAAI,EAACX,IAAI,CAAC,CAAC,CAAC,CAACJ,QAAQ;YAAEgB,IAAI,EAACZ,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ;YAAEgB,IAAI,EAACb,IAAI,CAAC,CAAC,CAAC,CAACE;UAAO,CAAC;UACvFb,GAAG,CAACyB,QAAQ,CAAC,iBAAiB,CAAC;QACnC,CAAC,MACI;UACDX,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;QAC/B;MACJ;IAEJ,CAAC,CAAC,OAAOW,KAAK,EAAE;MACZZ,OAAO,CAACC,GAAG,CAACW,KAAK,CAAC;IACtB;EACJ;AACJ,CAAC;AAED,MAAMC,MAAM,GAAGA,CAAC5B,GAAG,EAAEC,GAAG,KAAK;EACzBD,GAAG,CAACsB,OAAO,CAACO,OAAO,CAAC,CAAC;EACrB5B,GAAG,CAACyB,QAAQ,CAAC,QAAQ,CAAC;AAC1B,CAAC;AAAA,IAAAI,QAAA,GAAAC,OAAA,CAAAjC,OAAA,GAEc;EAACC,KAAK;EAAEO,UAAU;EAAEsB;AAAM,CAAC"}},"mtime":1696863602410},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\HomeUserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _connectDB = _interopRequireDefault(require(\"../config/connectDB\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst HomeUser = async (req, res) => {\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n\n  //lay 3 tin tuc noi bat\n  var limitt = 3;\n  let list = await _postModel.default.list_hot_post_user(limitt);\n\n  //lay tin tuc moi nhat\n\n  let lists = await _postModel.default.list_new_post_user();\n  res.render('User/HomeUser', {\n    data: {\n      page: 'IndexUser',\n      title: 'Trang Chu',\n      list: list,\n      lists: lists,\n      auth: auth\n    }\n  });\n};\n\n//chi tiet bai viet singlepost\n\nconst SinglePage = async (req, res) => {\n  let id = req.params.id;\n  let item = await _postModel.default.detail_post(id);\n\n  //lay ra danh sach tin tuc\n\n  let items = await _newsModel.default.list_news_all();\n  res.render('User/HomeUser', {\n    data: {\n      page: 'SinglePage',\n      item: item,\n      items: items\n    }\n  });\n};\n\n//hien thi bai viet theo tin tuc\nconst ByNews = async (req, res) => {\n  let news_id = req.params.id;\n  let items = await _postModel.default.list_by_news(news_id);\n\n  //lay ra danh sach tin tuc\n\n  let itemss = await _newsModel.default.list_news_all();\n  res.render('User/HomeUser', {\n    data: {\n      page: 'ByNews',\n      items: items,\n      itemss: itemss\n    }\n  });\n};\nconst LoginUser = (req, res) => {\n  res.render('User/LoginUser', {\n    data: {\n      title: 'Login'\n    }\n  });\n};\nconst login_auth_User = async (req, res) => {\n  let body = req.body;\n  if (!body.username || !body.password) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    try {\n      let auth = await _userModel.default.auth(body.username);\n      if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\n        console.log(\"khong ton tai tk\");\n      } else {\n        let hash = _bcryptjs.default.hashSync(body.password, _bcryptjs.default.genSaltSync(10));\n        if (auth[0].groupid == 1) {\n          if (_bcryptjs.default.compareSync(body.password, auth[0].password)) {\n            req.session.auth = {\n              name: auth[0].username,\n              pass: auth[0].password,\n              role: auth[0].groupid\n            };\n            res.redirect(\"/\");\n          } else {\n            console.log(\"sai mat khau\");\n          }\n        } else {\n          console.log(\"sai mat khau\");\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\nconst logout_User = (req, res) => {\n  req.session.destroy();\n  res.redirect('/');\n};\nconst RegisterUser = (req, res) => {\n  res.render('User/RegisterUser', {\n    data: {\n      title: 'Register'\n    }\n  });\n};\nconst request_register = async (req, res) => {\n  let body = req.body;\n  if (!body.username || !body.password || !body.fullname || !body.address) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    let role = 1;\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.password, pass);\n    await _userModel.default.insert_user_Users(body.username, hash, body.fullname, body.address, role);\n    res.redirect(\"/\");\n  }\n};\nvar _default = exports.default = {\n  HomeUser,\n  LoginUser,\n  SinglePage,\n  RegisterUser,\n  login_auth_User,\n  logout_User,\n  request_register,\n  ByNews\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX2Nvbm5lY3REQiIsIl9wb3N0TW9kZWwiLCJfbmV3c01vZGVsIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiSG9tZVVzZXIiLCJyZXEiLCJyZXMiLCJhdXRoIiwic2Vzc2lvbiIsImxpbWl0dCIsImxpc3QiLCJwb3N0TW9kZWwiLCJsaXN0X2hvdF9wb3N0X3VzZXIiLCJsaXN0cyIsImxpc3RfbmV3X3Bvc3RfdXNlciIsInJlbmRlciIsImRhdGEiLCJwYWdlIiwidGl0bGUiLCJTaW5nbGVQYWdlIiwiaWQiLCJwYXJhbXMiLCJpdGVtIiwiZGV0YWlsX3Bvc3QiLCJpdGVtcyIsIm5ld3NNb2RlbCIsImxpc3RfbmV3c19hbGwiLCJCeU5ld3MiLCJuZXdzX2lkIiwibGlzdF9ieV9uZXdzIiwiaXRlbXNzIiwiTG9naW5Vc2VyIiwibG9naW5fYXV0aF9Vc2VyIiwiYm9keSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJzdGF0dXMiLCJzZW5kIiwidXNlck1vZGVsIiwiZ3JvdXBpZCIsImNvbnNvbGUiLCJsb2ciLCJoYXNoIiwiYmNyeXB0IiwiaGFzaFN5bmMiLCJnZW5TYWx0U3luYyIsImNvbXBhcmVTeW5jIiwibmFtZSIsInBhc3MiLCJyb2xlIiwicmVkaXJlY3QiLCJlcnJvciIsImxvZ291dF9Vc2VyIiwiZGVzdHJveSIsIlJlZ2lzdGVyVXNlciIsInJlcXVlc3RfcmVnaXN0ZXIiLCJmdWxsbmFtZSIsImFkZHJlc3MiLCJpbnNlcnRfdXNlcl9Vc2VycyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiSG9tZVVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xyXG5pbXBvcnQgY29uIGZyb20gXCIuLi9jb25maWcvY29ubmVjdERCXCJcclxuaW1wb3J0IHBvc3RNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvcG9zdE1vZGVsXCJcclxuaW1wb3J0IG5ld3NNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvbmV3c01vZGVsXCJcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuaW1wb3J0IHVzZXJNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvdXNlck1vZGVsXCJcclxuXHJcbmNvbnN0IEhvbWVVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgbGV0IGF1dGggPSBudWxsXHJcblxyXG4gICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgpIHtcclxuICAgICAgICBhdXRoID0gcmVxLnNlc3Npb24uYXV0aFxyXG4gICAgfVxyXG5cclxuICAgIC8vbGF5IDMgdGluIHR1YyBub2kgYmF0XHJcbiAgICB2YXIgbGltaXR0ID0gM1xyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwubGlzdF9ob3RfcG9zdF91c2VyKGxpbWl0dClcclxuICAgXHJcblxyXG4gICAgLy9sYXkgdGluIHR1YyBtb2kgbmhhdFxyXG4gIFxyXG4gICAgbGV0IGxpc3RzID0gYXdhaXQgcG9zdE1vZGVsLmxpc3RfbmV3X3Bvc3RfdXNlcigpXHJcblxyXG5cclxuICAgIHJlcy5yZW5kZXIoJ1VzZXIvSG9tZVVzZXInLCB7ZGF0YToge3BhZ2U6ICdJbmRleFVzZXInLCB0aXRsZTogJ1RyYW5nIENodScsbGlzdDpsaXN0LGxpc3RzOmxpc3RzLGF1dGg6YXV0aH19KVxyXG59XHJcblxyXG4vL2NoaSB0aWV0IGJhaSB2aWV0IHNpbmdsZXBvc3RcclxuXHJcbmNvbnN0IFNpbmdsZVBhZ2UgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICBsZXQgaXRlbSA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdChpZClcclxuXHJcbiAgICAvL2xheSByYSBkYW5oIHNhY2ggdGluIHR1Y1xyXG5cclxuICAgbGV0IGl0ZW1zID0gYXdhaXQgbmV3c01vZGVsLmxpc3RfbmV3c19hbGwoKTsgXHJcblxyXG5cclxuICAgIHJlcy5yZW5kZXIoJ1VzZXIvSG9tZVVzZXInLCB7ZGF0YToge3BhZ2U6ICdTaW5nbGVQYWdlJyxpdGVtOml0ZW0saXRlbXM6aXRlbXN9fSlcclxufVxyXG5cclxuICAvL2hpZW4gdGhpIGJhaSB2aWV0IHRoZW8gdGluIHR1Y1xyXG5jb25zdCBCeU5ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICBsZXQgbmV3c19pZCA9IHJlcS5wYXJhbXMuaWRcclxuICAgIGxldCBpdGVtcyA9IGF3YWl0IHBvc3RNb2RlbC5saXN0X2J5X25ld3MobmV3c19pZClcclxuXHJcbiAgICAvL2xheSByYSBkYW5oIHNhY2ggdGluIHR1Y1xyXG5cclxuXHJcbiAgICBsZXQgaXRlbXNzID0gYXdhaXQgbmV3c01vZGVsLmxpc3RfbmV3c19hbGwoKTsgXHJcbiAgXHJcblxyXG5cclxuICAgIHJlcy5yZW5kZXIoJ1VzZXIvSG9tZVVzZXInLCB7ZGF0YToge3BhZ2U6ICdCeU5ld3MnLGl0ZW1zOml0ZW1zLGl0ZW1zczppdGVtc3N9fSlcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuY29uc3QgTG9naW5Vc2VyID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMucmVuZGVyKCdVc2VyL0xvZ2luVXNlcicsIHtkYXRhOiB7dGl0bGU6ICdMb2dpbid9fSlcclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBsb2dpbl9hdXRoX1VzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuICAgIGlmICghYm9keS51c2VybmFtZSB8fCAhYm9keS5wYXNzd29yZCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgYXV0aCA9IGF3YWl0IHVzZXJNb2RlbC5hdXRoKGJvZHkudXNlcm5hbWUpXHJcblxyXG4gICAgICAgICAgICBpZiAoIWF1dGhbMF0udXNlcm5hbWUgfHwgIWF1dGhbMF0ucGFzc3dvcmQgfHwgIWF1dGhbMF0uZ3JvdXBpZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJraG9uZyB0b24gdGFpIHRrXCIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbGV0IGhhc2ggPSBiY3J5cHQuaGFzaFN5bmMoYm9keS5wYXNzd29yZCwgYmNyeXB0LmdlblNhbHRTeW5jKDEwKSlcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICBpZihhdXRoWzBdLmdyb3VwaWQgPT0gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmNyeXB0LmNvbXBhcmVTeW5jKGJvZHkucGFzc3dvcmQsIGF1dGhbMF0ucGFzc3dvcmQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnNlc3Npb24uYXV0aCA9IHtuYW1lOmF1dGhbMF0udXNlcm5hbWUsIHBhc3M6YXV0aFswXS5wYXNzd29yZCwgcm9sZTphdXRoWzBdLmdyb3VwaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnJlZGlyZWN0KFwiL1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzYWkgbWF0IGtoYXVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2FpIG1hdCBraGF1XCIpXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGxvZ291dF9Vc2VyID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXEuc2Vzc2lvbi5kZXN0cm95KClcclxuICAgIHJlcy5yZWRpcmVjdCgnLycpXHJcbn1cclxuXHJcblxyXG5jb25zdCBSZWdpc3RlclVzZXIgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ1VzZXIvUmVnaXN0ZXJVc2VyJywge2RhdGE6IHt0aXRsZTogJ1JlZ2lzdGVyJ319KVxyXG59XHJcblxyXG5cclxuXHJcbmNvbnN0IHJlcXVlc3RfcmVnaXN0ZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuICAgIGlmICghYm9keS51c2VybmFtZSB8fCAhYm9keS5wYXNzd29yZCB8fCAhYm9keS5mdWxsbmFtZSB8fCAhYm9keS5hZGRyZXNzKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IHJvbGUgPSAxXHJcbiAgICAgICAgbGV0IHBhc3MgPSBiY3J5cHQuZ2VuU2FsdFN5bmMoMTApXHJcbiAgICAgICAgbGV0IGhhc2ggPSBiY3J5cHQuaGFzaFN5bmMoYm9keS5wYXNzd29yZCwgcGFzcylcclxuXHJcblxyXG4gICAgICAgIGF3YWl0IHVzZXJNb2RlbC5pbnNlcnRfdXNlcl9Vc2Vycyhib2R5LnVzZXJuYW1lLCBoYXNoLCBib2R5LmZ1bGxuYW1lLCBib2R5LmFkZHJlc3MsIHJvbGUpXHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KFwiL1wiKVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7SG9tZVVzZXIsTG9naW5Vc2VyLFNpbmdsZVBhZ2UsUmVnaXN0ZXJVc2VyLGxvZ2luX2F1dGhfVXNlcixsb2dvdXRfVXNlcixyZXF1ZXN0X3JlZ2lzdGVyLEJ5TmV3c30iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxHQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxVQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxVQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxTQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTSxVQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFBNkMsU0FBQUQsdUJBQUFRLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFN0MsTUFBTUcsUUFBUSxHQUFHLE1BQUFBLENBQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBRWpDLElBQUlDLElBQUksR0FBRyxJQUFJO0VBRWYsSUFBSUYsR0FBRyxDQUFDRyxPQUFPLENBQUNELElBQUksRUFBRTtJQUNsQkEsSUFBSSxHQUFHRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0QsSUFBSTtFQUMzQjs7RUFFQTtFQUNBLElBQUlFLE1BQU0sR0FBRyxDQUFDO0VBQ2QsSUFBSUMsSUFBSSxHQUFHLE1BQU1DLGtC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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_connectDB","_postModel","_newsModel","_bcryptjs","_userModel","obj","__esModule","default","HomeUser","req","res","auth","session","limitt","list","postModel","list_hot_post_user","lists","list_new_post_user","render","data","page","title","SinglePage","id","params","item","detail_post","items","newsModel","list_news_all","ByNews","news_id","list_by_news","itemss","LoginUser","login_auth_User","body","username","password","status","send","userModel","groupid","console","log","hash","bcrypt","hashSync","genSaltSync","compareSync","name","pass","role","redirect","error","logout_User","destroy","RegisterUser","request_register","fullname","address","insert_user_Users","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["HomeUserController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs'\r\nimport con from \"../config/connectDB\"\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst HomeUser = async (req, res) => {\r\n\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n\r\n    //lay 3 tin tuc noi bat\r\n    var limitt = 3\r\n    let list = await postModel.list_hot_post_user(limitt)\r\n   \r\n\r\n    //lay tin tuc moi nhat\r\n  \r\n    let lists = await postModel.list_new_post_user()\r\n\r\n\r\n    res.render('User/HomeUser', {data: {page: 'IndexUser', title: 'Trang Chu',list:list,lists:lists,auth:auth}})\r\n}\r\n\r\n//chi tiet bai viet singlepost\r\n\r\nconst SinglePage = async (req, res) => {\r\n\r\n    let id = req.params.id\r\n    let item = await postModel.detail_post(id)\r\n\r\n    //lay ra danh sach tin tuc\r\n\r\n   let items = await newsModel.list_news_all(); \r\n\r\n\r\n    res.render('User/HomeUser', {data: {page: 'SinglePage',item:item,items:items}})\r\n}\r\n\r\n  //hien thi bai viet theo tin tuc\r\nconst ByNews = async (req, res) => {\r\n\r\n    let news_id = req.params.id\r\n    let items = await postModel.list_by_news(news_id)\r\n\r\n    //lay ra danh sach tin tuc\r\n\r\n\r\n    let itemss = await newsModel.list_news_all(); \r\n  \r\n\r\n\r\n    res.render('User/HomeUser', {data: {page: 'ByNews',items:items,itemss:itemss}})\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst LoginUser = (req, res) => {\r\n    res.render('User/LoginUser', {data: {title: 'Login'}})\r\n}\r\n\r\n\r\n\r\nconst login_auth_User = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username || !body.password) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else {\r\n        try {\r\n            let auth = await userModel.auth(body.username)\r\n\r\n            if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\r\n                console.log(\"khong ton tai tk\")\r\n            }\r\n            else {\r\n\r\n              \r\n                let hash = bcrypt.hashSync(body.password, bcrypt.genSaltSync(10))\r\n                \r\n               if(auth[0].groupid == 1){\r\n                            if (bcrypt.compareSync(body.password, auth[0].password)) {\r\n                                req.session.auth = {name:auth[0].username, pass:auth[0].password, role:auth[0].groupid}\r\n                                res.redirect(\"/\")\r\n                            }\r\n                            else {\r\n                                console.log(\"sai mat khau\")\r\n                            }\r\n                }\r\n               else{\r\n                console.log(\"sai mat khau\")\r\n               }\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n}\r\n\r\nconst logout_User = (req, res) => {\r\n    req.session.destroy()\r\n    res.redirect('/')\r\n}\r\n\r\n\r\nconst RegisterUser = (req, res) => {\r\n    res.render('User/RegisterUser', {data: {title: 'Register'}})\r\n}\r\n\r\n\r\n\r\nconst request_register = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username || !body.password || !body.fullname || !body.address) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        \r\n        let role = 1\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.password, pass)\r\n\r\n\r\n        await userModel.insert_user_Users(body.username, hash, body.fullname, body.address, role)\r\n        res.redirect(\"/\")\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default {HomeUser,LoginUser,SinglePage,RegisterUser,login_auth_User,logout_User,request_register,ByNews}"],"mappings":"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"}},"mtime":1696864894605},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\services\\\\postModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//trang nguoi dung  -- hien thi bai viet theo tin tuc\nconst list_by_news = async news_id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts` WHERE posts.news_id = ? ORDER BY posts.id DESC', [news_id]);\n  return rows;\n};\n\n//show user noi bat\nconst list_hot_post_user = async limitt => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts` ORDER BY posts.id DESC  LIMIT ?', [limitt]);\n  return rows;\n};\n\n//moi nhat\nconst list_new_post_user = async () => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts`');\n  return rows;\n};\nconst list_post = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts` LIMIT ?, ?', [from, to]);\n  return rows;\n};\nconst insert_post = async (title, content, image, news_id, currentDate) => {\n  await _connectDB.default.execute('INSERT INTO `posts`(`title`, `content`, `image`, `news_id`,`create_at`) VALUES (?, ?, ?, ?,?)', [title, content, image, news_id, currentDate]);\n};\nconst detail_post = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM posts WHERE posts.id = ?', [id]);\n  return rows;\n};\nconst detail_post_edit = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM posts WHERE posts.id = ?', [id]);\n  return rows;\n};\nconst edit_post = async (title, content, image, news_id, id) => {\n  await _connectDB.default.execute('UPDATE `posts` SET `title`=?,`content`=?,`image`=?,`news_id`=? where posts.id = ?  ', [title, content, image, news_id, id]);\n};\nconst del_post = async id => {\n  await _connectDB.default.execute('DELETE FROM `posts` WHERE posts.id = ?', [id]);\n};\nvar _default = exports.default = {\n  list_post,\n  insert_post,\n  detail_post,\n  edit_post,\n  detail_post_edit,\n  del_post,\n  list_hot_post_user,\n  list_new_post_user,\n  list_by_news\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfYnlfbmV3cyIsIm5ld3NfaWQiLCJyb3dzIiwiZmllbGRzIiwiY29uIiwiZXhlY3V0ZSIsImxpc3RfaG90X3Bvc3RfdXNlciIsImxpbWl0dCIsImxpc3RfbmV3X3Bvc3RfdXNlciIsImxpc3RfcG9zdCIsImZyb20iLCJ0byIsImluc2VydF9wb3N0IiwidGl0bGUiLCJjb250ZW50IiwiaW1hZ2UiLCJjdXJyZW50RGF0ZSIsImRldGFpbF9wb3N0IiwiaWQiLCJkZXRhaWxfcG9zdF9lZGl0IiwiZWRpdF9wb3N0IiwiZGVsX3Bvc3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlXFxzcmNcXHNlcnZpY2VzXFwiLCJzb3VyY2VzIjpbInBvc3RNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29uIGZyb20gXCIuLy4uL2NvbmZpZy9jb25uZWN0REJcIlxyXG5cclxuLy90cmFuZyBuZ3VvaSBkdW5nICAtLSBoaWVuIHRoaSBiYWkgdmlldCB0aGVvIHRpbiB0dWNcclxuY29uc3QgbGlzdF9ieV9uZXdzID0gYXN5bmMgKG5ld3NfaWQpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYHBvc3RzYCBXSEVSRSBwb3N0cy5uZXdzX2lkID0gPyBPUkRFUiBCWSBwb3N0cy5pZCBERVNDJyxbbmV3c19pZF0pXHJcbiAgICByZXR1cm4gcm93c1xyXG59XHJcblxyXG5cclxuLy9zaG93IHVzZXIgbm9pIGJhdFxyXG5jb25zdCBsaXN0X2hvdF9wb3N0X3VzZXIgPSBhc3luYyAobGltaXR0KSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGBwb3N0c2AgT1JERVIgQlkgcG9zdHMuaWQgREVTQyAgTElNSVQgPycsIFtsaW1pdHRdKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5cclxuLy9tb2kgbmhhdFxyXG5jb25zdCBsaXN0X25ld19wb3N0X3VzZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGBwb3N0c2AnKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5cclxuY29uc3QgbGlzdF9wb3N0ID0gYXN5bmMgKGZyb20sIHRvKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGBwb3N0c2AgTElNSVQgPywgPycsIFtmcm9tLCB0b10pXHJcbiAgICByZXR1cm4gcm93c1xyXG59XHJcblxyXG5jb25zdCBpbnNlcnRfcG9zdCA9IGFzeW5jICh0aXRsZSwgY29udGVudCwgaW1hZ2UsIG5ld3NfaWQsIGN1cnJlbnREYXRlKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnSU5TRVJUIElOVE8gYHBvc3RzYChgdGl0bGVgLCBgY29udGVudGAsIGBpbWFnZWAsIGBuZXdzX2lkYCxgY3JlYXRlX2F0YCkgVkFMVUVTICg/LCA/LCA/LCA/LD8pJyxbdGl0bGUsIGNvbnRlbnQsIGltYWdlLCBuZXdzX2lkLGN1cnJlbnREYXRlXSlcclxufSBcclxuY29uc3QgZGV0YWlsX3Bvc3QgPSBhc3luYyAoaWQpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gcG9zdHMgV0hFUkUgcG9zdHMuaWQgPSA/JywgW2lkXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuXHJcbmNvbnN0IGRldGFpbF9wb3N0X2VkaXQgPSBhc3luYyAoaWQpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gcG9zdHMgV0hFUkUgcG9zdHMuaWQgPSA/JywgW2lkXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuY29uc3QgZWRpdF9wb3N0ID0gYXN5bmMgKHRpdGxlLCBjb250ZW50LCBpbWFnZSwgbmV3c19pZCwgaWQpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdVUERBVEUgYHBvc3RzYCBTRVQgYHRpdGxlYD0/LGBjb250ZW50YD0/LGBpbWFnZWA9PyxgbmV3c19pZGA9PyB3aGVyZSBwb3N0cy5pZCA9ID8gICcsW3RpdGxlLCBjb250ZW50LCBpbWFnZSwgbmV3c19pZCwgaWRdKVxyXG59XHJcblxyXG5jb25zdCBkZWxfcG9zdCA9IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgYXdhaXQgY29uLmV4ZWN1dGUoJ0RFTEVURSBGUk9NIGBwb3N0c2AgV0hFUkUgcG9zdHMuaWQgPSA/JyxbaWRdKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHtsaXN0X3Bvc3QsaW5zZXJ0X3Bvc3QsZGV0YWlsX3Bvc3QsZWRpdF9wb3N0LGRldGFpbF9wb3N0X2VkaXQsZGVsX3Bvc3QsbGlzdF9ob3RfcG9zdF91c2VyLGxpc3RfbmV3X3Bvc3RfdXNlcixsaXN0X2J5X25ld3N9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLElBQUFBLFVBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUF1QyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV2QztBQUNBLE1BQU1HLFlBQVksR0FBRyxNQUFPQyxPQUFPLElBQUs7RUFDcEMsTUFBTSxDQUFDQyxJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxzRUFBc0UsRUFBQyxDQUFDSixPQUFPLENBQUMsQ0FBQztFQUMxSCxPQUFPQyxJQUFJ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","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","list_by_news","news_id","rows","fields","con","execute","list_hot_post_user","limitt","list_new_post_user","list_post","from","to","insert_post","title","content","image","currentDate","detail_post","id","detail_post_edit","edit_post","del_post","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\services\\","sources":["postModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\n//trang nguoi dung  -- hien thi bai viet theo tin tuc\r\nconst list_by_news = async (news_id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts` WHERE posts.news_id = ? ORDER BY posts.id DESC',[news_id])\r\n    return rows\r\n}\r\n\r\n\r\n//show user noi bat\r\nconst list_hot_post_user = async (limitt) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts` ORDER BY posts.id DESC  LIMIT ?', [limitt])\r\n    return rows\r\n}\r\n\r\n//moi nhat\r\nconst list_new_post_user = async () => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts`')\r\n    return rows\r\n}\r\n\r\nconst list_post = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts` LIMIT ?, ?', [from, to])\r\n    return rows\r\n}\r\n\r\nconst insert_post = async (title, content, image, news_id, currentDate) => {\r\n    await con.execute('INSERT INTO `posts`(`title`, `content`, `image`, `news_id`,`create_at`) VALUES (?, ?, ?, ?,?)',[title, content, image, news_id,currentDate])\r\n} \r\nconst detail_post = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM posts WHERE posts.id = ?', [id])\r\n    return rows\r\n}\r\n\r\nconst detail_post_edit = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM posts WHERE posts.id = ?', [id])\r\n    return rows\r\n}\r\nconst edit_post = async (title, content, image, news_id, id) => {\r\n    await con.execute('UPDATE `posts` SET `title`=?,`content`=?,`image`=?,`news_id`=? where posts.id = ?  ',[title, content, image, news_id, id])\r\n}\r\n\r\nconst del_post = async (id) => {\r\n    await con.execute('DELETE FROM `posts` WHERE posts.id = ?',[id])\r\n}\r\nexport default {list_post,insert_post,detail_post,edit_post,detail_post_edit,del_post,list_hot_post_user,list_new_post_user,list_by_news}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEvC;AACA,MAAMG,YAAY,GAAG,MAAOC,OAAO,IAAK;EACpC,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,sEAAsE,EAAC,CAACJ,OAAO,CAAC,CAAC;EAC1H,OAAOC,IAAI;AACf,CAAC;;AAGD;AACA,MAAMI,kBAAkB,GAAG,MAAOC,MAAM,IAAK;EACzC,MAAM,CAACL,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,uDAAuD,EAAE,CAACE,MAAM,CAAC,CAAC;EAC3G,OAAOL,IAAI;AACf,CAAC;;AAED;AACA,MAAMM,kBAAkB,GAAG,MAAAA,CAAA,KAAY;EACnC,MAAM,CAACN,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,uBAAuB,CAAC;EACjE,OAAOH,IAAI;AACf,CAAC;AAED,MAAMO,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACT,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,kCAAkC,EAAE,CAACK,IAAI,EAAEC,EAAE,CAAC,CAAC;EACxF,OAAOT,IAAI;AACf,CAAC;AAED,MAAMU,WAAW,GAAG,MAAAA,CAAOC,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEd,OAAO,EAAEe,WAAW,KAAK;EACvE,MAAMZ,kBAAG,CAACC,OAAO,CAAC,+FAA+F,EAAC,CAACQ,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEd,OAAO,EAACe,WAAW,CAAC,CAAC;AACnK,CAAC;AACD,MAAMC,WAAW,GAAG,MAAOC,EAAE,IAAK;EAC9B,MAAM,CAAChB,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAE,CAACa,EAAE,CAAC,CAAC;EACxF,OAAOhB,IAAI;AACf,CAAC;AAED,MAAMiB,gBAAgB,GAAG,MAAOD,EAAE,IAAK;EACnC,MAAM,CAAChB,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAE,CAACa,EAAE,CAAC,CAAC;EACxF,OAAOhB,IAAI;AACf,CAAC;AACD,MAAMkB,SAAS,GAAG,MAAAA,CAAOP,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEd,OAAO,EAAEiB,EAAE,KAAK;EAC5D,MAAMd,kBAAG,CAACC,OAAO,CAAC,qFAAqF,EAAC,CAACQ,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEd,OAAO,EAAEiB,EAAE,CAAC,CAAC;AACjJ,CAAC;AAED,MAAMG,QAAQ,GAAG,MAAOH,EAAE,IAAK;EAC3B,MAAMd,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAC,CAACa,EAAE,CAAC,CAAC;AACpE,CAAC;AAAA,IAAAI,QAAA,GAAAC,OAAA,CAAAxB,OAAA,GACc;EAACU,SAAS;EAACG,WAAW;EAACK,WAAW;EAACG,SAAS;EAACD,gBAAgB;EAACE,QAAQ;EAACf,kBAAkB;EAACE,kBAAkB;EAACR;AAAY,CAAC"}},"mtime":1700121220964},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\services\\\\newsModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst list_news_all = async () => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `news`');\n  return rows;\n};\nconst GetById = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM news WHERE news.id LIKE ?', [id]);\n  return rows;\n};\nconst list_news = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `news` LIMIT ?, ?', [from, to]);\n  return rows;\n};\nconst insert_news = async title => {\n  await _connectDB.default.execute('INSERT INTO `news`(`title`) VALUES (?)', [title]);\n};\nconst detail_news = async title => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM news WHERE news.title LIKE ?', [title]);\n  return rows;\n};\nconst detail_news_edit = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM news WHERE news.id LIKE ?', [id]);\n  return rows;\n};\nconst edit_news = async (title, id) => {\n  await _connectDB.default.execute('UPDATE `news` SET `title`=? where news.id = ?  ', [title, id]);\n};\nconst del_news = async id => {\n  await _connectDB.default.execute('DELETE FROM `news` WHERE news.id = ?', [id]);\n};\nvar _default = exports.default = {\n  list_news,\n  insert_news,\n  detail_news,\n  edit_news,\n  detail_news_edit,\n  del_news,\n  list_news_all,\n  GetById\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfbmV3c19hbGwiLCJyb3dzIiwiZmllbGRzIiwiY29uIiwiZXhlY3V0ZSIsIkdldEJ5SWQiLCJpZCIsImxpc3RfbmV3cyIsImZyb20iLCJ0byIsImluc2VydF9uZXdzIiwidGl0bGUiLCJkZXRhaWxfbmV3cyIsImRldGFpbF9uZXdzX2VkaXQiLCJlZGl0X25ld3MiLCJkZWxfbmV3cyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcc2VydmljZXNcXCIsInNvdXJjZXMiOlsibmV3c01vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb24gZnJvbSBcIi4vLi4vY29uZmlnL2Nvbm5lY3REQlwiXHJcblxyXG5jb25zdCBsaXN0X25ld3NfYWxsID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBgbmV3c2AnKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufSBcclxuXHJcbmNvbnN0IEdldEJ5SWQgPSBhc3luYyAoaWQpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gbmV3cyBXSEVSRSBuZXdzLmlkIExJS0UgPycsIFtpZF0pXHJcbiAgICByZXR1cm4gcm93c1xyXG59XHJcblxyXG5jb25zdCBsaXN0X25ld3MgPSBhc3luYyAoZnJvbSwgdG8pID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYG5ld3NgIExJTUlUID8sID8nLCBbZnJvbSwgdG9dKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufSBcclxuXHJcbmNvbnN0IGluc2VydF9uZXdzID0gYXN5bmMgKHRpdGxlKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnSU5TRVJUIElOVE8gYG5ld3NgKGB0aXRsZWApIFZBTFVFUyAoPyknLFt0aXRsZV0pXHJcbn0gXHJcbmNvbnN0IGRldGFpbF9uZXdzID0gYXN5bmMgKHRpdGxlKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIG5ld3MgV0hFUkUgbmV3cy50aXRsZSBMSUtFID8nLCBbdGl0bGVdKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5cclxuY29uc3QgZGV0YWlsX25ld3NfZWRpdCA9IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBuZXdzIFdIRVJFIG5ld3MuaWQgTElLRSA/JywgW2lkXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuY29uc3QgZWRpdF9uZXdzID0gYXN5bmMgKHRpdGxlLGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnVVBEQVRFIGBuZXdzYCBTRVQgYHRpdGxlYD0/IHdoZXJlIG5ld3MuaWQgPSA/ICAnLFt0aXRsZSxpZF0pXHJcbn1cclxuXHJcbmNvbnN0IGRlbF9uZXdzID0gYXN5bmMgKGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnREVMRVRFIEZST00gYG5ld3NgIFdIRVJFIG5ld3MuaWQgPSA/JyxbaWRdKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHtsaXN0X25ld3MsaW5zZXJ0X25ld3MsZGV0YWlsX25ld3MsZWRpdF9uZXdzLGRldGFpbF9uZXdzX2VkaXQsZGVsX25ld3MsIGxpc3RfbmV3c19hbGwsR2V0QnlJZH0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBQUEsVUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXVDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXZDLE1BQU1HLGFBQWEsR0FBRyxNQUFBQSxDQUFBLEtBQVk7RUFDOUIsTUFBTSxDQUFDQyxJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQztFQUNoRSxPQUFPSCxJQUFJO0FBQ2YsQ0FBQztBQUVELE1BQU1JLE9BQU8sR0FBRyxNQUFPQyxFQUFFLElBQUs7RUFDMUIsTUFBTSxDQUFDTCxJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyx5Q0FBeUMsRUFBRSxDQUFDRSxFQUFFLENBQUMsQ0FBQztFQUN6RixPQUFPTCxJQUFJO0FBQ2YsQ0FBQztBQUVELE1BQU1NLFNBQVMsR0FBRyxNQUFBQSxDQUFPQyxJQUFJLEVBQUVDLEVBQUUsS0FBSztFQUNsQyxNQUFNLENBQUNSLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLGlDQUFpQyxFQUFFLENBQUNJLElBQUksRUFBRUMsRUFBRSxDQUFDLENBQUM7RUFDdkYsT0FBT1IsSUFBSTtBQUNmLENBQUM7QUFFRCxNQUFNUyxXQUFXLEdBQUcsTUFBT0MsS0FBSyxJQUFLO0VBQ2pDLE1BQU1SLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyx3Q0FBd0MsRUFBQyxDQUFDTyxLQUFLLENBQUMsQ0FBQztBQUN2RSxDQUFDO0FBQ0QsTUFBTUMsV0FBVyxHQUFHLE1BQU9ELEtBQUssSUFBSztFQUNqQyxNQUFNLENBQUNWLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLDRDQUE0QyxFQUFFLENBQUNPLEtBQUssQ0FBQyxDQUFDO0VBQy9GLE9BQU9WLElBQUk7QUFDZixDQUFDO0FBRUQsTUFBTVksZ0JBQWdCLEdBQUcsTUFBT1AsRUFBRSxJQUFLO0VBQ25DLE1BQU0sQ0FBQ0wsSUFBSSxFQUFFQyxNQUFNLENBQUMsR0FBRyxNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMseUNBQXlDLEVBQUUsQ0FBQ0UsRUFBRSxDQUFDLENBQUM7RUFDekYsT0FBT0wsSUFBSTtBQUNmLENBQUM7QUFDRCxNQUFNYSxTQUFTLEdBQUcsTUFBQUEsQ0FBT0gsS0FBSyxFQUFDTCxFQUFFLEtBQUs7RUFDbEMsTUFBTUgsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLGlEQUFpRCxFQUFDLENBQUNPLEtBQUssRUFBQ0wsRUFBRSxDQUFDLENBQUM7QUFDbkYsQ0FBQztBQUVELE1BQU1TLFFBQVEsR0FBRyxNQUFPVCxFQUFFLElBQUs7RUFDM0IsTUFBTUgsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHNDQUFzQyxFQUFDLENBQUNFLEVBQUUsQ0FBQyxDQUFDO0FBQ2xFLENBQUM7QUFBQSxJQUFBVSxRQUFBLEdBQUFDLE9BQUEsQ0FBQWxCLE9BQUEsR0FDYztFQUFDUSxTQUFTO0VBQUNHLFdBQVc7RUFBQ0UsV0FBVztFQUFDRSxTQUFTO0VBQUNELGdCQUFnQjtFQUFDRSxRQUFRO0VBQUVmLGFBQWE7RUFBQ0s7QUFBTyxDQUFDIn0=","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","list_news_all","rows","fields","con","execute","GetById","id","list_news","from","to","insert_news","title","detail_news","detail_news_edit","edit_news","del_news","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\services\\","sources":["newsModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\nconst list_news_all = async () => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `news`')\r\n    return rows\r\n} \r\n\r\nconst GetById = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM news WHERE news.id LIKE ?', [id])\r\n    return rows\r\n}\r\n\r\nconst list_news = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `news` LIMIT ?, ?', [from, to])\r\n    return rows\r\n} \r\n\r\nconst insert_news = async (title) => {\r\n    await con.execute('INSERT INTO `news`(`title`) VALUES (?)',[title])\r\n} \r\nconst detail_news = async (title) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM news WHERE news.title LIKE ?', [title])\r\n    return rows\r\n}\r\n\r\nconst detail_news_edit = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM news WHERE news.id LIKE ?', [id])\r\n    return rows\r\n}\r\nconst edit_news = async (title,id) => {\r\n    await con.execute('UPDATE `news` SET `title`=? where news.id = ?  ',[title,id])\r\n}\r\n\r\nconst del_news = async (id) => {\r\n    await con.execute('DELETE FROM `news` WHERE news.id = ?',[id])\r\n}\r\nexport default {list_news,insert_news,detail_news,edit_news,detail_news_edit,del_news, list_news_all,GetById}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEvC,MAAMG,aAAa,GAAG,MAAAA,CAAA,KAAY;EAC9B,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,sBAAsB,CAAC;EAChE,OAAOH,IAAI;AACf,CAAC;AAED,MAAMI,OAAO,GAAG,MAAOC,EAAE,IAAK;EAC1B,MAAM,CAACL,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,yCAAyC,EAAE,CAACE,EAAE,CAAC,CAAC;EACzF,OAAOL,IAAI;AACf,CAAC;AAED,MAAMM,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACR,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,iCAAiC,EAAE,CAACI,IAAI,EAAEC,EAAE,CAAC,CAAC;EACvF,OAAOR,IAAI;AACf,CAAC;AAED,MAAMS,WAAW,GAAG,MAAOC,KAAK,IAAK;EACjC,MAAMR,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAC,CAACO,KAAK,CAAC,CAAC;AACvE,CAAC;AACD,MAAMC,WAAW,GAAG,MAAOD,KAAK,IAAK;EACjC,MAAM,CAACV,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,4CAA4C,EAAE,CAACO,KAAK,CAAC,CAAC;EAC/F,OAAOV,IAAI;AACf,CAAC;AAED,MAAMY,gBAAgB,GAAG,MAAOP,EAAE,IAAK;EACnC,MAAM,CAACL,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,yCAAyC,EAAE,CAACE,EAAE,CAAC,CAAC;EACzF,OAAOL,IAAI;AACf,CAAC;AACD,MAAMa,SAAS,GAAG,MAAAA,CAAOH,KAAK,EAACL,EAAE,KAAK;EAClC,MAAMH,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAC,CAACO,KAAK,EAACL,EAAE,CAAC,CAAC;AACnF,CAAC;AAED,MAAMS,QAAQ,GAAG,MAAOT,EAAE,IAAK;EAC3B,MAAMH,kBAAG,CAACC,OAAO,CAAC,sCAAsC,EAAC,CAACE,EAAE,CAAC,CAAC;AAClE,CAAC;AAAA,IAAAU,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GACc;EAACQ,SAAS;EAACG,WAAW;EAACE,WAAW;EAACE,SAAS;EAACD,gBAAgB;EAACE,QAAQ;EAAEf,aAAa;EAACK;AAAO,CAAC"}},"mtime":1700121220964},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\NewsController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst list_news = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _newsModel.default.list_news(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listNews',\n        title: 'Danh sách tin tức',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst new_news = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'newNews',\n      title: 'Tạo tin tức'\n    }\n  });\n};\nconst insert_news = async (req, res) => {\n  let body = req.body;\n  if (!body.title) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    await _newsModel.default.insert_news(body.title);\n    res.redirect(\"/list-news/0-10\");\n  }\n};\nconst detail_news = async (req, res) => {\n  let title = req.params.title;\n  let list = await _newsModel.default.detail_news(title);\n  res.render('home', {\n    data: {\n      page: 'detailNews',\n      title: 'Chi tiết tin tức',\n      list: list\n    }\n  });\n};\nconst view_edit_news = async (req, res) => {\n  let id = req.params.id;\n  let list = await _newsModel.default.detail_news_edit(id);\n  res.render('home', {\n    data: {\n      page: 'viewEditNews',\n      list: list\n    }\n  });\n};\nconst edit_news = async (req, res) => {\n  const id = req.body.id;\n  let body = req.body;\n  console.table(body);\n  await _newsModel.default.edit_news(body.title, id);\n  res.redirect('/list-news/0-10');\n};\nconst del_news = async (req, res) => {\n  const id = req.body.id;\n  let list = await _newsModel.default.del_news(id);\n  res.redirect(\"/list-news/0-10\");\n};\nvar _default = exports.default = {\n  list_news,\n  new_news,\n  insert_news,\n  detail_news,\n  view_edit_news,\n  edit_news,\n  del_news\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX25ld3NNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibGlzdF9uZXdzIiwicmVxIiwicmVzIiwiX2Zyb20iLCJwYXJhbXMiLCJmcm9tIiwiX3RvIiwidG8iLCJhdXRoIiwic2Vzc2lvbiIsImlzTmFOIiwibGlzdCIsIm5ld3NNb2RlbCIsInJlbmRlciIsImRhdGEiLCJwYWdlIiwidGl0bGUiLCJzdGF0dXMiLCJzZW5kIiwibmV3X25ld3MiLCJpbnNlcnRfbmV3cyIsImJvZHkiLCJyZWRpcmVjdCIsImRldGFpbF9uZXdzIiwidmlld19lZGl0X25ld3MiLCJpZCIsImRldGFpbF9uZXdzX2VkaXQiLCJlZGl0X25ld3MiLCJjb25zb2xlIiwidGFibGUiLCJkZWxfbmV3cyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiTmV3c0NvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgbmV3c01vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9uZXdzTW9kZWxcIlxyXG5cclxuY29uc3QgbGlzdF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgbGV0IF9mcm9tID0gcmVxLnBhcmFtcy5mcm9tXHJcbiAgICBsZXQgX3RvID0gcmVxLnBhcmFtcy50b1xyXG4gICAgbGV0IGF1dGggPSBudWxsXHJcblxyXG4gICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgpIHtcclxuICAgICAgICBhdXRoID0gcmVxLnNlc3Npb24uYXV0aFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoaXNOYU4oX2Zyb20pID09PSBmYWxzZSAmJiBpc05hTihfdG8pID09PSBmYWxzZSkge1xyXG4gICAgICAgIGxldCBsaXN0ID0gYXdhaXQgbmV3c01vZGVsLmxpc3RfbmV3cyhfZnJvbSwgX3RvKVxyXG4gICAgICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdsaXN0TmV3cycsIHRpdGxlOiAnRGFuaCBzw6FjaCB0aW4gdOG7qWMnLCBwYXJhbXM6IHtfZnJvbSwgX3RvfSAsIGxpc3Q6bGlzdCwgYXV0aDphdXRofX0pXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IG5ld19uZXdzID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHtwYWdlOiAnbmV3TmV3cycsIHRpdGxlOiAnVOG6oW8gdGluIHThu6ljJ319KVxyXG59XHJcblxyXG5jb25zdCBpbnNlcnRfbmV3cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgaWYgKCFib2R5LnRpdGxlICkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIFxyXG4gICAgICAgXHJcbiAgICAgICAgYXdhaXQgbmV3c01vZGVsLmluc2VydF9uZXdzKGJvZHkudGl0bGUpXHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KFwiL2xpc3QtbmV3cy8wLTEwXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRldGFpbF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgdGl0bGUgPSByZXEucGFyYW1zLnRpdGxlXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IG5ld3NNb2RlbC5kZXRhaWxfbmV3cyh0aXRsZSlcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdkZXRhaWxOZXdzJywgdGl0bGU6ICdDaGkgdGnhur90IHRpbiB04bupYycsIGxpc3Q6bGlzdH19KVxyXG59XHJcblxyXG5jb25zdCB2aWV3X2VkaXRfbmV3cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCBuZXdzTW9kZWwuZGV0YWlsX25ld3NfZWRpdChpZClcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICd2aWV3RWRpdE5ld3MnLCBsaXN0Omxpc3R9fSlcclxufVxyXG5cclxuY29uc3QgZWRpdF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5ib2R5LmlkIFxyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgY29uc29sZS50YWJsZShib2R5KVxyXG4gICAgYXdhaXQgbmV3c01vZGVsLmVkaXRfbmV3cyhib2R5LnRpdGxlLGlkKVxyXG4gICAgcmVzLnJlZGlyZWN0KCcvbGlzdC1uZXdzLzAtMTAnKVxyXG59XHJcblxyXG5jb25zdCBkZWxfbmV3cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgaWQgPSByZXEuYm9keS5pZCBcclxuIFxyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCBuZXdzTW9kZWwuZGVsX25ld3MoaWQpXHJcbiAgICByZXMucmVkaXJlY3QoXCIvbGlzdC1uZXdzLzAtMTBcIilcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7bGlzdF9uZXdzLG5ld19uZXdzLGluc2VydF9uZXdzLGRldGFpbF9uZXdzLHZpZXdfZWRpdF9uZXdzLGVkaXRfbmV3cyxkZWxfbmV3c30iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFD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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_newsModel","obj","__esModule","default","list_news","req","res","_from","params","from","_to","to","auth","session","isNaN","list","newsModel","render","data","page","title","status","send","new_news","insert_news","body","redirect","detail_news","view_edit_news","id","detail_news_edit","edit_news","console","table","del_news","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["NewsController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport newsModel from \"../services/newsModel\"\r\n\r\nconst list_news = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await newsModel.list_news(_from, _to)\r\n        res.render('home', {data: {page: 'listNews', title: 'Danh sách tin tức', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst new_news = (req, res) => {\r\n    res.render('home', {data: {page: 'newNews', title: 'Tạo tin tức'}})\r\n}\r\n\r\nconst insert_news = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.title ) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        \r\n       \r\n        await newsModel.insert_news(body.title)\r\n        res.redirect(\"/list-news/0-10\")\r\n    }\r\n}\r\n\r\nconst detail_news = async (req, res) => {\r\n    let title = req.params.title\r\n    let list = await newsModel.detail_news(title)\r\n    res.render('home', {data: {page: 'detailNews', title: 'Chi tiết tin tức', list:list}})\r\n}\r\n\r\nconst view_edit_news = async (req, res) => {\r\n    let id = req.params.id\r\n    let list = await newsModel.detail_news_edit(id)\r\n    res.render('home', {data: {page: 'viewEditNews', list:list}})\r\n}\r\n\r\nconst edit_news = async (req, res) => {\r\n    const id = req.body.id \r\n    let body = req.body\r\n    console.table(body)\r\n    await newsModel.edit_news(body.title,id)\r\n    res.redirect('/list-news/0-10')\r\n}\r\n\r\nconst del_news = async (req, res) => {\r\n    const id = req.body.id \r\n \r\n    let list = await newsModel.del_news(id)\r\n    res.redirect(\"/list-news/0-10\")\r\n}\r\n\r\n\r\n\r\nexport default {list_news,new_news,insert_news,detail_news,view_edit_news,edit_news,del_news}"],"mappings":"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"}},"mtime":1696863602410},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\PostController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thư viện thao tác file\n\nconst list_post = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _postModel.default.list_post(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listpost',\n        title: 'Danh sách bài viết',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst new_post = async (req, res) => {\n  let danhmuc = await _newsModel.default.list_news_all();\n  res.render('home', {\n    data: {\n      page: 'newpost',\n      title: 'Tạo bài viết',\n      danhmuc: danhmuc\n    }\n  });\n};\nconst insert_post = async (req, res) => {\n  let img = req.file;\n  let body = req.body;\n  if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    const currentDate = new Date();\n    await _postModel.default.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id, currentDate);\n    res.redirect(\"list-post/0-10\");\n  }\n};\nconst detail_post = async (req, res) => {\n  let id = req.params.id;\n  let danhmuc = await _newsModel.default.list_news_all();\n  let list = await _postModel.default.detail_post(id);\n  res.render('home', {\n    data: {\n      page: 'detailpost',\n      title: 'Chi tiết bài viết',\n      list: list,\n      danhmuc: danhmuc\n    }\n  });\n};\nconst view_edit_post = async (req, res) => {\n  let id = req.params.id;\n  let danhmuc = await _newsModel.default.list_news_all();\n  let list = await _postModel.default.detail_post_edit(id);\n  res.render('home', {\n    data: {\n      page: 'viewEditpost',\n      title: 'Cập nhật bài viết',\n      list: list,\n      danhmuc: danhmuc\n    }\n  });\n};\nconst edit_post = async (req, res) => {\n  const id = req.body.id;\n  let body = req.body;\n  let img = body.img_old;\n  let file = req.file;\n  if (file) {\n    img = file.filename;\n    let post = await _postModel.default.detail_post(id);\n    _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n  }\n  if (!body.titlenew || !body.contentnew || !body.news_id) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    await _postModel.default.edit_post(body.titlenew, body.contentnew, img, body.news_id, id);\n    res.redirect('list-post/0-10');\n  }\n};\nconst del_post = async (req, res) => {\n  const id = req.body.id;\n  let post = await _postModel.default.detail_post(id);\n  _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n  let list = await _postModel.default.del_post(id);\n  res.redirect(\"list-post/0-10\");\n};\nvar _default = exports.default = {\n  list_post,\n  new_post,\n  insert_post,\n  detail_post,\n  view_edit_post,\n  edit_post,\n  del_post\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX3Bvc3RNb2RlbCIsIl9uZXdzTW9kZWwiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfcG9zdCIsInJlcSIsInJlcyIsIl9mcm9tIiwicGFyYW1zIiwiZnJvbSIsIl90byIsInRvIiwiYXV0aCIsInNlc3Npb24iLCJpc05hTiIsImxpc3QiLCJwb3N0TW9kZWwiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwic3RhdHVzIiwic2VuZCIsIm5ld19wb3N0IiwiZGFuaG11YyIsIm5ld3NNb2RlbCIsImxpc3RfbmV3c19hbGwiLCJpbnNlcnRfcG9zdCIsImltZyIsImZpbGUiLCJib2R5IiwidGl0bGVuZXciLCJjb250ZW50bmV3IiwiZmlsZW5hbWUiLCJuZXdzX2lkIiwiY3VycmVudERhdGUiLCJEYXRlIiwicmVkaXJlY3QiLCJkZXRhaWxfcG9zdCIsImlkIiwidmlld19lZGl0X3Bvc3QiLCJkZXRhaWxfcG9zdF9lZGl0IiwiZWRpdF9wb3N0IiwiaW1nX29sZCIsInBvc3QiLCJmcyIsInVubGlua1N5bmMiLCJpbWFnZSIsImRlbF9wb3N0IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxceGFtcHBcXGh0ZG9jc1xcQkNfTm9kZVxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJQb3N0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBmcyBmcm9tICdmcycgLy8gdGjGsCB2aeG7h24gdGhhbyB0w6FjIGZpbGVcclxuXHJcbmltcG9ydCBwb3N0TW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL3Bvc3RNb2RlbFwiXHJcbmltcG9ydCBuZXdzTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL25ld3NNb2RlbFwiXHJcblxyXG5cclxuY29uc3QgbGlzdF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgbGV0IF9mcm9tID0gcmVxLnBhcmFtcy5mcm9tXHJcbiAgICBsZXQgX3RvID0gcmVxLnBhcmFtcy50b1xyXG4gICAgbGV0IGF1dGggPSBudWxsXHJcblxyXG4gICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgpIHtcclxuICAgICAgICBhdXRoID0gcmVxLnNlc3Npb24uYXV0aFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoaXNOYU4oX2Zyb20pID09PSBmYWxzZSAmJiBpc05hTihfdG8pID09PSBmYWxzZSkge1xyXG4gICAgICAgIGxldCBsaXN0ID0gYXdhaXQgcG9zdE1vZGVsLmxpc3RfcG9zdChfZnJvbSwgX3RvKVxyXG4gICAgICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdsaXN0cG9zdCcsIHRpdGxlOiAnRGFuaCBzw6FjaCBiw6BpIHZp4bq/dCcsIHBhcmFtczoge19mcm9tLCBfdG99ICwgbGlzdDpsaXN0LCBhdXRoOmF1dGh9fSlcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbmV3X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCBkYW5obXVjID0gYXdhaXQgbmV3c01vZGVsLmxpc3RfbmV3c19hbGwoKVxyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ25ld3Bvc3QnLCB0aXRsZTogJ1ThuqFvIGLDoGkgdmnhur90JywgZGFuaG11YzpkYW5obXVjfX0pXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgaW1nID0gcmVxLmZpbGVcclxuICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuICAgIGlmICghYm9keS50aXRsZW5ldyB8fCAhYm9keS5jb250ZW50bmV3IHx8ICFpbWcuZmlsZW5hbWUgfHwgIWJvZHkubmV3c19pZCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICBhd2FpdCBwb3N0TW9kZWwuaW5zZXJ0X3Bvc3QoYm9keS50aXRsZW5ldywgYm9keS5jb250ZW50bmV3LCBpbWcuZmlsZW5hbWUsIGJvZHkubmV3c19pZCxjdXJyZW50RGF0ZSlcclxuICAgICAgICByZXMucmVkaXJlY3QoXCJsaXN0LXBvc3QvMC0xMFwiKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBkZXRhaWxfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgbGV0IGRhbmhtdWMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdChpZClcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdkZXRhaWxwb3N0JywgdGl0bGU6ICdDaGkgdGnhur90IGLDoGkgdmnhur90JywgbGlzdDpsaXN0LCBkYW5obXVjOmRhbmhtdWN9fSlcclxufVxyXG5cclxuY29uc3Qgdmlld19lZGl0X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCBpZCA9IHJlcS5wYXJhbXMuaWRcclxuICAgIGxldCBkYW5obXVjID0gYXdhaXQgbmV3c01vZGVsLmxpc3RfbmV3c19hbGwoKVxyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGV0YWlsX3Bvc3RfZWRpdChpZClcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICd2aWV3RWRpdHBvc3QnLCB0aXRsZTogJ0Phuq1wIG5o4bqtdCBiw6BpIHZp4bq/dCcsIGxpc3Q6bGlzdCwgZGFuaG11YzpkYW5obXVjfX0pXHJcbn1cclxuXHJcbmNvbnN0IGVkaXRfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgaWQgPSByZXEuYm9keS5pZCBcclxuICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuICAgIGxldCBpbWcgPSBib2R5LmltZ19vbGRcclxuICAgIGxldCBmaWxlID0gcmVxLmZpbGVcclxuXHJcbiAgICBpZiAoZmlsZSkge1xyXG4gICAgICAgIGltZyA9IGZpbGUuZmlsZW5hbWVcclxuICAgICAgICBsZXQgcG9zdCA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdChpZClcclxuICAgICAgICBmcy51bmxpbmtTeW5jKCcuL3NyYy9wdWJsaWMvdXBsb2FkLycgKyBwb3N0WzBdLmltYWdlKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoIWJvZHkudGl0bGVuZXcgfHwgIWJvZHkuY29udGVudG5ldyB8fCAhYm9keS5uZXdzX2lkKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH0gXHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhd2FpdCBwb3N0TW9kZWwuZWRpdF9wb3N0KGJvZHkudGl0bGVuZXcsIGJvZHkuY29udGVudG5ldywgaW1nLCBib2R5Lm5ld3NfaWQsIGlkKVxyXG4gICAgICAgIHJlcy5yZWRpcmVjdCgnbGlzdC1wb3N0LzAtMTAnKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBkZWxfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgaWQgPSByZXEuYm9keS5pZCBcclxuICAgIGxldCBwb3N0ID0gYXdhaXQgcG9zdE1vZGVsLmRldGFpbF9wb3N0KGlkKVxyXG4gICAgZnMudW5saW5rU3luYygnLi9zcmMvcHVibGljL3VwbG9hZC8nICsgcG9zdFswXS5pbWFnZSlcclxuICAgIGxldCBsaXN0ID0gYXdhaXQgcG9zdE1vZGVsLmRlbF9wb3N0KGlkKVxyXG4gICAgcmVzLnJlZGlyZWN0KFwibGlzdC1wb3N0LzAtMTBcIilcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge2xpc3RfcG9zdCxuZXdfcG9zdCxpbnNlcnRfcG9zdCxkZXRhaWxfcG9zdCx2aWV3X2VkaXRfcG9zdCxlZGl0X3Bvc3QsZGVsX3Bvc3R9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsR0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUUsVUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsVUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTZDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBSHpCOztBQU1wQixNQUFNRyxTQUFTLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFFbEMsSUFBSUMsS0FBSyxHQUFHRixHQUFHLENBQUNHLE1BQU0sQ0FBQ0MsSUFBSTtFQUMzQixJQUFJQyxHQUFHLEdBQUdMLEdBQUcsQ0FBQ0csTUFBTSxDQUFDRyxFQUFFO0VBQ3ZCLElBQUlDLElBQUksR0FBRyxJQUFJO0VBRWYsSUFBSVAsR0FBRyxDQUFDUSxPQUFPLENBQUNELElBQUksRUFBRTtJQUNsQkEsSUFBSSxHQUFHUCxHQUFHLENBQUNRLE9BQU8sQ0FBQ0QsSUFBSTtFQUMzQjtFQUVBLElBQUlFLEtBQUssQ0FBQ1AsS0FBSyxDQUFDLEtBQUssS0FBSyxJQUFJTyxLQUFLLENBQUNKLEdBQUcsQ0FBQyxLQUFLLEtBQUssRUFBRTtJQUNoRCxJQUFJSyxJQUFJLEdBQUcsTUFBTUMsa0JBQVMsQ0FBQ1osU0FBUyxDQUFDRyxLQUFLLEVB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_postModel","_newsModel","obj","__esModule","default","list_post","req","res","_from","params","from","_to","to","auth","session","isNaN","list","postModel","render","data","page","title","status","send","new_post","danhmuc","newsModel","list_news_all","insert_post","img","file","body","titlenew","contentnew","filename","news_id","currentDate","Date","redirect","detail_post","id","view_edit_post","detail_post_edit","edit_post","img_old","post","fs","unlinkSync","image","del_post","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["PostController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs' // thư viện thao tác file\r\n\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\n\r\n\r\nconst list_post = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await postModel.list_post(_from, _to)\r\n        res.render('home', {data: {page: 'listpost', title: 'Danh sách bài viết', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst new_post = async (req, res) => {\r\n    let danhmuc = await newsModel.list_news_all()\r\n    res.render('home', {data: {page: 'newpost', title: 'Tạo bài viết', danhmuc:danhmuc}})\r\n}\r\n\r\nconst insert_post = async (req, res) => {\r\n    let img = req.file\r\n    let body = req.body\r\n    if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        const currentDate = new Date();\r\n        await postModel.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id,currentDate)\r\n        res.redirect(\"list-post/0-10\")\r\n    }\r\n}\r\n\r\nconst detail_post = async (req, res) => {\r\n    let id = req.params.id\r\n    let danhmuc = await newsModel.list_news_all()\r\n    let list = await postModel.detail_post(id)\r\n    res.render('home', {data: {page: 'detailpost', title: 'Chi tiết bài viết', list:list, danhmuc:danhmuc}})\r\n}\r\n\r\nconst view_edit_post = async (req, res) => {\r\n    let id = req.params.id\r\n    let danhmuc = await newsModel.list_news_all()\r\n    let list = await postModel.detail_post_edit(id)\r\n    res.render('home', {data: {page: 'viewEditpost', title: 'Cập nhật bài viết', list:list, danhmuc:danhmuc}})\r\n}\r\n\r\nconst edit_post = async (req, res) => {\r\n    const id = req.body.id \r\n    let body = req.body\r\n    let img = body.img_old\r\n    let file = req.file\r\n\r\n    if (file) {\r\n        img = file.filename\r\n        let post = await postModel.detail_post(id)\r\n        fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n    }\r\n    \r\n    if (!body.titlenew || !body.contentnew || !body.news_id) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    } \r\n    else {\r\n        await postModel.edit_post(body.titlenew, body.contentnew, img, body.news_id, id)\r\n        res.redirect('list-post/0-10')\r\n    }\r\n}\r\n\r\nconst del_post = async (req, res) => {\r\n    const id = req.body.id \r\n    let post = await postModel.detail_post(id)\r\n    fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n    let list = await postModel.del_post(id)\r\n    res.redirect(\"list-post/0-10\")\r\n}\r\n\r\nexport default {list_post,new_post,insert_post,detail_post,view_edit_post,edit_post,del_post}"],"mappings":"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"}},"mtime":1696863602410},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\router\\\\apiRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _ApiLoginController = _interopRequireDefault(require(\"./../controllers/ApiLoginController\"));\nvar _ApiUserController = _interopRequireDefault(require(\"./../controllers/ApiUserController\"));\nvar _ApiPostController = _interopRequireDefault(require(\"./../controllers/ApiPostController\"));\nvar _ApiNewsController = _interopRequireDefault(require(\"./../controllers/ApiNewsController\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thu vien up img\n\nconst storage = _multer.default.diskStorage({\n  destination: function destination(req, file, cb) {\n    cb(null, './src/public/upload');\n  },\n  filename: function filename(req, file, cb) {\n    const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9);\n    cb(null, uniqueSuffix + _path.default.extname(file.originalname));\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst api = _express.default.Router();\nconst initAPIRoute = app => {\n  api.get('/login-auth', _ApiLoginController.default.login);\n  api.post('/login', _ApiLoginController.default.login_auth);\n  api.get('/logout', _ApiLoginController.default.logout);\n\n  //api quan ly user ( user )  \n  api.get('/create_new_user', _ApiUserController.default.new_user);\n  api.post('/insert_new_user', _ApiUserController.default.insert_user);\n  api.get('/list-user/:from-:to', _ApiUserController.default.list_user);\n  api.get('/detail_user/:username', _ApiUserController.default.detail_user);\n  api.delete('/del_user/:username', _ApiUserController.default.del_user);\n  api.get('/view_edit/:username', _ApiUserController.default.view_edit);\n  api.put('/edit_user', _ApiUserController.default.edit_user);\n\n  //api quan ly bai viet ( post )  \n  api.get('/list-post/:from-:to', _ApiPostController.default.list_post);\n  api.get('/create_new_post', _ApiPostController.default.new_post);\n  api.post('/insert_new_post', upload.single('filenew'), _ApiPostController.default.insert_post);\n  api.get('/detail_post/:id', _ApiPostController.default.detail_post);\n  api.get('/view_edit_post/:id', _ApiPostController.default.view_edit_post);\n  api.put('/edit_post', upload.single('filenew'), _ApiPostController.default.edit_post);\n  api.delete('/del_post', _ApiPostController.default.del_post);\n\n  //api quan ly tin tuc (news)\n  api.get('/GetById/:id', _ApiNewsController.default.GetById);\n  api.get('/list-news', _ApiNewsController.default.list_news);\n  api.post('/insert_news', _ApiNewsController.default.insert_news);\n  api.put('/edit_news/:id', _ApiNewsController.default.edit_news);\n  api.delete('/del_news/:id', _ApiNewsController.default.del_news);\n  return app.use('/api/v1', api);\n};\nvar _default = exports.default = initAPIRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9wYXRoIiwiX0FwaUxvZ2luQ29udHJvbGxlciIsIl9BcGlVc2VyQ29udHJvbGxlciIsIl9BcGlQb3N0Q29udHJvbGxlciIsIl9BcGlOZXdzQ29udHJvbGxlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsInVuaXF1ZVN1ZmZpeCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJwYXRoIiwiZXh0bmFtZSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZCIsImFwaSIsImV4cHJlc3MiLCJSb3V0ZXIiLCJpbml0QVBJUm91dGUiLCJhcHAiLCJnZXQiLCJBcGlMb2dpbkNvbnRyb2xsZXIiLCJsb2dpbiIsInBvc3QiLCJsb2dpbl9hdXRoIiwibG9nb3V0IiwiQXBpVXNlckNvbnRyb2xsZXIiLCJuZXdfdXNlciIsImluc2VydF91c2VyIiwibGlzdF91c2VyIiwiZGV0YWlsX3VzZXIiLCJkZWxldGUiLCJkZWxfdXNlciIsInZpZXdfZWRpdCIsInB1dCIsImVkaXRfdXNlciIsIkFwaVBvc3RDb250cm9sbGVyIiwibGlzdF9wb3N0IiwibmV3X3Bvc3QiLCJzaW5nbGUiLCJpbnNlcnRfcG9zdCIsImRldGFpbF9wb3N0Iiwidmlld19lZGl0X3Bvc3QiLCJlZGl0X3Bvc3QiLCJkZWxfcG9zdCIsIkFwaU5ld3NDb250cm9sbGVyIiwiR2V0QnlJZCIsImxpc3RfbmV3cyIsImluc2VydF9uZXdzIiwiZWRpdF9uZXdzIiwiZGVsX25ld3MiLCJ1c2UiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlXFxzcmNcXHJvdXRlclxcIiwic291cmNlcyI6WyJhcGlSb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJyAvLyB0aHUgdmllbiB1cCBpbWdcclxuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIlxyXG5cclxuaW1wb3J0IEFwaUxvZ2luQ29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9BcGlMb2dpbkNvbnRyb2xsZXJcIlxyXG5pbXBvcnQgQXBpVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvQXBpVXNlckNvbnRyb2xsZXJcIlxyXG5pbXBvcnQgQXBpUG9zdENvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvQXBpUG9zdENvbnRyb2xsZXJcIlxyXG5pbXBvcnQgQXBpTmV3c0NvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvQXBpTmV3c0NvbnRyb2xsZXJcIlxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICAgIGRlc3RpbmF0aW9uOiBmdW5jdGlvbiAocmVxLCBmaWxlLCBjYikge1xyXG4gICAgICBjYihudWxsLCAnLi9zcmMvcHVibGljL3VwbG9hZCcpXHJcbiAgICB9LFxyXG4gICAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICAgIGNvbnN0IHVuaXF1ZVN1ZmZpeCA9IERhdGUubm93KCkgKyAnLScgKyBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxRTkpXHJcbiAgICAgIGNiKG51bGwsIHVuaXF1ZVN1ZmZpeCArIHBhdGguZXh0bmFtZShmaWxlLm9yaWdpbmFsbmFtZSkpXHJcbiAgICB9XHJcbiAgfSlcclxuICBcclxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHsgc3RvcmFnZTogc3RvcmFnZSB9KVxyXG5cclxuY29uc3QgYXBpID0gZXhwcmVzcy5Sb3V0ZXIoKVxyXG5jb25zdCBpbml0QVBJUm91dGUgPSAoYXBwKSA9PiB7XHJcblxyXG4gICAgYXBpLmdldCgnL2xvZ2luLWF1dGgnLCBBcGlMb2dpbkNvbnRyb2xsZXIubG9naW4pXHJcbiAgICBhcGkucG9zdCgnL2xvZ2luJywgQXBpTG9naW5Db250cm9sbGVyLmxvZ2luX2F1dGgpXHJcbiAgICBhcGkuZ2V0KCcvbG9nb3V0JywgQXBpTG9naW5Db250cm9sbGVyLmxvZ291dClcclxuXHJcblxyXG4gICAgLy9hcGkgcXVhbiBseSB1c2VyICggdXNlciApICBcclxuICAgIGFwaS5nZXQoJy9jcmVhdGVfbmV3X3VzZXInLCBBcGlVc2VyQ29udHJvbGxlci5uZXdfdXNlcilcclxuICAgIGFwaS5wb3N0KCcvaW5zZXJ0X25ld191c2VyJywgQXBpVXNlckNvbnRyb2xsZXIuaW5zZXJ0X3VzZXIpXHJcbiAgICBhcGkuZ2V0KCcvbGlzdC11c2VyLzpmcm9tLTp0bycsIEFwaVVzZXJDb250cm9sbGVyLmxpc3RfdXNlcilcclxuICAgIGFwaS5nZXQoJy9kZXRhaWxfdXNlci86dXNlcm5hbWUnLCBBcGlVc2VyQ29udHJvbGxlci5kZXRhaWxfdXNlcilcclxuICAgIGFwaS5kZWxldGUoJy9kZWxfdXNlci86dXNlcm5hbWUnLCBBcGlVc2VyQ29udHJvbGxlci5kZWxfdXNlcilcclxuICAgIGFwaS5nZXQoJy92aWV3X2VkaXQvOnVzZXJuYW1lJywgQXBpVXNlckNvbnRyb2xsZXIudmlld19lZGl0KVxyXG4gICAgYXBpLnB1dCgnL2VkaXRfdXNlcicsIEFwaVVzZXJDb250cm9sbGVyLmVkaXRfdXNlcilcclxuXHJcblxyXG4gICAgLy9hcGkgcXVhbiBseSBiYWkgdmlldCAoIHBvc3QgKSAgXHJcbiAgICBhcGkuZ2V0KCcvbGlzdC1wb3N0Lzpmcm9tLTp0bycsIEFwaVBvc3RDb250cm9sbGVyLmxpc3RfcG9zdClcclxuICAgIGFwaS5nZXQoJy9jcmVhdGVfbmV3X3Bvc3QnLCBBcGlQb3N0Q29udHJvbGxlci5uZXdfcG9zdClcclxuICAgIGFwaS5wb3N0KCcvaW5zZXJ0X25ld19wb3N0JywgdXBsb2FkLnNpbmdsZSgnZmlsZW5ldycpLCBBcGlQb3N0Q29udHJvbGxlci5pbnNlcnRfcG9zdClcclxuICAgIGFwaS5nZXQoJy9kZXRhaWxfcG9zdC86aWQnLCBBcGlQb3N0Q29udHJvbGxlci5kZXRhaWxfcG9zdClcclxuICAgIGFwaS5nZXQoJy92aWV3X2VkaXRfcG9zdC86aWQnLCBBcGlQb3N0Q29udHJvbGxlci52aWV3X2VkaXRfcG9zdClcclxuICAgIGFwaS5wdXQoJy9lZGl0X3Bvc3QnLCB1cGxvYWQuc2luZ2xlKCdmaWxlbmV3JyksIEFwaVBvc3RDb250cm9sbGVyLmVkaXRfcG9zdClcclxuICAgIGFwaS5kZWxldGUoJy9kZWxfcG9zdCcsIEFwaVBvc3RDb250cm9sbGVyLmRlbF9wb3N0KVxyXG5cclxuXHJcbiAgICAvL2FwaSBxdWFuIGx5IHRpbiB0dWMgKG5ld3MpXHJcbiAgICBhcGkuZ2V0KCcvR2V0QnlJZC86aWQnLCBBcGlOZXdzQ29udHJvbGxlci5HZXRCeUlkKVxyXG4gICAgYXBpLmdldCgnL2xpc3QtbmV3cycsIEFwaU5ld3NDb250cm9sbGVyLmxpc3RfbmV3cylcclxuICAgIGFwaS5wb3N0KCcvaW5zZXJ0X25ld3MnLCBBcGlOZXdzQ29udHJvbGxlci5pbnNlcnRfbmV3cylcclxuICAgIGFwaS5wdXQoJy9lZGl0X25ld3MvOmlkJywgQXBpTmV3c0NvbnRyb2xsZXIuZWRpdF9uZXdzKVxyXG4gICAgYXBpLmRlbGV0ZSgnL2RlbF9uZXdzLzppZCcsIEFwaU5ld3NDb250cm9sbGVyLmRlbF9uZXdzKVxyXG5cclxuICAgIHJldHVybiBhcHAudXNlKCcvYXBpL3YxJywgYXBpKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IGluaXRBUElSb3V0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_multer","_path","_ApiLoginController","_ApiUserController","_ApiPostController","_ApiNewsController","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","filename","uniqueSuffix","Date","now","Math","round","random","path","extname","originalname","upload","api","express","Router","initAPIRoute","app","get","ApiLoginController","login","post","login_auth","logout","ApiUserController","new_user","insert_user","list_user","detail_user","delete","del_user","view_edit","put","edit_user","ApiPostController","list_post","new_post","single","insert_post","detail_post","view_edit_post","edit_post","del_post","ApiNewsController","GetById","list_news","insert_news","edit_news","del_news","use","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\router\\","sources":["apiRoute.js"],"sourcesContent":["import express from \"express\"\r\nimport multer from 'multer' // thu vien up img\r\nimport path from \"path\"\r\n\r\nimport ApiLoginController from \"./../controllers/ApiLoginController\"\r\nimport ApiUserController from \"./../controllers/ApiUserController\"\r\nimport ApiPostController from \"./../controllers/ApiPostController\"\r\nimport ApiNewsController from \"./../controllers/ApiNewsController\"\r\nconst storage = multer.diskStorage({\r\n    destination: function (req, file, cb) {\r\n      cb(null, './src/public/upload')\r\n    },\r\n    filename: function (req, file, cb) {\r\n      const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)\r\n      cb(null, uniqueSuffix + path.extname(file.originalname))\r\n    }\r\n  })\r\n  \r\nconst upload = multer({ storage: storage })\r\n\r\nconst api = express.Router()\r\nconst initAPIRoute = (app) => {\r\n\r\n    api.get('/login-auth', ApiLoginController.login)\r\n    api.post('/login', ApiLoginController.login_auth)\r\n    api.get('/logout', ApiLoginController.logout)\r\n\r\n\r\n    //api quan ly user ( user )  \r\n    api.get('/create_new_user', ApiUserController.new_user)\r\n    api.post('/insert_new_user', ApiUserController.insert_user)\r\n    api.get('/list-user/:from-:to', ApiUserController.list_user)\r\n    api.get('/detail_user/:username', ApiUserController.detail_user)\r\n    api.delete('/del_user/:username', ApiUserController.del_user)\r\n    api.get('/view_edit/:username', ApiUserController.view_edit)\r\n    api.put('/edit_user', ApiUserController.edit_user)\r\n\r\n\r\n    //api quan ly bai viet ( post )  \r\n    api.get('/list-post/:from-:to', ApiPostController.list_post)\r\n    api.get('/create_new_post', ApiPostController.new_post)\r\n    api.post('/insert_new_post', upload.single('filenew'), ApiPostController.insert_post)\r\n    api.get('/detail_post/:id', ApiPostController.detail_post)\r\n    api.get('/view_edit_post/:id', ApiPostController.view_edit_post)\r\n    api.put('/edit_post', upload.single('filenew'), ApiPostController.edit_post)\r\n    api.delete('/del_post', ApiPostController.del_post)\r\n\r\n\r\n    //api quan ly tin tuc (news)\r\n    api.get('/GetById/:id', ApiNewsController.GetById)\r\n    api.get('/list-news', ApiNewsController.list_news)\r\n    api.post('/insert_news', ApiNewsController.insert_news)\r\n    api.put('/edit_news/:id', ApiNewsController.edit_news)\r\n    api.delete('/del_news/:id', ApiNewsController.del_news)\r\n\r\n    return app.use('/api/v1', api)\r\n}\r\nexport default initAPIRoute"],"mappings":"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"}},"mtime":1700121220964},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\ApiLoginController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst login = (req, res) => {\n  try {\n    const token = req.cookies.token;\n    if (token) {\n      let decode = _JWTAction.default.verifyToken(token);\n      return res.status(200).json({\n        err: 0,\n        mess: \"Xác thực token thành công\",\n        jwt: {\n          user: decode\n        }\n      });\n    } else {\n      res.status(200).json({\n        err: 1,\n        mess: \"Lỗi: không tồn tại token\",\n        jwt: \"\"\n      });\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst login_auth = async (req, res) => {\n  try {\n    let body = req.body;\n    if (!body.username || !body.password) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Lỗi: thiếu tài khoản hoặc mật khẩu\"\n      });\n    }\n    let author = await _userModel.default.auth(body.username);\n    if (author.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Lỗi: tài khoản không tồn tại\"\n      });\n    }\n    let hash = _bcryptjs.default.hashSync(body.password, _bcryptjs.default.genSaltSync(10));\n    if (_bcryptjs.default.compareSync(body.password, author[0].password)) {\n      req.session.auth = {\n        name: author[0].username,\n        pass: author[0].password,\n        role: author[0].groupid\n      };\n      const token = _JWTAction.default.createJWT({\n        data: {\n          auth: author[0].username,\n          role: author[0].groupid\n        }\n      }); // mã hóa id và quyen\n\n      res.cookie('token', token, {\n        httpOnly: true\n      });\n      return res.status(200).json({\n        err: 0,\n        mess: \"Đăng nhập thành công\",\n        user: {\n          name: author[0].username,\n          role: author[0].groupid\n        }\n      });\n    } else {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Lỗi: sai mật khẩu\"\n      });\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst logout = (req, res) => {\n  try {\n    if (req.session.auth) {\n      res.clearCookie('token');\n      req.session.destroy();\n      return res.status(200).json({\n        err: 0,\n        mess: \"Đăng xuất thành công\"\n      });\n    } else {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Chưa đăng nhập\"\n      });\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nvar _default = exports.default = {\n  login,\n  login_auth,\n  logout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIl9ib2R5UGFyc2VyIiwiX0pXVEFjdGlvbiIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibG9naW4iLCJyZXEiLCJyZXMiLCJ0b2tlbiIsImNvb2tpZXMiLCJkZWNvZGUiLCJKV1QiLCJ2ZXJpZnlUb2tlbiIsInN0YXR1cyIsImpzb24iLCJlcnIiLCJtZXNzIiwiand0IiwidXNlciIsImVycm9yIiwibG9naW5fYXV0aCIsImJvZHkiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiYXV0aG9yIiwidXNlck1vZGVsIiwiYXV0aCIsImxlbmd0aCIsImhhc2giLCJiY3J5cHQiLCJoYXNoU3luYyIsImdlblNhbHRTeW5jIiwiY29tcGFyZVN5bmMiLCJzZXNzaW9uIiwibmFtZSIsInBhc3MiLCJyb2xlIiwiZ3JvdXBpZCIsImNyZWF0ZUpXVCIsImRhdGEiLCJjb29raWUiLCJodHRwT25seSIsImxvZ291dCIsImNsZWFyQ29va2llIiwiZGVzdHJveSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQXBpTG9naW5Db250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuaW1wb3J0IHVzZXJNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvdXNlck1vZGVsXCJcclxuaW1wb3J0IHsganNvbiB9IGZyb20gXCJib2R5LXBhcnNlclwiXHJcbmltcG9ydCBKV1QgZnJvbSBcIi4uL21pZGRsZXdhcmUvSldUQWN0aW9uXCJcclxuXHJcblxyXG5jb25zdCBsb2dpbiA9IChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMudG9rZW47XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRva2VuKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgZGVjb2RlID0gSldULnZlcmlmeVRva2VuKHRva2VuKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJYw6FjIHRo4buxYyB0b2tlbiB0aMOgbmggY8O0bmdcIixcclxuICAgICAgICAgICAgICAgICAgICBqd3Q6IHt1c2VyOiBkZWNvZGV9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICkgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJM4buXaToga2jDtG5nIHThu5NuIHThuqFpIHRva2VuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgand0OiBcIlwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICkgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbG9naW5fYXV0aCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuXHJcbiAgICAgICAgaWYgKCFib2R5LnVzZXJuYW1lIHx8ICFib2R5LnBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogdGhp4bq/dSB0w6BpIGtob+G6o24gaG/hurdjIG3huq10IGto4bqpdVwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBhdXRob3IgPSBhd2FpdCB1c2VyTW9kZWwuYXV0aChib2R5LnVzZXJuYW1lKVxyXG5cclxuICAgICAgICBpZiAoYXV0aG9yLmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiB0w6BpIGtob+G6o24ga2jDtG5nIHThu5NuIHThuqFpXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGhhc2ggPSBiY3J5cHQuaGFzaFN5bmMoYm9keS5wYXNzd29yZCwgYmNyeXB0LmdlblNhbHRTeW5jKDEwKSlcclxuXHJcbiAgICAgICAgaWYgKGJjcnlwdC5jb21wYXJlU3luYyhib2R5LnBhc3N3b3JkLCBhdXRob3JbMF0ucGFzc3dvcmQpKSB7XHJcblxyXG4gICAgICAgICAgICByZXEuc2Vzc2lvbi5hdXRoID0geyBuYW1lOiBhdXRob3JbMF0udXNlcm5hbWUsIHBhc3M6IGF1dGhvclswXS5wYXNzd29yZCwgcm9sZTogYXV0aG9yWzBdLmdyb3VwaWQgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBKV1QuY3JlYXRlSldUKHsgZGF0YTogeyBhdXRoOiBhdXRob3JbMF0udXNlcm5hbWUsIHJvbGU6IGF1dGhvclswXS5ncm91cGlkIH0gfSkgLy8gbcOjIGjDs2EgaWQgdsOgIHF1eWVuXHJcblxyXG4gICAgICAgICAgICByZXMuY29va2llKCd0b2tlbicsIHRva2VuLCB7IGh0dHBPbmx5OiB0cnVlIH0pXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwixJDEg25nIG5o4bqtcCB0aMOgbmggY8O0bmdcIixcclxuICAgICAgICAgICAgICAgICAgICB1c2VyOiB7bmFtZTogYXV0aG9yWzBdLnVzZXJuYW1lLCByb2xlOiBhdXRob3JbMF0uZ3JvdXBpZH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBzYWkgbeG6rXQga2jhuql1XCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBsb2dvdXQgPSAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBpZiAocmVxLnNlc3Npb24uYXV0aCkge1xyXG5cclxuICAgICAgICAgICAgcmVzLmNsZWFyQ29va2llKCd0b2tlbicpO1xyXG5cclxuICAgICAgICAgICAgcmVxLnNlc3Npb24uZGVzdHJveSgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMCxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIsSQxINuZyB4deG6pXQgdGjDoG5oIGPDtG5nXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJDaMawYSDEkcSDbmcgbmjhuq1wXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJc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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","_bodyParser","_JWTAction","obj","__esModule","default","login","req","res","token","cookies","decode","JWT","verifyToken","status","json","err","mess","jwt","user","error","login_auth","body","username","password","author","userModel","auth","length","hash","bcrypt","hashSync","genSaltSync","compareSync","session","name","pass","role","groupid","createJWT","data","cookie","httpOnly","logout","clearCookie","destroy","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["ApiLoginController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n\r\nconst login = (req, res) => {\r\n\r\n    try {\r\n\r\n        const token = req.cookies.token;\r\n        \r\n        if (token) {\r\n\r\n            let decode = JWT.verifyToken(token);\r\n\r\n            return res.status(200).json(\r\n                {\r\n                    err: 0,\r\n                    mess: \"Xác thực token thành công\",\r\n                    jwt: {user: decode}\r\n                }\r\n            ) \r\n        }\r\n        else {\r\n            res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Lỗi: không tồn tại token\",\r\n                    jwt: \"\"\r\n                }\r\n            ) \r\n        }\r\n        \r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst login_auth = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n\r\n        if (!body.username || !body.password) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Lỗi: thiếu tài khoản hoặc mật khẩu\"\r\n                }\r\n            )\r\n        }\r\n\r\n        let author = await userModel.auth(body.username)\r\n\r\n        if (author.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Lỗi: tài khoản không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        let hash = bcrypt.hashSync(body.password, bcrypt.genSaltSync(10))\r\n\r\n        if (bcrypt.compareSync(body.password, author[0].password)) {\r\n\r\n            req.session.auth = { name: author[0].username, pass: author[0].password, role: author[0].groupid }\r\n\r\n            const token = JWT.createJWT({ data: { auth: author[0].username, role: author[0].groupid } }) // mã hóa id và quyen\r\n\r\n            res.cookie('token', token, { httpOnly: true })\r\n\r\n            return res.status(200).json(\r\n                {\r\n                    err: 0,\r\n                    mess: \"Đăng nhập thành công\",\r\n                    user: {name: author[0].username, role: author[0].groupid}\r\n                }\r\n            )\r\n        }\r\n        else {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Lỗi: sai mật khẩu\"\r\n                }\r\n            )\r\n        }\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst logout = (req, res) => {\r\n\r\n    try {\r\n\r\n        if (req.session.auth) {\r\n\r\n            res.clearCookie('token');\r\n\r\n            req.session.destroy();\r\n\r\n            return res.status(200).json(\r\n                {\r\n                    err: 0,\r\n                    mess: \"Đăng xuất thành công\"\r\n                }\r\n            )\r\n\r\n        }\r\n        else {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Chưa đăng nhập\"\r\n                }\r\n            )\r\n        }\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nexport default { login, login_auth, logout }\r\n\r\n\r\n"],"mappings":"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"}},"mtime":1700121220962},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\middleware\\\\JWTAction.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_dotenv.default.config();\nconst key = process.env.JWT_SECRET;\nconst createJWT = payload => {\n  // let payload = { foo: 'bar' }\n  let token = null;\n  try {\n    token = _jsonwebtoken.default.sign(payload, key, {\n      algorithm: 'HS256'\n    });\n  } catch (err) {\n    console.log(err);\n  }\n  // console.log(token)\n  return token;\n};\nconst verifyToken = token => {\n  let decoded = null;\n  try {\n    decoded = _jsonwebtoken.default.verify(token, key);\n  } catch (err) {\n    console.log(err);\n  }\n  // console.log(decoded)\n  return decoded;\n};\nvar _default = exports.default = {\n  createJWT,\n  verifyToken\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZG90ZW52Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJkb3RlbnYiLCJjb25maWciLCJrZXkiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImNyZWF0ZUpXVCIsInBheWxvYWQiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJhbGdvcml0aG0iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwidmVyaWZ5VG9rZW4iLCJkZWNvZGVkIiwidmVyaWZ5IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxceGFtcHBcXGh0ZG9jc1xcQkNfTm9kZVxcc3JjXFxtaWRkbGV3YXJlXFwiLCJzb3VyY2VzIjpbIkpXVEFjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIlxyXG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIlxyXG5cclxuZG90ZW52LmNvbmZpZygpXHJcbmNvbnN0IGtleSA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVRcclxuXHJcbmNvbnN0IGNyZWF0ZUpXVCA9IChwYXlsb2FkKSA9PiB7XHJcbiAgICAvLyBsZXQgcGF5bG9hZCA9IHsgZm9vOiAnYmFyJyB9XHJcbiAgICBsZXQgdG9rZW4gPSBudWxsXHJcbiAgICB0cnkge1xyXG4gICAgICAgIHRva2VuID0gand0LnNpZ24ocGF5bG9hZCwga2V5LCB7IGFsZ29yaXRobTogJ0hTMjU2JyB9KTtcclxuICAgIH0gXHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKSBcclxuICAgIH1cclxuICAgIC8vIGNvbnNvbGUubG9nKHRva2VuKVxyXG4gICAgcmV0dXJuIHRva2VuXHJcbn1cclxuXHJcbmNvbnN0IHZlcmlmeVRva2VuID0gKHRva2VuKSA9PiB7XHJcbiAgICBsZXQgZGVjb2RlZCA9IG51bGxcclxuICAgIHRyeSB7XHJcbiAgICAgICAgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIGtleSlcclxuICAgIH0gXHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgfVxyXG4gICAgLy8gY29uc29sZS5sb2coZGVjb2RlZClcclxuICAgIHJldHVybiBkZWNvZGVkXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtjcmVhdGVKV1QsIHZlcmlmeVRva2VufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQTJCLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTNCRyxlQUFNLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBQ2YsTUFBTUMsR0FBRyxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsVUFBVTtBQUVsQyxNQUFNQyxTQUFTLEdBQUlDLE9BQU8sSUFBSztFQUMzQjtFQUNBLElBQUlDLEtBQUssR0FBRyxJQUFJO0VBQ2hCLElBQUk7SUFDQUEsS0FBSyxHQUFHQyxxQkFBRyxDQUFDQyxJQUFJLENBQUNILE9BQU8sRUFBRUwsR0FBRyxFQUFFO01BQUVTLFNBQVMsRUFBRTtJQUFRLENBQUMsQ0FBQztFQUMxRCxDQUFDLENBQ0QsT0FBT0MsR0FBRyxFQUFFO0lBQ1JDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixHQUFHLENBQUM7RUFDcEI7RUFDQTtFQUNBLE9BQU9KLEtBQUs7QUFDaEIsQ0FBQztBQUVELE1BQU1PLFdBQVcsR0FBSVAsS0FBSyxJQUFLO0VBQzNCLElBQUlRLE9BQU8sR0FBRyxJQUFJO0VBQ2xCLElBQUk7SUFDQUEsT0FBTyxHQUFHUCxxQkFBRyxDQUFDUSxNQUFNLENBQUNULEtBQUssRUFBRU4sR0FBRyxDQUFDO0VBQ3BDLENBQUMsQ0FDRCxPQUFPVSxHQUFHLEVBQUU7SUFDUkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQztFQUNwQjtFQUNBO0VBQ0EsT0FBT0ksT0FBTztBQUNsQixDQUFDO0FBQUEsSUFBQUUsUUFBQSxHQUFBQyxPQUFBLENBQUFwQixPQUFBLEdBRWM7RUFBQ08sU0FBUztFQUFFUztBQUFXLENBQUMifQ==","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_dotenv","obj","__esModule","default","dotenv","config","key","process","env","JWT_SECRET","createJWT","payload","token","jwt","sign","algorithm","err","console","log","verifyToken","decoded","verify","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\middleware\\","sources":["JWTAction.js"],"sourcesContent":["import jwt from \"jsonwebtoken\"\r\nimport dotenv from \"dotenv\"\r\n\r\ndotenv.config()\r\nconst key = process.env.JWT_SECRET\r\n\r\nconst createJWT = (payload) => {\r\n    // let payload = { foo: 'bar' }\r\n    let token = null\r\n    try {\r\n        token = jwt.sign(payload, key, { algorithm: 'HS256' });\r\n    } \r\n    catch (err) {\r\n        console.log(err) \r\n    }\r\n    // console.log(token)\r\n    return token\r\n}\r\n\r\nconst verifyToken = (token) => {\r\n    let decoded = null\r\n    try {\r\n        decoded = jwt.verify(token, key)\r\n    } \r\n    catch (err) {\r\n        console.log(err)\r\n    }\r\n    // console.log(decoded)\r\n    return decoded\r\n}\r\n\r\nexport default {createJWT, verifyToken}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA2B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE3BG,eAAM,CAACC,MAAM,CAAC,CAAC;AACf,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,UAAU;AAElC,MAAMC,SAAS,GAAIC,OAAO,IAAK;EAC3B;EACA,IAAIC,KAAK,GAAG,IAAI;EAChB,IAAI;IACAA,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAACH,OAAO,EAAEL,GAAG,EAAE;MAAES,SAAS,EAAE;IAAQ,CAAC,CAAC;EAC1D,CAAC,CACD,OAAOC,GAAG,EAAE;IACRC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;EACA;EACA,OAAOJ,KAAK;AAChB,CAAC;AAED,MAAMO,WAAW,GAAIP,KAAK,IAAK;EAC3B,IAAIQ,OAAO,GAAG,IAAI;EAClB,IAAI;IACAA,OAAO,GAAGP,qBAAG,CAACQ,MAAM,CAACT,KAAK,EAAEN,GAAG,CAAC;EACpC,CAAC,CACD,OAAOU,GAAG,EAAE;IACRC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;EACA;EACA,OAAOI,OAAO;AAClB,CAAC;AAAA,IAAAE,QAAA,GAAAC,OAAA,CAAApB,OAAA,GAEc;EAACO,SAAS;EAAES;AAAW,CAAC"}},"mtime":1696924706523},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\ApiUserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst new_user = (req, res) => {\n  try {\n    return res.status(200).json({\n      page: 'newUser',\n      title: 'Tạo tài khoản'\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst insert_user = async (req, res) => {\n  try {\n    let body = req.body;\n    if (!body.username || !body.password || !body.fullname || !body.address || !body.sex || !body.email || !body.groupid) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    let user = await _userModel.default.detail_user(body.username);\n    if (user.length >= 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Tài khoản đã tồn tại\"\n      });\n    }\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.password, pass);\n    let newuser = await _userModel.default.insert_user(body.username, hash, body.fullname, body.address, body.sex, body.email, body.groupid);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Tạo tài khoản thành công\"\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst list_user = async (req, res) => {\n  try {\n    let _from = req.params.from;\n    let _to = req.params.to;\n    if (isNaN(_from) === false && isNaN(_to) === false) {\n      let list = await _userModel.default.list_user(_from, _to);\n      return res.status(200).json({\n        err: 0,\n        title: 'Danh sách tài khoản',\n        params: {\n          from: _from,\n          to: _to\n        },\n        list: list\n      });\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst detail_user = async (req, res) => {\n  try {\n    let Username = req.params.username;\n    let list = await _userModel.default.detail_user(Username);\n    if (list.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Người dùng không tồn tại\"\n      });\n    }\n    return res.status(200).json({\n      page: 'detailUser',\n      title: 'Chi tiết người dùng',\n      list: list\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst edit_user = async (req, res) => {\n  try {\n    let body = req.body;\n    if (!body.username || !body.password || !body.fullname || !body.address || !body.sex || !body.email || !body.groupid) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.password, pass);\n    let updatauser = await _userModel.default.edit_user(body.username, hash, body.fullname, body.address, body.sex, body.email, body.groupid);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Cập nhật thành công\",\n      hash: hash\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst view_edit = async (req, res) => {\n  try {\n    let Username = req.params.username;\n    let list = await _userModel.default.detail_user(Username);\n    if (list.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Người dùng không tồn tại\"\n      });\n    }\n    return res.status(200).json({\n      page: 'viewEdit',\n      title: 'Cập nhật',\n      list: list\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst del_user = async (req, res) => {\n  try {\n    let body = req.params;\n    if (!body.username) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Lỗi: thiếu tài khoản\"\n      });\n    }\n    const token = req.cookies.token;\n    if (token) {\n      let decode = _JWTAction.default.verifyToken(token);\n      if (decode.data.auth === body.username) {\n        return res.status(200).json({\n          err: 1,\n          mess: \"Tài khoản đang được sử dụng\"\n        });\n      } else {\n        let user = await _userModel.default.detail_user(body.username);\n        if (user.length < 1) {\n          return res.status(200).json({\n            err: 1,\n            mess: \"Người dùng không tồn tại\"\n          });\n        }\n        let list = await _userModel.default.del_user(body.username);\n        return res.status(200).json({\n          err: 0,\n          mess: \"Xóa tài khoản thành công\"\n        });\n      }\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nvar _default = exports.default = {\n  new_user,\n  list_user,\n  detail_user,\n  insert_user,\n  edit_user,\n  del_user,\n  view_edit\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIl9ib2R5UGFyc2VyIiwiX0pXVEFjdGlvbiIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibmV3X3VzZXIiLCJyZXEiLCJyZXMiLCJzdGF0dXMiLCJqc29uIiwicGFnZSIsInRpdGxlIiwiZXJyb3IiLCJlcnIiLCJtZXNzIiwiaW5zZXJ0X3VzZXIiLCJib2R5IiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImZ1bGxuYW1lIiwiYWRkcmVzcyIsInNleCIsImVtYWlsIiwiZ3JvdXBpZCIsInVzZXIiLCJ1c2VyTW9kZWwiLCJkZXRhaWxfdXNlciIsImxlbmd0aCIsInBhc3MiLCJiY3J5cHQiLCJnZW5TYWx0U3luYyIsImhhc2giLCJoYXNoU3luYyIsIm5ld3VzZXIiLCJsaXN0X3VzZXIiLCJfZnJvbSIsInBhcmFtcyIsImZyb20iLCJfdG8iLCJ0byIsImlzTmFOIiwibGlzdCIsIlVzZXJuYW1lIiwiZWRpdF91c2VyIiwidXBkYXRhdXNlciIsInZpZXdfZWRpdCIsImRlbF91c2VyIiwidG9rZW4iLCJjb29raWVzIiwiZGVjb2RlIiwiSldUIiwidmVyaWZ5VG9rZW4iLCJkYXRhIiwiYXV0aCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQXBpVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgdXNlck1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy91c2VyTW9kZWxcIlxyXG5pbXBvcnQgeyBqc29uIH0gZnJvbSBcImJvZHktcGFyc2VyXCJcclxuaW1wb3J0IEpXVCBmcm9tIFwiLi4vbWlkZGxld2FyZS9KV1RBY3Rpb25cIlxyXG5cclxuXHJcbmNvbnN0IG5ld191c2VyID0gKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBhZ2U6ICduZXdVc2VyJywgXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1ThuqFvIHTDoGkga2hv4bqjbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG5cclxuICAgICAgICBpZiAoIWJvZHkudXNlcm5hbWUgfHwgIWJvZHkucGFzc3dvcmQgfHwgIWJvZHkuZnVsbG5hbWUgfHwgIWJvZHkuYWRkcmVzcyB8fCAhYm9keS5zZXggfHwgIWJvZHkuZW1haWwgfHwgIWJvZHkuZ3JvdXBpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiVGhp4bq/dSB0aMO0bmcgdGluIGPhuqduIHRoaeG6v3RcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5kZXRhaWxfdXNlcihib2R5LnVzZXJuYW1lKVxyXG5cclxuICAgICAgICBpZiAodXNlci5sZW5ndGggPj0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiVMOgaSBraG/huqNuIMSRw6MgdOG7k24gdOG6oWlcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcGFzcyA9IGJjcnlwdC5nZW5TYWx0U3luYygxMClcclxuICAgICAgICBsZXQgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhib2R5LnBhc3N3b3JkLCBwYXNzKVxyXG5cclxuICAgICAgICBsZXQgbmV3dXNlciA9IGF3YWl0IHVzZXJNb2RlbC5pbnNlcnRfdXNlcihib2R5LnVzZXJuYW1lLCBoYXNoLCBib2R5LmZ1bGxuYW1lLCBib2R5LmFkZHJlc3MsIGJvZHkuc2V4LCBib2R5LmVtYWlsLCBib2R5Lmdyb3VwaWQpXHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJU4bqhbyB0w6BpIGtob+G6o24gdGjDoG5oIGPDtG5nXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBsaXN0X3VzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgX2Zyb20gPSByZXEucGFyYW1zLmZyb21cclxuICAgICAgICBsZXQgX3RvID0gcmVxLnBhcmFtcy50b1xyXG5cclxuICAgICAgICBpZiAoaXNOYU4oX2Zyb20pID09PSBmYWxzZSAmJiBpc05hTihfdG8pID09PSBmYWxzZSkge1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgbGlzdCA9IGF3YWl0IHVzZXJNb2RlbC5saXN0X3VzZXIoX2Zyb20sIF90bylcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdEYW5oIHPDoWNoIHTDoGkga2hv4bqjbicsIFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tOl9mcm9tLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG86X3RvXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgXHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdDogbGlzdFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZGV0YWlsX3VzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgVXNlcm5hbWUgPSByZXEucGFyYW1zLnVzZXJuYW1lXHJcbiAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCB1c2VyTW9kZWwuZGV0YWlsX3VzZXIoVXNlcm5hbWUpXHJcblxyXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIk5nxrDhu51pIGTDuW5nIGtow7RuZyB04buTbiB04bqhaVwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGFnZTogJ2RldGFpbFVzZXInLCBcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2hpIHRp4bq/dCBuZ8aw4budaSBkw7luZycsIFxyXG4gICAgICAgICAgICAgICAgbGlzdDpsaXN0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5jb25zdCBlZGl0X3VzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcblxyXG4gICAgICAgIGlmICghYm9keS51c2VybmFtZSB8fCAhYm9keS5wYXNzd29yZCB8fCAhYm9keS5mdWxsbmFtZSB8fCAhYm9keS5hZGRyZXNzIHx8ICFib2R5LnNleCB8fCAhYm9keS5lbWFpbCB8fCAhYm9keS5ncm91cGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJUaGnhur91IHRow7RuZyB0aW4gY+G6p24gdGhp4bq/dFwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwYXNzID0gYmNyeXB0LmdlblNhbHRTeW5jKDEwKVxyXG4gICAgICAgIGxldCBoYXNoID0gYmNyeXB0Lmhhc2hTeW5jKGJvZHkucGFzc3dvcmQsIHBhc3MpXHJcblxyXG4gICAgICAgIGxldCB1cGRhdGF1c2VyID0gYXdhaXQgdXNlck1vZGVsLmVkaXRfdXNlcihib2R5LnVzZXJuYW1lLCBoYXNoLCBib2R5LmZ1bGxuYW1lLCBib2R5LmFkZHJlc3MsIGJvZHkuc2V4LCBib2R5LmVtYWlsLCBib2R5Lmdyb3VwaWQpXHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJD4bqtcCBuaOG6rXQgdGjDoG5oIGPDtG5nXCIsXHJcbiAgICAgICAgICAgICAgICBoYXNoOiBoYXNoXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3Qgdmlld19lZGl0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IFVzZXJuYW1lID0gcmVxLnBhcmFtcy51c2VybmFtZVxyXG4gICAgICAgIGxldCBsaXN0ID0gYXdhaXQgdXNlck1vZGVsLmRldGFpbF91c2VyKFVzZXJuYW1lKVxyXG5cclxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJOZ8aw4budaSBkw7luZyBraMO0bmcgdOG7k24gdOG6oWlcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBhZ2U6ICd2aWV3RWRpdCcsIFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdD4bqtcCBuaOG6rXQnLCBcclxuICAgICAgICAgICAgICAgIGxpc3Q6bGlzdFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jb25zdCBkZWxfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBib2R5ID0gcmVxLnBhcmFtc1xyXG5cclxuICAgICAgICBpZiAoIWJvZHkudXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiB0aGnhur91IHTDoGkga2hv4bqjblwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMudG9rZW47XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRva2VuKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgZGVjb2RlID0gSldULnZlcmlmeVRva2VuKHRva2VuKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkZWNvZGUuZGF0YS5hdXRoID09PSBib2R5LnVzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiVMOgaSBraG/huqNuIMSRYW5nIMSRxrDhu6NjIHPhu60gZOG7pW5nXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmRldGFpbF91c2VyKGJvZHkudXNlcm5hbWUpXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHVzZXIubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzczogXCJOZ8aw4budaSBkw7luZyBraMO0bmcgdOG7k24gdOG6oWlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBsaXN0ID0gYXdhaXQgdXNlck1vZGVsLmRlbF91c2VyKGJvZHkudXNlcm5hbWUpXHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzczogXCJYw7NhIHTDoGkga2hv4bqjbiB0aMOgbmggY8O0bmdcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge25ld191c2VyLCBsaXN0X3VzZXIsIGRldGFpbF91c2VyLCBpbnNlcnRfdXNlciwgZWRpdF91c2VyLCBkZWxfdXNlciwgdmlld19lZGl0fSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFdBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLFVBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBRCx1QkFBQU0sR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUd6QyxNQUFNRyxRQUFRLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBRTNCLElBQUk7SUFFQSxPQUFPQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUN2QjtNQUNJQyxJQUFJLEVBQUUsU0FBUztNQUNmQyxLQUFLLEVBQUU7SUFDWCxDQUNKLENBQUM7RUFFTCxDQUFDLENBQUMsT0FBT0MsS0FBSyxFQUFFO0lBQ1osT0FBT0wsR0FBRyxDQUFDQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDdkI7TUFDSUksR0FBRyxFQUFFLENBQUM7TUFDTkMsSUFBSSxFQUFFLE9BQU8sR0FBR0Y7SUFDcEIsQ0FDSixDQUFDO0VBQ0w7QUFFSixDQUFDO0FBRUQsTUFBTUcsV0FBVyxHQUFHLE1BQUFBLENBQU9ULEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBRXBDLElBQUk7SUFFQSxJQUFJUyxJQUFJLEdBQUdWLEdBQUcsQ0FBQ1UsSUFBSTtJQUVuQixJQUFJLENBQUNBLElBQUksQ0FBQ0MsUUFBUSxJQUFJLENBQUNELElBQUksQ0FBQ0UsUUFBUSxJQUFJLENBQUNGLElBQUksQ0FBQ0csUUFBUSxJQUFJLENBQUNILElBQUksQ0FBQ0ksT0FBTyxJQUFJLENBQUNKLElBQUksQ0FBQ0ssR0FBRyxJQUFJLENBQUNMLElBQUksQ0FBQ00sS0FBSyxJQUFJLENBQUNOLElBQUksQ0FBQ08sT0FBTyxFQUFFO01BQ2xILE9BQU9oQixHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUN2QjtRQUNJSSxHQUFHLEVBQUUsQ0FBQztRQUNOQyxJQUFJLEVBQUU7TUFDVixDQUNKLENBQUM7SUFDTDtJQUVBLElBQUlVLElBQUksR0FBRyxNQUFNQyxrQkFBUyxDQUFDQyxXQUFXLENBQUNWLElBQUksQ0FBQ0MsUUFBUSxDQUFDO0lBRXJELElBQUlPLElBQUksQ0FBQ0csTUFBTSxJQUFJLENBQUMsRUFBRTtNQUNsQixPQUFPcEIsR0FBRyxDQUFDQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDdkI7UUFDSUksR0FBRyxFQUFFLENBQUM7UUFDTkMsSUFBSSxFQUFFO01BQ1YsQ0FDSixDQUFDO0lBQ0w7SUFFQSxJQUFJYyxJQUFJLEdBQUdDLGlCQUFNLENBQUNDLFdBQVcsQ0FBQyxFQUFFLENBQUM7SUFDakMsSUFBSUMsSUFBSSxHQUFHRixpQkFBTSxDQUFDRyxRQUFRLENBQUNoQixJQUFJLENBQUNFLFFBQVEsRUFBRVUsSUFBSSxDQUFDO0lBRS9DLElBQUlLLE9BQU8sR0FBRyxNQUFNUixrQkFBUyxDQUFDVixXQUFXLENBQUNDLElBQUksQ0FBQ0MsUUFBUSxFQUFFYyxJQUFJLEVBQUVmLElBQUksQ0FBQ0csUUFBUSxFQUFFSCxJQUFJLENBQUNJLE9BQU8sRUFBRUosSUFBSSxDQUFDSyxHQUFHLEVBQUVMLElBQUksQ0FBQ00sS0FBSyxFQUFFTixJQUFJLENBQUNPLE9BQU8sQ0FBQztJQUUvSCxPQUFPaEIsR0FBRyxDQUFDQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDdkI7TUFDSUksR0FBRyxFQUFFLENBQUM7TUFDTkMsSUFBSSxFQUFFO0lBQ1YsQ0FDSixDQUFDO0VBRUwsQ0FBQyxDQUFDLE9BQU9GLEtBQUssRUFBRTtJQUNaLE9BQU9MLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQ3ZCO01BQ0lJLEdBQUcsRUFBRSxDQUFDO01BQ05DLElBQUksRUFBRSxPQUFPLEdBQUdGO0lBQ3BCLENBQ0osQ0FBQztFQUNMO0FBQ0osQ0FBQztBQUVELE1BQU1zQixTQUFTLEdBQUcsTUFBQUEsQ0FBTzVCLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBRWxDLElBQUk7SUFFQSxJQUFJNEIsS0FBSyxHQUFHN0IsR0FBRyxDQUFDOEIsTUFBTSxDQUFDQyxJQUFJO0lBQzNCLElBQUlDLEdBQUcsR0FBR2hDLEdBQUcsQ0FBQzhCLE1BQU0sQ0FBQ0csRUFBRTtJQUV2QixJQUFJQyxLQUFLLENBQUNMLEtBQUssQ0FBQyxLQUFLLEtBQUssSUFBSUssS0FBSyxDQUFDRixHQUFHLENBQUMsS0FBSyxLQUFLLEVBQUU7TUFFaEQsSUFBSUcsSUFBSSxHQUFHLE1BQU1oQixrQkFBUyxDQUFDUyxTQUFTLENBQUNDLEtBQUssRUFBRUcsR0FBRyxDQUFDO01BRWhELE9BQU8vQixHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUN2QjtRQUNJSSxHQUFHLEVBQUUsQ0FBQztRQUNORixLQUFLLEVBQUUscUJBQXFCO1FBQzVCeUIsTUFBTSxFQUFFO1VBQ0pDLElBQUksRUFBQ0YsS0FBSztVQUNWSSxFQUFFLEVBQUNEO1FBQ1AsQ0FBQztRQUNERyxJQUFJLEVBQUVBO01BQ1YsQ0FDSixDQUFDO0lBQ0w7RUFDSixDQUFDLENBQUMsT0FBTzdCLEtBQUssRUFBRTtJQUNaLE9BQU9MLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQ3ZCO01BQ0lJLEdBQUcsRUFBRSxDQUFDO01BQ05DLElBQUksRUFBRSxPQUFPLEdBQUdGO0lBQ3BCLENBQ0osQ0FBQztFQUNMO0FBQ0osQ0FBQztBQUVELE1BQU1jLFdBQVcsR0FBRyxNQUFBQSxDQUFPcEIsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFFcEMsSUFBSTtJQUVBLElBQUltQyxRQUFRLEdBQUdwQyxHQUFHLENBQUM4QixNQUFNLENBQUNuQixRQUFRO0lBQ2xDLElBQUl3QixJQUFJLEdBQUcsTUFBTWhCLGtCQUFTLENBQUNDLFdBQVcsQ0FBQ2dCLFFBQVEsQ0FBQztJQUVoRCxJQUFJRCxJQUFJLENBQUNkLE1BQU0sR0FBRyxDQUFDLEVBQUU7TUFDakIsT0FBT3BCLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQ3ZCO1FBQ0lJLEdBQUcsRUFBRSxDQUFDO1FBQ05DLElBQUksRUFBRTtNQUNWLENBQ0osQ0FBQztJQUNMO0lBRUEsT0FBT1AsR0FBRyxDQUFDQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDdkI7TUFDSUMsSUFBSSxFQUFFLFlBQVk7TUFDbEJDLEtBQUssRUFBRSxxQkFBcUI7TUFDNUI4QixJQUFJLEVBQUNBO0lBQ1QsQ0FDSixDQUFDO0VBRUwsQ0FBQyxDQUFDLE9BQU83QixLQUFLLEVBQUU7SUFDWixPQUFPTCxHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUN2QjtNQUNJSSxHQUFHLEVBQUUsQ0FBQztNQUNOQyxJQUFJLEVBQUUsT0FBTyxHQUFHRjtJQUNwQixDQUNKLENBQUM7RUFDTDtBQUVKLENBQUM7QUFFRCxNQUFNK0IsU0FBUyxHQUFHLE1BQUFBLENBQU9yQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUVsQyxJQUFJO0lBRUEsSUFBSVMsSUFBSSxHQUFHVixHQUFHLENBQUNVLElBQUk7SUFFbkIsSUFBSSxDQUFDQSxJQUFJLENBQUNDLFFBQVEsSUFBSSxDQUFDRCxJQUFJLENBQUNFLFFBQVEsSUFBSSxDQUFDRixJQUFJLENBQUNHLFFBQVEsSUFBSSxDQUFDSCxJQUFJLENBQUNJLE9BQU8sSUFBSSxDQUFDSixJQUFJLENBQUNLLEdBQUcsSUFBSSxDQUFDTCxJQUFJLENBQUNNLEtBQUssSUFBSSxDQUFDTixJQUFJLENBQUNPLE9BQU8sRUFBRTtNQUNsSCxPQUFPaEIsR0FBRyxDQUFDQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDdkI7UUFDSUksR0FBRyxFQUFFLENBQUM7UUFDTkMsSUFBSSxFQUFFO01BQ1YsQ0FDSixDQUFDO0lBQ0w7SUFFQSxJQUFJYyxJQUFJLEdBQUdDLGlCQUFNLENBQUNDLFdBQVcsQ0FBQyxFQUFFLENBQUM7SUFDakMsSUFBSUMsSUFBSSxHQUFHRixpQkFBTSxDQUFDRyxRQUFRLENBQUNoQixJQUFJLENBQUNFLFFBQVEsRUFBRVUsSUFBSSxDQUFDO0lBRS9DLElBQUlnQixVQUFVLEdBQUcsTUFBTW5CLGtCQUFTLENBQUNrQixTQUFTLENBQUMzQixJQUFJLENBQUNDLFFBQVEsRUFBRWMsSUFBSSxFQUFFZixJQUFJLENBQUNHLFFBQVEsRUFBRUgsSUFBSSxDQUFDSSxPQUFPLEVBQUVKLElBQUksQ0FBQ0ssR0FBRyxFQUFFTCxJQUFJLENBQUNNLEtBQUssRUFBRU4sSUFBSSxDQUFDTyxPQUFPLENBQUM7SUFFaEksT0FBT2hCLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQ3ZCO01BQ0lJLEdBQUcsRUFBRSxDQUFDO01BQ05DLElBQUksRUFBRSxxQkFBcUI7TUFDM0JpQixJQUFJLEVBQUVBO0lBQ1YsQ0FDSixDQUFDO0VBRUwsQ0FBQyxDQUFDLE9BQU9uQixLQUFLLEVBQUU7SUFDWixPQUFPTCxHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUN2QjtNQUNJSSxHQUFHLEVBQUUsQ0FBQztNQUNOQyxJQUFJLEVBQUUsT0FBTyxHQUFHRjtJQUNwQixDQUNKLENBQUM7RUFDTDtBQUNKLENBQUM7QUFFRCxNQUFNaUMsU0FBUyxHQUFHLE1BQUFBLENBQU92QyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUVsQyxJQUFJO0lBRUEsSUFBSW1DLFFBQVEsR0FBR3BDLEdBQUcsQ0FBQzhCLE1BQU0sQ0FBQ25CLFFBQVE7SUFDbEMsSUFBSXdCLElBQUksR0FBRyxNQUFNaEIsa0JBQVMsQ0FBQ0MsV0FBVyxDQUFDZ0IsUUFBUSxDQUFDO0lBRWhELElBQUlELElBQUksQ0FBQ2QsTUFBTSxHQUFHLENBQUMsRUFBRTtNQUNqQixPQUFPcEIsR0FBRyxDQUFDQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDdkI7UUFDSUksR0FBRyxFQUFFLENBQUM7UUFDTkMsSUFBSSxFQUFFO01BQ1YsQ0FDSixDQUFDO0lBQ0w7SUFFQSxPQUFPUCxHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUN2QjtNQUNJQyxJQUFJLEVBQUUsVUFBVTtNQUNoQkMsS0FBSyxFQUFFLFVBQVU7TUFDakI4QixJQUFJLEVBQUNBO0lBQ1QsQ0FDSixDQUFDO0VBRUwsQ0FBQyxDQUFDLE9BQU83QixLQUFLLEVBQUU7SUFDWixPQUFPTCxHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUN2QjtNQUNJSSxHQUFHLEVBQUUsQ0FBQztNQUNOQyxJQUFJLEVBQUUsT0FBTyxHQUFHRjtJQUNwQixDQUNKLENBQUM7RUFDTDtBQUVKLENBQUM7QUFFRCxNQUFNa0MsUUFBUSxHQUFHLE1BQUFBLENBQU94QyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUVqQyxJQUFJO0lBRUEsSUFBSVMsSUFBSSxHQUFHVixHQUFHLENBQUM4QixNQUFNO0lBRXJCLElBQUksQ0FBQ3BCLElBQUksQ0FBQ0MsUUFBUSxFQUFFO01BQ2hCLE9BQU9WLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQ3ZCO1FBQ0lJLEdBQUcsRUFBRSxDQUFDO1FBQ05DLElBQUksRUFBRTtNQUNWLENBQ0osQ0FBQztJQUNMO0lBRUEsTUFBTWlDLEtBQUssR0FBR3pDLEdBQUcsQ0FBQzBDLE9BQU8sQ0FBQ0QsS0FBSztJQUUvQixJQUFJQSxLQUFLLEVBQUU7TUFFUCxJQUFJRSxNQUFNLEdBQUdDLGtCQUFHLENBQUNDLFdBQVcsQ0FBQ0osS0FBSyxDQUFDO01BRW5DLElBQUlFLE1BQU0sQ0FBQ0csSUFBSSxDQUFDQyxJQUFJLEtBQUtyQyxJQUFJLENBQUNDLFFBQVEsRUFBRTtRQUNwQyxPQUFPVixHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUN2QjtVQUNJSSxHQUFHLEVBQUUsQ0FBQztVQUNOQyxJQUFJLEVBQUU7UUFDVixDQUNKLENBQUM7TUFDTCxDQUFDLE1BQ0k7UUFFRCxJQUFJVSxJQUFJLEdBQUcsTUFBTUMsa0JBQVMsQ0FBQ0MsV0FBVyxDQUFDVixJQUFJLENBQUNDLFFBQVEsQ0FBQztRQUVyRCxJQUFJTyxJQUFJLENBQUNHLE1BQU0sR0FBRyxDQUFDLEVBQUU7VUFDakIsT0FBT3BCLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQ3ZCO1lBQ0lJLEdBQUcsRUFBRSxDQUFDO1lBQ05DLElBQUksRUFBRTtVQUNWLENBQ0osQ0FBQztRQUNMO1FBRUEsSUFBSTJCLElBQUksR0FBRyxNQUFNaEIsa0JBQVMsQ0FBQ3FCLFFBQVEsQ0FBQzlCLElBQUksQ0FBQ0MsUUFBUSxDQUFDO1FBRWxELE9BQU9WLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQ3ZCO1VBQ0lJLEdBQUcsRUFBRSxDQUFDO1VBQ05DLElBQUksRUFBRTtRQUNWLENBQ0osQ0FBQztNQUNMO0lBRUo7RUFFSixDQUFDLENBQUMsT0FBT0YsS0FBSyxFQUFFO0lBQ1osT0FBT0wsR0FBRyxDQUFDQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDdkI7TUFDSUksR0FBRyxFQUFFLENBQUM7TUFDTkMsSUFBSSxFQUFFLE9BQU8sR0FBR0Y7SUFDcEIsQ0FDSixDQUFDO0VBQ0w7QUFDSixDQUFDO0FBQUEsSUFBQTBDLFFBQUEsR0FBQUMsT0FBQSxDQUFBbkQsT0FBQSxHQUVjO0VBQUNDLFFBQVE7RUFBRTZCLFNBQVM7RUFBRVIsV0FBVztFQUFFWCxXQUFXO0VBQUU0QixTQUFTO0VBQUVHLFFBQVE7RUFBRUQ7QUFBUyxDQUFDIn0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","_bodyParser","_JWTAction","obj","__esModule","default","new_user","req","res","status","json","page","title","error","err","mess","insert_user","body","username","password","fullname","address","sex","email","groupid","user","userModel","detail_user","length","pass","bcrypt","genSaltSync","hash","hashSync","newuser","list_user","_from","params","from","_to","to","isNaN","list","Username","edit_user","updatauser","view_edit","del_user","token","cookies","decode","JWT","verifyToken","data","auth","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["ApiUserController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n\r\nconst new_user = (req, res) => {\r\n\r\n    try {\r\n        \r\n        return res.status(200).json(\r\n            {\r\n                page: 'newUser', \r\n                title: 'Tạo tài khoản'\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst insert_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n\r\n        if (!body.username || !body.password || !body.fullname || !body.address || !body.sex || !body.email || !body.groupid) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        let user = await userModel.detail_user(body.username)\r\n\r\n        if (user.length >= 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Tài khoản đã tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.password, pass)\r\n\r\n        let newuser = await userModel.insert_user(body.username, hash, body.fullname, body.address, body.sex, body.email, body.groupid)\r\n\r\n        return res.status(200).json(\r\n            {\r\n                err: 0,\r\n                mess: \"Tạo tài khoản thành công\"\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst list_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let _from = req.params.from\r\n        let _to = req.params.to\r\n\r\n        if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        \r\n            let list = await userModel.list_user(_from, _to)\r\n\r\n            return res.status(200).json(\r\n                {\r\n                    err: 0,\r\n                    title: 'Danh sách tài khoản', \r\n                    params: {\r\n                        from:_from, \r\n                        to:_to\r\n                    }, \r\n                    list: list\r\n                }\r\n            )\r\n        }\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst detail_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let Username = req.params.username\r\n        let list = await userModel.detail_user(Username)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Người dùng không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            {\r\n                page: 'detailUser', \r\n                title: 'Chi tiết người dùng', \r\n                list:list\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst edit_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n\r\n        if (!body.username || !body.password || !body.fullname || !body.address || !body.sex || !body.email || !body.groupid) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.password, pass)\r\n\r\n        let updatauser = await userModel.edit_user(body.username, hash, body.fullname, body.address, body.sex, body.email, body.groupid)\r\n\r\n        return res.status(200).json(\r\n            {\r\n                err: 0,\r\n                mess: \"Cập nhật thành công\",\r\n                hash: hash\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst view_edit = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let Username = req.params.username\r\n        let list = await userModel.detail_user(Username)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Người dùng không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            {\r\n                page: 'viewEdit', \r\n                title: 'Cập nhật', \r\n                list:list\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst del_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.params\r\n\r\n        if (!body.username) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Lỗi: thiếu tài khoản\"\r\n                }\r\n            )\r\n        }\r\n\r\n        const token = req.cookies.token;\r\n        \r\n        if (token) {\r\n\r\n            let decode = JWT.verifyToken(token);\r\n\r\n            if (decode.data.auth === body.username) {\r\n                return res.status(200).json(\r\n                    {\r\n                        err: 1,\r\n                        mess: \"Tài khoản đang được sử dụng\"\r\n                    }\r\n                ) \r\n            }\r\n            else {\r\n\r\n                let user = await userModel.detail_user(body.username)\r\n\r\n                if (user.length < 1) {\r\n                    return res.status(200).json(\r\n                        {\r\n                            err: 1,\r\n                            mess: \"Người dùng không tồn tại\"\r\n                        }\r\n                    )\r\n                }\r\n\r\n                let list = await userModel.del_user(body.username)\r\n    \r\n                return res.status(200).json(\r\n                    {\r\n                        err: 0,\r\n                        mess: \"Xóa tài khoản thành công\"\r\n                    }\r\n                )\r\n            }\r\n\r\n        }\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nexport default {new_user, list_user, detail_user, insert_user, edit_user, del_user, view_edit}"],"mappings":"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"}},"mtime":1700121220963},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\ApiPostController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thư viện thao tác file\n\nconst new_post = async (req, res) => {\n  try {\n    let danhmuc = await _newsModel.default.list_news_all();\n    return res.status(200).json({\n      page: 'newpost',\n      title: 'Tạo bài viết',\n      danhmuc: danhmuc\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst insert_post = async (req, res) => {\n  try {\n    let body = req.body;\n    let img = req.file;\n    if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    const currentDate = new Date();\n    await _postModel.default.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id, currentDate);\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst list_post = async (req, res) => {\n  try {\n    let _from = req.params.from;\n    let _to = req.params.to;\n    let auth = null;\n    if (req.session.auth) {\n      auth = req.session.auth.name;\n    }\n    if (isNaN(_from) === false && isNaN(_to) === false) {\n      let list = await _postModel.default.list_post(_from, _to);\n      return res.status(200).json({\n        page: 'listpost',\n        title: 'Danh sách bài viết',\n        params: {\n          from: _from,\n          to: _to\n        },\n        list: list,\n        auth: auth\n      });\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst detail_post = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let danhmuc = await _newsModel.default.list_news_all();\n    let list = await _postModel.default.detail_post(id);\n    if (list.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Bài viết không tồn tại\"\n      });\n    }\n    return res.status(200).json({\n      page: 'detailpost',\n      title: 'Chi tiết bài viết',\n      list: list,\n      danhmuc: danhmuc\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst edit_post = async (req, res) => {\n  try {\n    const id = req.body.id;\n    let body = req.body;\n    let img = body.img_old; // truyền img cũ qua hidden input\n    let file = req.file;\n    if (file) {\n      img = file.filename;\n      let post = await _postModel.default.detail_post(id);\n      if (post.length < 1) {\n        return res.status(200).json({\n          err: 1,\n          mess: \"Bài viết không tồn tại\"\n        });\n      }\n      _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n    }\n    if (!body.titlenew || !body.contentnew || !body.news_id) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    await _postModel.default.edit_post(body.titlenew, body.contentnew, img, body.news_id, id);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Cập nhật thành công\"\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst view_edit_post = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let danhmuc = await _newsModel.default.list_news_all();\n    let list = await _postModel.default.detail_post_edit(id);\n    if (list.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Người dùng không tồn tại\"\n      });\n    }\n    return res.status(200).json({\n      page: 'viewEditpost',\n      title: 'Cập nhật bài viết',\n      list: list,\n      danhmuc: danhmuc\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst del_post = async (req, res) => {\n  try {\n    const id = req.body.id;\n    let post = await _postModel.default.detail_post(id);\n    if (post.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Bài viết không tồn tại\"\n      });\n    }\n    _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n    let list = await _postModel.default.del_post(id);\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        err: 0,\n        mess: \"Xóa bài viết thành công\"\n      }\n    }));\n  } catch (error) {\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nvar _default = exports.default = {\n  list_post,\n  new_post,\n  insert_post,\n  detail_post,\n  view_edit_post,\n  edit_post,\n  del_post\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX3Bvc3RNb2RlbCIsIl9uZXdzTW9kZWwiLCJfYm9keVBhcnNlciIsIl9KV1RBY3Rpb24iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm5ld19wb3N0IiwicmVxIiwicmVzIiwiZGFuaG11YyIsIm5ld3NNb2RlbCIsImxpc3RfbmV3c19hbGwiLCJzdGF0dXMiLCJqc29uIiwicGFnZSIsInRpdGxlIiwiZXJyb3IiLCJlcnIiLCJtZXNzIiwiaW5zZXJ0X3Bvc3QiLCJib2R5IiwiaW1nIiwiZmlsZSIsInRpdGxlbmV3IiwiY29udGVudG5ldyIsImZpbGVuYW1lIiwibmV3c19pZCIsImN1cnJlbnREYXRlIiwiRGF0ZSIsInBvc3RNb2RlbCIsImxpc3RfcG9zdCIsIl9mcm9tIiwicGFyYW1zIiwiZnJvbSIsIl90byIsInRvIiwiYXV0aCIsInNlc3Npb24iLCJuYW1lIiwiaXNOYU4iLCJsaXN0IiwiZGV0YWlsX3Bvc3QiLCJpZCIsImxlbmd0aCIsImVkaXRfcG9zdCIsImltZ19vbGQiLCJwb3N0IiwiZnMiLCJ1bmxpbmtTeW5jIiwiaW1hZ2UiLCJ2aWV3X2VkaXRfcG9zdCIsImRldGFpbF9wb3N0X2VkaXQiLCJkZWxfcG9zdCIsIkpXVCIsImNyZWF0ZUpXVCIsImRhdGEiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkFwaVBvc3RDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJyAvLyB0aMawIHZp4buHbiB0aGFvIHTDoWMgZmlsZVxyXG5pbXBvcnQgcG9zdE1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9wb3N0TW9kZWxcIlxyXG5pbXBvcnQgbmV3c01vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9uZXdzTW9kZWxcIlxyXG5pbXBvcnQgeyBqc29uIH0gZnJvbSBcImJvZHktcGFyc2VyXCJcclxuaW1wb3J0IEpXVCBmcm9tIFwiLi4vbWlkZGxld2FyZS9KV1RBY3Rpb25cIlxyXG5cclxuXHJcbmNvbnN0IG5ld19wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBsZXQgZGFuaG11YyA9IGF3YWl0IG5ld3NNb2RlbC5saXN0X25ld3NfYWxsKClcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBhZ2U6ICduZXdwb3N0JywgXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1ThuqFvIGLDoGkgdmnhur90JyxcclxuICAgICAgICAgICAgICAgIGRhbmhtdWM6IGRhbmhtdWNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgICAgIGxldCBpbWcgPSByZXEuZmlsZVxyXG5cclxuXHJcbiAgICAgICAgaWYgKCFib2R5LnRpdGxlbmV3IHx8ICFib2R5LmNvbnRlbnRuZXcgfHwgIWltZy5maWxlbmFtZSB8fCAhYm9keS5uZXdzX2lkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJUaGnhur91IHRow7RuZyB0aW4gY+G6p24gdGhp4bq/dFwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICAgICAgYXdhaXQgcG9zdE1vZGVsLmluc2VydF9wb3N0KGJvZHkudGl0bGVuZXcsIGJvZHkuY29udGVudG5ldywgaW1nLmZpbGVuYW1lLCBib2R5Lm5ld3NfaWQsIGN1cnJlbnREYXRlKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGxpc3RfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBfZnJvbSA9IHJlcS5wYXJhbXMuZnJvbVxyXG4gICAgICAgIGxldCBfdG8gPSByZXEucGFyYW1zLnRvXHJcbiAgICAgICAgbGV0IGF1dGggPSBudWxsXHJcblxyXG4gICAgICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRoKSB7XHJcbiAgICAgICAgICAgIGF1dGggPSByZXEuc2Vzc2lvbi5hdXRoLm5hbWVcclxuICAgICAgICB9IFxyXG5cclxuICAgICAgICBpZiAoaXNOYU4oX2Zyb20pID09PSBmYWxzZSAmJiBpc05hTihfdG8pID09PSBmYWxzZSkge1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgbGlzdCA9IGF3YWl0IHBvc3RNb2RlbC5saXN0X3Bvc3QoX2Zyb20sIF90bylcclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogJ2xpc3Rwb3N0JywgXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdEYW5oIHPDoWNoIGLDoGkgdmnhur90JywgXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IF9mcm9tLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG86IF90b1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIFxyXG4gICAgICAgICAgICAgICAgICAgIGxpc3Q6IGxpc3QsIFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGg6IGF1dGhcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRldGFpbF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgICAgIGxldCBkYW5obXVjID0gYXdhaXQgbmV3c01vZGVsLmxpc3RfbmV3c19hbGwoKVxyXG4gICAgICAgIGxldCBsaXN0ID0gYXdhaXQgcG9zdE1vZGVsLmRldGFpbF9wb3N0KGlkKVxyXG5cclxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJCw6BpIHZp4bq/dCBraMO0bmcgdOG7k24gdOG6oWlcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBhZ2U6ICdkZXRhaWxwb3N0JywgXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0NoaSB0aeG6v3QgYsOgaSB2aeG6v3QnLCBcclxuICAgICAgICAgICAgICAgIGxpc3Q6IGxpc3QsXHJcbiAgICAgICAgICAgICAgICBkYW5obXVjOiBkYW5obXVjXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5jb25zdCBlZGl0X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBjb25zdCBpZCA9IHJlcS5ib2R5LmlkIFxyXG4gICAgICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuICAgICAgICBsZXQgaW1nID0gYm9keS5pbWdfb2xkIC8vIHRydXnhu4FuIGltZyBjxakgcXVhIGhpZGRlbiBpbnB1dFxyXG4gICAgICAgIGxldCBmaWxlID0gcmVxLmZpbGVcclxuXHJcbiAgICAgICAgaWYgKGZpbGUpIHtcclxuXHJcbiAgICAgICAgICAgIGltZyA9IGZpbGUuZmlsZW5hbWVcclxuICAgICAgICAgICAgbGV0IHBvc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGV0YWlsX3Bvc3QoaWQpXHJcblxyXG4gICAgICAgICAgICBpZiAocG9zdC5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiQsOgaSB2aeG6v3Qga2jDtG5nIHThu5NuIHThuqFpXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZzLnVubGlua1N5bmMoJy4vc3JjL3B1YmxpYy91cGxvYWQvJyArIHBvc3RbMF0uaW1hZ2UpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWJvZHkudGl0bGVuZXcgfHwgIWJvZHkuY29udGVudG5ldyB8fCAhYm9keS5uZXdzX2lkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJUaGnhur91IHRow7RuZyB0aW4gY+G6p24gdGhp4bq/dFwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IHBvc3RNb2RlbC5lZGl0X3Bvc3QoYm9keS50aXRsZW5ldywgYm9keS5jb250ZW50bmV3LCBpbWcsIGJvZHkubmV3c19pZCwgaWQpXHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJD4bqtcCBuaOG6rXQgdGjDoG5oIGPDtG5nXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCB2aWV3X2VkaXRfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBpZCA9IHJlcS5wYXJhbXMuaWRcclxuICAgICAgICBsZXQgZGFuaG11YyA9IGF3YWl0IG5ld3NNb2RlbC5saXN0X25ld3NfYWxsKClcclxuICAgICAgICBsZXQgbGlzdCA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdF9lZGl0KGlkKVxyXG5cclxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJOZ8aw4budaSBkw7luZyBraMO0bmcgdOG7k24gdOG6oWlcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBhZ2U6ICd2aWV3RWRpdHBvc3QnLCBcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnQ+G6rXAgbmjhuq10IGLDoGkgdmnhur90JywgXHJcbiAgICAgICAgICAgICAgICBsaXN0OiBsaXN0LFxyXG4gICAgICAgICAgICAgICAgZGFuaG11YzogZGFuaG11Y1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jb25zdCBkZWxfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQgXHJcbiAgICAgICAgbGV0IHBvc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGV0YWlsX3Bvc3QoaWQpXHJcblxyXG4gICAgICAgIGlmIChwb3N0Lmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkLDoGkgdmnhur90IGtow7RuZyB04buTbiB04bqhaVwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZzLnVubGlua1N5bmMoJy4vc3JjL3B1YmxpYy91cGxvYWQvJyArIHBvc3RbMF0uaW1hZ2UpXHJcbiAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGVsX3Bvc3QoaWQpXHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJYw7NhIGLDoGkgdmnhur90IHRow6BuaCBjw7RuZ1wifX1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvcn19XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtsaXN0X3Bvc3QsbmV3X3Bvc3QsaW5zZXJ0X3Bvc3QsZGV0YWlsX3Bvc3Qsdmlld19lZGl0X3Bvc3QsZWRpdF9wb3N0LGRlbF9wb3N0fVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxHQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxVQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxXQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxVQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUQsdUJBQUFPLEdBQUEsV0FBQUEsR0FBQSxJQUFB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_postModel","_newsModel","_bodyParser","_JWTAction","obj","__esModule","default","new_post","req","res","danhmuc","newsModel","list_news_all","status","json","page","title","error","err","mess","insert_post","body","img","file","titlenew","contentnew","filename","news_id","currentDate","Date","postModel","list_post","_from","params","from","_to","to","auth","session","name","isNaN","list","detail_post","id","length","edit_post","img_old","post","fs","unlinkSync","image","view_edit_post","detail_post_edit","del_post","JWT","createJWT","data","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["ApiPostController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs' // thư viện thao tác file\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n\r\nconst new_post = async (req, res) => {\r\n\r\n    try {\r\n        let danhmuc = await newsModel.list_news_all()\r\n        return res.status(200).json(\r\n            {\r\n                page: 'newpost', \r\n                title: 'Tạo bài viết',\r\n                danhmuc: danhmuc\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst insert_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n        let img = req.file\r\n\r\n\r\n        if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        const currentDate = new Date();\r\n\r\n        await postModel.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id, currentDate)\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst list_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let _from = req.params.from\r\n        let _to = req.params.to\r\n        let auth = null\r\n\r\n        if (req.session.auth) {\r\n            auth = req.session.auth.name\r\n        } \r\n\r\n        if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        \r\n            let list = await postModel.list_post(_from, _to)\r\n    \r\n            return res.status(200).json(\r\n                {\r\n                    page: 'listpost', \r\n                    title: 'Danh sách bài viết', \r\n                    params: {\r\n                        from: _from, \r\n                        to: _to\r\n                    }, \r\n                    list: list, \r\n                    auth: auth\r\n                }\r\n            )\r\n        }\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst detail_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let id = req.params.id\r\n        let danhmuc = await newsModel.list_news_all()\r\n        let list = await postModel.detail_post(id)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Bài viết không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            {\r\n                page: 'detailpost', \r\n                title: 'Chi tiết bài viết', \r\n                list: list,\r\n                danhmuc: danhmuc\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst edit_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        const id = req.body.id \r\n        let body = req.body\r\n        let img = body.img_old // truyền img cũ qua hidden input\r\n        let file = req.file\r\n\r\n        if (file) {\r\n\r\n            img = file.filename\r\n            let post = await postModel.detail_post(id)\r\n\r\n            if (post.length < 1) {\r\n                return res.status(200).json(\r\n                    {\r\n                        err: 1,\r\n                        mess: \"Bài viết không tồn tại\"\r\n                    }\r\n                )\r\n            }\r\n\r\n            fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n        }\r\n\r\n        if (!body.titlenew || !body.contentnew || !body.news_id) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        await postModel.edit_post(body.titlenew, body.contentnew, img, body.news_id, id)\r\n\r\n        return res.status(200).json(\r\n            {\r\n                err: 0,\r\n                mess: \"Cập nhật thành công\"\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst view_edit_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let id = req.params.id\r\n        let danhmuc = await newsModel.list_news_all()\r\n        let list = await postModel.detail_post_edit(id)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Người dùng không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            {\r\n                page: 'viewEditpost', \r\n                title: 'Cập nhật bài viết', \r\n                list: list,\r\n                danhmuc: danhmuc\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst del_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        const id = req.body.id \r\n        let post = await postModel.detail_post(id)\r\n\r\n        if (post.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Bài viết không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n        let list = await postModel.del_post(id)\r\n\r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                err: 0,\r\n                mess: \"Xóa bài viết thành công\"}}\r\n            )\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nexport default {list_post,new_post,insert_post,detail_post,view_edit_post,edit_post,del_post}\r\n"],"mappings":"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"}},"mtime":1700121220963},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\ApiNewsController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thư viện thao tác file\n\n//api reactjs \n\nconst apiReactList = async (req, res) => {\n  const users = await _newsModel.default.list_news_all();\n  res.status(200).json({\n    data: users\n  });\n};\nconst apiNewId = async (req, res) => {\n  const newId = req.params.id;\n  const GetById = await _newsModel.default.GetById(newId);\n  res.status(200).json({\n    data: GetById\n  });\n};\n\n//hien thi bai viet theo loai tin tuc\nconst apiPostFromNew = async (req, res) => {\n  const newId = req.params.id;\n  const GetList = await _postModel.default.list_by_news(newId);\n  res.status(200).json({\n    data: GetList\n  });\n};\nconst list_news = async (req, res) => {\n  try {\n    let items = await _newsModel.default.list_news_all();\n    return res.status(200).json({\n      items: items,\n      mess: \"Danh sách tin tức\"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst GetById = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let items = await _newsModel.default.GetById(id);\n    return res.status(200).json({\n      items: items,\n      mess: \"chi tiết tin tức\"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst insert_news = async (req, res) => {\n  try {\n    let body = req.body;\n    let items = await _newsModel.default.insert_news(body.title);\n    return res.status(400).json({\n      items: items,\n      mess: \"Insert thành công \"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst edit_news = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let body = req.body;\n    let news = await _newsModel.default.GetById(id);\n    if (news.length < 1) {\n      return res.status(400).json({\n        err: 1,\n        mess: \"Bài viết không tồn tại\"\n      });\n    }\n    if (!body.title) {\n      return res.status(400).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    await _newsModel.default.edit_news(body.title, id);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Cập nhật thành công\"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst del_news = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let items = await _newsModel.default.del_news(id);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Bạn đã xóa thành công\"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nvar _default = exports.default = {\n  apiPostFromNew,\n  apiNewId,\n  apiReactList,\n  list_news,\n  GetById,\n  insert_news,\n  edit_news,\n  del_news\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX3Bvc3RNb2RlbCIsIl9uZXdzTW9kZWwiLCJfYm9keVBhcnNlciIsIl9KV1RBY3Rpb24iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImFwaVJlYWN0TGlzdCIsInJlcSIsInJlcyIsInVzZXJzIiwibmV3c01vZGVsIiwibGlzdF9uZXdzX2FsbCIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwiYXBpTmV3SWQiLCJuZXdJZCIsInBhcmFtcyIsImlkIiwiR2V0QnlJZCIsImFwaVBvc3RGcm9tTmV3IiwiR2V0TGlzdCIsInBvc3RNb2RlbCIsImxpc3RfYnlfbmV3cyIsImxpc3RfbmV3cyIsIml0ZW1zIiwibWVzcyIsImVycm9yIiwiZXJyIiwiaW5zZXJ0X25ld3MiLCJib2R5IiwidGl0bGUiLCJlZGl0X25ld3MiLCJuZXdzIiwibGVuZ3RoIiwiZGVsX25ld3MiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkFwaU5ld3NDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJyAvLyB0aMawIHZp4buHbiB0aGFvIHTDoWMgZmlsZVxyXG5pbXBvcnQgcG9zdE1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9wb3N0TW9kZWxcIlxyXG5pbXBvcnQgbmV3c01vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9uZXdzTW9kZWxcIlxyXG5pbXBvcnQgeyBqc29uIH0gZnJvbSBcImJvZHktcGFyc2VyXCJcclxuaW1wb3J0IEpXVCBmcm9tIFwiLi4vbWlkZGxld2FyZS9KV1RBY3Rpb25cIlxyXG5cclxuLy9hcGkgcmVhY3RqcyBcclxuXHJcbmNvbnN0IGFwaVJlYWN0TGlzdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgXHJcbiAgICBjb25zdCB1c2VycyA9IGF3YWl0IG5ld3NNb2RlbC5saXN0X25ld3NfYWxsKCk7XHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBkYXRhOiB1c2Vyc1xyXG4gICAgfSlcclxuXHJcbn1cclxuXHJcbmNvbnN0IGFwaU5ld0lkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCAgbmV3SWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgXHJcbiAgICBjb25zdCBHZXRCeUlkID0gYXdhaXQgbmV3c01vZGVsLkdldEJ5SWQobmV3SWQpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBkYXRhOiBHZXRCeUlkXHJcbiAgICAgIH0pXHJcblxyXG59XHJcblxyXG4vL2hpZW4gdGhpIGJhaSB2aWV0IHRoZW8gbG9haSB0aW4gdHVjXHJcbmNvbnN0IGFwaVBvc3RGcm9tTmV3ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCAgbmV3SWQgPSByZXEucGFyYW1zLmlkO1xyXG4gICAgY29uc3QgR2V0TGlzdCA9IGF3YWl0IHBvc3RNb2RlbC5saXN0X2J5X25ld3MobmV3SWQpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgZGF0YTogR2V0TGlzdFxyXG4gICAgfSlcclxuXHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5jb25zdCBsaXN0X25ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgaXRlbXMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpXHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkRhbmggc8OhY2ggdGluIHThu6ljXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgR2V0QnlJZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICAgICAgICAgIGxldCBpdGVtcyA9IGF3YWl0IG5ld3NNb2RlbC5HZXRCeUlkKGlkKVxyXG4gICAgXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBpdGVtczogaXRlbXMsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJjaGkgdGnhur90IHRpbiB04bupY1wiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG5cclxuICAgICAgICBsZXQgaXRlbXMgPSAgYXdhaXQgbmV3c01vZGVsLmluc2VydF9uZXdzKGJvZHkudGl0bGUpXHJcbiAgICAgICBcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiSW5zZXJ0IHRow6BuaCBjw7RuZyBcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGVkaXRfbmV3cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBpZCA9IHJlcS5wYXJhbXMuaWRcclxuICAgICAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcblxyXG4gICAgICBcclxuICAgICAgICAgICAgbGV0IG5ld3MgPSBhd2FpdCBuZXdzTW9kZWwuR2V0QnlJZChpZClcclxuXHJcbiAgICAgICAgICAgIGlmIChuZXdzLmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzczogXCJCw6BpIHZp4bq/dCBraMO0bmcgdOG7k24gdOG6oWlcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgXHJcblxyXG4gICAgICAgIGlmICghYm9keS50aXRsZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiVGhp4bq/dSB0aMO0bmcgdGluIGPhuqduIHRoaeG6v3RcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBhd2FpdCBuZXdzTW9kZWwuZWRpdF9uZXdzKGJvZHkudGl0bGUsaWQpXHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJD4bqtcCBuaOG6rXQgdGjDoG5oIGPDtG5nXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBkZWxfbmV3cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICAgICAgICAgIGxldCBpdGVtcyA9IGF3YWl0IG5ld3NNb2RlbC5kZWxfbmV3cyhpZClcclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiQuG6oW4gxJHDoyB4w7NhIHRow6BuaCBjw7RuZ1wiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICBcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7YXBpUG9zdEZyb21OZXcsYXBpTmV3SWQsYXBpUmVhY3RMaXN0LGxpc3RfbmV3cyxHZXRCeUlkLGluc2VydF9uZXdzLGVkaXRfbmV3cyxkZWxfbmV3c31cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsR0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsVUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsVUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksV0FBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUssVUFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFELHVCQUFBTyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_postModel","_newsModel","_bodyParser","_JWTAction","obj","__esModule","default","apiReactList","req","res","users","newsModel","list_news_all","status","json","data","apiNewId","newId","params","id","GetById","apiPostFromNew","GetList","postModel","list_by_news","list_news","items","mess","error","err","insert_news","body","title","edit_news","news","length","del_news","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["ApiNewsController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs' // thư viện thao tác file\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n//api reactjs \r\n\r\nconst apiReactList = async (req, res) => {\r\n    \r\n    const users = await newsModel.list_news_all();\r\n\r\n    res.status(200).json({\r\n      data: users\r\n    })\r\n\r\n}\r\n\r\nconst apiNewId = async (req, res) => {\r\n    const  newId = req.params.id;\r\n    \r\n    const GetById = await newsModel.GetById(newId);\r\n\r\n    res.status(200).json({\r\n        data: GetById\r\n      })\r\n\r\n}\r\n\r\n//hien thi bai viet theo loai tin tuc\r\nconst apiPostFromNew = async (req, res) => {\r\n    const  newId = req.params.id;\r\n    const GetList = await postModel.list_by_news(newId);\r\n\r\n    res.status(200).json({\r\n      data: GetList\r\n    })\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nconst list_news = async (req, res) => {\r\n\r\n    try {\r\n            let items = await newsModel.list_news_all()\r\n    \r\n            return res.status(200).json(\r\n                {\r\n                    items: items,\r\n                    mess: \"Danh sách tin tức\"\r\n                }\r\n            )\r\n        \r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst GetById = async (req, res) => {\r\n\r\n    try {\r\n\r\n            let id = req.params.id\r\n            let items = await newsModel.GetById(id)\r\n    \r\n            return res.status(200).json(\r\n                {\r\n                    items: items,\r\n                    mess: \"chi tiết tin tức\"\r\n                }\r\n            )\r\n        \r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst insert_news = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n\r\n        let items =  await newsModel.insert_news(body.title)\r\n       \r\n        return res.status(400).json(\r\n            {\r\n                items: items,\r\n                mess: \"Insert thành công \"\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst edit_news = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let id = req.params.id\r\n        let body = req.body\r\n\r\n      \r\n            let news = await newsModel.GetById(id)\r\n\r\n            if (news.length < 1) {\r\n                return res.status(400).json(\r\n                    {\r\n                        err: 1,\r\n                        mess: \"Bài viết không tồn tại\"\r\n                    }\r\n                )\r\n            }\r\n\r\n      \r\n\r\n        if (!body.title) {\r\n            return res.status(400).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        await newsModel.edit_news(body.title,id)\r\n\r\n        return res.status(200).json(\r\n            {\r\n                err: 0,\r\n                mess: \"Cập nhật thành công\"\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst del_news = async (req, res) => {\r\n\r\n    try {\r\n\r\n            let id = req.params.id\r\n            let items = await newsModel.del_news(id)\r\n    \r\n            return res.status(200).json(\r\n                {\r\n                    err: 0,\r\n                    mess: \"Bạn đã xóa thành công\"\r\n                }\r\n            )\r\n        \r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default {apiPostFromNew,apiNewId,apiReactList,list_news,GetById,insert_news,edit_news,del_news}\r\n"],"mappings":"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"}},"mtime":1700121315592},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\middleware\\\\Auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// let payload = { foo: 'bar' }\n// let code = JWT.createJWT(payload)\n// JWT.verifyToken(code)\nconst verifyAuth = (req, res, next) => {\n  if (req.session.auth) {\n    if (req.session.auth.role == 2) {\n      // const token = req.body.token || req.query.token || req.headers[\"x-access-token\"]\n\n      const token = req.cookies.token;\n      if (!token) {\n        return res.status(200).json({\n          err: 1,\n          mess: \"bien token khong ton tai\"\n        });\n      }\n      try {\n        const decoded = _JWTAction.default.verifyToken(token);\n        if (decoded) {\n          // res.status(200).json({ err: 1, mess: \"token da xac thuc tai khoan\" })\n          next();\n        } else {\n          return res.status(200).json({\n            err: 1,\n            mess: \"khong xac thuc\"\n          });\n        }\n      } catch (error) {\n        return res.status(200).json({\n          err: 1,\n          mess: error\n        });\n      }\n    } else {\n      return res.status(200).json({\n        err: 1,\n        mess: \"khong co quyen han truy cap\"\n      });\n    }\n  } else {\n    return res.status(200).json({\n      err: 1,\n      mess: \"chua dang nhap tai khoan\"\n    });\n  }\n};\nconst Notfound = (req, res, next) => {\n  res.status(404).send(\"<h1>Page not found on the server</h1>\");\n};\nconst HasLogin = (req, res, next) => {\n  if (!req.session.auth) {\n    next();\n  } else {\n    res.redirect('/list-user/0-10');\n  }\n};\nconst Authen = (req, res, next) => {\n  if (req.session.auth) {\n    if (req.session.auth.role == 2) {\n      next();\n    } else {\n      res.redirect('/list-user/0-10');\n    }\n  } else {\n    res.redirect('/login');\n  }\n};\nconst auth = _express.default.Router();\nconst authMiddleware = app => {\n  auth.use(\"/insert_new_user\", Authen);\n  auth.use(\"/detail_user/:username\", Authen);\n  auth.use(\"/del_user\", Authen);\n  auth.use(\"/view_edit/:username\", Authen);\n  auth.use(\"/edit_user\", Authen);\n  auth.use(\"/list-user/:from-:to\", Authen);\n  auth.use(\"/create_new_user\", Authen);\n\n  //quan ly tin tuc ( news ) \n  auth.use('/list-news/:from-:to', Authen);\n  auth.use('/create_new_news', Authen);\n  auth.use('/insert_new_news', Authen);\n  auth.use('/detail_news/:title', Authen);\n  auth.use('/view_edit_news/:id', Authen);\n  auth.use('/edit_news', Authen);\n  auth.use('/del_news', Authen);\n\n  //quan ly bai viet ( post )  \n  auth.use('/list-post/:from-:to', Authen);\n  auth.use('/create_new_post', Authen);\n  auth.use('/insert_new_post', Authen);\n  auth.use('/detail_post/:id', Authen);\n  auth.use('/view_edit_post/:id', Authen);\n  auth.use('/edit_post', Authen);\n  auth.use('/del_post', Authen);\n  // /login\n  auth.use('/loginView', HasLogin);\n\n  //===============================================API===================================================\n\n  auth.use('/api/v1/login-auth', verifyAuth);\n\n  //quan ly user ( user ) \n  auth.use(\"/api/v1/insert_new_user\", verifyAuth);\n  auth.use(\"/api/v1/detail_user/:username\", verifyAuth);\n  auth.use(\"/api/v1/del_user/:username\", verifyAuth);\n  auth.use(\"/api/v1/view_edit/:username\", verifyAuth);\n  auth.use(\"/api/v1/edit_user\", verifyAuth);\n  auth.use(\"/api/v1/list-user/:from-:to\", verifyAuth);\n  auth.use(\"/api/v1/create_new_user\", verifyAuth);\n\n  //quan ly tin tuc ( news ) \n  auth.use('/api/v1/list-news/:from-:to', verifyAuth);\n  auth.use('/api/v1/create_new_news', verifyAuth);\n  auth.use('/api/v1/insert_new_news', verifyAuth);\n  auth.use('/api/v1/detail_news/:title', verifyAuth);\n  auth.use('/api/v1/view_edit_news/:id', verifyAuth);\n  auth.use('/api/v1/edit_news', verifyAuth);\n  auth.use('/api/v1/del_news', verifyAuth);\n\n  //quan ly bai viet ( post )  \n  auth.use('/api/v1/list-post/:from-:to', verifyAuth);\n  auth.use('/api/v1/create_new_post', verifyAuth);\n  auth.use('/api/v1/insert_new_post', verifyAuth);\n  auth.use('/api/v1/detail_post/:id', verifyAuth);\n  auth.use('/api/v1/view_edit_post/:id', verifyAuth);\n  auth.use('/api/v1/edit_post', verifyAuth);\n  auth.use('/api/v1/del_post', verifyAuth);\n\n  //api quan ly tin tuc (news)\n  auth.use('/api/v1/GetById/:id', verifyAuth);\n  auth.use('/api/v1/list-news', verifyAuth);\n  auth.use('/api/v1/insert_news', verifyAuth);\n  auth.use('/api/v1/edit_news/:id', verifyAuth);\n  auth.use('/api/v1/del_news/:id', verifyAuth);\n  return app.use(\"/\", auth);\n};\nvar _default = exports.default = {\n  authMiddleware,\n  Notfound,\n  verifyAuth\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0pXVEFjdGlvbiIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwidmVyaWZ5QXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJzZXNzaW9uIiwiYXV0aCIsInJvbGUiLCJ0b2tlbiIsImNvb2tpZXMiLCJzdGF0dXMiLCJqc29uIiwiZXJyIiwibWVzcyIsImRlY29kZWQiLCJqd3QiLCJ2ZXJpZnlUb2tlbiIsImVycm9yIiwiTm90Zm91bmQiLCJzZW5kIiwiSGFzTG9naW4iLCJyZWRpcmVjdCIsIkF1dGhlbiIsImV4cHJlc3MiLCJSb3V0ZXIiLCJhdXRoTWlkZGxld2FyZSIsImFwcCIsInVzZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcbWlkZGxld2FyZVxcIiwic291cmNlcyI6WyJBdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuaW1wb3J0IGp3dCBmcm9tIFwiLi4vbWlkZGxld2FyZS9KV1RBY3Rpb25cIlxyXG5cclxuLy8gbGV0IHBheWxvYWQgPSB7IGZvbzogJ2JhcicgfVxyXG4vLyBsZXQgY29kZSA9IEpXVC5jcmVhdGVKV1QocGF5bG9hZClcclxuLy8gSldULnZlcmlmeVRva2VuKGNvZGUpXHJcblxyXG5cclxuY29uc3QgdmVyaWZ5QXV0aCA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG5cclxuICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRoKSB7XHJcbiAgICAgICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgucm9sZSA9PSAyKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBjb25zdCB0b2tlbiA9IHJlcS5ib2R5LnRva2VuIHx8IHJlcS5xdWVyeS50b2tlbiB8fCByZXEuaGVhZGVyc1tcIngtYWNjZXNzLXRva2VuXCJdXHJcblxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLnRva2VuO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgZXJyOiAxLCBtZXNzOiBcImJpZW4gdG9rZW4ga2hvbmcgdG9uIHRhaVwiIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeVRva2VuKHRva2VuKVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkZWNvZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzLnN0YXR1cygyMDApLmpzb24oeyBlcnI6IDEsIG1lc3M6IFwidG9rZW4gZGEgeGFjIHRodWMgdGFpIGtob2FuXCIgfSlcclxuICAgICAgICAgICAgICAgICAgICBuZXh0KClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgZXJyOiAxLCBtZXNzOiBcImtob25nIHhhYyB0aHVjXCIgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBlcnI6IDEsIG1lc3M6IGVycm9yIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBlcnI6IDEsIG1lc3M6IFwia2hvbmcgY28gcXV5ZW4gaGFuIHRydXkgY2FwXCIgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBlcnI6IDEsIG1lc3M6IFwiY2h1YSBkYW5nIG5oYXAgdGFpIGtob2FuXCIgfSlcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgTm90Zm91bmQgPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKFwiPGgxPlBhZ2Ugbm90IGZvdW5kIG9uIHRoZSBzZXJ2ZXI8L2gxPlwiKVxyXG59XHJcblxyXG5jb25zdCBIYXNMb2dpbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG5cclxuICAgIGlmICghcmVxLnNlc3Npb24uYXV0aCkge1xyXG4gICAgICAgIG5leHQoKVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KCcvbGlzdC11c2VyLzAtMTAnKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBBdXRoZW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuXHJcbiAgICBpZiAocmVxLnNlc3Npb24uYXV0aCkge1xyXG4gICAgICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRoLnJvbGUgPT0gMikge1xyXG4gICAgICAgICAgICBuZXh0KClcclxuICAgICAgICB9IFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXMucmVkaXJlY3QoJy9saXN0LXVzZXIvMC0xMCcpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KCcvbG9naW4nKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBhdXRoID0gZXhwcmVzcy5Sb3V0ZXIoKVxyXG5jb25zdCBhdXRoTWlkZGxld2FyZSA9IChhcHApID0+IHtcclxuXHJcbiAgICBhdXRoLnVzZShcIi9pbnNlcnRfbmV3X3VzZXJcIiwgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoXCIvZGV0YWlsX3VzZXIvOnVzZXJuYW1lXCIsIEF1dGhlbilcclxuICAgIGF1dGgudXNlKFwiL2RlbF91c2VyXCIsIEF1dGhlbilcclxuICAgIGF1dGgudXNlKFwiL3ZpZXdfZWRpdC86dXNlcm5hbWVcIiwgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoXCIvZWRpdF91c2VyXCIsIEF1dGhlbilcclxuICAgIGF1dGgudXNlKFwiL2xpc3QtdXNlci86ZnJvbS06dG9cIiwgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoXCIvY3JlYXRlX25ld191c2VyXCIsIEF1dGhlbilcclxuXHJcbiAgICAvL3F1YW4gbHkgdGluIHR1YyAoIG5ld3MgKSBcclxuICAgIGF1dGgudXNlKCcvbGlzdC1uZXdzLzpmcm9tLTp0bycsIEF1dGhlbilcclxuICAgIGF1dGgudXNlKCcvY3JlYXRlX25ld19uZXdzJywgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoJy9pbnNlcnRfbmV3X25ld3MnLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZSgnL2RldGFpbF9uZXdzLzp0aXRsZScsIEF1dGhlbilcclxuXHJcbiAgICBhdXRoLnVzZSgnL3ZpZXdfZWRpdF9uZXdzLzppZCcsIEF1dGhlbilcclxuICAgIGF1dGgudXNlKCcvZWRpdF9uZXdzJywgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoJy9kZWxfbmV3cycsIEF1dGhlbilcclxuXHJcblxyXG4gICAgLy9xdWFuIGx5IGJhaSB2aWV0ICggcG9zdCApICBcclxuICAgIGF1dGgudXNlKCcvbGlzdC1wb3N0Lzpmcm9tLTp0bycsIEF1dGhlbilcclxuICAgIGF1dGgudXNlKCcvY3JlYXRlX25ld19wb3N0JywgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoJy9pbnNlcnRfbmV3X3Bvc3QnLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZSgnL2RldGFpbF9wb3N0LzppZCcsIEF1dGhlbilcclxuXHJcbiAgICBhdXRoLnVzZSgnL3ZpZXdfZWRpdF9wb3N0LzppZCcsIEF1dGhlbilcclxuICAgIGF1dGgudXNlKCcvZWRpdF9wb3N0JywgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoJy9kZWxfcG9zdCcsIEF1dGhlbilcclxuICAgIC8vIC9sb2dpblxyXG4gICAgYXV0aC51c2UoJy9sb2dpblZpZXcnLCBIYXNMb2dpbilcclxuXHJcblxyXG5cclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1BUEk9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9sb2dpbi1hdXRoJywgdmVyaWZ5QXV0aClcclxuXHJcbiAgICAvL3F1YW4gbHkgdXNlciAoIHVzZXIgKSBcclxuICAgIGF1dGgudXNlKFwiL2FwaS92MS9pbnNlcnRfbmV3X3VzZXJcIiwgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKFwiL2FwaS92MS9kZXRhaWxfdXNlci86dXNlcm5hbWVcIiwgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKFwiL2FwaS92MS9kZWxfdXNlci86dXNlcm5hbWVcIiwgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKFwiL2FwaS92MS92aWV3X2VkaXQvOnVzZXJuYW1lXCIsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZShcIi9hcGkvdjEvZWRpdF91c2VyXCIsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZShcIi9hcGkvdjEvbGlzdC11c2VyLzpmcm9tLTp0b1wiLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoXCIvYXBpL3YxL2NyZWF0ZV9uZXdfdXNlclwiLCB2ZXJpZnlBdXRoKVxyXG5cclxuXHJcbiAgICAvL3F1YW4gbHkgdGluIHR1YyAoIG5ld3MgKSBcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL2xpc3QtbmV3cy86ZnJvbS06dG8nLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoJy9hcGkvdjEvY3JlYXRlX25ld19uZXdzJywgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL2luc2VydF9uZXdfbmV3cycsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9kZXRhaWxfbmV3cy86dGl0bGUnLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoJy9hcGkvdjEvdmlld19lZGl0X25ld3MvOmlkJywgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL2VkaXRfbmV3cycsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9kZWxfbmV3cycsIHZlcmlmeUF1dGgpXHJcblxyXG5cclxuICAgIC8vcXVhbiBseSBiYWkgdmlldCAoIHBvc3QgKSAgXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9saXN0LXBvc3QvOmZyb20tOnRvJywgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL2NyZWF0ZV9uZXdfcG9zdCcsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9pbnNlcnRfbmV3X3Bvc3QnLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoJy9hcGkvdjEvZGV0YWlsX3Bvc3QvOmlkJywgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL3ZpZXdfZWRpdF9wb3N0LzppZCcsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9lZGl0X3Bvc3QnLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoJy9hcGkvdjEvZGVsX3Bvc3QnLCB2ZXJpZnlBdXRoKVxyXG5cclxuXHJcbiAgICAvL2FwaSBxdWFuIGx5IHRpbiB0dWMgKG5ld3MpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9HZXRCeUlkLzppZCcsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9saXN0LW5ld3MnLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoJy9hcGkvdjEvaW5zZXJ0X25ld3MnLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoJy9hcGkvdjEvZWRpdF9uZXdzLzppZCcsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9kZWxfbmV3cy86aWQnLCB2ZXJpZnlBdXRoKVxyXG5cclxuXHJcbiAgICByZXR1cm4gYXBwLnVzZShcIi9cIiwgYXV0aClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge2F1dGhNaWRkbGV3YXJlLCBOb3Rmb3VuZCwgdmVyaWZ5QXV0aH1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFekM7QUFDQTtBQUNBO0FBR0EsTUFBTUcsVUFBVSxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBRW5DLElBQUlGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxJQUFJLEVBQUU7SUFDbEIsSUFBSUosR0FBRyxDQUFDRyxPQUFPLENBQUNDLElBQUksQ0FBQ0MsSUFBSSxJQUFJLENBQUMsRUFBRTtNQUU1Qjs7TUFFQSxNQUFNQyxLQUFLLEdBQUdOLEdBQUcsQ0FBQ08sT0FBTyxDQUFDRCxLQUFLO01BRS9CLElBQUksQ0FBQ0EsS0FBSyxFQUFFO1FBQ1IsT0FBT0wsR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUFFQyxHQUFHLEVBQUUsQ0FBQztVQUFFQyxJQUFJLEVBQUU7UUFBMkIsQ0FBQyxDQUFDO01BQzdFO01BRUEsSUFBSTtRQUNBLE1BQU1DLE9BQU8sR0FBR0Msa0JBQUcsQ0FBQ0MsV0FBVyxDQUFDUixLQUFLLENBQUM7UUFFdEMsSUFBSU0sT0FBTyxFQUFFO1VBQ1Q7VUFDQVYsSUFBSSxDQUFDLENBQUM7UUFDVixDQUFDLE1BQ0c7VUFDQSxPQUFPRCxHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_JWTAction","obj","__esModule","default","verifyAuth","req","res","next","session","auth","role","token","cookies","status","json","err","mess","decoded","jwt","verifyToken","error","Notfound","send","HasLogin","redirect","Authen","express","Router","authMiddleware","app","use","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\middleware\\","sources":["Auth.js"],"sourcesContent":["import express from \"express\"\r\nimport jwt from \"../middleware/JWTAction\"\r\n\r\n// let payload = { foo: 'bar' }\r\n// let code = JWT.createJWT(payload)\r\n// JWT.verifyToken(code)\r\n\r\n\r\nconst verifyAuth = (req, res, next) => {\r\n\r\n    if (req.session.auth) {\r\n        if (req.session.auth.role == 2) {\r\n\r\n            // const token = req.body.token || req.query.token || req.headers[\"x-access-token\"]\r\n\r\n            const token = req.cookies.token;\r\n\r\n            if (!token) {\r\n                return res.status(200).json({ err: 1, mess: \"bien token khong ton tai\" })\r\n            }\r\n\r\n            try {\r\n                const decoded = jwt.verifyToken(token)\r\n\r\n                if (decoded) {\r\n                    // res.status(200).json({ err: 1, mess: \"token da xac thuc tai khoan\" })\r\n                    next()\r\n                }\r\n                else{\r\n                    return res.status(200).json({ err: 1, mess: \"khong xac thuc\" })\r\n                }\r\n\r\n            } catch (error) {\r\n                return res.status(200).json({ err: 1, mess: error })\r\n            }\r\n        } \r\n        else {\r\n            return res.status(200).json({ err: 1, mess: \"khong co quyen han truy cap\" })\r\n        }\r\n    }\r\n    else {\r\n        return res.status(200).json({ err: 1, mess: \"chua dang nhap tai khoan\" })\r\n    }\r\n}\r\n\r\nconst Notfound = (req, res, next) => {\r\n    res.status(404).send(\"<h1>Page not found on the server</h1>\")\r\n}\r\n\r\nconst HasLogin = (req, res, next) => {\r\n\r\n    if (!req.session.auth) {\r\n        next()\r\n    }\r\n    else {\r\n        res.redirect('/list-user/0-10')\r\n    }\r\n}\r\n\r\nconst Authen = (req, res, next) => {\r\n\r\n    if (req.session.auth) {\r\n        if (req.session.auth.role == 2) {\r\n            next()\r\n        } \r\n        else {\r\n            res.redirect('/list-user/0-10')\r\n        }\r\n    }\r\n    else {\r\n        res.redirect('/login')\r\n    }\r\n}\r\n\r\nconst auth = express.Router()\r\nconst authMiddleware = (app) => {\r\n\r\n    auth.use(\"/insert_new_user\", Authen)\r\n    auth.use(\"/detail_user/:username\", Authen)\r\n    auth.use(\"/del_user\", Authen)\r\n    auth.use(\"/view_edit/:username\", Authen)\r\n    auth.use(\"/edit_user\", Authen)\r\n    auth.use(\"/list-user/:from-:to\", Authen)\r\n    auth.use(\"/create_new_user\", Authen)\r\n\r\n    //quan ly tin tuc ( news ) \r\n    auth.use('/list-news/:from-:to', Authen)\r\n    auth.use('/create_new_news', Authen)\r\n    auth.use('/insert_new_news', Authen)\r\n    auth.use('/detail_news/:title', Authen)\r\n\r\n    auth.use('/view_edit_news/:id', Authen)\r\n    auth.use('/edit_news', Authen)\r\n    auth.use('/del_news', Authen)\r\n\r\n\r\n    //quan ly bai viet ( post )  \r\n    auth.use('/list-post/:from-:to', Authen)\r\n    auth.use('/create_new_post', Authen)\r\n    auth.use('/insert_new_post', Authen)\r\n    auth.use('/detail_post/:id', Authen)\r\n\r\n    auth.use('/view_edit_post/:id', Authen)\r\n    auth.use('/edit_post', Authen)\r\n    auth.use('/del_post', Authen)\r\n    // /login\r\n    auth.use('/loginView', HasLogin)\r\n\r\n\r\n\r\n    //===============================================API===================================================\r\n\r\n    auth.use('/api/v1/login-auth', verifyAuth)\r\n\r\n    //quan ly user ( user ) \r\n    auth.use(\"/api/v1/insert_new_user\", verifyAuth)\r\n    auth.use(\"/api/v1/detail_user/:username\", verifyAuth)\r\n    auth.use(\"/api/v1/del_user/:username\", verifyAuth)\r\n    auth.use(\"/api/v1/view_edit/:username\", verifyAuth)\r\n    auth.use(\"/api/v1/edit_user\", verifyAuth)\r\n    auth.use(\"/api/v1/list-user/:from-:to\", verifyAuth)\r\n    auth.use(\"/api/v1/create_new_user\", verifyAuth)\r\n\r\n\r\n    //quan ly tin tuc ( news ) \r\n    auth.use('/api/v1/list-news/:from-:to', verifyAuth)\r\n    auth.use('/api/v1/create_new_news', verifyAuth)\r\n    auth.use('/api/v1/insert_new_news', verifyAuth)\r\n    auth.use('/api/v1/detail_news/:title', verifyAuth)\r\n    auth.use('/api/v1/view_edit_news/:id', verifyAuth)\r\n    auth.use('/api/v1/edit_news', verifyAuth)\r\n    auth.use('/api/v1/del_news', verifyAuth)\r\n\r\n\r\n    //quan ly bai viet ( post )  \r\n    auth.use('/api/v1/list-post/:from-:to', verifyAuth)\r\n    auth.use('/api/v1/create_new_post', verifyAuth)\r\n    auth.use('/api/v1/insert_new_post', verifyAuth)\r\n    auth.use('/api/v1/detail_post/:id', verifyAuth)\r\n    auth.use('/api/v1/view_edit_post/:id', verifyAuth)\r\n    auth.use('/api/v1/edit_post', verifyAuth)\r\n    auth.use('/api/v1/del_post', verifyAuth)\r\n\r\n\r\n    //api quan ly tin tuc (news)\r\n    auth.use('/api/v1/GetById/:id', verifyAuth)\r\n    auth.use('/api/v1/list-news', verifyAuth)\r\n    auth.use('/api/v1/insert_news', verifyAuth)\r\n    auth.use('/api/v1/edit_news/:id', verifyAuth)\r\n    auth.use('/api/v1/del_news/:id', verifyAuth)\r\n\r\n\r\n    return app.use(\"/\", auth)\r\n}\r\n\r\nexport default {authMiddleware, Notfound, verifyAuth}\r\n"],"mappings":"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"}},"mtime":1700121220963},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\config\\\\viewEngine.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst configViewEngine = app => {\n  app.set(\"view engine\", \"ejs\");\n  app.set(\"views\", \"./src/views\");\n};\nvar _default = exports.default = configViewEngine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWdWaWV3RW5naW5lIiwiYXBwIiwic2V0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcY29uZmlnXFwiLCJzb3VyY2VzIjpbInZpZXdFbmdpbmUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY29uZmlnVmlld0VuZ2luZSA9IChhcHApID0+IHtcclxuICAgIGFwcC5zZXQoXCJ2aWV3IGVuZ2luZVwiLCBcImVqc1wiKVxyXG4gICAgYXBwLnNldChcInZpZXdzXCIsIFwiLi9zcmMvdmlld3NcIilcclxufVxyXG5leHBvcnQgZGVmYXVsdCBjb25maWdWaWV3RW5naW5lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxNQUFNQSxnQkFBZ0IsR0FBSUMsR0FBRyxJQUFLO0VBQzlCQSxHQUFHLENBQUNDLEdBQUcsQ0FBQyxhQUFhLEVBQUUsS0FBSyxDQUFDO0VBQzdCRCxHQUFHLENBQUNDLEdBQUcsQ0FBQyxPQUFPLEVBQUUsYUFBYSxDQUFDO0FBQ25DLENBQUM7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQUMsT0FBQSxHQUNjTCxnQkFBZ0IifQ==","map":{"version":3,"names":["configViewEngine","app","set","_default","exports","default"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\config\\","sources":["viewEngine.js"],"sourcesContent":["const configViewEngine = (app) => {\r\n    app.set(\"view engine\", \"ejs\")\r\n    app.set(\"views\", \"./src/views\")\r\n}\r\nexport default configViewEngine"],"mappings":";;;;;;AAAA,MAAMA,gBAAgB,GAAIC,GAAG,IAAK;EAC9BA,GAAG,CAACC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;EAC7BD,GAAG,CAACC,GAAG,CAAC,OAAO,EAAE,aAAa,CAAC;AACnC,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GACcL,gBAAgB"}},"mtime":1696863602408},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\router\\\\webRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _HomeController = _interopRequireDefault(require(\"./../controllers/HomeController\"));\nvar _AboutController = _interopRequireDefault(require(\"./../controllers/AboutController\"));\nvar _UserController = _interopRequireDefault(require(\"./../controllers/UserController\"));\nvar _formLoginController = _interopRequireDefault(require(\"./../controllers/formLoginController\"));\nvar _HomeUserController = _interopRequireDefault(require(\"./../controllers/HomeUserController\"));\nvar _NewsController = _interopRequireDefault(require(\"./../controllers/NewsController\"));\nvar _PostController = _interopRequireDefault(require(\"./../controllers/PostController\"));\nvar _ApiNewsController = _interopRequireDefault(require(\"./../controllers/ApiNewsController\"));\nvar _ApiPostController = _interopRequireDefault(require(\"./../controllers/ApiPostController\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thu vien up img\n\n// add controller\n// add controller\n// add controller\n\n// add controller\n\n// add controller\n// add controller\n\n// add controller\n// add controller\n\nconst storage = _multer.default.diskStorage({\n  destination: function destination(req, file, cb) {\n    cb(null, './src/public/upload');\n  },\n  filename: function filename(req, file, cb) {\n    const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9);\n    cb(null, uniqueSuffix + _path.default.extname(file.originalname));\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst router = _express.default.Router();\nconst initWebRoute = app => {\n  // app.get('/home/:namepage', HomeController.getHome) // truyền param\n  // app.get('/set-session', HomeController.setSession)\n  // app.get('/abc', HomeController.getAbc)\n\n  router.get('/admin', _HomeController.default.getHome);\n  router.get('/about', _AboutController.default.getAbout);\n  router.get('/create_new_user', _UserController.default.new_user);\n  router.post('/insert_new_user', _UserController.default.insert_user);\n  router.get('/list-user/:from-:to', _UserController.default.list_user);\n  router.get('/login', _formLoginController.default.login);\n  router.post('/login', _formLoginController.default.login_auth);\n  router.get('/logout', _formLoginController.default.logout);\n  router.get('/detail_user/:username', _UserController.default.detail_user);\n  router.post('/del_user', _UserController.default.del_user);\n  router.get('/view_edit/:username', _UserController.default.view_edit);\n  router.post('/edit_user', _UserController.default.edit_user);\n\n  //user\n  router.get('/', _HomeUserController.default.HomeUser);\n  router.get('/LoginUser', _HomeUserController.default.LoginUser);\n  router.post('/login_auth_User', _HomeUserController.default.login_auth_User);\n  router.get('/logout_User', _HomeUserController.default.logout_User);\n  router.get('/RegisterUser', _HomeUserController.default.RegisterUser);\n  router.post('/request_register', _HomeUserController.default.request_register);\n  router.get('/SinglePage/:id', _HomeUserController.default.SinglePage);\n\n  //hien thi bai viet theo tin tuc\n  router.get('/ByNews/:id', _HomeUserController.default.ByNews);\n\n  //quan ly tin tuc ( news )  \n  router.get('/list-news/:from-:to', _NewsController.default.list_news);\n  router.get('/create_new_news', _NewsController.default.new_news);\n  router.post('/insert_new_news', _NewsController.default.insert_news);\n  router.get('/detail_news/:title', _NewsController.default.detail_news);\n  router.get('/view_edit_news/:id', _NewsController.default.view_edit_news);\n  router.post('/edit_news', _NewsController.default.edit_news);\n  router.post('/del_news', _NewsController.default.del_news);\n\n  //quan ly bai viet ( post )  \n  router.get('/list-post/:from-:to', _PostController.default.list_post);\n  router.get('/create_new_post', _PostController.default.new_post);\n  router.post('/insert_new_post', upload.single('filenew'), _PostController.default.insert_post);\n  router.get('/detail_post/:id', _PostController.default.detail_post);\n  router.get('/SinglePage/:id', _HomeUserController.default.SinglePage);\n\n  //hien thi bai viet theo tin tuc\n  router.get('/ByNews/:id', _HomeUserController.default.ByNews);\n\n  //quan ly tin tuc ( news )  \n  router.get('/list-news/:from-:to', _NewsController.default.list_news);\n  router.get('/create_new_news', _NewsController.default.new_news);\n  router.post('/insert_new_news', _NewsController.default.insert_news);\n  router.get('/detail_news/:title', _NewsController.default.detail_news);\n  router.get('/view_edit_news/:id', _NewsController.default.view_edit_news);\n  router.post('/edit_news', _NewsController.default.edit_news);\n  router.post('/del_news', _NewsController.default.del_news);\n\n  //quan ly bai viet ( post )  \n  router.get('/list-post/:from-:to', _PostController.default.list_post);\n  router.get('/create_new_post', _PostController.default.new_post);\n  router.post('/insert_new_post', upload.single('filenew'), _PostController.default.insert_post);\n  router.get('/detail_post/:id', _PostController.default.detail_post);\n  router.get('/view_edit_post/:id', _PostController.default.view_edit_post);\n  router.post('/edit_post', upload.single('filenew'), _PostController.default.edit_post);\n  router.post('/del_post', _PostController.default.del_post);\n\n  // //api react\n\n  // router.get('/api/news', ApiNewsController.apiReactList)\n  // router.get('/api/news/:id', ApiNewsController.apiPostFromNew)\n\n  // router.get('/api/posts', ApiPostController.apiPostList)\n  // router.get('/api/post/:id', ApiPostController.apiPostId)\n\n  return app.use(\"/\", router);\n};\nvar _default = exports.default = initWebRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9wYXRoIiwiX0hvbWVDb250cm9sbGVyIiwiX0Fib3V0Q29udHJvbGxlciIsIl9Vc2VyQ29udHJvbGxlciIsIl9mb3JtTG9naW5Db250cm9sbGVyIiwiX0hvbWVVc2VyQ29udHJvbGxlciIsIl9OZXdzQ29udHJvbGxlciIsIl9Qb3N0Q29udHJvbGxlciIsIl9BcGlOZXdzQ29udHJvbGxlciIsIl9BcGlQb3N0Q29udHJvbGxlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsInVuaXF1ZVN1ZmZpeCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJwYXRoIiwiZXh0bmFtZSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJpbml0V2ViUm91dGUiLCJhcHAiLCJnZXQiLCJIb21lQ29udHJvbGxlciIsImdldEhvbWUiLCJBYm91dENvbnRyb2xsZXIiLCJnZXRBYm91dCIsIlVzZXJDb250cm9sbGVyIiwibmV3X3VzZXIiLCJwb3N0IiwiaW5zZXJ0X3VzZXIiLCJsaXN0X3VzZXIiLCJmb3JtTG9naW5Db250cm9sbGVyIiwibG9naW4iLCJsb2dpbl9hdXRoIiwibG9nb3V0IiwiZGV0YWlsX3VzZXIiLCJkZWxfdXNlciIsInZpZXdfZWRpdCIsImVkaXRfdXNlciIsIkhvbWVVc2VyQ29udHJvbGxlciIsIkhvbWVVc2VyIiwiTG9naW5Vc2VyIiwibG9naW5fYXV0aF9Vc2VyIiwibG9nb3V0X1VzZXIiLCJSZWdpc3RlclVzZXIiLCJyZXF1ZXN0X3JlZ2lzdGVyIiwiU2luZ2xlUGFnZSIsIkJ5TmV3cyIsIk5ld3NDb250cm9sbGVyIiwibGlzdF9uZXdzIiwibmV3X25ld3MiLCJpbnNlcnRfbmV3cyIsImRldGFpbF9uZXdzIiwidmlld19lZGl0X25ld3MiLCJlZGl0X25ld3MiLCJkZWxfbmV3cyIsIlBvc3RDb250cm9sbGVyIiwibGlzdF9wb3N0IiwibmV3X3Bvc3QiLCJzaW5nbGUiLCJpbnNlcnRfcG9zdCIsImRldGFpbF9wb3N0Iiwidmlld19lZGl0X3Bvc3QiLCJlZGl0X3Bvc3QiLCJkZWxfcG9zdCIsInVzZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xccm91dGVyXFwiLCJzb3VyY2VzIjpbIndlYlJvdXRlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuaW1wb3J0IG11bHRlciBmcm9tICdtdWx0ZXInIC8vIHRodSB2aWVuIHVwIGltZ1xyXG5pbXBvcnQgcGF0aCBmcm9tIFwicGF0aFwiXHJcbmltcG9ydCBIb21lQ29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9Ib21lQ29udHJvbGxlclwiIC8vIGFkZCBjb250cm9sbGVyXHJcbmltcG9ydCBBYm91dENvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvQWJvdXRDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuaW1wb3J0IFVzZXJDb250cm9sbGVyIGZyb20gXCIuLy4uL2NvbnRyb2xsZXJzL1VzZXJDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuaW1wb3J0IGZvcm1Mb2dpbkNvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvZm9ybUxvZ2luQ29udHJvbGxlclwiXHJcblxyXG5pbXBvcnQgSG9tZVVzZXJDb250cm9sbGVyIGZyb20gXCIuLy4uL2NvbnRyb2xsZXJzL0hvbWVVc2VyQ29udHJvbGxlclwiIC8vIGFkZCBjb250cm9sbGVyXHJcblxyXG5cclxuaW1wb3J0IE5ld3NDb250cm9sbGVyIGZyb20gXCIuLy4uL2NvbnRyb2xsZXJzL05ld3NDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuaW1wb3J0IFBvc3RDb250cm9sbGVyIGZyb20gXCIuLy4uL2NvbnRyb2xsZXJzL1Bvc3RDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuXHJcbmltcG9ydCBBcGlOZXdzQ29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9BcGlOZXdzQ29udHJvbGxlclwiIC8vIGFkZCBjb250cm9sbGVyXHJcbmltcG9ydCBBcGlQb3N0Q29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9BcGlQb3N0Q29udHJvbGxlclwiIC8vIGFkZCBjb250cm9sbGVyXHJcblxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICAgIGRlc3RpbmF0aW9uOiBmdW5jdGlvbiAocmVxLCBmaWxlLCBjYikge1xyXG4gICAgICBjYihudWxsLCAnLi9zcmMvcHVibGljL3VwbG9hZCcpXHJcbiAgICB9LFxyXG4gICAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICAgIGNvbnN0IHVuaXF1ZVN1ZmZpeCA9IERhdGUubm93KCkgKyAnLScgKyBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxRTkpXHJcbiAgICAgIGNiKG51bGwsIHVuaXF1ZVN1ZmZpeCArIHBhdGguZXh0bmFtZShmaWxlLm9yaWdpbmFsbmFtZSkpXHJcbiAgICB9XHJcbiAgfSlcclxuICBcclxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHsgc3RvcmFnZTogc3RvcmFnZSB9KVxyXG5cclxuY29uc3Qgcm91dGVyID0gZXhwcmVzcy5Sb3V0ZXIoKVxyXG5jb25zdCBpbml0V2ViUm91dGUgPSAoYXBwKSA9PiB7XHJcblxyXG4gICAgLy8gYXBwLmdldCgnL2hvbWUvOm5hbWVwYWdlJywgSG9tZUNvbnRyb2xsZXIuZ2V0SG9tZSkgLy8gdHJ1eeG7gW4gcGFyYW1cclxuICAgIC8vIGFwcC5nZXQoJy9zZXQtc2Vzc2lvbicsIEhvbWVDb250cm9sbGVyLnNldFNlc3Npb24pXHJcbiAgICAvLyBhcHAuZ2V0KCcvYWJjJywgSG9tZUNvbnRyb2xsZXIuZ2V0QWJjKVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy9hZG1pbicsIEhvbWVDb250cm9sbGVyLmdldEhvbWUpXHJcbiAgICByb3V0ZXIuZ2V0KCcvYWJvdXQnLCBBYm91dENvbnRyb2xsZXIuZ2V0QWJvdXQpXHJcblxyXG4gICAgcm91dGVyLmdldCgnL2NyZWF0ZV9uZXdfdXNlcicsIFVzZXJDb250cm9sbGVyLm5ld191c2VyKVxyXG4gICAgcm91dGVyLnBvc3QoJy9pbnNlcnRfbmV3X3VzZXInLCBVc2VyQ29udHJvbGxlci5pbnNlcnRfdXNlcilcclxuXHJcbiAgICByb3V0ZXIuZ2V0KCcvbGlzdC11c2VyLzpmcm9tLTp0bycsIFVzZXJDb250cm9sbGVyLmxpc3RfdXNlcilcclxuXHJcbiAgICByb3V0ZXIuZ2V0KCcvbG9naW4nLCBmb3JtTG9naW5Db250cm9sbGVyLmxvZ2luKVxyXG4gICAgcm91dGVyLnBvc3QoJy9sb2dpbicsIGZvcm1Mb2dpbkNvbnRyb2xsZXIubG9naW5fYXV0aClcclxuICAgIHJvdXRlci5nZXQoJy9sb2dvdXQnLCBmb3JtTG9naW5Db250cm9sbGVyLmxvZ291dClcclxuXHJcbiAgICByb3V0ZXIuZ2V0KCcvZGV0YWlsX3VzZXIvOnVzZXJuYW1lJywgVXNlckNvbnRyb2xsZXIuZGV0YWlsX3VzZXIpXHJcblxyXG4gICAgcm91dGVyLnBvc3QoJy9kZWxfdXNlcicsIFVzZXJDb250cm9sbGVyLmRlbF91c2VyKVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy92aWV3X2VkaXQvOnVzZXJuYW1lJywgVXNlckNvbnRyb2xsZXIudmlld19lZGl0KVxyXG4gICAgcm91dGVyLnBvc3QoJy9lZGl0X3VzZXInLCBVc2VyQ29udHJvbGxlci5lZGl0X3VzZXIpXHJcblxyXG4gICAgXHJcbiAgICAvL3VzZXJcclxuICAgIHJvdXRlci5nZXQoJy8nLCBIb21lVXNlckNvbnRyb2xsZXIuSG9tZVVzZXIpXHJcbiAgICBcclxuICAgIHJvdXRlci5nZXQoJy9Mb2dpblVzZXInLCBIb21lVXNlckNvbnRyb2xsZXIuTG9naW5Vc2VyKVxyXG4gICAgcm91dGVyLnBvc3QoJy9sb2dpbl9hdXRoX1VzZXInLCBIb21lVXNlckNvbnRyb2xsZXIubG9naW5fYXV0aF9Vc2VyKVxyXG4gICAgcm91dGVyLmdldCgnL2xvZ291dF9Vc2VyJywgSG9tZVVzZXJDb250cm9sbGVyLmxvZ291dF9Vc2VyKVxyXG5cclxuICAgIFxyXG4gICAgcm91dGVyLmdldCgnL1JlZ2lzdGVyVXNlcicsIEhvbWVVc2VyQ29udHJvbGxlci5SZWdpc3RlclVzZXIpXHJcbiAgICByb3V0ZXIucG9zdCgnL3JlcXVlc3RfcmVnaXN0ZXInLCBIb21lVXNlckNvbnRyb2xsZXIucmVxdWVzdF9yZWdpc3RlcilcclxuXHJcbiAgICBcclxuICAgIHJvdXRlci5nZXQoJy9TaW5nbGVQYWdlLzppZCcsIEhvbWVVc2VyQ29udHJvbGxlci5TaW5nbGVQYWdlKVxyXG5cclxuXHJcbiAgICAvL2hpZW4gdGhpIGJhaSB2aWV0IHRoZW8gdGluIHR1Y1xyXG4gICAgcm91dGVyLmdldCgnL0J5TmV3cy86aWQnLCBIb21lVXNlckNvbnRyb2xsZXIuQnlOZXdzKVxyXG4gICAgXHJcblxyXG4gICAgLy9xdWFuIGx5IHRpbiB0dWMgKCBuZXdzICkgIFxyXG4gICAgcm91dGVyLmdldCgnL2xpc3QtbmV3cy86ZnJvbS06dG8nLCBOZXdzQ29udHJvbGxlci5saXN0X25ld3MpXHJcbiAgICByb3V0ZXIuZ2V0KCcvY3JlYXRlX25ld19uZXdzJywgTmV3c0NvbnRyb2xsZXIubmV3X25ld3MpXHJcbiAgICByb3V0ZXIucG9zdCgnL2luc2VydF9uZXdfbmV3cycsIE5ld3NDb250cm9sbGVyLmluc2VydF9uZXdzKVxyXG4gICAgcm91dGVyLmdldCgnL2RldGFpbF9uZXdzLzp0aXRsZScsIE5ld3NDb250cm9sbGVyLmRldGFpbF9uZXdzKVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy92aWV3X2VkaXRfbmV3cy86aWQnLCBOZXdzQ29udHJvbGxlci52aWV3X2VkaXRfbmV3cylcclxuICAgIHJvdXRlci5wb3N0KCcvZWRpdF9uZXdzJywgTmV3c0NvbnRyb2xsZXIuZWRpdF9uZXdzKVxyXG4gICAgcm91dGVyLnBvc3QoJy9kZWxfbmV3cycsIE5ld3NDb250cm9sbGVyLmRlbF9uZXdzKVxyXG5cclxuXHJcbiAgICAvL3F1YW4gbHkgYmFpIHZpZXQgKCBwb3N0ICkgIFxyXG4gICAgcm91dGVyLmdldCgnL2xpc3QtcG9zdC86ZnJvbS06dG8nLCBQb3N0Q29udHJvbGxlci5saXN0X3Bvc3QpXHJcbiAgICByb3V0ZXIuZ2V0KCcvY3JlYXRlX25ld19wb3N0JywgUG9zdENvbnRyb2xsZXIubmV3X3Bvc3QpXHJcbiAgICByb3V0ZXIucG9zdCgnL2luc2VydF9uZXdfcG9zdCcsIHVwbG9hZC5zaW5nbGUoJ2ZpbGVuZXcnKSwgUG9zdENvbnRyb2xsZXIuaW5zZXJ0X3Bvc3QpXHJcbiAgICByb3V0ZXIuZ2V0KCcvZGV0YWlsX3Bvc3QvOmlkJywgUG9zdENvbnRyb2xsZXIuZGV0YWlsX3Bvc3QpXHJcblxyXG5cclxuICByb3V0ZXIuZ2V0KCcvU2luZ2xlUGFnZS86aWQnLCBIb21lVXNlckNvbnRyb2xsZXIuU2luZ2xlUGFnZSlcclxuXHJcblxyXG4gIC8vaGllbiB0aGkgYmFpIHZpZXQgdGhlbyB0aW4gdHVjXHJcbiAgcm91dGVyLmdldCgnL0J5TmV3cy86aWQnLCBIb21lVXNlckNvbnRyb2xsZXIuQnlOZXdzKVxyXG5cclxuXHJcbiAgLy9xdWFuIGx5IHRpbiB0dWMgKCBuZXdzICkgIFxyXG4gIHJvdXRlci5nZXQoJy9saXN0LW5ld3MvOmZyb20tOnRvJywgTmV3c0NvbnRyb2xsZXIubGlzdF9uZXdzKVxyXG4gIHJvdXRlci5nZXQoJy9jcmVhdGVfbmV3X25ld3MnLCBOZXdzQ29udHJvbGxlci5uZXdfbmV3cylcclxuICByb3V0ZXIucG9zdCgnL2luc2VydF9uZXdfbmV3cycsIE5ld3NDb250cm9sbGVyLmluc2VydF9uZXdzKVxyXG4gIHJvdXRlci5nZXQoJy9kZXRhaWxfbmV3cy86dGl0bGUnLCBOZXdzQ29udHJvbGxlci5kZXRhaWxfbmV3cylcclxuXHJcbiAgcm91dGVyLmdldCgnL3ZpZXdfZWRpdF9uZXdzLzppZCcsIE5ld3NDb250cm9sbGVyLnZpZXdfZWRpdF9uZXdzKVxyXG4gIHJvdXRlci5wb3N0KCcvZWRpdF9uZXdzJywgTmV3c0NvbnRyb2xsZXIuZWRpdF9uZXdzKVxyXG4gIHJvdXRlci5wb3N0KCcvZGVsX25ld3MnLCBOZXdzQ29udHJvbGxlci5kZWxfbmV3cylcclxuXHJcblxyXG4gIC8vcXVhbiBseSBiYWkgdmlldCAoIHBvc3QgKSAgXHJcbiAgcm91dGVyLmdldCgnL2xpc3QtcG9zdC86ZnJvbS06dG8nLCBQb3N0Q29udHJvbGxlci5saXN0X3Bvc3QpXHJcbiAgcm91dGVyLmdldCgnL2NyZWF0ZV9uZXdfcG9zdCcsIFBvc3RDb250cm9sbGVyLm5ld19wb3N0KVxyXG4gIHJvdXRlci5wb3N0KCcvaW5zZXJ0X25ld19wb3N0JywgdXBsb2FkLnNpbmdsZSgnZmlsZW5ldycpLCBQb3N0Q29udHJvbGxlci5pbnNlcnRfcG9zdClcclxuICByb3V0ZXIuZ2V0KCcvZGV0YWlsX3Bvc3QvOmlkJywgUG9zdENvbnRyb2xsZXIuZGV0YWlsX3Bvc3QpXHJcblxyXG4gIHJvdXRlci5nZXQoJy92aWV3X2VkaXRfcG9zdC86aWQnLCBQb3N0Q29udHJvbGxlci52aWV3X2VkaXRfcG9zdClcclxuICByb3V0ZXIucG9zdCgnL2VkaXRfcG9zdCcsIHVwbG9hZC5zaW5nbGUoJ2ZpbGVuZXcnKSwgUG9zdENvbnRyb2xsZXIuZWRpdF9wb3N0KVxyXG4gIHJvdXRlci5wb3N0KCcvZGVsX3Bvc3QnLCBQb3N0Q29udHJvbGxlci5kZWxfcG9zdClcclxuXHJcblxyXG4gIC8vIC8vYXBpIHJlYWN0XHJcblxyXG4gIC8vIHJvdXRlci5nZXQoJy9hcGkvbmV3cycsIEFwaU5ld3NDb250cm9sbGVyLmFwaVJlYWN0TGlzdClcclxuICAvLyByb3V0ZXIuZ2V0KCcvYXBpL25ld3MvOmlkJywgQXBpTmV3c0NvbnRyb2xsZXIuYXBpUG9zdEZyb21OZXcpXHJcblxyXG4gIC8vIHJvdXRlci5nZXQoJy9hcGkvcG9zdHMnLCBBcGlQb3N0Q29udHJvbGxlci5hcGlQb3N0TGlzdClcclxuICAvLyByb3V0ZXIuZ2V0KCcvYXBpL3Bvc3QvOmlkJywgQXBpUG9zdENvbnRyb2xsZXIuYXBpUG9zdElkKVxyXG5cclxuXHJcbiAgcmV0dXJuIGFwcC51c2UoXCIvXCIsIHJvdXRlcilcclxufVxyXG5leHBvcnQgZGVmYXVsdCBpbml0V2ViUm91dGUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLE9BQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLEtBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLGVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLGdCQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxlQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTSxvQkFBQSxHQUFBUCxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQU8sbUJBQUEsR0FBQVIsc0JBQUEsQ0FBQUMsT0FBQTtBQUdBLElBQUFRLGVBQUEsR0FBQVQsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFTLGVBQUEsR0FBQVYsc0JBQUEsQ0FBQUMsT0FBQTtBQUVBLElBQUFVLGtCQUFBLEdBQUFYLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBVyxrQkFBQSxHQUFBWixzQkFBQSxDQUFBQyxPQUFBO0FBQWtFLFNBQUFELHVCQUFBYSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBZHRDOztBQUVp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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_multer","_path","_HomeController","_AboutController","_UserController","_formLoginController","_HomeUserController","_NewsController","_PostController","_ApiNewsController","_ApiPostController","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","filename","uniqueSuffix","Date","now","Math","round","random","path","extname","originalname","upload","router","express","Router","initWebRoute","app","get","HomeController","getHome","AboutController","getAbout","UserController","new_user","post","insert_user","list_user","formLoginController","login","login_auth","logout","detail_user","del_user","view_edit","edit_user","HomeUserController","HomeUser","LoginUser","login_auth_User","logout_User","RegisterUser","request_register","SinglePage","ByNews","NewsController","list_news","new_news","insert_news","detail_news","view_edit_news","edit_news","del_news","PostController","list_post","new_post","single","insert_post","detail_post","view_edit_post","edit_post","del_post","use","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\router\\","sources":["webRoute.js"],"sourcesContent":["import express from \"express\"\r\nimport multer from 'multer' // thu vien up img\r\nimport path from \"path\"\r\nimport HomeController from \"./../controllers/HomeController\" // add controller\r\nimport AboutController from \"./../controllers/AboutController\" // add controller\r\nimport UserController from \"./../controllers/UserController\" // add controller\r\nimport formLoginController from \"./../controllers/formLoginController\"\r\n\r\nimport HomeUserController from \"./../controllers/HomeUserController\" // add controller\r\n\r\n\r\nimport NewsController from \"./../controllers/NewsController\" // add controller\r\nimport PostController from \"./../controllers/PostController\" // add controller\r\n\r\nimport ApiNewsController from \"./../controllers/ApiNewsController\" // add controller\r\nimport ApiPostController from \"./../controllers/ApiPostController\" // add controller\r\n\r\nconst storage = multer.diskStorage({\r\n    destination: function (req, file, cb) {\r\n      cb(null, './src/public/upload')\r\n    },\r\n    filename: function (req, file, cb) {\r\n      const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)\r\n      cb(null, uniqueSuffix + path.extname(file.originalname))\r\n    }\r\n  })\r\n  \r\nconst upload = multer({ storage: storage })\r\n\r\nconst router = express.Router()\r\nconst initWebRoute = (app) => {\r\n\r\n    // app.get('/home/:namepage', HomeController.getHome) // truyền param\r\n    // app.get('/set-session', HomeController.setSession)\r\n    // app.get('/abc', HomeController.getAbc)\r\n\r\n    router.get('/admin', HomeController.getHome)\r\n    router.get('/about', AboutController.getAbout)\r\n\r\n    router.get('/create_new_user', UserController.new_user)\r\n    router.post('/insert_new_user', UserController.insert_user)\r\n\r\n    router.get('/list-user/:from-:to', UserController.list_user)\r\n\r\n    router.get('/login', formLoginController.login)\r\n    router.post('/login', formLoginController.login_auth)\r\n    router.get('/logout', formLoginController.logout)\r\n\r\n    router.get('/detail_user/:username', UserController.detail_user)\r\n\r\n    router.post('/del_user', UserController.del_user)\r\n\r\n    router.get('/view_edit/:username', UserController.view_edit)\r\n    router.post('/edit_user', UserController.edit_user)\r\n\r\n    \r\n    //user\r\n    router.get('/', HomeUserController.HomeUser)\r\n    \r\n    router.get('/LoginUser', HomeUserController.LoginUser)\r\n    router.post('/login_auth_User', HomeUserController.login_auth_User)\r\n    router.get('/logout_User', HomeUserController.logout_User)\r\n\r\n    \r\n    router.get('/RegisterUser', HomeUserController.RegisterUser)\r\n    router.post('/request_register', HomeUserController.request_register)\r\n\r\n    \r\n    router.get('/SinglePage/:id', HomeUserController.SinglePage)\r\n\r\n\r\n    //hien thi bai viet theo tin tuc\r\n    router.get('/ByNews/:id', HomeUserController.ByNews)\r\n    \r\n\r\n    //quan ly tin tuc ( news )  \r\n    router.get('/list-news/:from-:to', NewsController.list_news)\r\n    router.get('/create_new_news', NewsController.new_news)\r\n    router.post('/insert_new_news', NewsController.insert_news)\r\n    router.get('/detail_news/:title', NewsController.detail_news)\r\n\r\n    router.get('/view_edit_news/:id', NewsController.view_edit_news)\r\n    router.post('/edit_news', NewsController.edit_news)\r\n    router.post('/del_news', NewsController.del_news)\r\n\r\n\r\n    //quan ly bai viet ( post )  \r\n    router.get('/list-post/:from-:to', PostController.list_post)\r\n    router.get('/create_new_post', PostController.new_post)\r\n    router.post('/insert_new_post', upload.single('filenew'), PostController.insert_post)\r\n    router.get('/detail_post/:id', PostController.detail_post)\r\n\r\n\r\n  router.get('/SinglePage/:id', HomeUserController.SinglePage)\r\n\r\n\r\n  //hien thi bai viet theo tin tuc\r\n  router.get('/ByNews/:id', HomeUserController.ByNews)\r\n\r\n\r\n  //quan ly tin tuc ( news )  \r\n  router.get('/list-news/:from-:to', NewsController.list_news)\r\n  router.get('/create_new_news', NewsController.new_news)\r\n  router.post('/insert_new_news', NewsController.insert_news)\r\n  router.get('/detail_news/:title', NewsController.detail_news)\r\n\r\n  router.get('/view_edit_news/:id', NewsController.view_edit_news)\r\n  router.post('/edit_news', NewsController.edit_news)\r\n  router.post('/del_news', NewsController.del_news)\r\n\r\n\r\n  //quan ly bai viet ( post )  \r\n  router.get('/list-post/:from-:to', PostController.list_post)\r\n  router.get('/create_new_post', PostController.new_post)\r\n  router.post('/insert_new_post', upload.single('filenew'), PostController.insert_post)\r\n  router.get('/detail_post/:id', PostController.detail_post)\r\n\r\n  router.get('/view_edit_post/:id', PostController.view_edit_post)\r\n  router.post('/edit_post', upload.single('filenew'), PostController.edit_post)\r\n  router.post('/del_post', PostController.del_post)\r\n\r\n\r\n  // //api react\r\n\r\n  // router.get('/api/news', ApiNewsController.apiReactList)\r\n  // router.get('/api/news/:id', ApiNewsController.apiPostFromNew)\r\n\r\n  // router.get('/api/posts', ApiPostController.apiPostList)\r\n  // router.get('/api/post/:id', ApiPostController.apiPostId)\r\n\r\n\r\n  return app.use(\"/\", router)\r\n}\r\nexport default initWebRoute"],"mappings":"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"}},"mtime":1700121574774},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// import homeModel from \"../services/homeModel\"\n\n// const getHome = (req, res) => {\n//     let name = req.params.namepage // nhân param\n//     res.render('home', {data: {tilte:name}})\n// }\n\n// const setSession = async (req, res) => {\n//     //req.session.destroy()\n//     req.session.views = {'page':'home', 'test':10}\n//     res.render('home', {data: {tilte:req.session.views.page}})\n// }\n\n// const getAbc = async (req, res) => {\n//     let list = await homeModel.getall() // call model\n//     return res.render('home', {data: {tilte:'name', rows:list}})\n// }\n\n// const getapi = (req, res) => {\n//     return res.status(200).json({\n//         data: 'list'\n//     })\n// }\nconst getHome = (req, res) => {\n  // res.send('Home')\n  res.redirect(\"/login\");\n};\nvar _default = exports.default = {\n  getHome\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRIb21lIiwicmVxIiwicmVzIiwicmVkaXJlY3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkhvbWVDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuLy8gaW1wb3J0IGhvbWVNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvaG9tZU1vZGVsXCJcclxuXHJcbi8vIGNvbnN0IGdldEhvbWUgPSAocmVxLCByZXMpID0+IHtcclxuLy8gICAgIGxldCBuYW1lID0gcmVxLnBhcmFtcy5uYW1lcGFnZSAvLyBuaMOibiBwYXJhbVxyXG4vLyAgICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7dGlsdGU6bmFtZX19KVxyXG4vLyB9XHJcblxyXG4vLyBjb25zdCBzZXRTZXNzaW9uID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbi8vICAgICAvL3JlcS5zZXNzaW9uLmRlc3Ryb3koKVxyXG4vLyAgICAgcmVxLnNlc3Npb24udmlld3MgPSB7J3BhZ2UnOidob21lJywgJ3Rlc3QnOjEwfVxyXG4vLyAgICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7dGlsdGU6cmVxLnNlc3Npb24udmlld3MucGFnZX19KVxyXG4vLyB9XHJcblxyXG4vLyBjb25zdCBnZXRBYmMgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuLy8gICAgIGxldCBsaXN0ID0gYXdhaXQgaG9tZU1vZGVsLmdldGFsbCgpIC8vIGNhbGwgbW9kZWxcclxuLy8gICAgIHJldHVybiByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHt0aWx0ZTonbmFtZScsIHJvd3M6bGlzdH19KVxyXG4vLyB9XHJcblxyXG4vLyBjb25zdCBnZXRhcGkgPSAocmVxLCByZXMpID0+IHtcclxuLy8gICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbi8vICAgICAgICAgZGF0YTogJ2xpc3QnXHJcbi8vICAgICB9KVxyXG4vLyB9XHJcblxyXG5cclxuY29uc3QgZ2V0SG9tZSA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgLy8gcmVzLnNlbmQoJ0hvbWUnKVxyXG4gICAgcmVzLnJlZGlyZWN0KFwiL2xvZ2luXCIpXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtnZXRIb21lfSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQTZCLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBQzdCOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBLE1BQU1HLE9BQU8sR0FBR0EsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDMUI7RUFDQUEsR0FBRyxDQUFDQyxRQUFRLENBQUMsUUFBUSxDQUFDO0FBQzFCLENBQUM7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQU4sT0FBQSxHQUVjO0VBQUNDO0FBQU8sQ0FBQyJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","obj","__esModule","default","getHome","req","res","redirect","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["HomeController.js"],"sourcesContent":["import express from \"express\"\r\n// import homeModel from \"../services/homeModel\"\r\n\r\n// const getHome = (req, res) => {\r\n//     let name = req.params.namepage // nhân param\r\n//     res.render('home', {data: {tilte:name}})\r\n// }\r\n\r\n// const setSession = async (req, res) => {\r\n//     //req.session.destroy()\r\n//     req.session.views = {'page':'home', 'test':10}\r\n//     res.render('home', {data: {tilte:req.session.views.page}})\r\n// }\r\n\r\n// const getAbc = async (req, res) => {\r\n//     let list = await homeModel.getall() // call model\r\n//     return res.render('home', {data: {tilte:'name', rows:list}})\r\n// }\r\n\r\n// const getapi = (req, res) => {\r\n//     return res.status(200).json({\r\n//         data: 'list'\r\n//     })\r\n// }\r\n\r\n\r\nconst getHome = (req, res) => {\r\n    // res.send('Home')\r\n    res.redirect(\"/login\")\r\n}\r\n\r\nexport default {getHome}"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC7B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAGA,MAAMG,OAAO,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC1B;EACAA,GAAG,CAACC,QAAQ,CAAC,QAAQ,CAAC;AAC1B,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAN,OAAA,GAEc;EAACC;AAAO,CAAC"}},"mtime":1696863602409},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\AboutController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getAbout = (req, res) => {\n  res.render('About', {\n    data: {\n      tilte: 'About Page'\n    }\n  });\n};\nvar _default = exports.default = {\n  getAbout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRBYm91dCIsInJlcSIsInJlcyIsInJlbmRlciIsImRhdGEiLCJ0aWx0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQWJvdXRDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuXHJcbmNvbnN0IGdldEFib3V0ID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMucmVuZGVyKCdBYm91dCcsIHtkYXRhOiB7dGlsdGU6J0Fib3V0IFBhZ2UnfX0pXHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7Z2V0QWJvdXR9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBNkIsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFN0IsTUFBTUcsUUFBUSxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMzQkEsR0FBRyxDQUFDQyxNQUFNLENBQUMsT0FBTyxFQUFFO0lBQUNDLElBQUksRUFBRTtNQUFDQyxLQUFLLEVBQUM7SUFBWTtFQUFDLENBQUMsQ0FBQztBQUNyRCxDQUFDO0FBQUEsSUFBQUMsUUFBQSxHQUFBQyxPQUFBLENBQUFSLE9BQUEsR0FHYztFQUFDQztBQUFRLENBQUMifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","obj","__esModule","default","getAbout","req","res","render","data","tilte","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["AboutController.js"],"sourcesContent":["import express from \"express\"\r\n\r\nconst getAbout = (req, res) => {\r\n    res.render('About', {data: {tilte:'About Page'}})\r\n}\r\n\r\n\r\nexport default {getAbout}"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7B,MAAMG,QAAQ,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC3BA,GAAG,CAACC,MAAM,CAAC,OAAO,EAAE;IAACC,IAAI,EAAE;MAACC,KAAK,EAAC;IAAY;EAAC,CAAC,CAAC;AACrD,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAR,OAAA,GAGc;EAACC;AAAQ,CAAC"}},"mtime":1696863602408},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst new_user = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'newUser',\n      title: 'Tạo tài khoản'\n    }\n  });\n};\nconst insert_user = async (req, res) => {\n  let body = req.body;\n  if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    let role = 1;\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.pass, pass);\n    await _userModel.default.insert_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role);\n    res.redirect(\"/list-user/0-10\");\n  }\n};\nconst list_user = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _userModel.default.list_user(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listUser',\n        title: 'Danh sách tài khoản',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst detail_user = async (req, res) => {\n  let Username = req.params.username;\n  let list = await _userModel.default.detail_user(Username);\n  res.render('home', {\n    data: {\n      page: 'detailUser',\n      title: 'Chi tiết người dùng',\n      list: list\n    }\n  });\n};\nconst edit_user = async (req, res) => {\n  let role = 1;\n  let body = req.body;\n  console.table(body);\n  if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n  let pass = _bcryptjs.default.genSaltSync(10);\n  let hash = _bcryptjs.default.hashSync(body.pass, pass);\n  await _userModel.default.edit_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role);\n  res.redirect(\"/detail_user/\" + body.name);\n};\nconst view_edit = async (req, res) => {\n  let Username = req.params.username;\n  let list = await _userModel.default.detail_user(Username);\n  res.render('home', {\n    data: {\n      page: 'viewEdit',\n      title: 'Cập nhật',\n      list: list\n    }\n  });\n};\nconst del_user = async (req, res) => {\n  let body = req.body;\n  if (!body.username) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n  let list = await _userModel.default.del_user(body.username);\n  res.redirect(\"/list-user/0-10\");\n};\nvar _default = exports.default = {\n  new_user,\n  list_user,\n  detail_user,\n  insert_user,\n  edit_user,\n  del_user,\n  view_edit\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibmV3X3VzZXIiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwiaW5zZXJ0X3VzZXIiLCJib2R5IiwibmFtZSIsInBhc3MiLCJuYW1ldXNlciIsImFkZHJlc3MiLCJmbGV4UmFkaW9EZWZhdWx0IiwiZW1haWwiLCJzdGF0dXMiLCJzZW5kIiwicm9sZSIsImJjcnlwdCIsImdlblNhbHRTeW5jIiwiaGFzaCIsImhhc2hTeW5jIiwidXNlck1vZGVsIiwicmVkaXJlY3QiLCJsaXN0X3VzZXIiLCJfZnJvbSIsInBhcmFtcyIsImZyb20iLCJfdG8iLCJ0byIsImF1dGgiLCJzZXNzaW9uIiwiaXNOYU4iLCJsaXN0IiwiZGV0YWlsX3VzZXIiLCJVc2VybmFtZSIsInVzZXJuYW1lIiwiZWRpdF91c2VyIiwiY29uc29sZSIsInRhYmxlIiwidmlld19lZGl0IiwiZGVsX3VzZXIiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuaW1wb3J0IHVzZXJNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvdXNlck1vZGVsXCJcclxuXHJcbmNvbnN0IG5ld191c2VyID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHtwYWdlOiAnbmV3VXNlcicsIHRpdGxlOiAnVOG6oW8gdMOgaSBraG/huqNuJ319KVxyXG59XHJcblxyXG5jb25zdCBpbnNlcnRfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgaWYgKCFib2R5Lm5hbWUgfHwgIWJvZHkucGFzcyB8fCAhYm9keS5uYW1ldXNlciB8fCAhYm9keS5hZGRyZXNzIHx8ICFib2R5LmZsZXhSYWRpb0RlZmF1bHQgfHwgIWJvZHkuZW1haWwpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICBsZXQgcm9sZSA9IDFcclxuICAgICAgICBsZXQgcGFzcyA9IGJjcnlwdC5nZW5TYWx0U3luYygxMClcclxuICAgICAgICBsZXQgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhib2R5LnBhc3MsIHBhc3MpXHJcbiAgICAgICAgYXdhaXQgdXNlck1vZGVsLmluc2VydF91c2VyKGJvZHkubmFtZSwgaGFzaCwgYm9keS5uYW1ldXNlciwgYm9keS5hZGRyZXNzLCBib2R5LmZsZXhSYWRpb0RlZmF1bHQsIGJvZHkuZW1haWwsIHJvbGUpXHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KFwiL2xpc3QtdXNlci8wLTEwXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGxpc3RfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIGxldCBfZnJvbSA9IHJlcS5wYXJhbXMuZnJvbVxyXG4gICAgbGV0IF90byA9IHJlcS5wYXJhbXMudG9cclxuICAgIGxldCBhdXRoID0gbnVsbFxyXG5cclxuICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRoKSB7XHJcbiAgICAgICAgYXV0aCA9IHJlcS5zZXNzaW9uLmF1dGhcclxuICAgIH1cclxuICAgIFxyXG4gICAgaWYgKGlzTmFOKF9mcm9tKSA9PT0gZmFsc2UgJiYgaXNOYU4oX3RvKSA9PT0gZmFsc2UpIHtcclxuICAgICAgICBsZXQgbGlzdCA9IGF3YWl0IHVzZXJNb2RlbC5saXN0X3VzZXIoX2Zyb20sIF90bylcclxuICAgICAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHtwYWdlOiAnbGlzdFVzZXInLCB0aXRsZTogJ0Rhbmggc8OhY2ggdMOgaSBraG/huqNuJywgcGFyYW1zOiB7X2Zyb20sIF90b30gLCBsaXN0Omxpc3QsIGF1dGg6YXV0aH19KVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBkZXRhaWxfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IFVzZXJuYW1lID0gcmVxLnBhcmFtcy51c2VybmFtZVxyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCB1c2VyTW9kZWwuZGV0YWlsX3VzZXIoVXNlcm5hbWUpXHJcbiAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHtwYWdlOiAnZGV0YWlsVXNlcicsIHRpdGxlOiAnQ2hpIHRp4bq/dCBuZ8aw4budaSBkw7luZycsIGxpc3Q6bGlzdH19KVxyXG59XHJcblxyXG5jb25zdCBlZGl0X3VzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCByb2xlID0gMVxyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgY29uc29sZS50YWJsZShib2R5KVxyXG4gICAgaWYgKCFib2R5Lm5hbWUgfHwgIWJvZHkucGFzcyB8fCAhYm9keS5uYW1ldXNlciB8fCAhYm9keS5hZGRyZXNzIHx8ICFib2R5LmZsZXhSYWRpb0RlZmF1bHQgfHwgIWJvZHkuZW1haWwpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG4gICAgbGV0IHBhc3MgPSBiY3J5cHQuZ2VuU2FsdFN5bmMoMTApXHJcbiAgICBsZXQgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhib2R5LnBhc3MsIHBhc3MpXHJcbiAgICBhd2FpdCB1c2VyTW9kZWwuZWRpdF91c2VyKGJvZHkubmFtZSwgaGFzaCwgYm9keS5uYW1ldXNlciwgYm9keS5hZGRyZXNzLCBib2R5LmZsZXhSYWRpb0RlZmF1bHQsIGJvZHkuZW1haWwsIHJvbGUpXHJcbiAgICByZXMucmVkaXJlY3QoXCIvZGV0YWlsX3VzZXIvXCIgKyBib2R5Lm5hbWUpXHJcbn1cclxuXHJcbmNvbnN0IHZpZXdfZWRpdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IFVzZXJuYW1lID0gcmVxLnBhcmFtcy51c2VybmFtZVxyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCB1c2VyTW9kZWwuZGV0YWlsX3VzZXIoVXNlcm5hbWUpXHJcbiAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHtwYWdlOiAndmlld0VkaXQnLCB0aXRsZTogJ0Phuq1wIG5o4bqtdCcsIGxpc3Q6bGlzdH19KVxyXG59XHJcblxyXG5jb25zdCBkZWxfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgaWYgKCFib2R5LnVzZXJuYW1lKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxuICAgIGxldCBsaXN0ID0gYXdhaXQgdXNlck1vZGVsLmRlbF91c2VyKGJvZHkudXNlcm5hbWUpXHJcbiAgICByZXMucmVkaXJlY3QoXCIvbGlzdC11c2VyLzAtMTBcIilcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge25ld191c2VyLCBsaXN0X3VzZXIsIGRldGFpbF91c2VyLCBpbnNlcnRfdXNlciwgZWRpdF91c2VyLCBkZWxfdXNlciwgdmlld19lZGl0fSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMs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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","obj","__esModule","default","new_user","req","res","render","data","page","title","insert_user","body","name","pass","nameuser","address","flexRadioDefault","email","status","send","role","bcrypt","genSaltSync","hash","hashSync","userModel","redirect","list_user","_from","params","from","_to","to","auth","session","isNaN","list","detail_user","Username","username","edit_user","console","table","view_edit","del_user","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["UserController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst new_user = (req, res) => {\r\n    res.render('home', {data: {page: 'newUser', title: 'Tạo tài khoản'}})\r\n}\r\n\r\nconst insert_user = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        let role = 1\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.pass, pass)\r\n        await userModel.insert_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role)\r\n        res.redirect(\"/list-user/0-10\")\r\n    }\r\n}\r\n\r\nconst list_user = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await userModel.list_user(_from, _to)\r\n        res.render('home', {data: {page: 'listUser', title: 'Danh sách tài khoản', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst detail_user = async (req, res) => {\r\n    let Username = req.params.username\r\n    let list = await userModel.detail_user(Username)\r\n    res.render('home', {data: {page: 'detailUser', title: 'Chi tiết người dùng', list:list}})\r\n}\r\n\r\nconst edit_user = async (req, res) => {\r\n    let role = 1\r\n    let body = req.body\r\n    console.table(body)\r\n    if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    let pass = bcrypt.genSaltSync(10)\r\n    let hash = bcrypt.hashSync(body.pass, pass)\r\n    await userModel.edit_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role)\r\n    res.redirect(\"/detail_user/\" + body.name)\r\n}\r\n\r\nconst view_edit = async (req, res) => {\r\n    let Username = req.params.username\r\n    let list = await userModel.detail_user(Username)\r\n    res.render('home', {data: {page: 'viewEdit', title: 'Cập nhật', list:list}})\r\n}\r\n\r\nconst del_user = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    let list = await userModel.del_user(body.username)\r\n    res.redirect(\"/list-user/0-10\")\r\n}\r\n\r\nexport default {new_user, list_user, detail_user, insert_user, edit_user, del_user, view_edit}"],"mappings":"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"}},"mtime":1696863602410},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\services\\\\userModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst insert_user = async (username, password, fullname, address, sex, email, groupid) => {\n  await _connectDB.default.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `sex`, `email`, `groupid`) VALUES (?,?,?,?,?,?,?)', [username, password, fullname, address, sex, email, groupid]);\n};\nconst list_user = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `users`');\n  return rows;\n};\nconst detail_user = async name => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM users WHERE users.username LIKE ?', [name]);\n  return rows;\n};\nconst edit_user = async (username, password, fullname, address, sex, email, groupid) => {\n  await _connectDB.default.execute('UPDATE `users` SET `password`=?,`fullname`=?,`address`=?,`sex`=?,`email`=?,`groupid`=? WHERE users.username = ?', [password, fullname, address, sex, email, groupid, username]);\n};\nconst del_user = async username => {\n  await _connectDB.default.execute('DELETE FROM `users` WHERE users.username = ?', [username]);\n};\nconst auth = async username => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM users WHERE users.username LIKE ?', [username]);\n  return rows;\n};\nconst insert_user_Users = async (username, password, fullname, address, groupid) => {\n  await _connectDB.default.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `groupid`) VALUES (?,?,?,?,?)', [username, password, fullname, address, groupid]);\n};\nvar _default = exports.default = {\n  insert_user,\n  list_user,\n  detail_user,\n  edit_user,\n  del_user,\n  auth,\n  insert_user_Users\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImluc2VydF91c2VyIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImZ1bGxuYW1lIiwiYWRkcmVzcyIsInNleCIsImVtYWlsIiwiZ3JvdXBpZCIsImNvbiIsImV4ZWN1dGUiLCJsaXN0X3VzZXIiLCJmcm9tIiwidG8iLCJyb3dzIiwiZmllbGRzIiwiZGV0YWlsX3VzZXIiLCJuYW1lIiwiZWRpdF91c2VyIiwiZGVsX3VzZXIiLCJhdXRoIiwiaW5zZXJ0X3VzZXJfVXNlcnMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlXFxzcmNcXHNlcnZpY2VzXFwiLCJzb3VyY2VzIjpbInVzZXJNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29uIGZyb20gXCIuLy4uL2NvbmZpZy9jb25uZWN0REJcIlxyXG5cclxuY29uc3QgaW5zZXJ0X3VzZXIgPSBhc3luYyAodXNlcm5hbWUsIHBhc3N3b3JkLCBmdWxsbmFtZSwgYWRkcmVzcywgc2V4LCBlbWFpbCwgZ3JvdXBpZCkgPT4ge1xyXG4gICAgYXdhaXQgY29uLmV4ZWN1dGUoJ0lOU0VSVCBJTlRPIGB1c2Vyc2AoYHVzZXJuYW1lYCwgYHBhc3N3b3JkYCwgYGZ1bGxuYW1lYCwgYGFkZHJlc3NgLCBgc2V4YCwgYGVtYWlsYCwgYGdyb3VwaWRgKSBWQUxVRVMgKD8sPyw/LD8sPyw/LD8pJyxbdXNlcm5hbWUsIHBhc3N3b3JkLCBmdWxsbmFtZSwgYWRkcmVzcywgc2V4LCBlbWFpbCwgZ3JvdXBpZF0pXHJcbn0gXHJcblxyXG5jb25zdCBsaXN0X3VzZXIgPSBhc3luYyAoZnJvbSwgdG8pID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYHVzZXJzYCcpXHJcbiAgICByZXR1cm4gcm93c1xyXG59IFxyXG5cclxuY29uc3QgZGV0YWlsX3VzZXIgPSBhc3luYyAobmFtZSkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSB1c2Vycy51c2VybmFtZSBMSUtFID8nLCBbbmFtZV0pXHJcbiAgICByZXR1cm4gcm93c1xyXG59IFxyXG5cclxuY29uc3QgZWRpdF91c2VyID0gYXN5bmMgKHVzZXJuYW1lLCBwYXNzd29yZCwgZnVsbG5hbWUsIGFkZHJlc3MsIHNleCwgZW1haWwsIGdyb3VwaWQpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdVUERBVEUgYHVzZXJzYCBTRVQgYHBhc3N3b3JkYD0/LGBmdWxsbmFtZWA9PyxgYWRkcmVzc2A9Pyxgc2V4YD0/LGBlbWFpbGA9PyxgZ3JvdXBpZGA9PyBXSEVSRSB1c2Vycy51c2VybmFtZSA9ID8nLFtwYXNzd29yZCwgZnVsbG5hbWUsIGFkZHJlc3MsIHNleCwgZW1haWwsIGdyb3VwaWQsIHVzZXJuYW1lXSlcclxufVxyXG5cclxuY29uc3QgZGVsX3VzZXIgPSBhc3luYyAodXNlcm5hbWUpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdERUxFVEUgRlJPTSBgdXNlcnNgIFdIRVJFIHVzZXJzLnVzZXJuYW1lID0gPycsW3VzZXJuYW1lXSlcclxufVxyXG5cclxuY29uc3QgYXV0aCA9IGFzeW5jICh1c2VybmFtZSkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSB1c2VycyBXSEVSRSB1c2Vycy51c2VybmFtZSBMSUtFID8nLCBbdXNlcm5hbWVdKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5cclxuY29uc3QgaW5zZXJ0X3VzZXJfVXNlcnMgPSBhc3luYyAodXNlcm5hbWUsIHBhc3N3b3JkLCBmdWxsbmFtZSwgYWRkcmVzcywgZ3JvdXBpZCkgPT4ge1xyXG4gICAgYXdhaXQgY29uLmV4ZWN1dGUoJ0lOU0VSVCBJTlRPIGB1c2Vyc2AoYHVzZXJuYW1lYCwgYHBhc3N3b3JkYCwgYGZ1bGxuYW1lYCwgYGFkZHJlc3NgLCBgZ3JvdXBpZGApIFZBTFVFUyAoPyw/LD8sPyw/KScsW3VzZXJuYW1lLCBwYXNzd29yZCwgZnVsbG5hbWUsIGFkZHJlc3MsIGdyb3VwaWRdKVxyXG59IFxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtpbnNlcnRfdXNlciwgbGlzdF91c2VyLCBkZXRhaWxfdXNlciwgZWRpdF91c2VyLCBkZWxfdXNlciwgYXV0aCxpbnNlcnRfdXNlcl9Vc2Vyc30iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBQUEsVUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXVDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXZDLE1BQU1HLFdBQVcsR0FBRyxNQUFBQSxDQUFPQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUVDLEdBQUcsRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEtBQUs7RUFDdEYsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHNIQUFzSCxFQUFDLENBQUNSLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsR0FBRyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sQ0FBQyxDQUFDO0FBQzFNLENBQUM7QUFFRCxNQUFNRyxTQUFTLEdBQUcsTUFBQUEsQ0FBT0MsSUFBSSxFQUFFQyxFQUFFLEtBQUs7RUFDbEMsTUFBTSxDQUFDQyxJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1OLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyx1QkFBdUIsQ0FBQztFQUNqRSxPQUFPSSxJQUFJO0FBQ2YsQ0FBQztBQUVELE1BQU1FLFdBQVcsR0FBRyxNQUFPQyxJQUFJLElBQUs7RUFDaEMsTUFBTSxDQUFDSCxJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1OLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxpREFBaUQsRUFBRSxDQUFDTyxJQUFJLENBQUMsQ0FBQztFQUNuRyxPQUFPSCxJQUFJO0FBQ2YsQ0FBQztBQUVELE1BQU1JLFNBQVMsR0FBRyxNQUFBQSxDQUFPaEIsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxLQUFLO0VBQ3BGLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxpSEFBaUgsRUFBQyxDQUFDUCxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxFQUFFTixRQUFRLENBQUMsQ0FBQztBQUNyTSxDQUFDO0FBRUQsTUFBTWlCLFFBQVEsR0FBRyxNQUFPakIsUUFBUSxJQUFLO0VBQ2pDLE1BQU1PLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyw4Q0FBOEMsRUFBQyxDQUFDUixRQUFRLENBQUMsQ0FBQztBQUNoRixDQUFDO0FBRUQsTUFBTWtCLElBQUksR0FBRyxNQUFPbEIsUUFBUSxJQUFLO0VBQzdCLE1BQU0sQ0FBQ1ksSUFBSSxFQUFFQyxNQUFNLENBQUMsR0FBRyxNQUFNTixrQkFBRyxDQUFDQyxPQUFPLENBQUMsaURBQWlELEVBQUUsQ0FBQ1IsUUFBUSxDQUFDLENBQUM7RUFDdkcsT0FBT1ksSUFBSTtBQUNmLENBQUM7QUFFRCxNQUFNTyxpQkFBaUIsR0FBRyxNQUFBQSxDQUFPbkIsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFRyxPQUFPLEtBQUs7RUFDaEYsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLGtHQUFrRyxFQUFDLENBQUNSLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUcsT0FBTyxDQUFDLENBQUM7QUFDMUssQ0FBQztBQUFBLElBQUFjLFFBQUEsR0FBQUMsT0FBQSxDQUFBdkIsT0FBQSxHQUdjO0VBQUNDLFdBQVc7RUFBRVUsU0FBUztFQUFFSyxXQUFXO0VBQUVFLFNBQVM7RUFBRUMsUUFBUTtFQUFFQyxJQUFJO0VBQUNDO0FBQWlCLENBQUMifQ==","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","insert_user","username","password","fullname","address","sex","email","groupid","con","execute","list_user","from","to","rows","fields","detail_user","name","edit_user","del_user","auth","insert_user_Users","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\services\\","sources":["userModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\nconst insert_user = async (username, password, fullname, address, sex, email, groupid) => {\r\n    await con.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `sex`, `email`, `groupid`) VALUES (?,?,?,?,?,?,?)',[username, password, fullname, address, sex, email, groupid])\r\n} \r\n\r\nconst list_user = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `users`')\r\n    return rows\r\n} \r\n\r\nconst detail_user = async (name) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM users WHERE users.username LIKE ?', [name])\r\n    return rows\r\n} \r\n\r\nconst edit_user = async (username, password, fullname, address, sex, email, groupid) => {\r\n    await con.execute('UPDATE `users` SET `password`=?,`fullname`=?,`address`=?,`sex`=?,`email`=?,`groupid`=? WHERE users.username = ?',[password, fullname, address, sex, email, groupid, username])\r\n}\r\n\r\nconst del_user = async (username) => {\r\n    await con.execute('DELETE FROM `users` WHERE users.username = ?',[username])\r\n}\r\n\r\nconst auth = async (username) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM users WHERE users.username LIKE ?', [username])\r\n    return rows\r\n}\r\n\r\nconst insert_user_Users = async (username, password, fullname, address, groupid) => {\r\n    await con.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `groupid`) VALUES (?,?,?,?,?)',[username, password, fullname, address, groupid])\r\n} \r\n\r\n\r\nexport default {insert_user, list_user, detail_user, edit_user, del_user, auth,insert_user_Users}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEvC,MAAMG,WAAW,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,KAAK;EACtF,MAAMC,kBAAG,CAACC,OAAO,CAAC,sHAAsH,EAAC,CAACR,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,CAAC,CAAC;AAC1M,CAAC;AAED,MAAMG,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,uBAAuB,CAAC;EACjE,OAAOI,IAAI;AACf,CAAC;AAED,MAAME,WAAW,GAAG,MAAOC,IAAI,IAAK;EAChC,MAAM,CAACH,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAE,CAACO,IAAI,CAAC,CAAC;EACnG,OAAOH,IAAI;AACf,CAAC;AAED,MAAMI,SAAS,GAAG,MAAAA,CAAOhB,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,KAAK;EACpF,MAAMC,kBAAG,CAACC,OAAO,CAAC,iHAAiH,EAAC,CAACP,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,EAAEN,QAAQ,CAAC,CAAC;AACrM,CAAC;AAED,MAAMiB,QAAQ,GAAG,MAAOjB,QAAQ,IAAK;EACjC,MAAMO,kBAAG,CAACC,OAAO,CAAC,8CAA8C,EAAC,CAACR,QAAQ,CAAC,CAAC;AAChF,CAAC;AAED,MAAMkB,IAAI,GAAG,MAAOlB,QAAQ,IAAK;EAC7B,MAAM,CAACY,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAE,CAACR,QAAQ,CAAC,CAAC;EACvG,OAAOY,IAAI;AACf,CAAC;AAED,MAAMO,iBAAiB,GAAG,MAAAA,CAAOnB,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEG,OAAO,KAAK;EAChF,MAAMC,kBAAG,CAACC,OAAO,CAAC,kGAAkG,EAAC,CAACR,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEG,OAAO,CAAC,CAAC;AAC1K,CAAC;AAAA,IAAAc,QAAA,GAAAC,OAAA,CAAAvB,OAAA,GAGc;EAACC,WAAW;EAAEU,SAAS;EAAEK,WAAW;EAAEE,SAAS;EAAEC,QAAQ;EAAEC,IAAI;EAACC;AAAiB,CAAC"}},"mtime":1700121220965},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\config\\\\connectDB.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _promise = _interopRequireDefault(require(\"mysql2/promise\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst con = _promise.default.createPool({\n  host: 'localhost',\n  user: 'root',\n  database: 'bc_node',\n  waitForConnections: true,\n  connectionLimit: 10,\n  maxIdle: 10,\n  // max idle connections, the default value is the same as `connectionLimit`\n  idleTimeout: 60000,\n  // idle connections timeout, in milliseconds, the default value 60000\n  queueLimit: 0,\n  enableKeepAlive: true,\n  keepAliveInitialDelay: 0\n});\nvar _default = exports.default = con;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvbWlzZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjb24iLCJteXNxbCIsImNyZWF0ZVBvb2wiLCJob3N0IiwidXNlciIsImRhdGFiYXNlIiwid2FpdEZvckNvbm5lY3Rpb25zIiwiY29ubmVjdGlvbkxpbWl0IiwibWF4SWRsZSIsImlkbGVUaW1lb3V0IiwicXVldWVMaW1pdCIsImVuYWJsZUtlZXBBbGl2ZSIsImtlZXBBbGl2ZUluaXRpYWxEZWxheSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcY29uZmlnXFwiLCJzb3VyY2VzIjpbImNvbm5lY3REQi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbXlzcWwgZnJvbSBcIm15c3FsMi9wcm9taXNlXCJcclxuXHJcbmNvbnN0IGNvbiA9IG15c3FsLmNyZWF0ZVBvb2woe1xyXG5cclxuICAgIGhvc3Q6ICdsb2NhbGhvc3QnLFxyXG4gICAgdXNlcjogJ3Jvb3QnLFxyXG4gICAgZGF0YWJhc2U6ICdiY19ub2RlJyxcclxuICAgIHdhaXRGb3JDb25uZWN0aW9uczogdHJ1ZSxcclxuICAgIGNvbm5lY3Rpb25MaW1pdDogMTAsXHJcbiAgICBtYXhJZGxlOiAxMCwgLy8gbWF4IGlkbGUgY29ubmVjdGlvbnMsIHRoZSBkZWZhdWx0IHZhbHVlIGlzIHRoZSBzYW1lIGFzIGBjb25uZWN0aW9uTGltaXRgXHJcbiAgICBpZGxlVGltZW91dDogNjAwMDAsIC8vIGlkbGUgY29ubmVjdGlvbnMgdGltZW91dCwgaW4gbWlsbGlzZWNvbmRzLCB0aGUgZGVmYXVsdCB2YWx1ZSA2MDAwMFxyXG4gICAgcXVldWVMaW1pdDogMCxcclxuICAgIGVuYWJsZUtlZXBBbGl2ZTogdHJ1ZSxcclxuICAgIGtlZXBBbGl2ZUluaXRpYWxEZWxheTogMFxyXG5cclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQWtDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRWxDLE1BQU1HLEdBQUcsR0FBR0MsZ0JBQUssQ0FBQ0MsVUFBVSxDQUFDO0VBRXpCQyxJQUFJLEVBQUUsV0FBVztFQUNqQkMsSUFBSSxFQUFFLE1BQU07RUFDWkMsUUFBUSxFQUFFLFNBQVM7RUFDbkJDLGtCQUFrQixFQUFFLElBQUk7RUFDeEJDLGVBQWUsRUFBRSxFQUFFO0VBQ25CQyxPQUFPLEVBQUUsRUFBRTtFQUFFO0VBQ2JDLFdBQVcsRUFBRSxLQUFLO0VBQUU7RUFDcEJDLFVBQVUsRUFBRSxDQUFDO0VBQ2JDLGVBQWUsRUFBRSxJQUFJO0VBQ3JCQyxxQkFBcUIsRUFBRTtBQUUzQixDQUFDLENBQUM7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWYsT0FBQSxHQUVhQyxHQUFHIn0=","map":{"version":3,"names":["_promise","_interopRequireDefault","require","obj","__esModule","default","con","mysql","createPool","host","user","database","waitForConnections","connectionLimit","maxIdle","idleTimeout","queueLimit","enableKeepAlive","keepAliveInitialDelay","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\config\\","sources":["connectDB.js"],"sourcesContent":["import mysql from \"mysql2/promise\"\r\n\r\nconst con = mysql.createPool({\r\n\r\n    host: 'localhost',\r\n    user: 'root',\r\n    database: 'bc_node',\r\n    waitForConnections: true,\r\n    connectionLimit: 10,\r\n    maxIdle: 10, // max idle connections, the default value is the same as `connectionLimit`\r\n    idleTimeout: 60000, // idle connections timeout, in milliseconds, the default value 60000\r\n    queueLimit: 0,\r\n    enableKeepAlive: true,\r\n    keepAliveInitialDelay: 0\r\n\r\n})\r\n\r\nexport default con"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAkC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAElC,MAAMG,GAAG,GAAGC,gBAAK,CAACC,UAAU,CAAC;EAEzBC,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,MAAM;EACZC,QAAQ,EAAE,SAAS;EACnBC,kBAAkB,EAAE,IAAI;EACxBC,eAAe,EAAE,EAAE;EACnBC,OAAO,EAAE,EAAE;EAAE;EACbC,WAAW,EAAE,KAAK;EAAE;EACpBC,UAAU,EAAE,CAAC;EACbC,eAAe,EAAE,IAAI;EACrBC,qBAAqB,EAAE;AAE3B,CAAC,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAEaC,GAAG"}},"mtime":1696865112227},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\formLoginController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst login = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'login',\n      title: 'Đăng nhập'\n    }\n  });\n};\nconst login_auth = async (req, res) => {\n  let body = req.body;\n  if (!body.username || !body.password) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    try {\n      let auth = await _userModel.default.auth(body.username);\n      if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\n        console.log(\"khong ton tai tk\");\n      } else {\n        let hash = _bcryptjs.default.hashSync(body.password, _bcryptjs.default.genSaltSync(10));\n        if (_bcryptjs.default.compareSync(body.password, auth[0].password)) {\n          req.session.auth = {\n            name: auth[0].username,\n            pass: auth[0].password,\n            role: auth[0].groupid\n          };\n          res.redirect(\"/list-user/0-10\");\n        } else {\n          console.log(\"sai mat khau\");\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\nconst logout = (req, res) => {\n  req.session.destroy();\n  res.redirect('/login');\n};\nvar _default = exports.default = {\n  login,\n  login_auth,\n  logout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibG9naW4iLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwibG9naW5fYXV0aCIsImJvZHkiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwic3RhdHVzIiwic2VuZCIsImF1dGgiLCJ1c2VyTW9kZWwiLCJncm91cGlkIiwiY29uc29sZSIsImxvZyIsImhhc2giLCJiY3J5cHQiLCJoYXNoU3luYyIsImdlblNhbHRTeW5jIiwiY29tcGFyZVN5bmMiLCJzZXNzaW9uIiwibmFtZSIsInBhc3MiLCJyb2xlIiwicmVkaXJlY3QiLCJlcnJvciIsImxvZ291dCIsImRlc3Ryb3kiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbImZvcm1Mb2dpbkNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgdXNlck1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy91c2VyTW9kZWxcIlxyXG5cclxuY29uc3QgbG9naW4gPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdsb2dpbicsIHRpdGxlOiAnxJDEg25nIG5o4bqtcCd9fSlcclxufVxyXG5cclxuY29uc3QgbG9naW5fYXV0aCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgaWYgKCFib2R5LnVzZXJuYW1lIHx8ICFib2R5LnBhc3N3b3JkKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBhdXRoID0gYXdhaXQgdXNlck1vZGVsLmF1dGgoYm9keS51c2VybmFtZSlcclxuXHJcbiAgICAgICAgICAgIGlmICghYXV0aFswXS51c2VybmFtZSB8fCAhYXV0aFswXS5wYXNzd29yZCB8fCAhYXV0aFswXS5ncm91cGlkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImtob25nIHRvbiB0YWkgdGtcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGxldCBoYXNoID0gYmNyeXB0Lmhhc2hTeW5jKGJvZHkucGFzc3dvcmQsIGJjcnlwdC5nZW5TYWx0U3luYygxMCkpXHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmIChiY3J5cHQuY29tcGFyZVN5bmMoYm9keS5wYXNzd29yZCwgYXV0aFswXS5wYXNzd29yZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXEuc2Vzc2lvbi5hdXRoID0ge25hbWU6YXV0aFswXS51c2VybmFtZSwgcGFzczphdXRoWzBdLnBhc3N3b3JkLCByb2xlOmF1dGhbMF0uZ3JvdXBpZH1cclxuICAgICAgICAgICAgICAgICAgICByZXMucmVkaXJlY3QoXCIvbGlzdC11c2VyLzAtMTBcIilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2FpIG1hdCBraGF1XCIpXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBsb2dvdXQgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcS5zZXNzaW9uLmRlc3Ryb3koKVxyXG4gICAgcmVzLnJlZGlyZWN0KCcvbG9naW4nKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7bG9naW4sIGxvZ2luX2F1dGgsIGxvZ291dH0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxTQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFBNkMsU0FBQUQsdUJBQUFJLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFN0MsTUFBTUcsS0FBSyxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN4QkEsR0FBRyxDQUFDQyxNQUFNLENBQUMsTUFBTSxFQUFFO0lBQUNDLElBQUksRUFBRTtNQUFDQyxJQUFJLEVBQUUsT0FBTztNQUFFQyxLQUFLLEVBQUU7SUFBVztFQUFDLENBQUMsQ0FBQztBQUNuRSxDQUFDO0FBRUQsTUFBTUMsVUFBVSxHQUFHLE1BQUFBLENBQU9OLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ25DLElBQUlNLElBQUksR0FBR1AsR0FBRyxDQUFDTyxJQUFJO0VBQ25CLElBQUksQ0FBQ0EsSUFBSSxDQUFDQyxRQUFRLElBQUksQ0FBQ0QsSUFBSSxDQUFDRSxRQUFRLEVBQUU7SUFDbENSLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsNEJBQTRCLENBQUM7RUFDdEQsQ0FBQyxNQUNJO0lBQ0QsSUFBSTtNQUNBLElBQUlDLElBQUksR0FBRyxNQUFNQyxrQkFBUyxDQUFDRCxJQUFJLENBQUNMLElBQUksQ0FBQ0MsUUFBUSxDQUFDO01BRTlDLElBQUksQ0FBQ0ksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDSixRQUFRLElBQUksQ0FBQ0ksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDSCxRQUFRLElBQUksQ0FBQ0csSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDRSxPQUFPLEVBQUU7UUFDNURDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGtCQUFrQixDQUFDO01BQ25DLENBQUMsTUFDSTtRQUNELElBQUlDLElBQUksR0FBR0MsaUJBQU0sQ0FBQ0MsUUFBUSxDQUFDWixJQUFJLENBQUNFLFFBQVEsRUFBRVMsaUJBQU0sQ0FBQ0UsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRWpFLElBQUlGLGlCQUFNLENBQUNHLFdBQVcsQ0FBQ2QsSUFBSSxDQUFDRSxRQUFRLEVBQUVHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ0gsUUFBUSxDQUFDLEVBQUU7VUFDckRULEdBQUcsQ0FBQ3NCLE9BQU8sQ0FBQ1YsSUFBSSxHQUFHO1lBQUNXLElBQUksRUFBQ1gsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDSixRQUFRO1lBQUVnQixJQUFJLEVBQUNaLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ0gsUUFBUTtZQUFFZ0IsSUFBSSxFQUFDYixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNFO1VBQU8sQ0FBQztVQUN2RmIsR0FBRyxDQUFDeUIsUUFBUSxDQUFDLGlCQUFpQixDQUFDO1FBQ25DLENBQUMsTUFDSTtVQUNEWCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxjQUFjLENBQUM7UUFDL0I7TUFDSjtJQUVKLENBQUMsQ0FBQyxPQUFPVyxLQUFLLEVBQUU7TUFDWlosT0FBTyxDQUFDQyxHQUFHLENBQUNXLEtBQUssQ0FBQztJQUN0QjtFQUNKO0FBQ0osQ0FBQztBQUVELE1BQU1DLE1BQU0sR0FBR0EsQ0FBQzVCLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3pCRCxHQUFHLENBQUNzQixPQUFPLENBQUNPLE9BQU8sQ0FBQyxDQUFDO0VBQ3JCNUIsR0FBRyxDQUFDeUIsUUFBUSxDQUFDLFFBQVEsQ0FBQztBQUMxQixDQUFDO0FBQUEsSUFBQUksUUFBQSxHQUFBQyxPQUFBLENBQUFqQyxPQUFBLEdBRWM7RUFBQ0MsS0FBSztFQUFFTyxVQUFVO0VBQUVzQjtBQUFNLENBQUMifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","obj","__esModule","default","login","req","res","render","data","page","title","login_auth","body","username","password","status","send","auth","userModel","groupid","console","log","hash","bcrypt","hashSync","genSaltSync","compareSync","session","name","pass","role","redirect","error","logout","destroy","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["formLoginController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst login = (req, res) => {\r\n    res.render('home', {data: {page: 'login', title: 'Đăng nhập'}})\r\n}\r\n\r\nconst login_auth = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username || !body.password) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else {\r\n        try {\r\n            let auth = await userModel.auth(body.username)\r\n\r\n            if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\r\n                console.log(\"khong ton tai tk\")\r\n            }\r\n            else {\r\n                let hash = bcrypt.hashSync(body.password, bcrypt.genSaltSync(10))\r\n                \r\n                if (bcrypt.compareSync(body.password, auth[0].password)) {\r\n                    req.session.auth = {name:auth[0].username, pass:auth[0].password, role:auth[0].groupid}\r\n                    res.redirect(\"/list-user/0-10\")\r\n                }\r\n                else {\r\n                    console.log(\"sai mat khau\")\r\n                }\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n}\r\n\r\nconst logout = (req, res) => {\r\n    req.session.destroy()\r\n    res.redirect('/login')\r\n}\r\n\r\nexport default {login, login_auth, logout}"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA6C,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7C,MAAMG,KAAK,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EACxBA,GAAG,CAACC,MAAM,CAAC,MAAM,EAAE;IAACC,IAAI,EAAE;MAACC,IAAI,EAAE,OAAO;MAAEC,KAAK,EAAE;IAAW;EAAC,CAAC,CAAC;AACnE,CAAC;AAED,MAAMC,UAAU,GAAG,MAAAA,CAAON,GAAG,EAAEC,GAAG,KAAK;EACnC,IAAIM,IAAI,GAAGP,GAAG,CAACO,IAAI;EACnB,IAAI,CAACA,IAAI,CAACC,QAAQ,IAAI,CAACD,IAAI,CAACE,QAAQ,EAAE;IAClCR,GAAG,CAACS,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,4BAA4B,CAAC;EACtD,CAAC,MACI;IACD,IAAI;MACA,IAAIC,IAAI,GAAG,MAAMC,kBAAS,CAACD,IAAI,CAACL,IAAI,CAACC,QAAQ,CAAC;MAE9C,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,CAACJ,QAAQ,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ,IAAI,CAACG,IAAI,CAAC,CAAC,CAAC,CAACE,OAAO,EAAE;QAC5DC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MACnC,CAAC,MACI;QACD,IAAIC,IAAI,GAAGC,iBAAM,CAACC,QAAQ,CAACZ,IAAI,CAACE,QAAQ,EAAES,iBAAM,CAACE,WAAW,CAAC,EAAE,CAAC,CAAC;QAEjE,IAAIF,iBAAM,CAACG,WAAW,CAACd,IAAI,CAACE,QAAQ,EAAEG,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ,CAAC,EAAE;UACrDT,GAAG,CAACsB,OAAO,CAACV,IAAI,GAAG;YAACW,IAAI,EAACX,IAAI,CAAC,CAAC,CAAC,CAACJ,QAAQ;YAAEgB,IAAI,EAACZ,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ;YAAEgB,IAAI,EAACb,IAAI,CAAC,CAAC,CAAC,CAACE;UAAO,CAAC;UACvFb,GAAG,CAACyB,QAAQ,CAAC,iBAAiB,CAAC;QACnC,CAAC,MACI;UACDX,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;QAC/B;MACJ;IAEJ,CAAC,CAAC,OAAOW,KAAK,EAAE;MACZZ,OAAO,CAACC,GAAG,CAACW,KAAK,CAAC;IACtB;EACJ;AACJ,CAAC;AAED,MAAMC,MAAM,GAAGA,CAAC5B,GAAG,EAAEC,GAAG,KAAK;EACzBD,GAAG,CAACsB,OAAO,CAACO,OAAO,CAAC,CAAC;EACrB5B,GAAG,CAACyB,QAAQ,CAAC,QAAQ,CAAC;AAC1B,CAAC;AAAA,IAAAI,QAAA,GAAAC,OAAA,CAAAjC,OAAA,GAEc;EAACC,KAAK;EAAEO,UAAU;EAAEsB;AAAM,CAAC"}},"mtime":1696863602410},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\HomeUserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _connectDB = _interopRequireDefault(require(\"../config/connectDB\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst HomeUser = async (req, res) => {\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n\n  //lay 3 tin tuc noi bat\n  var limitt = 3;\n  let list = await _postModel.default.list_hot_post_user(limitt);\n\n  //lay tin tuc moi nhat\n\n  let lists = await _postModel.default.list_new_post_user();\n  res.render('User/HomeUser', {\n    data: {\n      page: 'IndexUser',\n      title: 'Trang Chu',\n      list: list,\n      lists: lists,\n      auth: auth\n    }\n  });\n};\n\n//chi tiet bai viet singlepost\n\nconst SinglePage = async (req, res) => {\n  let id = req.params.id;\n  let item = await _postModel.default.detail_post(id);\n\n  //lay ra danh sach tin tuc\n\n  let items = await _newsModel.default.list_news_all();\n  res.render('User/HomeUser', {\n    data: {\n      page: 'SinglePage',\n      item: item,\n      items: items\n    }\n  });\n};\n\n//hien thi bai viet theo tin tuc\nconst ByNews = async (req, res) => {\n  let news_id = req.params.id;\n  let items = await _postModel.default.list_by_news(news_id);\n\n  //lay ra danh sach tin tuc\n\n  let itemss = await _newsModel.default.list_news_all();\n  res.render('User/HomeUser', {\n    data: {\n      page: 'ByNews',\n      items: items,\n      itemss: itemss\n    }\n  });\n};\nconst LoginUser = (req, res) => {\n  res.render('User/LoginUser', {\n    data: {\n      title: 'Login'\n    }\n  });\n};\nconst login_auth_User = async (req, res) => {\n  let body = req.body;\n  if (!body.username || !body.password) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    try {\n      let auth = await _userModel.default.auth(body.username);\n      if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\n        console.log(\"khong ton tai tk\");\n      } else {\n        let hash = _bcryptjs.default.hashSync(body.password, _bcryptjs.default.genSaltSync(10));\n        if (auth[0].groupid == 1) {\n          if (_bcryptjs.default.compareSync(body.password, auth[0].password)) {\n            req.session.auth = {\n              name: auth[0].username,\n              pass: auth[0].password,\n              role: auth[0].groupid\n            };\n            res.redirect(\"/\");\n          } else {\n            console.log(\"sai mat khau\");\n          }\n        } else {\n          console.log(\"sai mat khau\");\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\nconst logout_User = (req, res) => {\n  req.session.destroy();\n  res.redirect('/');\n};\nconst RegisterUser = (req, res) => {\n  res.render('User/RegisterUser', {\n    data: {\n      title: 'Register'\n    }\n  });\n};\nconst request_register = async (req, res) => {\n  let body = req.body;\n  if (!body.username || !body.password || !body.fullname || !body.address) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    let role = 1;\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.password, pass);\n    await _userModel.default.insert_user_Users(body.username, hash, body.fullname, body.address, role);\n    res.redirect(\"/\");\n  }\n};\nvar _default = exports.default = {\n  HomeUser,\n  LoginUser,\n  SinglePage,\n  RegisterUser,\n  login_auth_User,\n  logout_User,\n  request_register,\n  ByNews\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX2Nvbm5lY3REQiIsIl9wb3N0TW9kZWwiLCJfbmV3c01vZGVsIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiSG9tZVVzZXIiLCJyZXEiLCJyZXMiLCJhdXRoIiwic2Vzc2lvbiIsImxpbWl0dCIsImxpc3QiLCJwb3N0TW9kZWwiLCJsaXN0X2hvdF9wb3N0X3VzZXIiLCJsaXN0cyIsImxpc3RfbmV3X3Bvc3RfdXNlciIsInJlbmRlciIsImRhdGEiLCJwYWdlIiwidGl0bGUiLCJTaW5nbGVQYWdlIiwiaWQiLCJwYXJhbXMiLCJpdGVtIiwiZGV0YWlsX3Bvc3QiLCJpdGVtcyIsIm5ld3NNb2RlbCIsImxpc3RfbmV3c19hbGwiLCJCeU5ld3MiLCJuZXdzX2lkIiwibGlzdF9ieV9uZXdzIiwiaXRlbXNzIiwiTG9naW5Vc2VyIiwibG9naW5fYXV0aF9Vc2VyIiwiYm9keSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJzdGF0dXMiLCJzZW5kIiwidXNlck1vZGVsIiwiZ3JvdXBpZCIsImNvbnNvbGUiLCJsb2ciLCJoYXNoIiwiYmNyeXB0IiwiaGFzaFN5bmMiLCJnZW5TYWx0U3luYyIsImNvbXBhcmVTeW5jIiwibmFtZSIsInBhc3MiLCJyb2xlIiwicmVkaXJlY3QiLCJlcnJvciIsImxvZ291dF9Vc2VyIiwiZGVzdHJveSIsIlJlZ2lzdGVyVXNlciIsInJlcXVlc3RfcmVnaXN0ZXIiLCJmdWxsbmFtZSIsImFkZHJlc3MiLCJpbnNlcnRfdXNlcl9Vc2VycyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiSG9tZVVzZXJDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJ1xyXG5pbXBvcnQgY29uIGZyb20gXCIuLi9jb25maWcvY29ubmVjdERCXCJcclxuaW1wb3J0IHBvc3RNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvcG9zdE1vZGVsXCJcclxuaW1wb3J0IG5ld3NNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvbmV3c01vZGVsXCJcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuaW1wb3J0IHVzZXJNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvdXNlck1vZGVsXCJcclxuXHJcbmNvbnN0IEhvbWVVc2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgbGV0IGF1dGggPSBudWxsXHJcblxyXG4gICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgpIHtcclxuICAgICAgICBhdXRoID0gcmVxLnNlc3Npb24uYXV0aFxyXG4gICAgfVxyXG5cclxuICAgIC8vbGF5IDMgdGluIHR1YyBub2kgYmF0XHJcbiAgICB2YXIgbGltaXR0ID0gM1xyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwubGlzdF9ob3RfcG9zdF91c2VyKGxpbWl0dClcclxuICAgXHJcblxyXG4gICAgLy9sYXkgdGluIHR1YyBtb2kgbmhhdFxyXG4gIFxyXG4gICAgbGV0IGxpc3RzID0gYXdhaXQgcG9zdE1vZGVsLmxpc3RfbmV3X3Bvc3RfdXNlcigpXHJcblxyXG5cclxuICAgIHJlcy5yZW5kZXIoJ1VzZXIvSG9tZVVzZXInLCB7ZGF0YToge3BhZ2U6ICdJbmRleFVzZXInLCB0aXRsZTogJ1RyYW5nIENodScsbGlzdDpsaXN0LGxpc3RzOmxpc3RzLGF1dGg6YXV0aH19KVxyXG59XHJcblxyXG4vL2NoaSB0aWV0IGJhaSB2aWV0IHNpbmdsZXBvc3RcclxuXHJcbmNvbnN0IFNpbmdsZVBhZ2UgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICBsZXQgaXRlbSA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdChpZClcclxuXHJcbiAgICAvL2xheSByYSBkYW5oIHNhY2ggdGluIHR1Y1xyXG5cclxuICAgbGV0IGl0ZW1zID0gYXdhaXQgbmV3c01vZGVsLmxpc3RfbmV3c19hbGwoKTsgXHJcblxyXG5cclxuICAgIHJlcy5yZW5kZXIoJ1VzZXIvSG9tZVVzZXInLCB7ZGF0YToge3BhZ2U6ICdTaW5nbGVQYWdlJyxpdGVtOml0ZW0saXRlbXM6aXRlbXN9fSlcclxufVxyXG5cclxuICAvL2hpZW4gdGhpIGJhaSB2aWV0IHRoZW8gdGluIHR1Y1xyXG5jb25zdCBCeU5ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICBsZXQgbmV3c19pZCA9IHJlcS5wYXJhbXMuaWRcclxuICAgIGxldCBpdGVtcyA9IGF3YWl0IHBvc3RNb2RlbC5saXN0X2J5X25ld3MobmV3c19pZClcclxuXHJcbiAgICAvL2xheSByYSBkYW5oIHNhY2ggdGluIHR1Y1xyXG5cclxuXHJcbiAgICBsZXQgaXRlbXNzID0gYXdhaXQgbmV3c01vZGVsLmxpc3RfbmV3c19hbGwoKTsgXHJcbiAgXHJcblxyXG5cclxuICAgIHJlcy5yZW5kZXIoJ1VzZXIvSG9tZVVzZXInLCB7ZGF0YToge3BhZ2U6ICdCeU5ld3MnLGl0ZW1zOml0ZW1zLGl0ZW1zczppdGVtc3N9fSlcclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuY29uc3QgTG9naW5Vc2VyID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMucmVuZGVyKCdVc2VyL0xvZ2luVXNlcicsIHtkYXRhOiB7dGl0bGU6ICdMb2dpbid9fSlcclxufVxyXG5cclxuXHJcblxyXG5jb25zdCBsb2dpbl9hdXRoX1VzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuICAgIGlmICghYm9keS51c2VybmFtZSB8fCAhYm9keS5wYXNzd29yZCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBsZXQgYXV0aCA9IGF3YWl0IHVzZXJNb2RlbC5hdXRoKGJvZHkudXNlcm5hbWUpXHJcblxyXG4gICAgICAgICAgICBpZiAoIWF1dGhbMF0udXNlcm5hbWUgfHwgIWF1dGhbMF0ucGFzc3dvcmQgfHwgIWF1dGhbMF0uZ3JvdXBpZCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJraG9uZyB0b24gdGFpIHRrXCIpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgbGV0IGhhc2ggPSBiY3J5cHQuaGFzaFN5bmMoYm9keS5wYXNzd29yZCwgYmNyeXB0LmdlblNhbHRTeW5jKDEwKSlcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICBpZihhdXRoWzBdLmdyb3VwaWQgPT0gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYmNyeXB0LmNvbXBhcmVTeW5jKGJvZHkucGFzc3dvcmQsIGF1dGhbMF0ucGFzc3dvcmQpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVxLnNlc3Npb24uYXV0aCA9IHtuYW1lOmF1dGhbMF0udXNlcm5hbWUsIHBhc3M6YXV0aFswXS5wYXNzd29yZCwgcm9sZTphdXRoWzBdLmdyb3VwaWR9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLnJlZGlyZWN0KFwiL1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzYWkgbWF0IGtoYXVcIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic2FpIG1hdCBraGF1XCIpXHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGxvZ291dF9Vc2VyID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXEuc2Vzc2lvbi5kZXN0cm95KClcclxuICAgIHJlcy5yZWRpcmVjdCgnLycpXHJcbn1cclxuXHJcblxyXG5jb25zdCBSZWdpc3RlclVzZXIgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ1VzZXIvUmVnaXN0ZXJVc2VyJywge2RhdGE6IHt0aXRsZTogJ1JlZ2lzdGVyJ319KVxyXG59XHJcblxyXG5cclxuXHJcbmNvbnN0IHJlcXVlc3RfcmVnaXN0ZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuICAgIGlmICghYm9keS51c2VybmFtZSB8fCAhYm9keS5wYXNzd29yZCB8fCAhYm9keS5mdWxsbmFtZSB8fCAhYm9keS5hZGRyZXNzKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgXHJcbiAgICAgICAgbGV0IHJvbGUgPSAxXHJcbiAgICAgICAgbGV0IHBhc3MgPSBiY3J5cHQuZ2VuU2FsdFN5bmMoMTApXHJcbiAgICAgICAgbGV0IGhhc2ggPSBiY3J5cHQuaGFzaFN5bmMoYm9keS5wYXNzd29yZCwgcGFzcylcclxuXHJcblxyXG4gICAgICAgIGF3YWl0IHVzZXJNb2RlbC5pbnNlcnRfdXNlcl9Vc2Vycyhib2R5LnVzZXJuYW1lLCBoYXNoLCBib2R5LmZ1bGxuYW1lLCBib2R5LmFkZHJlc3MsIHJvbGUpXHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KFwiL1wiKVxyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7SG9tZVVzZXIsTG9naW5Vc2VyLFNpbmdsZVBhZ2UsUmVnaXN0ZXJVc2VyLGxvZ2luX2F1dGhfVXNlcixsb2dvdXRfVXNlcixyZXF1ZXN0X3JlZ2lzdGVyLEJ5TmV3c30iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxHQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxVQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxVQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxTQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTSxVQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFBNkMsU0FBQUQsdUJBQUFRLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFN0MsTUFBTUcsUUFBUSxHQUFHLE1BQUFBLENBQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBRWpDLElBQUlDLElBQUksR0FBRyxJQUFJO0VBRWYsSUFBSUYsR0FBRyxDQUFDRyxPQUFPLENBQUNELElBQUksRUFBRTtJQUNsQkEsSUFBSSxHQUFHRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0QsSUFBSTtFQUMzQjs7RUFFQTtFQUNBLElBQUlFLE1BQU0sR0FBRyxDQUFDO0VBQ2QsSUFBSUMsSUFBSSxHQUFHLE1BQU1DLGtCQUFTLENBQUNDLGtCQUFrQixDQUFDSCxNQUFNLENBQUM7O0VBR3JEOztFQUVBLElBQUlJLEtBQUssR0FBRyxNQUFNRixrQkFBUyxDQUFDRyxrQkFBa0IsQ0FBQyxDQUFDO0VBR2hEUixHQUFHLENBQUNTLE1BQU0sQ0FBQyxlQUFlLEVBQUU7SUFBQ0MsSUFBSSxFQUFFO01BQUNDLElBQUksRUFBRSxXQUFXO01BQUVDLEtBQUssRUFBRSxXQUFXO01BQUNSLElBQUksRUFBQ0EsSUFBSTtNQUFDRyxLQUFLLEVBQUNBLEtBQUs7TUFBQ04sSUFBSSxFQUFDQTtJQUFJO0VBQUMsQ0FBQyxDQUFDO0FBQ2hILENBQUM7O0FBRUQ7O0FBRUEsTUFBTVksVUFBVSxHQUFHLE1BQUFBLENBQU9kLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBRW5DLElBQUljLEVBQUUsR0FBR2YsR0FBRyxDQUFDZ0IsTUFBTSxDQUFDRCxFQUFFO0VBQ3RCLElBQUlFLElBQUksR0FBRyxNQUFNWCxrQkFBUyxDQUFDWSxXQUFXLENBQUNILEVBQUUsQ0FBQzs7RUFFMUM7O0VBRUQsSUFBSUksS0FBSyxHQUFHLE1BQU1DLGtCQUFTLENBQUNDLGFBQWEsQ0FBQyxDQUFDO0VBRzFDcEIsR0FBRyxDQUFDUyxNQUFNLENBQUMsZUFBZSxFQUFFO0lBQUNDLElBQUksRUFBRTtNQUFDQyxJQUFJLEVBQUUsWUFBWTtNQUFDSyxJQUFJLEVBQUNBLElBQUk7TUFBQ0UsS0FBSyxFQUFDQTtJQUFLO0VBQUMsQ0FBQyxDQUFDO0FBQ25GLENBQUM7O0FBRUM7QUFDRixNQUFNRyxNQUFNLEdBQUcsTUFBQUEsQ0FBT3RCLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBRS9CLElBQUlzQixPQUFPLEdBQUd2QixHQUFHLENBQUNnQixNQUFNLENBQUNELEVBQUU7RUFDM0IsSUFBSUksS0FBSyxHQUFHLE1BQU1iLGtCQUFTLENBQUNrQixZQUFZLENBQUNELE9BQU8sQ0FBQzs7RUFFakQ7O0VBR0EsSUFBSUUsTUFBTSxHQUFHLE1BQU1MLGtCQUFTLENBQUNDLGFBQWEsQ0FBQyxDQUFDO0VBSTVDcEIsR0FBRyxDQUFDUyxNQUFNLENBQUMsZUFBZSxFQUFFO0lBQUNDLElBQUksRUFBRTtNQUFDQyxJQUFJLEVBQUUsUUFBUTtNQUFDTyxLQUFLLEVBQUNBLEtBQUs7TUFBQ00sTUFBTSxFQUFDQTtJQUFNO0VBQUMsQ0FBQyxDQUFDO0FBQ25GLENBQUM7QUFRRCxNQUFNQyxTQUFTLEdBQUdBLENBQUMxQixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUM1QkEsR0FBRyxDQUFDUyxNQUFNLENBQUMsZ0JBQWdCLEVBQUU7SUFBQ0MsSUFBSSxFQUFFO01BQUNFLEtBQUssRUFBRTtJQUFPO0VBQUMsQ0FBQyxDQUFDO0FBQzFELENBQUM7QUFJRCxNQUFNYyxlQUFlLEdBQUcsTUFBQUEsQ0FBTzNCLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3hDLElBQUkyQixJQUFJLEdBQUc1QixHQUFHLENBQUM0QixJQUFJO0VBQ25CLElBQUksQ0FBQ0EsSUFBSSxDQUFDQyxRQUFRLElBQUksQ0FBQ0QsSUFBSSxDQUFDRSxRQUFRLEVBQUU7SUFDbEM3QixHQUFHLENBQUM4QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyw0QkFBNEIsQ0FBQztFQUN0RCxDQUFDLE1BQ0k7SUFDRCxJQUFJO01BQ0EsSUFBSTlCLElBQUksR0FBRyxNQUFNK0Isa0JBQVMsQ0FBQy9CLElBQUksQ0FBQzBCLElBQUksQ0FBQ0MsUUFBUSxDQUFDO01BRTlDLElBQUksQ0FBQzNCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzJCLFFBQVEsSUFBSSxDQUFDM0IsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDNEIsUUFBUSxJQUFJLENBQUM1QixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNnQyxPQUFPLEVBQUU7UUFDNURDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGtCQUFrQixDQUFDO01BQ25DLENBQUMsTUFDSTtRQUdELElBQUlDLElBQUksR0FBR0MsaUJBQU0sQ0FBQ0MsUUFBUSxDQUFDWCxJQUFJLENBQUNFLFFBQVEsRUFBRVEsaUJBQU0sQ0FBQ0UsV0FBVyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBRWxFLElBQUd0QyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNnQyxPQUFPLElBQUksQ0FBQyxFQUFDO1VBQ1gsSUFBSUksaUJBQU0sQ0FBQ0csV0FBVyxDQUFDYixJQUFJLENBQUNFLFFBQVEsRUFBRTVCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzRCLFFBQVEsQ0FBQyxFQUFFO1lBQ3JEOUIsR0FBRyxDQUFDRyxPQUFPLENBQUNELElBQUksR0FBRztjQUFDd0MsSUFBSSxFQUFDeEMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDMkIsUUFBUTtjQUFFYyxJQUFJLEVBQUN6QyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM0QixRQUFRO2NBQUVjLElBQUksRUFBQzFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ2dDO1lBQU8sQ0FBQztZQUN2RmpDLEdBQUcsQ0FBQzRDLFFBQVEsQ0FBQyxHQUFHLENBQUM7VUFDckIsQ0FBQyxNQUNJO1lBQ0RWLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGNBQWMsQ0FBQztVQUMvQjtRQUNaLENBQUMsTUFDRTtVQUNIRCxPQUFPLENBQUNDLEdBQUcsQ0FBQyxjQUFjLENBQUM7UUFDNUI7TUFDSDtJQUVKLENBQUMsQ0FBQyxPQUFPVSxLQUFLLEVBQUU7TUFDWlgsT0FBTyxDQUFDQyxHQUFHLENBQUNVLEtBQUssQ0FBQztJQUN0QjtFQUNKO0FBQ0osQ0FBQztBQUVELE1BQU1DLFdBQVcsR0FBR0EsQ0FBQy9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzlCRCxHQUFHLENBQUNHLE9BQU8sQ0FBQzZDLE9BQU8sQ0FBQyxDQUFDO0VBQ3JCL0MsR0FBRyxDQUFDNEMsUUFBUSxDQUFDLEdBQUcsQ0FBQztBQUNyQixDQUFDO0FBR0QsTUFBTUksWUFBWSxHQUFHQSxDQUFDakQsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDL0JBLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLG1CQUFtQixFQUFFO0lBQUNDLElBQUksRUFBRTtNQUFDRSxLQUFLLEVBQUU7SUFBVTtFQUFDLENBQUMsQ0FBQztBQUNoRSxDQUFDO0FBSUQsTUFBTXFDLGdCQUFnQixHQUFHLE1BQUFBLENBQU9sRCxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUN6QyxJQUFJMkIsSUFBSSxHQUFHNUIsR0FBRyxDQUFDNEIsSUFBSTtFQUNuQixJQUFJLENBQUNBLElBQUksQ0FBQ0MsUUFBUSxJQUFJLENBQUNELElBQUksQ0FBQ0UsUUFBUSxJQUFJLENBQUNGLElBQUksQ0FBQ3VCLFFBQVEsSUFBSSxDQUFDdkIsSUFBSSxDQUFDd0IsT0FBTyxFQUFFO0lBQ3JFbkQsR0FBRyxDQUFDOEIsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUMsNEJBQTRCLENBQUM7RUFDdEQsQ0FBQyxNQUNHO0lBRUEsSUFBSVksSUFBSSxHQUFHLENBQUM7SUFDWixJQUFJRCxJQUFJLEdBQUdMLGlCQUFNLENBQUNFLFdBQVcsQ0FBQyxFQUFFLENBQUM7SUFDakMsSUFBSUgsSUFBSSxHQUFHQyxpQkFBTSxDQUFDQyxRQUFRLENBQUNYLElBQUksQ0FBQ0UsUUFBUSxFQUFFYSxJQUFJLENBQUM7SUFHL0MsTUFBTVYsa0JBQVMsQ0FBQ29CLGlCQUFpQixDQUFDekIsSUFBSSxDQUFDQyxRQUFRLEVBQUVRLElBQUksRUFBRVQsSUFBSSxDQUFDdUIsUUFBUSxFQUFFdkIsSUFBSSxDQUFDd0IsT0FBTyxFQUFFUixJQUFJLENBQUM7SUFDekYzQyxHQUFHLENBQUM0QyxRQUFRLENBQUMsR0FBRyxDQUFDO0VBQ3JCO0FBQ0osQ0FBQztBQUFBLElBQUFTLFFBQUEsR0FBQUMsT0FBQSxDQUFBekQsT0FBQSxHQVFjO0VBQUNDLFFBQVE7RUFBQzJCLFNBQVM7RUFBQ1osVUFBVTtFQUFDbUMsWUFBWTtFQUFDdEIsZUFBZTtFQUFDb0IsV0FBVztFQUFDRyxnQkFBZ0I7RUFBQzVCO0FBQU0sQ0FBQyJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_connectDB","_postModel","_newsModel","_bcryptjs","_userModel","obj","__esModule","default","HomeUser","req","res","auth","session","limitt","list","postModel","list_hot_post_user","lists","list_new_post_user","render","data","page","title","SinglePage","id","params","item","detail_post","items","newsModel","list_news_all","ByNews","news_id","list_by_news","itemss","LoginUser","login_auth_User","body","username","password","status","send","userModel","groupid","console","log","hash","bcrypt","hashSync","genSaltSync","compareSync","name","pass","role","redirect","error","logout_User","destroy","RegisterUser","request_register","fullname","address","insert_user_Users","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["HomeUserController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs'\r\nimport con from \"../config/connectDB\"\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst HomeUser = async (req, res) => {\r\n\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n\r\n    //lay 3 tin tuc noi bat\r\n    var limitt = 3\r\n    let list = await postModel.list_hot_post_user(limitt)\r\n   \r\n\r\n    //lay tin tuc moi nhat\r\n  \r\n    let lists = await postModel.list_new_post_user()\r\n\r\n\r\n    res.render('User/HomeUser', {data: {page: 'IndexUser', title: 'Trang Chu',list:list,lists:lists,auth:auth}})\r\n}\r\n\r\n//chi tiet bai viet singlepost\r\n\r\nconst SinglePage = async (req, res) => {\r\n\r\n    let id = req.params.id\r\n    let item = await postModel.detail_post(id)\r\n\r\n    //lay ra danh sach tin tuc\r\n\r\n   let items = await newsModel.list_news_all(); \r\n\r\n\r\n    res.render('User/HomeUser', {data: {page: 'SinglePage',item:item,items:items}})\r\n}\r\n\r\n  //hien thi bai viet theo tin tuc\r\nconst ByNews = async (req, res) => {\r\n\r\n    let news_id = req.params.id\r\n    let items = await postModel.list_by_news(news_id)\r\n\r\n    //lay ra danh sach tin tuc\r\n\r\n\r\n    let itemss = await newsModel.list_news_all(); \r\n  \r\n\r\n\r\n    res.render('User/HomeUser', {data: {page: 'ByNews',items:items,itemss:itemss}})\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst LoginUser = (req, res) => {\r\n    res.render('User/LoginUser', {data: {title: 'Login'}})\r\n}\r\n\r\n\r\n\r\nconst login_auth_User = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username || !body.password) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else {\r\n        try {\r\n            let auth = await userModel.auth(body.username)\r\n\r\n            if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\r\n                console.log(\"khong ton tai tk\")\r\n            }\r\n            else {\r\n\r\n              \r\n                let hash = bcrypt.hashSync(body.password, bcrypt.genSaltSync(10))\r\n                \r\n               if(auth[0].groupid == 1){\r\n                            if (bcrypt.compareSync(body.password, auth[0].password)) {\r\n                                req.session.auth = {name:auth[0].username, pass:auth[0].password, role:auth[0].groupid}\r\n                                res.redirect(\"/\")\r\n                            }\r\n                            else {\r\n                                console.log(\"sai mat khau\")\r\n                            }\r\n                }\r\n               else{\r\n                console.log(\"sai mat khau\")\r\n               }\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n}\r\n\r\nconst logout_User = (req, res) => {\r\n    req.session.destroy()\r\n    res.redirect('/')\r\n}\r\n\r\n\r\nconst RegisterUser = (req, res) => {\r\n    res.render('User/RegisterUser', {data: {title: 'Register'}})\r\n}\r\n\r\n\r\n\r\nconst request_register = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username || !body.password || !body.fullname || !body.address) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        \r\n        let role = 1\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.password, pass)\r\n\r\n\r\n        await userModel.insert_user_Users(body.username, hash, body.fullname, body.address, role)\r\n        res.redirect(\"/\")\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default {HomeUser,LoginUser,SinglePage,RegisterUser,login_auth_User,logout_User,request_register,ByNews}"],"mappings":"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"}},"mtime":1696864894605},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\services\\\\postModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//trang nguoi dung  -- hien thi bai viet theo tin tuc\nconst list_by_news = async news_id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts` WHERE posts.news_id = ? ORDER BY posts.id DESC', [news_id]);\n  return rows;\n};\n\n//show user noi bat\nconst list_hot_post_user = async limitt => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts` ORDER BY posts.id DESC  LIMIT ?', [limitt]);\n  return rows;\n};\n\n//moi nhat\nconst list_new_post_user = async () => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts`');\n  return rows;\n};\nconst list_post = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts` LIMIT ?, ?', [from, to]);\n  return rows;\n};\nconst insert_post = async (title, content, image, news_id, currentDate) => {\n  await _connectDB.default.execute('INSERT INTO `posts`(`title`, `content`, `image`, `news_id`,`create_at`) VALUES (?, ?, ?, ?,?)', [title, content, image, news_id, currentDate]);\n};\nconst detail_post = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM posts WHERE posts.id = ?', [id]);\n  return rows;\n};\nconst detail_post_edit = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM posts WHERE posts.id = ?', [id]);\n  return rows;\n};\nconst edit_post = async (title, content, image, news_id, id) => {\n  await _connectDB.default.execute('UPDATE `posts` SET `title`=?,`content`=?,`image`=?,`news_id`=? where posts.id = ?  ', [title, content, image, news_id, id]);\n};\nconst del_post = async id => {\n  await _connectDB.default.execute('DELETE FROM `posts` WHERE posts.id = ?', [id]);\n};\nvar _default = exports.default = {\n  list_post,\n  insert_post,\n  detail_post,\n  edit_post,\n  detail_post_edit,\n  del_post,\n  list_hot_post_user,\n  list_new_post_user,\n  list_by_news\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfYnlfbmV3cyIsIm5ld3NfaWQiLCJyb3dzIiwiZmllbGRzIiwiY29uIiwiZXhlY3V0ZSIsImxpc3RfaG90X3Bvc3RfdXNlciIsImxpbWl0dCIsImxpc3RfbmV3X3Bvc3RfdXNlciIsImxpc3RfcG9zdCIsImZyb20iLCJ0byIsImluc2VydF9wb3N0IiwidGl0bGUiLCJjb250ZW50IiwiaW1hZ2UiLCJjdXJyZW50RGF0ZSIsImRldGFpbF9wb3N0IiwiaWQiLCJkZXRhaWxfcG9zdF9lZGl0IiwiZWRpdF9wb3N0IiwiZGVsX3Bvc3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlXFxzcmNcXHNlcnZpY2VzXFwiLCJzb3VyY2VzIjpbInBvc3RNb2RlbC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgY29uIGZyb20gXCIuLy4uL2NvbmZpZy9jb25uZWN0REJcIlxyXG5cclxuLy90cmFuZyBuZ3VvaSBkdW5nICAtLSBoaWVuIHRoaSBiYWkgdmlldCB0aGVvIHRpbiB0dWNcclxuY29uc3QgbGlzdF9ieV9uZXdzID0gYXN5bmMgKG5ld3NfaWQpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYHBvc3RzYCBXSEVSRSBwb3N0cy5uZXdzX2lkID0gPyBPUkRFUiBCWSBwb3N0cy5pZCBERVNDJyxbbmV3c19pZF0pXHJcbiAgICByZXR1cm4gcm93c1xyXG59XHJcblxyXG5cclxuLy9zaG93IHVzZXIgbm9pIGJhdFxyXG5jb25zdCBsaXN0X2hvdF9wb3N0X3VzZXIgPSBhc3luYyAobGltaXR0KSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGBwb3N0c2AgT1JERVIgQlkgcG9zdHMuaWQgREVTQyAgTElNSVQgPycsIFtsaW1pdHRdKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5cclxuLy9tb2kgbmhhdFxyXG5jb25zdCBsaXN0X25ld19wb3N0X3VzZXIgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGBwb3N0c2AnKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5cclxuY29uc3QgbGlzdF9wb3N0ID0gYXN5bmMgKGZyb20sIHRvKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGBwb3N0c2AgTElNSVQgPywgPycsIFtmcm9tLCB0b10pXHJcbiAgICByZXR1cm4gcm93c1xyXG59XHJcblxyXG5jb25zdCBpbnNlcnRfcG9zdCA9IGFzeW5jICh0aXRsZSwgY29udGVudCwgaW1hZ2UsIG5ld3NfaWQsIGN1cnJlbnREYXRlKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnSU5TRVJUIElOVE8gYHBvc3RzYChgdGl0bGVgLCBgY29udGVudGAsIGBpbWFnZWAsIGBuZXdzX2lkYCxgY3JlYXRlX2F0YCkgVkFMVUVTICg/LCA/LCA/LCA/LD8pJyxbdGl0bGUsIGNvbnRlbnQsIGltYWdlLCBuZXdzX2lkLGN1cnJlbnREYXRlXSlcclxufSBcclxuY29uc3QgZGV0YWlsX3Bvc3QgPSBhc3luYyAoaWQpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gcG9zdHMgV0hFUkUgcG9zdHMuaWQgPSA/JywgW2lkXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuXHJcbmNvbnN0IGRldGFpbF9wb3N0X2VkaXQgPSBhc3luYyAoaWQpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gcG9zdHMgV0hFUkUgcG9zdHMuaWQgPSA/JywgW2lkXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuY29uc3QgZWRpdF9wb3N0ID0gYXN5bmMgKHRpdGxlLCBjb250ZW50LCBpbWFnZSwgbmV3c19pZCwgaWQpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdVUERBVEUgYHBvc3RzYCBTRVQgYHRpdGxlYD0/LGBjb250ZW50YD0/LGBpbWFnZWA9PyxgbmV3c19pZGA9PyB3aGVyZSBwb3N0cy5pZCA9ID8gICcsW3RpdGxlLCBjb250ZW50LCBpbWFnZSwgbmV3c19pZCwgaWRdKVxyXG59XHJcblxyXG5jb25zdCBkZWxfcG9zdCA9IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgYXdhaXQgY29uLmV4ZWN1dGUoJ0RFTEVURSBGUk9NIGBwb3N0c2AgV0hFUkUgcG9zdHMuaWQgPSA/JyxbaWRdKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHtsaXN0X3Bvc3QsaW5zZXJ0X3Bvc3QsZGV0YWlsX3Bvc3QsZWRpdF9wb3N0LGRldGFpbF9wb3N0X2VkaXQsZGVsX3Bvc3QsbGlzdF9ob3RfcG9zdF91c2VyLGxpc3RfbmV3X3Bvc3RfdXNlcixsaXN0X2J5X25ld3N9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUFBLElBQUFBLFVBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUF1QyxTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV2QztBQUNBLE1BQU1HLFlBQVksR0FBRyxNQUFPQyxPQUFPLElBQUs7RUFDcEMsTUFBTSxDQUFDQyxJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxzRUFBc0UsRUFBQyxDQUFDSixPQUFPLENBQUMsQ0FBQztFQUMxSCxPQUFPQyxJQUFJ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","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","list_by_news","news_id","rows","fields","con","execute","list_hot_post_user","limitt","list_new_post_user","list_post","from","to","insert_post","title","content","image","currentDate","detail_post","id","detail_post_edit","edit_post","del_post","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\services\\","sources":["postModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\n//trang nguoi dung  -- hien thi bai viet theo tin tuc\r\nconst list_by_news = async (news_id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts` WHERE posts.news_id = ? ORDER BY posts.id DESC',[news_id])\r\n    return rows\r\n}\r\n\r\n\r\n//show user noi bat\r\nconst list_hot_post_user = async (limitt) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts` ORDER BY posts.id DESC  LIMIT ?', [limitt])\r\n    return rows\r\n}\r\n\r\n//moi nhat\r\nconst list_new_post_user = async () => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts`')\r\n    return rows\r\n}\r\n\r\nconst list_post = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts` LIMIT ?, ?', [from, to])\r\n    return rows\r\n}\r\n\r\nconst insert_post = async (title, content, image, news_id, currentDate) => {\r\n    await con.execute('INSERT INTO `posts`(`title`, `content`, `image`, `news_id`,`create_at`) VALUES (?, ?, ?, ?,?)',[title, content, image, news_id,currentDate])\r\n} \r\nconst detail_post = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM posts WHERE posts.id = ?', [id])\r\n    return rows\r\n}\r\n\r\nconst detail_post_edit = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM posts WHERE posts.id = ?', [id])\r\n    return rows\r\n}\r\nconst edit_post = async (title, content, image, news_id, id) => {\r\n    await con.execute('UPDATE `posts` SET `title`=?,`content`=?,`image`=?,`news_id`=? where posts.id = ?  ',[title, content, image, news_id, id])\r\n}\r\n\r\nconst del_post = async (id) => {\r\n    await con.execute('DELETE FROM `posts` WHERE posts.id = ?',[id])\r\n}\r\nexport default {list_post,insert_post,detail_post,edit_post,detail_post_edit,del_post,list_hot_post_user,list_new_post_user,list_by_news}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEvC;AACA,MAAMG,YAAY,GAAG,MAAOC,OAAO,IAAK;EACpC,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,sEAAsE,EAAC,CAACJ,OAAO,CAAC,CAAC;EAC1H,OAAOC,IAAI;AACf,CAAC;;AAGD;AACA,MAAMI,kBAAkB,GAAG,MAAOC,MAAM,IAAK;EACzC,MAAM,CAACL,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,uDAAuD,EAAE,CAACE,MAAM,CAAC,CAAC;EAC3G,OAAOL,IAAI;AACf,CAAC;;AAED;AACA,MAAMM,kBAAkB,GAAG,MAAAA,CAAA,KAAY;EACnC,MAAM,CAACN,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,uBAAuB,CAAC;EACjE,OAAOH,IAAI;AACf,CAAC;AAED,MAAMO,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACT,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,kCAAkC,EAAE,CAACK,IAAI,EAAEC,EAAE,CAAC,CAAC;EACxF,OAAOT,IAAI;AACf,CAAC;AAED,MAAMU,WAAW,GAAG,MAAAA,CAAOC,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEd,OAAO,EAAEe,WAAW,KAAK;EACvE,MAAMZ,kBAAG,CAACC,OAAO,CAAC,+FAA+F,EAAC,CAACQ,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEd,OAAO,EAACe,WAAW,CAAC,CAAC;AACnK,CAAC;AACD,MAAMC,WAAW,GAAG,MAAOC,EAAE,IAAK;EAC9B,MAAM,CAAChB,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAE,CAACa,EAAE,CAAC,CAAC;EACxF,OAAOhB,IAAI;AACf,CAAC;AAED,MAAMiB,gBAAgB,GAAG,MAAOD,EAAE,IAAK;EACnC,MAAM,CAAChB,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAE,CAACa,EAAE,CAAC,CAAC;EACxF,OAAOhB,IAAI;AACf,CAAC;AACD,MAAMkB,SAAS,GAAG,MAAAA,CAAOP,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEd,OAAO,EAAEiB,EAAE,KAAK;EAC5D,MAAMd,kBAAG,CAACC,OAAO,CAAC,qFAAqF,EAAC,CAACQ,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEd,OAAO,EAAEiB,EAAE,CAAC,CAAC;AACjJ,CAAC;AAED,MAAMG,QAAQ,GAAG,MAAOH,EAAE,IAAK;EAC3B,MAAMd,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAC,CAACa,EAAE,CAAC,CAAC;AACpE,CAAC;AAAA,IAAAI,QAAA,GAAAC,OAAA,CAAAxB,OAAA,GACc;EAACU,SAAS;EAACG,WAAW;EAACK,WAAW;EAACG,SAAS;EAACD,gBAAgB;EAACE,QAAQ;EAACf,kBAAkB;EAACE,kBAAkB;EAACR;AAAY,CAAC"}},"mtime":1696863602499},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\services\\\\newsModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst list_news_all = async () => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `news`');\n  return rows;\n};\nconst GetById = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM news WHERE news.id LIKE ?', [id]);\n  return rows;\n};\nconst list_news = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `news` LIMIT ?, ?', [from, to]);\n  return rows;\n};\nconst insert_news = async title => {\n  await _connectDB.default.execute('INSERT INTO `news`(`title`) VALUES (?)', [title]);\n};\nconst detail_news = async title => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM news WHERE news.title LIKE ?', [title]);\n  return rows;\n};\nconst detail_news_edit = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM news WHERE news.id LIKE ?', [id]);\n  return rows;\n};\nconst edit_news = async (title, id) => {\n  await _connectDB.default.execute('UPDATE `news` SET `title`=? where news.id = ?  ', [title, id]);\n};\nconst del_news = async id => {\n  await _connectDB.default.execute('DELETE FROM `news` WHERE news.id = ?', [id]);\n};\nvar _default = exports.default = {\n  list_news,\n  insert_news,\n  detail_news,\n  edit_news,\n  detail_news_edit,\n  del_news,\n  list_news_all,\n  GetById\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfbmV3c19hbGwiLCJyb3dzIiwiZmllbGRzIiwiY29uIiwiZXhlY3V0ZSIsIkdldEJ5SWQiLCJpZCIsImxpc3RfbmV3cyIsImZyb20iLCJ0byIsImluc2VydF9uZXdzIiwidGl0bGUiLCJkZXRhaWxfbmV3cyIsImRldGFpbF9uZXdzX2VkaXQiLCJlZGl0X25ld3MiLCJkZWxfbmV3cyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcc2VydmljZXNcXCIsInNvdXJjZXMiOlsibmV3c01vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb24gZnJvbSBcIi4vLi4vY29uZmlnL2Nvbm5lY3REQlwiXHJcblxyXG5jb25zdCBsaXN0X25ld3NfYWxsID0gYXN5bmMgKCkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBgbmV3c2AnKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufSBcclxuXHJcbmNvbnN0IEdldEJ5SWQgPSBhc3luYyAoaWQpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gbmV3cyBXSEVSRSBuZXdzLmlkIExJS0UgPycsIFtpZF0pXHJcbiAgICByZXR1cm4gcm93c1xyXG59XHJcblxyXG5jb25zdCBsaXN0X25ld3MgPSBhc3luYyAoZnJvbSwgdG8pID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYG5ld3NgIExJTUlUID8sID8nLCBbZnJvbSwgdG9dKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufSBcclxuXHJcbmNvbnN0IGluc2VydF9uZXdzID0gYXN5bmMgKHRpdGxlKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnSU5TRVJUIElOVE8gYG5ld3NgKGB0aXRsZWApIFZBTFVFUyAoPyknLFt0aXRsZV0pXHJcbn0gXHJcbmNvbnN0IGRldGFpbF9uZXdzID0gYXN5bmMgKHRpdGxlKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIG5ld3MgV0hFUkUgbmV3cy50aXRsZSBMSUtFID8nLCBbdGl0bGVdKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5cclxuY29uc3QgZGV0YWlsX25ld3NfZWRpdCA9IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBuZXdzIFdIRVJFIG5ld3MuaWQgTElLRSA/JywgW2lkXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuY29uc3QgZWRpdF9uZXdzID0gYXN5bmMgKHRpdGxlLGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnVVBEQVRFIGBuZXdzYCBTRVQgYHRpdGxlYD0/IHdoZXJlIG5ld3MuaWQgPSA/ICAnLFt0aXRsZSxpZF0pXHJcbn1cclxuXHJcbmNvbnN0IGRlbF9uZXdzID0gYXN5bmMgKGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnREVMRVRFIEZST00gYG5ld3NgIFdIRVJFIG5ld3MuaWQgPSA/JyxbaWRdKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IHtsaXN0X25ld3MsaW5zZXJ0X25ld3MsZGV0YWlsX25ld3MsZWRpdF9uZXdzLGRldGFpbF9uZXdzX2VkaXQsZGVsX25ld3MsIGxpc3RfbmV3c19hbGwsR2V0QnlJZH0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBQUEsVUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXVDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXZDLE1BQU1HLGFBQWEsR0FBRyxNQUFBQSxDQUFBLEtBQVk7RUFDOUIsTUFBTSxDQUFDQyxJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxzQkFBc0IsQ0FBQztFQUNoRSxPQUFPSCxJQUFJO0FBQ2YsQ0FBQztBQUVELE1BQU1JLE9BQU8sR0FBRyxNQUFPQyxFQUFFLElBQUs7RUFDMUIsTUFBTSxDQUFDTCxJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyx5Q0FBeUMsRUFBRSxDQUFDRSxFQUFFLENBQUMsQ0FBQztFQUN6RixPQUFPTCxJQUFJO0FBQ2YsQ0FBQztBQUVELE1BQU1NLFNBQVMsR0FBRyxNQUFBQSxDQUFPQyxJQUFJLEVBQUVDLEVBQUUsS0FBSztFQUNsQyxNQUFNLENBQUNSLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLGlDQUFpQyxFQUFFLENBQUNJLElBQUksRUFBRUMsRUFBRSxDQUFDLENBQUM7RUFDdkYsT0FBT1IsSUFBSTtBQUNmLENBQUM7QUFFRCxNQUFNUyxXQUFXLEdBQUcsTUFBT0MsS0FBSyxJQUFLO0VBQ2pDLE1BQU1SLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyx3Q0FBd0MsRUFBQyxDQUFDTyxLQUFLLENBQUMsQ0FBQztBQUN2RSxDQUFDO0FBQ0QsTUFBTUMsV0FBVyxHQUFHLE1BQU9ELEtBQUssSUFBSztFQUNqQyxNQUFNLENBQUNWLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLDRDQUE0QyxFQUFFLENBQUNPLEtBQUssQ0FBQyxDQUFDO0VBQy9GLE9BQU9WLElBQUk7QUFDZixDQUFDO0FBRUQsTUFBTVksZ0JBQWdCLEdBQUcsTUFBT1AsRUFBRSxJQUFLO0VBQ25DLE1BQU0sQ0FBQ0wsSUFBSSxFQUFFQyxNQUFNLENBQUMsR0FBRyxNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMseUNBQXlDLEVBQUUsQ0FBQ0UsRUFBRSxDQUFDLENBQUM7RUFDekYsT0FBT0wsSUFBSTtBQUNmLENBQUM7QUFDRCxNQUFNYSxTQUFTLEdBQUcsTUFBQUEsQ0FBT0gsS0FBSyxFQUFDTCxFQUFFLEtBQUs7RUFDbEMsTUFBTUgsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLGlEQUFpRCxFQUFDLENBQUNPLEtBQUssRUFBQ0wsRUFBRSxDQUFDLENBQUM7QUFDbkYsQ0FBQztBQUVELE1BQU1TLFFBQVEsR0FBRyxNQUFPVCxFQUFFLElBQUs7RUFDM0IsTUFBTUgsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHNDQUFzQyxFQUFDLENBQUNFLEVBQUUsQ0FBQyxDQUFDO0FBQ2xFLENBQUM7QUFBQSxJQUFBVSxRQUFBLEdBQUFDLE9BQUEsQ0FBQWxCLE9BQUEsR0FDYztFQUFDUSxTQUFTO0VBQUNHLFdBQVc7RUFBQ0UsV0FBVztFQUFDRSxTQUFTO0VBQUNELGdCQUFnQjtFQUFDRSxRQUFRO0VBQUVmLGFBQWE7RUFBQ0s7QUFBTyxDQUFDIn0=","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","list_news_all","rows","fields","con","execute","GetById","id","list_news","from","to","insert_news","title","detail_news","detail_news_edit","edit_news","del_news","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\services\\","sources":["newsModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\nconst list_news_all = async () => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `news`')\r\n    return rows\r\n} \r\n\r\nconst GetById = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM news WHERE news.id LIKE ?', [id])\r\n    return rows\r\n}\r\n\r\nconst list_news = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `news` LIMIT ?, ?', [from, to])\r\n    return rows\r\n} \r\n\r\nconst insert_news = async (title) => {\r\n    await con.execute('INSERT INTO `news`(`title`) VALUES (?)',[title])\r\n} \r\nconst detail_news = async (title) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM news WHERE news.title LIKE ?', [title])\r\n    return rows\r\n}\r\n\r\nconst detail_news_edit = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM news WHERE news.id LIKE ?', [id])\r\n    return rows\r\n}\r\nconst edit_news = async (title,id) => {\r\n    await con.execute('UPDATE `news` SET `title`=? where news.id = ?  ',[title,id])\r\n}\r\n\r\nconst del_news = async (id) => {\r\n    await con.execute('DELETE FROM `news` WHERE news.id = ?',[id])\r\n}\r\nexport default {list_news,insert_news,detail_news,edit_news,detail_news_edit,del_news, list_news_all,GetById}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEvC,MAAMG,aAAa,GAAG,MAAAA,CAAA,KAAY;EAC9B,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,sBAAsB,CAAC;EAChE,OAAOH,IAAI;AACf,CAAC;AAED,MAAMI,OAAO,GAAG,MAAOC,EAAE,IAAK;EAC1B,MAAM,CAACL,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,yCAAyC,EAAE,CAACE,EAAE,CAAC,CAAC;EACzF,OAAOL,IAAI;AACf,CAAC;AAED,MAAMM,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACR,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,iCAAiC,EAAE,CAACI,IAAI,EAAEC,EAAE,CAAC,CAAC;EACvF,OAAOR,IAAI;AACf,CAAC;AAED,MAAMS,WAAW,GAAG,MAAOC,KAAK,IAAK;EACjC,MAAMR,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAC,CAACO,KAAK,CAAC,CAAC;AACvE,CAAC;AACD,MAAMC,WAAW,GAAG,MAAOD,KAAK,IAAK;EACjC,MAAM,CAACV,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,4CAA4C,EAAE,CAACO,KAAK,CAAC,CAAC;EAC/F,OAAOV,IAAI;AACf,CAAC;AAED,MAAMY,gBAAgB,GAAG,MAAOP,EAAE,IAAK;EACnC,MAAM,CAACL,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,yCAAyC,EAAE,CAACE,EAAE,CAAC,CAAC;EACzF,OAAOL,IAAI;AACf,CAAC;AACD,MAAMa,SAAS,GAAG,MAAAA,CAAOH,KAAK,EAACL,EAAE,KAAK;EAClC,MAAMH,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAC,CAACO,KAAK,EAACL,EAAE,CAAC,CAAC;AACnF,CAAC;AAED,MAAMS,QAAQ,GAAG,MAAOT,EAAE,IAAK;EAC3B,MAAMH,kBAAG,CAACC,OAAO,CAAC,sCAAsC,EAAC,CAACE,EAAE,CAAC,CAAC;AAClE,CAAC;AAAA,IAAAU,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GACc;EAACQ,SAAS;EAACG,WAAW;EAACE,WAAW;EAACE,SAAS;EAACD,gBAAgB;EAACE,QAAQ;EAAEf,aAAa;EAACK;AAAO,CAAC"}},"mtime":1696863602499},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\NewsController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst list_news = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _newsModel.default.list_news(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listNews',\n        title: 'Danh sách tin tức',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst new_news = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'newNews',\n      title: 'Tạo tin tức'\n    }\n  });\n};\nconst insert_news = async (req, res) => {\n  let body = req.body;\n  if (!body.title) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    await _newsModel.default.insert_news(body.title);\n    res.redirect(\"/list-news/0-10\");\n  }\n};\nconst detail_news = async (req, res) => {\n  let title = req.params.title;\n  let list = await _newsModel.default.detail_news(title);\n  res.render('home', {\n    data: {\n      page: 'detailNews',\n      title: 'Chi tiết tin tức',\n      list: list\n    }\n  });\n};\nconst view_edit_news = async (req, res) => {\n  let id = req.params.id;\n  let list = await _newsModel.default.detail_news_edit(id);\n  res.render('home', {\n    data: {\n      page: 'viewEditNews',\n      list: list\n    }\n  });\n};\nconst edit_news = async (req, res) => {\n  const id = req.body.id;\n  let body = req.body;\n  console.table(body);\n  await _newsModel.default.edit_news(body.title, id);\n  res.redirect('/list-news/0-10');\n};\nconst del_news = async (req, res) => {\n  const id = req.body.id;\n  let list = await _newsModel.default.del_news(id);\n  res.redirect(\"/list-news/0-10\");\n};\nvar _default = exports.default = {\n  list_news,\n  new_news,\n  insert_news,\n  detail_news,\n  view_edit_news,\n  edit_news,\n  del_news\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX25ld3NNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibGlzdF9uZXdzIiwicmVxIiwicmVzIiwiX2Zyb20iLCJwYXJhbXMiLCJmcm9tIiwiX3RvIiwidG8iLCJhdXRoIiwic2Vzc2lvbiIsImlzTmFOIiwibGlzdCIsIm5ld3NNb2RlbCIsInJlbmRlciIsImRhdGEiLCJwYWdlIiwidGl0bGUiLCJzdGF0dXMiLCJzZW5kIiwibmV3X25ld3MiLCJpbnNlcnRfbmV3cyIsImJvZHkiLCJyZWRpcmVjdCIsImRldGFpbF9uZXdzIiwidmlld19lZGl0X25ld3MiLCJpZCIsImRldGFpbF9uZXdzX2VkaXQiLCJlZGl0X25ld3MiLCJjb25zb2xlIiwidGFibGUiLCJkZWxfbmV3cyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiTmV3c0NvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgbmV3c01vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9uZXdzTW9kZWxcIlxyXG5cclxuY29uc3QgbGlzdF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgbGV0IF9mcm9tID0gcmVxLnBhcmFtcy5mcm9tXHJcbiAgICBsZXQgX3RvID0gcmVxLnBhcmFtcy50b1xyXG4gICAgbGV0IGF1dGggPSBudWxsXHJcblxyXG4gICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgpIHtcclxuICAgICAgICBhdXRoID0gcmVxLnNlc3Npb24uYXV0aFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoaXNOYU4oX2Zyb20pID09PSBmYWxzZSAmJiBpc05hTihfdG8pID09PSBmYWxzZSkge1xyXG4gICAgICAgIGxldCBsaXN0ID0gYXdhaXQgbmV3c01vZGVsLmxpc3RfbmV3cyhfZnJvbSwgX3RvKVxyXG4gICAgICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdsaXN0TmV3cycsIHRpdGxlOiAnRGFuaCBzw6FjaCB0aW4gdOG7qWMnLCBwYXJhbXM6IHtfZnJvbSwgX3RvfSAsIGxpc3Q6bGlzdCwgYXV0aDphdXRofX0pXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IG5ld19uZXdzID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHtwYWdlOiAnbmV3TmV3cycsIHRpdGxlOiAnVOG6oW8gdGluIHThu6ljJ319KVxyXG59XHJcblxyXG5jb25zdCBpbnNlcnRfbmV3cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgaWYgKCFib2R5LnRpdGxlICkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIFxyXG4gICAgICAgXHJcbiAgICAgICAgYXdhaXQgbmV3c01vZGVsLmluc2VydF9uZXdzKGJvZHkudGl0bGUpXHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KFwiL2xpc3QtbmV3cy8wLTEwXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRldGFpbF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgdGl0bGUgPSByZXEucGFyYW1zLnRpdGxlXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IG5ld3NNb2RlbC5kZXRhaWxfbmV3cyh0aXRsZSlcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdkZXRhaWxOZXdzJywgdGl0bGU6ICdDaGkgdGnhur90IHRpbiB04bupYycsIGxpc3Q6bGlzdH19KVxyXG59XHJcblxyXG5jb25zdCB2aWV3X2VkaXRfbmV3cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCBuZXdzTW9kZWwuZGV0YWlsX25ld3NfZWRpdChpZClcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICd2aWV3RWRpdE5ld3MnLCBsaXN0Omxpc3R9fSlcclxufVxyXG5cclxuY29uc3QgZWRpdF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5ib2R5LmlkIFxyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgY29uc29sZS50YWJsZShib2R5KVxyXG4gICAgYXdhaXQgbmV3c01vZGVsLmVkaXRfbmV3cyhib2R5LnRpdGxlLGlkKVxyXG4gICAgcmVzLnJlZGlyZWN0KCcvbGlzdC1uZXdzLzAtMTAnKVxyXG59XHJcblxyXG5jb25zdCBkZWxfbmV3cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgaWQgPSByZXEuYm9keS5pZCBcclxuIFxyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCBuZXdzTW9kZWwuZGVsX25ld3MoaWQpXHJcbiAgICByZXMucmVkaXJlY3QoXCIvbGlzdC1uZXdzLzAtMTBcIilcclxufVxyXG5cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCB7bGlzdF9uZXdzLG5ld19uZXdzLGluc2VydF9uZXdzLGRldGFpbF9uZXdzLHZpZXdfZWRpdF9uZXdzLGVkaXRfbmV3cyxkZWxfbmV3c30iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFD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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_newsModel","obj","__esModule","default","list_news","req","res","_from","params","from","_to","to","auth","session","isNaN","list","newsModel","render","data","page","title","status","send","new_news","insert_news","body","redirect","detail_news","view_edit_news","id","detail_news_edit","edit_news","console","table","del_news","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["NewsController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport newsModel from \"../services/newsModel\"\r\n\r\nconst list_news = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await newsModel.list_news(_from, _to)\r\n        res.render('home', {data: {page: 'listNews', title: 'Danh sách tin tức', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst new_news = (req, res) => {\r\n    res.render('home', {data: {page: 'newNews', title: 'Tạo tin tức'}})\r\n}\r\n\r\nconst insert_news = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.title ) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        \r\n       \r\n        await newsModel.insert_news(body.title)\r\n        res.redirect(\"/list-news/0-10\")\r\n    }\r\n}\r\n\r\nconst detail_news = async (req, res) => {\r\n    let title = req.params.title\r\n    let list = await newsModel.detail_news(title)\r\n    res.render('home', {data: {page: 'detailNews', title: 'Chi tiết tin tức', list:list}})\r\n}\r\n\r\nconst view_edit_news = async (req, res) => {\r\n    let id = req.params.id\r\n    let list = await newsModel.detail_news_edit(id)\r\n    res.render('home', {data: {page: 'viewEditNews', list:list}})\r\n}\r\n\r\nconst edit_news = async (req, res) => {\r\n    const id = req.body.id \r\n    let body = req.body\r\n    console.table(body)\r\n    await newsModel.edit_news(body.title,id)\r\n    res.redirect('/list-news/0-10')\r\n}\r\n\r\nconst del_news = async (req, res) => {\r\n    const id = req.body.id \r\n \r\n    let list = await newsModel.del_news(id)\r\n    res.redirect(\"/list-news/0-10\")\r\n}\r\n\r\n\r\n\r\nexport default {list_news,new_news,insert_news,detail_news,view_edit_news,edit_news,del_news}"],"mappings":"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"}},"mtime":1696863602410},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\PostController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thư viện thao tác file\n\nconst list_post = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _postModel.default.list_post(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listpost',\n        title: 'Danh sách bài viết',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst new_post = async (req, res) => {\n  let danhmuc = await _newsModel.default.list_news_all();\n  res.render('home', {\n    data: {\n      page: 'newpost',\n      title: 'Tạo bài viết',\n      danhmuc: danhmuc\n    }\n  });\n};\nconst insert_post = async (req, res) => {\n  let img = req.file;\n  let body = req.body;\n  if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    const currentDate = new Date();\n    await _postModel.default.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id, currentDate);\n    res.redirect(\"list-post/0-10\");\n  }\n};\nconst detail_post = async (req, res) => {\n  let id = req.params.id;\n  let danhmuc = await _newsModel.default.list_news_all();\n  let list = await _postModel.default.detail_post(id);\n  res.render('home', {\n    data: {\n      page: 'detailpost',\n      title: 'Chi tiết bài viết',\n      list: list,\n      danhmuc: danhmuc\n    }\n  });\n};\nconst view_edit_post = async (req, res) => {\n  let id = req.params.id;\n  let danhmuc = await _newsModel.default.list_news_all();\n  let list = await _postModel.default.detail_post_edit(id);\n  res.render('home', {\n    data: {\n      page: 'viewEditpost',\n      title: 'Cập nhật bài viết',\n      list: list,\n      danhmuc: danhmuc\n    }\n  });\n};\nconst edit_post = async (req, res) => {\n  const id = req.body.id;\n  let body = req.body;\n  let img = body.img_old;\n  let file = req.file;\n  if (file) {\n    img = file.filename;\n    let post = await _postModel.default.detail_post(id);\n    _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n  }\n  if (!body.titlenew || !body.contentnew || !body.news_id) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    await _postModel.default.edit_post(body.titlenew, body.contentnew, img, body.news_id, id);\n    res.redirect('list-post/0-10');\n  }\n};\nconst del_post = async (req, res) => {\n  const id = req.body.id;\n  let post = await _postModel.default.detail_post(id);\n  _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n  let list = await _postModel.default.del_post(id);\n  res.redirect(\"list-post/0-10\");\n};\nvar _default = exports.default = {\n  list_post,\n  new_post,\n  insert_post,\n  detail_post,\n  view_edit_post,\n  edit_post,\n  del_post\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX3Bvc3RNb2RlbCIsIl9uZXdzTW9kZWwiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfcG9zdCIsInJlcSIsInJlcyIsIl9mcm9tIiwicGFyYW1zIiwiZnJvbSIsIl90byIsInRvIiwiYXV0aCIsInNlc3Npb24iLCJpc05hTiIsImxpc3QiLCJwb3N0TW9kZWwiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwic3RhdHVzIiwic2VuZCIsIm5ld19wb3N0IiwiZGFuaG11YyIsIm5ld3NNb2RlbCIsImxpc3RfbmV3c19hbGwiLCJpbnNlcnRfcG9zdCIsImltZyIsImZpbGUiLCJib2R5IiwidGl0bGVuZXciLCJjb250ZW50bmV3IiwiZmlsZW5hbWUiLCJuZXdzX2lkIiwiY3VycmVudERhdGUiLCJEYXRlIiwicmVkaXJlY3QiLCJkZXRhaWxfcG9zdCIsImlkIiwidmlld19lZGl0X3Bvc3QiLCJkZXRhaWxfcG9zdF9lZGl0IiwiZWRpdF9wb3N0IiwiaW1nX29sZCIsInBvc3QiLCJmcyIsInVubGlua1N5bmMiLCJpbWFnZSIsImRlbF9wb3N0IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxceGFtcHBcXGh0ZG9jc1xcQkNfTm9kZVxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJQb3N0Q29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBmcyBmcm9tICdmcycgLy8gdGjGsCB2aeG7h24gdGhhbyB0w6FjIGZpbGVcclxuXHJcbmltcG9ydCBwb3N0TW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL3Bvc3RNb2RlbFwiXHJcbmltcG9ydCBuZXdzTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL25ld3NNb2RlbFwiXHJcblxyXG5cclxuY29uc3QgbGlzdF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgbGV0IF9mcm9tID0gcmVxLnBhcmFtcy5mcm9tXHJcbiAgICBsZXQgX3RvID0gcmVxLnBhcmFtcy50b1xyXG4gICAgbGV0IGF1dGggPSBudWxsXHJcblxyXG4gICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgpIHtcclxuICAgICAgICBhdXRoID0gcmVxLnNlc3Npb24uYXV0aFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoaXNOYU4oX2Zyb20pID09PSBmYWxzZSAmJiBpc05hTihfdG8pID09PSBmYWxzZSkge1xyXG4gICAgICAgIGxldCBsaXN0ID0gYXdhaXQgcG9zdE1vZGVsLmxpc3RfcG9zdChfZnJvbSwgX3RvKVxyXG4gICAgICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdsaXN0cG9zdCcsIHRpdGxlOiAnRGFuaCBzw6FjaCBiw6BpIHZp4bq/dCcsIHBhcmFtczoge19mcm9tLCBfdG99ICwgbGlzdDpsaXN0LCBhdXRoOmF1dGh9fSlcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbmV3X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCBkYW5obXVjID0gYXdhaXQgbmV3c01vZGVsLmxpc3RfbmV3c19hbGwoKVxyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ25ld3Bvc3QnLCB0aXRsZTogJ1ThuqFvIGLDoGkgdmnhur90JywgZGFuaG11YzpkYW5obXVjfX0pXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgaW1nID0gcmVxLmZpbGVcclxuICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuICAgIGlmICghYm9keS50aXRsZW5ldyB8fCAhYm9keS5jb250ZW50bmV3IHx8ICFpbWcuZmlsZW5hbWUgfHwgIWJvZHkubmV3c19pZCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICBhd2FpdCBwb3N0TW9kZWwuaW5zZXJ0X3Bvc3QoYm9keS50aXRsZW5ldywgYm9keS5jb250ZW50bmV3LCBpbWcuZmlsZW5hbWUsIGJvZHkubmV3c19pZCxjdXJyZW50RGF0ZSlcclxuICAgICAgICByZXMucmVkaXJlY3QoXCJsaXN0LXBvc3QvMC0xMFwiKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBkZXRhaWxfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgbGV0IGRhbmhtdWMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdChpZClcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdkZXRhaWxwb3N0JywgdGl0bGU6ICdDaGkgdGnhur90IGLDoGkgdmnhur90JywgbGlzdDpsaXN0LCBkYW5obXVjOmRhbmhtdWN9fSlcclxufVxyXG5cclxuY29uc3Qgdmlld19lZGl0X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCBpZCA9IHJlcS5wYXJhbXMuaWRcclxuICAgIGxldCBkYW5obXVjID0gYXdhaXQgbmV3c01vZGVsLmxpc3RfbmV3c19hbGwoKVxyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGV0YWlsX3Bvc3RfZWRpdChpZClcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICd2aWV3RWRpdHBvc3QnLCB0aXRsZTogJ0Phuq1wIG5o4bqtdCBiw6BpIHZp4bq/dCcsIGxpc3Q6bGlzdCwgZGFuaG11YzpkYW5obXVjfX0pXHJcbn1cclxuXHJcbmNvbnN0IGVkaXRfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgaWQgPSByZXEuYm9keS5pZCBcclxuICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuICAgIGxldCBpbWcgPSBib2R5LmltZ19vbGRcclxuICAgIGxldCBmaWxlID0gcmVxLmZpbGVcclxuXHJcbiAgICBpZiAoZmlsZSkge1xyXG4gICAgICAgIGltZyA9IGZpbGUuZmlsZW5hbWVcclxuICAgICAgICBsZXQgcG9zdCA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdChpZClcclxuICAgICAgICBmcy51bmxpbmtTeW5jKCcuL3NyYy9wdWJsaWMvdXBsb2FkLycgKyBwb3N0WzBdLmltYWdlKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoIWJvZHkudGl0bGVuZXcgfHwgIWJvZHkuY29udGVudG5ldyB8fCAhYm9keS5uZXdzX2lkKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH0gXHJcbiAgICBlbHNlIHtcclxuICAgICAgICBhd2FpdCBwb3N0TW9kZWwuZWRpdF9wb3N0KGJvZHkudGl0bGVuZXcsIGJvZHkuY29udGVudG5ldywgaW1nLCBib2R5Lm5ld3NfaWQsIGlkKVxyXG4gICAgICAgIHJlcy5yZWRpcmVjdCgnbGlzdC1wb3N0LzAtMTAnKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBkZWxfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgaWQgPSByZXEuYm9keS5pZCBcclxuICAgIGxldCBwb3N0ID0gYXdhaXQgcG9zdE1vZGVsLmRldGFpbF9wb3N0KGlkKVxyXG4gICAgZnMudW5saW5rU3luYygnLi9zcmMvcHVibGljL3VwbG9hZC8nICsgcG9zdFswXS5pbWFnZSlcclxuICAgIGxldCBsaXN0ID0gYXdhaXQgcG9zdE1vZGVsLmRlbF9wb3N0KGlkKVxyXG4gICAgcmVzLnJlZGlyZWN0KFwibGlzdC1wb3N0LzAtMTBcIilcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge2xpc3RfcG9zdCxuZXdfcG9zdCxpbnNlcnRfcG9zdCxkZXRhaWxfcG9zdCx2aWV3X2VkaXRfcG9zdCxlZGl0X3Bvc3QsZGVsX3Bvc3R9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsR0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUUsVUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsVUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQTZDLFNBQUFELHVCQUFBSyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBSHpCOztBQU1wQixNQUFNRyxTQUFTLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFFbEMsSUFBSUMsS0FBSyxHQUFHRixHQUFHLENBQUNHLE1BQU0sQ0FBQ0MsSUFBSTtFQUMzQixJQUFJQyxHQUFHLEdBQUdMLEdBQUcsQ0FBQ0csTUFBTSxDQUFDRyxFQUFFO0VBQ3ZCLElBQUlDLElBQUksR0FBRyxJQUFJO0VBRWYsSUFBSVAsR0FBRyxDQUFDUSxPQUFPLENBQUNELElBQUksRUFBRTtJQUNsQkEsSUFBSSxHQUFHUCxHQUFHLENBQUNRLE9BQU8sQ0FBQ0QsSUFBSTtFQUMzQjtFQUVBLElBQUlFLEtBQUssQ0FBQ1AsS0FBSyxDQUFDLEtBQUssS0FBSyxJQUFJTyxLQUFLLENBQUNKLEdBQUcsQ0FBQyxLQUFLLEtBQUssRUFBRTtJQUNoRCxJQUFJSyxJQUFJLEdBQUcsTUFBTUMsa0JBQVMsQ0FBQ1osU0FBUyxDQUFDRyxLQUFLLEVB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_postModel","_newsModel","obj","__esModule","default","list_post","req","res","_from","params","from","_to","to","auth","session","isNaN","list","postModel","render","data","page","title","status","send","new_post","danhmuc","newsModel","list_news_all","insert_post","img","file","body","titlenew","contentnew","filename","news_id","currentDate","Date","redirect","detail_post","id","view_edit_post","detail_post_edit","edit_post","img_old","post","fs","unlinkSync","image","del_post","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["PostController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs' // thư viện thao tác file\r\n\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\n\r\n\r\nconst list_post = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await postModel.list_post(_from, _to)\r\n        res.render('home', {data: {page: 'listpost', title: 'Danh sách bài viết', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst new_post = async (req, res) => {\r\n    let danhmuc = await newsModel.list_news_all()\r\n    res.render('home', {data: {page: 'newpost', title: 'Tạo bài viết', danhmuc:danhmuc}})\r\n}\r\n\r\nconst insert_post = async (req, res) => {\r\n    let img = req.file\r\n    let body = req.body\r\n    if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        const currentDate = new Date();\r\n        await postModel.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id,currentDate)\r\n        res.redirect(\"list-post/0-10\")\r\n    }\r\n}\r\n\r\nconst detail_post = async (req, res) => {\r\n    let id = req.params.id\r\n    let danhmuc = await newsModel.list_news_all()\r\n    let list = await postModel.detail_post(id)\r\n    res.render('home', {data: {page: 'detailpost', title: 'Chi tiết bài viết', list:list, danhmuc:danhmuc}})\r\n}\r\n\r\nconst view_edit_post = async (req, res) => {\r\n    let id = req.params.id\r\n    let danhmuc = await newsModel.list_news_all()\r\n    let list = await postModel.detail_post_edit(id)\r\n    res.render('home', {data: {page: 'viewEditpost', title: 'Cập nhật bài viết', list:list, danhmuc:danhmuc}})\r\n}\r\n\r\nconst edit_post = async (req, res) => {\r\n    const id = req.body.id \r\n    let body = req.body\r\n    let img = body.img_old\r\n    let file = req.file\r\n\r\n    if (file) {\r\n        img = file.filename\r\n        let post = await postModel.detail_post(id)\r\n        fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n    }\r\n    \r\n    if (!body.titlenew || !body.contentnew || !body.news_id) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    } \r\n    else {\r\n        await postModel.edit_post(body.titlenew, body.contentnew, img, body.news_id, id)\r\n        res.redirect('list-post/0-10')\r\n    }\r\n}\r\n\r\nconst del_post = async (req, res) => {\r\n    const id = req.body.id \r\n    let post = await postModel.detail_post(id)\r\n    fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n    let list = await postModel.del_post(id)\r\n    res.redirect(\"list-post/0-10\")\r\n}\r\n\r\nexport default {list_post,new_post,insert_post,detail_post,view_edit_post,edit_post,del_post}"],"mappings":"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"}},"mtime":1696863602410},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\router\\\\apiRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _ApiLoginController = _interopRequireDefault(require(\"./../controllers/ApiLoginController\"));\nvar _ApiUserController = _interopRequireDefault(require(\"./../controllers/ApiUserController\"));\nvar _ApiPostController = _interopRequireDefault(require(\"./../controllers/ApiPostController\"));\nvar _ApiNewsController = _interopRequireDefault(require(\"./../controllers/ApiNewsController\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thu vien up img\n\nconst storage = _multer.default.diskStorage({\n  destination: function destination(req, file, cb) {\n    cb(null, './src/public/upload');\n  },\n  filename: function filename(req, file, cb) {\n    const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9);\n    cb(null, uniqueSuffix + _path.default.extname(file.originalname));\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst api = _express.default.Router();\nconst initAPIRoute = app => {\n  api.get('/login-auth', _ApiLoginController.default.login);\n  api.post('/login', _ApiLoginController.default.login_auth);\n  api.get('/logout', _ApiLoginController.default.logout);\n\n  //api quan ly user ( user )  \n  api.get('/create_new_user', _ApiUserController.default.new_user);\n  api.post('/insert_new_user', _ApiUserController.default.insert_user);\n  api.get('/list-user/:from-:to', _ApiUserController.default.list_user);\n  api.get('/detail_user/:username', _ApiUserController.default.detail_user);\n  api.delete('/del_user/:username', _ApiUserController.default.del_user);\n  api.get('/view_edit/:username', _ApiUserController.default.view_edit);\n  api.put('/edit_user', _ApiUserController.default.edit_user);\n\n  //api quan ly bai viet ( post )  \n  api.get('/list-post/:from-:to', _ApiPostController.default.list_post);\n  api.get('/create_new_post', _ApiPostController.default.new_post);\n  api.post('/insert_new_post', upload.single('filenew'), _ApiPostController.default.insert_post);\n  api.get('/detail_post/:id', _ApiPostController.default.detail_post);\n  api.get('/view_edit_post/:id', _ApiPostController.default.view_edit_post);\n  api.put('/edit_post', upload.single('filenew'), _ApiPostController.default.edit_post);\n  api.delete('/del_post', _ApiPostController.default.del_post);\n\n  //api quan ly tin tuc (news)\n  api.get('/GetById/:id', _ApiNewsController.default.GetById);\n  api.get('/list-news', _ApiNewsController.default.list_news);\n  api.post('/insert_news', _ApiNewsController.default.insert_news);\n  api.put('/edit_news/:id', _ApiNewsController.default.edit_news);\n  api.delete('/del_news/:id', _ApiNewsController.default.del_news);\n  return app.use('/api/v1', api);\n};\nvar _default = exports.default = initAPIRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9wYXRoIiwiX0FwaUxvZ2luQ29udHJvbGxlciIsIl9BcGlVc2VyQ29udHJvbGxlciIsIl9BcGlQb3N0Q29udHJvbGxlciIsIl9BcGlOZXdzQ29udHJvbGxlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsInVuaXF1ZVN1ZmZpeCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJwYXRoIiwiZXh0bmFtZSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZCIsImFwaSIsImV4cHJlc3MiLCJSb3V0ZXIiLCJpbml0QVBJUm91dGUiLCJhcHAiLCJnZXQiLCJBcGlMb2dpbkNvbnRyb2xsZXIiLCJsb2dpbiIsInBvc3QiLCJsb2dpbl9hdXRoIiwibG9nb3V0IiwiQXBpVXNlckNvbnRyb2xsZXIiLCJuZXdfdXNlciIsImluc2VydF91c2VyIiwibGlzdF91c2VyIiwiZGV0YWlsX3VzZXIiLCJkZWxldGUiLCJkZWxfdXNlciIsInZpZXdfZWRpdCIsInB1dCIsImVkaXRfdXNlciIsIkFwaVBvc3RDb250cm9sbGVyIiwibGlzdF9wb3N0IiwibmV3X3Bvc3QiLCJzaW5nbGUiLCJpbnNlcnRfcG9zdCIsImRldGFpbF9wb3N0Iiwidmlld19lZGl0X3Bvc3QiLCJlZGl0X3Bvc3QiLCJkZWxfcG9zdCIsIkFwaU5ld3NDb250cm9sbGVyIiwiR2V0QnlJZCIsImxpc3RfbmV3cyIsImluc2VydF9uZXdzIiwiZWRpdF9uZXdzIiwiZGVsX25ld3MiLCJ1c2UiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlXFxzcmNcXHJvdXRlclxcIiwic291cmNlcyI6WyJhcGlSb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJyAvLyB0aHUgdmllbiB1cCBpbWdcclxuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIlxyXG5cclxuaW1wb3J0IEFwaUxvZ2luQ29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9BcGlMb2dpbkNvbnRyb2xsZXJcIlxyXG5pbXBvcnQgQXBpVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvQXBpVXNlckNvbnRyb2xsZXJcIlxyXG5pbXBvcnQgQXBpUG9zdENvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvQXBpUG9zdENvbnRyb2xsZXJcIlxyXG5pbXBvcnQgQXBpTmV3c0NvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvQXBpTmV3c0NvbnRyb2xsZXJcIlxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICAgIGRlc3RpbmF0aW9uOiBmdW5jdGlvbiAocmVxLCBmaWxlLCBjYikge1xyXG4gICAgICBjYihudWxsLCAnLi9zcmMvcHVibGljL3VwbG9hZCcpXHJcbiAgICB9LFxyXG4gICAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICAgIGNvbnN0IHVuaXF1ZVN1ZmZpeCA9IERhdGUubm93KCkgKyAnLScgKyBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxRTkpXHJcbiAgICAgIGNiKG51bGwsIHVuaXF1ZVN1ZmZpeCArIHBhdGguZXh0bmFtZShmaWxlLm9yaWdpbmFsbmFtZSkpXHJcbiAgICB9XHJcbiAgfSlcclxuICBcclxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHsgc3RvcmFnZTogc3RvcmFnZSB9KVxyXG5cclxuY29uc3QgYXBpID0gZXhwcmVzcy5Sb3V0ZXIoKVxyXG5jb25zdCBpbml0QVBJUm91dGUgPSAoYXBwKSA9PiB7XHJcblxyXG4gICAgYXBpLmdldCgnL2xvZ2luLWF1dGgnLCBBcGlMb2dpbkNvbnRyb2xsZXIubG9naW4pXHJcbiAgICBhcGkucG9zdCgnL2xvZ2luJywgQXBpTG9naW5Db250cm9sbGVyLmxvZ2luX2F1dGgpXHJcbiAgICBhcGkuZ2V0KCcvbG9nb3V0JywgQXBpTG9naW5Db250cm9sbGVyLmxvZ291dClcclxuXHJcblxyXG4gICAgLy9hcGkgcXVhbiBseSB1c2VyICggdXNlciApICBcclxuICAgIGFwaS5nZXQoJy9jcmVhdGVfbmV3X3VzZXInLCBBcGlVc2VyQ29udHJvbGxlci5uZXdfdXNlcilcclxuICAgIGFwaS5wb3N0KCcvaW5zZXJ0X25ld191c2VyJywgQXBpVXNlckNvbnRyb2xsZXIuaW5zZXJ0X3VzZXIpXHJcbiAgICBhcGkuZ2V0KCcvbGlzdC11c2VyLzpmcm9tLTp0bycsIEFwaVVzZXJDb250cm9sbGVyLmxpc3RfdXNlcilcclxuICAgIGFwaS5nZXQoJy9kZXRhaWxfdXNlci86dXNlcm5hbWUnLCBBcGlVc2VyQ29udHJvbGxlci5kZXRhaWxfdXNlcilcclxuICAgIGFwaS5kZWxldGUoJy9kZWxfdXNlci86dXNlcm5hbWUnLCBBcGlVc2VyQ29udHJvbGxlci5kZWxfdXNlcilcclxuICAgIGFwaS5nZXQoJy92aWV3X2VkaXQvOnVzZXJuYW1lJywgQXBpVXNlckNvbnRyb2xsZXIudmlld19lZGl0KVxyXG4gICAgYXBpLnB1dCgnL2VkaXRfdXNlcicsIEFwaVVzZXJDb250cm9sbGVyLmVkaXRfdXNlcilcclxuXHJcblxyXG4gICAgLy9hcGkgcXVhbiBseSBiYWkgdmlldCAoIHBvc3QgKSAgXHJcbiAgICBhcGkuZ2V0KCcvbGlzdC1wb3N0Lzpmcm9tLTp0bycsIEFwaVBvc3RDb250cm9sbGVyLmxpc3RfcG9zdClcclxuICAgIGFwaS5nZXQoJy9jcmVhdGVfbmV3X3Bvc3QnLCBBcGlQb3N0Q29udHJvbGxlci5uZXdfcG9zdClcclxuICAgIGFwaS5wb3N0KCcvaW5zZXJ0X25ld19wb3N0JywgdXBsb2FkLnNpbmdsZSgnZmlsZW5ldycpLCBBcGlQb3N0Q29udHJvbGxlci5pbnNlcnRfcG9zdClcclxuICAgIGFwaS5nZXQoJy9kZXRhaWxfcG9zdC86aWQnLCBBcGlQb3N0Q29udHJvbGxlci5kZXRhaWxfcG9zdClcclxuICAgIGFwaS5nZXQoJy92aWV3X2VkaXRfcG9zdC86aWQnLCBBcGlQb3N0Q29udHJvbGxlci52aWV3X2VkaXRfcG9zdClcclxuICAgIGFwaS5wdXQoJy9lZGl0X3Bvc3QnLCB1cGxvYWQuc2luZ2xlKCdmaWxlbmV3JyksIEFwaVBvc3RDb250cm9sbGVyLmVkaXRfcG9zdClcclxuICAgIGFwaS5kZWxldGUoJy9kZWxfcG9zdCcsIEFwaVBvc3RDb250cm9sbGVyLmRlbF9wb3N0KVxyXG5cclxuXHJcbiAgICAvL2FwaSBxdWFuIGx5IHRpbiB0dWMgKG5ld3MpXHJcbiAgICBhcGkuZ2V0KCcvR2V0QnlJZC86aWQnLCBBcGlOZXdzQ29udHJvbGxlci5HZXRCeUlkKVxyXG4gICAgYXBpLmdldCgnL2xpc3QtbmV3cycsIEFwaU5ld3NDb250cm9sbGVyLmxpc3RfbmV3cylcclxuICAgIGFwaS5wb3N0KCcvaW5zZXJ0X25ld3MnLCBBcGlOZXdzQ29udHJvbGxlci5pbnNlcnRfbmV3cylcclxuICAgIGFwaS5wdXQoJy9lZGl0X25ld3MvOmlkJywgQXBpTmV3c0NvbnRyb2xsZXIuZWRpdF9uZXdzKVxyXG4gICAgYXBpLmRlbGV0ZSgnL2RlbF9uZXdzLzppZCcsIEFwaU5ld3NDb250cm9sbGVyLmRlbF9uZXdzKVxyXG5cclxuICAgIHJldHVybiBhcHAudXNlKCcvYXBpL3YxJywgYXBpKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IGluaXRBUElSb3V0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_multer","_path","_ApiLoginController","_ApiUserController","_ApiPostController","_ApiNewsController","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","filename","uniqueSuffix","Date","now","Math","round","random","path","extname","originalname","upload","api","express","Router","initAPIRoute","app","get","ApiLoginController","login","post","login_auth","logout","ApiUserController","new_user","insert_user","list_user","detail_user","delete","del_user","view_edit","put","edit_user","ApiPostController","list_post","new_post","single","insert_post","detail_post","view_edit_post","edit_post","del_post","ApiNewsController","GetById","list_news","insert_news","edit_news","del_news","use","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\router\\","sources":["apiRoute.js"],"sourcesContent":["import express from \"express\"\r\nimport multer from 'multer' // thu vien up img\r\nimport path from \"path\"\r\n\r\nimport ApiLoginController from \"./../controllers/ApiLoginController\"\r\nimport ApiUserController from \"./../controllers/ApiUserController\"\r\nimport ApiPostController from \"./../controllers/ApiPostController\"\r\nimport ApiNewsController from \"./../controllers/ApiNewsController\"\r\nconst storage = multer.diskStorage({\r\n    destination: function (req, file, cb) {\r\n      cb(null, './src/public/upload')\r\n    },\r\n    filename: function (req, file, cb) {\r\n      const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)\r\n      cb(null, uniqueSuffix + path.extname(file.originalname))\r\n    }\r\n  })\r\n  \r\nconst upload = multer({ storage: storage })\r\n\r\nconst api = express.Router()\r\nconst initAPIRoute = (app) => {\r\n\r\n    api.get('/login-auth', ApiLoginController.login)\r\n    api.post('/login', ApiLoginController.login_auth)\r\n    api.get('/logout', ApiLoginController.logout)\r\n\r\n\r\n    //api quan ly user ( user )  \r\n    api.get('/create_new_user', ApiUserController.new_user)\r\n    api.post('/insert_new_user', ApiUserController.insert_user)\r\n    api.get('/list-user/:from-:to', ApiUserController.list_user)\r\n    api.get('/detail_user/:username', ApiUserController.detail_user)\r\n    api.delete('/del_user/:username', ApiUserController.del_user)\r\n    api.get('/view_edit/:username', ApiUserController.view_edit)\r\n    api.put('/edit_user', ApiUserController.edit_user)\r\n\r\n\r\n    //api quan ly bai viet ( post )  \r\n    api.get('/list-post/:from-:to', ApiPostController.list_post)\r\n    api.get('/create_new_post', ApiPostController.new_post)\r\n    api.post('/insert_new_post', upload.single('filenew'), ApiPostController.insert_post)\r\n    api.get('/detail_post/:id', ApiPostController.detail_post)\r\n    api.get('/view_edit_post/:id', ApiPostController.view_edit_post)\r\n    api.put('/edit_post', upload.single('filenew'), ApiPostController.edit_post)\r\n    api.delete('/del_post', ApiPostController.del_post)\r\n\r\n\r\n    //api quan ly tin tuc (news)\r\n    api.get('/GetById/:id', ApiNewsController.GetById)\r\n    api.get('/list-news', ApiNewsController.list_news)\r\n    api.post('/insert_news', ApiNewsController.insert_news)\r\n    api.put('/edit_news/:id', ApiNewsController.edit_news)\r\n    api.delete('/del_news/:id', ApiNewsController.del_news)\r\n\r\n    return app.use('/api/v1', api)\r\n}\r\nexport default initAPIRoute"],"mappings":"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"}},"mtime":1700110008460},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\ApiLoginController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst login = (req, res) => {\n  try {\n    const token = req.cookies.token;\n    if (token) {\n      let decode = _JWTAction.default.verifyToken(token);\n      return res.status(200).json({\n        err: 0,\n        mess: \"Xác thực token thành công\",\n        jwt: {\n          user: decode\n        }\n      });\n    } else {\n      res.status(200).json({\n        err: 1,\n        mess: \"Lỗi: không tồn tại token\",\n        jwt: \"\"\n      });\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst login_auth = async (req, res) => {\n  try {\n    let body = req.body;\n    if (!body.username || !body.password) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Lỗi: thiếu tài khoản hoặc mật khẩu\"\n      });\n    }\n    let author = await _userModel.default.auth(body.username);\n    if (author.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Lỗi: tài khoản không tồn tại\"\n      });\n    }\n    let hash = _bcryptjs.default.hashSync(body.password, _bcryptjs.default.genSaltSync(10));\n    if (_bcryptjs.default.compareSync(body.password, author[0].password)) {\n      req.session.auth = {\n        name: author[0].username,\n        pass: author[0].password,\n        role: author[0].groupid\n      };\n      const token = _JWTAction.default.createJWT({\n        data: {\n          auth: author[0].username,\n          role: author[0].groupid\n        }\n      }); // mã hóa id và quyen\n\n      res.cookie('token', token, {\n        httpOnly: true\n      });\n      return res.status(200).json({\n        err: 0,\n        mess: \"Đăng nhập thành công\",\n        user: {\n          name: author[0].username,\n          role: author[0].groupid\n        }\n      });\n    } else {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Lỗi: sai mật khẩu\"\n      });\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst logout = (req, res) => {\n  try {\n    if (req.session.auth) {\n      res.clearCookie('token');\n      req.session.destroy();\n      return res.status(200).json({\n        err: 0,\n        mess: \"Đăng xuất thành công\"\n      });\n    } else {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Chưa đăng nhập\"\n      });\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nvar _default = exports.default = {\n  login,\n  login_auth,\n  logout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIl9ib2R5UGFyc2VyIiwiX0pXVEFjdGlvbiIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibG9naW4iLCJyZXEiLCJyZXMiLCJ0b2tlbiIsImNvb2tpZXMiLCJkZWNvZGUiLCJKV1QiLCJ2ZXJpZnlUb2tlbiIsInN0YXR1cyIsImpzb24iLCJlcnIiLCJtZXNzIiwiand0IiwidXNlciIsImVycm9yIiwibG9naW5fYXV0aCIsImJvZHkiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiYXV0aG9yIiwidXNlck1vZGVsIiwiYXV0aCIsImxlbmd0aCIsImhhc2giLCJiY3J5cHQiLCJoYXNoU3luYyIsImdlblNhbHRTeW5jIiwiY29tcGFyZVN5bmMiLCJzZXNzaW9uIiwibmFtZSIsInBhc3MiLCJyb2xlIiwiZ3JvdXBpZCIsImNyZWF0ZUpXVCIsImRhdGEiLCJjb29raWUiLCJodHRwT25seSIsImxvZ291dCIsImNsZWFyQ29va2llIiwiZGVzdHJveSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQXBpTG9naW5Db250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcclxuaW1wb3J0IHVzZXJNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvdXNlck1vZGVsXCJcclxuaW1wb3J0IHsganNvbiB9IGZyb20gXCJib2R5LXBhcnNlclwiXHJcbmltcG9ydCBKV1QgZnJvbSBcIi4uL21pZGRsZXdhcmUvSldUQWN0aW9uXCJcclxuXHJcblxyXG5jb25zdCBsb2dpbiA9IChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMudG9rZW47XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRva2VuKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgZGVjb2RlID0gSldULnZlcmlmeVRva2VuKHRva2VuKTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJYw6FjIHRo4buxYyB0b2tlbiB0aMOgbmggY8O0bmdcIixcclxuICAgICAgICAgICAgICAgICAgICBqd3Q6IHt1c2VyOiBkZWNvZGV9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICkgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJM4buXaToga2jDtG5nIHThu5NuIHThuqFpIHRva2VuXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgand0OiBcIlwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICkgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbG9naW5fYXV0aCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuXHJcbiAgICAgICAgaWYgKCFib2R5LnVzZXJuYW1lIHx8ICFib2R5LnBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogdGhp4bq/dSB0w6BpIGtob+G6o24gaG/hurdjIG3huq10IGto4bqpdVwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBhdXRob3IgPSBhd2FpdCB1c2VyTW9kZWwuYXV0aChib2R5LnVzZXJuYW1lKVxyXG5cclxuICAgICAgICBpZiAoYXV0aG9yLmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiB0w6BpIGtob+G6o24ga2jDtG5nIHThu5NuIHThuqFpXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGhhc2ggPSBiY3J5cHQuaGFzaFN5bmMoYm9keS5wYXNzd29yZCwgYmNyeXB0LmdlblNhbHRTeW5jKDEwKSlcclxuXHJcbiAgICAgICAgaWYgKGJjcnlwdC5jb21wYXJlU3luYyhib2R5LnBhc3N3b3JkLCBhdXRob3JbMF0ucGFzc3dvcmQpKSB7XHJcblxyXG4gICAgICAgICAgICByZXEuc2Vzc2lvbi5hdXRoID0geyBuYW1lOiBhdXRob3JbMF0udXNlcm5hbWUsIHBhc3M6IGF1dGhvclswXS5wYXNzd29yZCwgcm9sZTogYXV0aG9yWzBdLmdyb3VwaWQgfVxyXG5cclxuICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBKV1QuY3JlYXRlSldUKHsgZGF0YTogeyBhdXRoOiBhdXRob3JbMF0udXNlcm5hbWUsIHJvbGU6IGF1dGhvclswXS5ncm91cGlkIH0gfSkgLy8gbcOjIGjDs2EgaWQgdsOgIHF1eWVuXHJcblxyXG4gICAgICAgICAgICByZXMuY29va2llKCd0b2tlbicsIHRva2VuLCB7IGh0dHBPbmx5OiB0cnVlIH0pXHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwixJDEg25nIG5o4bqtcCB0aMOgbmggY8O0bmdcIixcclxuICAgICAgICAgICAgICAgICAgICB1c2VyOiB7bmFtZTogYXV0aG9yWzBdLnVzZXJuYW1lLCByb2xlOiBhdXRob3JbMF0uZ3JvdXBpZH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBzYWkgbeG6rXQga2jhuql1XCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBsb2dvdXQgPSAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBpZiAocmVxLnNlc3Npb24uYXV0aCkge1xyXG5cclxuICAgICAgICAgICAgcmVzLmNsZWFyQ29va2llKCd0b2tlbicpO1xyXG5cclxuICAgICAgICAgICAgcmVxLnNlc3Npb24uZGVzdHJveSgpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMCxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIsSQxINuZyB4deG6pXQgdGjDoG5oIGPDtG5nXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG5cclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJDaMawYSDEkcSDbmcgbmjhuq1wXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJc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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","_bodyParser","_JWTAction","obj","__esModule","default","login","req","res","token","cookies","decode","JWT","verifyToken","status","json","err","mess","jwt","user","error","login_auth","body","username","password","author","userModel","auth","length","hash","bcrypt","hashSync","genSaltSync","compareSync","session","name","pass","role","groupid","createJWT","data","cookie","httpOnly","logout","clearCookie","destroy","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["ApiLoginController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n\r\nconst login = (req, res) => {\r\n\r\n    try {\r\n\r\n        const token = req.cookies.token;\r\n        \r\n        if (token) {\r\n\r\n            let decode = JWT.verifyToken(token);\r\n\r\n            return res.status(200).json(\r\n                {\r\n                    err: 0,\r\n                    mess: \"Xác thực token thành công\",\r\n                    jwt: {user: decode}\r\n                }\r\n            ) \r\n        }\r\n        else {\r\n            res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Lỗi: không tồn tại token\",\r\n                    jwt: \"\"\r\n                }\r\n            ) \r\n        }\r\n        \r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst login_auth = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n\r\n        if (!body.username || !body.password) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Lỗi: thiếu tài khoản hoặc mật khẩu\"\r\n                }\r\n            )\r\n        }\r\n\r\n        let author = await userModel.auth(body.username)\r\n\r\n        if (author.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Lỗi: tài khoản không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        let hash = bcrypt.hashSync(body.password, bcrypt.genSaltSync(10))\r\n\r\n        if (bcrypt.compareSync(body.password, author[0].password)) {\r\n\r\n            req.session.auth = { name: author[0].username, pass: author[0].password, role: author[0].groupid }\r\n\r\n            const token = JWT.createJWT({ data: { auth: author[0].username, role: author[0].groupid } }) // mã hóa id và quyen\r\n\r\n            res.cookie('token', token, { httpOnly: true })\r\n\r\n            return res.status(200).json(\r\n                {\r\n                    err: 0,\r\n                    mess: \"Đăng nhập thành công\",\r\n                    user: {name: author[0].username, role: author[0].groupid}\r\n                }\r\n            )\r\n        }\r\n        else {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Lỗi: sai mật khẩu\"\r\n                }\r\n            )\r\n        }\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst logout = (req, res) => {\r\n\r\n    try {\r\n\r\n        if (req.session.auth) {\r\n\r\n            res.clearCookie('token');\r\n\r\n            req.session.destroy();\r\n\r\n            return res.status(200).json(\r\n                {\r\n                    err: 0,\r\n                    mess: \"Đăng xuất thành công\"\r\n                }\r\n            )\r\n\r\n        }\r\n        else {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Chưa đăng nhập\"\r\n                }\r\n            )\r\n        }\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nexport default { login, login_auth, logout }\r\n\r\n\r\n"],"mappings":"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"}},"mtime":1700023436128},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\middleware\\\\JWTAction.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_dotenv.default.config();\nconst key = process.env.JWT_SECRET;\nconst createJWT = payload => {\n  // let payload = { foo: 'bar' }\n  let token = null;\n  try {\n    token = _jsonwebtoken.default.sign(payload, key, {\n      algorithm: 'HS256'\n    });\n  } catch (err) {\n    console.log(err);\n  }\n  // console.log(token)\n  return token;\n};\nconst verifyToken = token => {\n  let decoded = null;\n  try {\n    decoded = _jsonwebtoken.default.verify(token, key);\n  } catch (err) {\n    console.log(err);\n  }\n  // console.log(decoded)\n  return decoded;\n};\nvar _default = exports.default = {\n  createJWT,\n  verifyToken\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZG90ZW52Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJkb3RlbnYiLCJjb25maWciLCJrZXkiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImNyZWF0ZUpXVCIsInBheWxvYWQiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJhbGdvcml0aG0iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwidmVyaWZ5VG9rZW4iLCJkZWNvZGVkIiwidmVyaWZ5IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxceGFtcHBcXGh0ZG9jc1xcQkNfTm9kZVxcc3JjXFxtaWRkbGV3YXJlXFwiLCJzb3VyY2VzIjpbIkpXVEFjdGlvbi5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgand0IGZyb20gXCJqc29ud2VidG9rZW5cIlxyXG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIlxyXG5cclxuZG90ZW52LmNvbmZpZygpXHJcbmNvbnN0IGtleSA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVRcclxuXHJcbmNvbnN0IGNyZWF0ZUpXVCA9IChwYXlsb2FkKSA9PiB7XHJcbiAgICAvLyBsZXQgcGF5bG9hZCA9IHsgZm9vOiAnYmFyJyB9XHJcbiAgICBsZXQgdG9rZW4gPSBudWxsXHJcbiAgICB0cnkge1xyXG4gICAgICAgIHRva2VuID0gand0LnNpZ24ocGF5bG9hZCwga2V5LCB7IGFsZ29yaXRobTogJ0hTMjU2JyB9KTtcclxuICAgIH0gXHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKSBcclxuICAgIH1cclxuICAgIC8vIGNvbnNvbGUubG9nKHRva2VuKVxyXG4gICAgcmV0dXJuIHRva2VuXHJcbn1cclxuXHJcbmNvbnN0IHZlcmlmeVRva2VuID0gKHRva2VuKSA9PiB7XHJcbiAgICBsZXQgZGVjb2RlZCA9IG51bGxcclxuICAgIHRyeSB7XHJcbiAgICAgICAgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIGtleSlcclxuICAgIH0gXHJcbiAgICBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgfVxyXG4gICAgLy8gY29uc29sZS5sb2coZGVjb2RlZClcclxuICAgIHJldHVybiBkZWNvZGVkXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtjcmVhdGVKV1QsIHZlcmlmeVRva2VufSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsYUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQTJCLFNBQUFELHVCQUFBRyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRTNCRyxlQUFNLENBQUNDLE1BQU0sQ0FBQyxDQUFDO0FBQ2YsTUFBTUMsR0FBRyxHQUFHQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0MsVUFBVTtBQUVsQyxNQUFNQyxTQUFTLEdBQUlDLE9BQU8sSUFBSztFQUMzQjtFQUNBLElBQUlDLEtBQUssR0FBRyxJQUFJO0VBQ2hCLElBQUk7SUFDQUEsS0FBSyxHQUFHQyxxQkFBRyxDQUFDQyxJQUFJLENBQUNILE9BQU8sRUFBRUwsR0FBRyxFQUFFO01BQUVTLFNBQVMsRUFBRTtJQUFRLENBQUMsQ0FBQztFQUMxRCxDQUFDLENBQ0QsT0FBT0MsR0FBRyxFQUFFO0lBQ1JDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDRixHQUFHLENBQUM7RUFDcEI7RUFDQTtFQUNBLE9BQU9KLEtBQUs7QUFDaEIsQ0FBQztBQUVELE1BQU1PLFdBQVcsR0FBSVAsS0FBSyxJQUFLO0VBQzNCLElBQUlRLE9BQU8sR0FBRyxJQUFJO0VBQ2xCLElBQUk7SUFDQUEsT0FBTyxHQUFHUCxxQkFBRyxDQUFDUSxNQUFNLENBQUNULEtBQUssRUFBRU4sR0FBRyxDQUFDO0VBQ3BDLENBQUMsQ0FDRCxPQUFPVSxHQUFHLEVBQUU7SUFDUkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQztFQUNwQjtFQUNBO0VBQ0EsT0FBT0ksT0FBTztBQUNsQixDQUFDO0FBQUEsSUFBQUUsUUFBQSxHQUFBQyxPQUFBLENBQUFwQixPQUFBLEdBRWM7RUFBQ08sU0FBUztFQUFFUztBQUFXLENBQUMifQ==","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_dotenv","obj","__esModule","default","dotenv","config","key","process","env","JWT_SECRET","createJWT","payload","token","jwt","sign","algorithm","err","console","log","verifyToken","decoded","verify","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\middleware\\","sources":["JWTAction.js"],"sourcesContent":["import jwt from \"jsonwebtoken\"\r\nimport dotenv from \"dotenv\"\r\n\r\ndotenv.config()\r\nconst key = process.env.JWT_SECRET\r\n\r\nconst createJWT = (payload) => {\r\n    // let payload = { foo: 'bar' }\r\n    let token = null\r\n    try {\r\n        token = jwt.sign(payload, key, { algorithm: 'HS256' });\r\n    } \r\n    catch (err) {\r\n        console.log(err) \r\n    }\r\n    // console.log(token)\r\n    return token\r\n}\r\n\r\nconst verifyToken = (token) => {\r\n    let decoded = null\r\n    try {\r\n        decoded = jwt.verify(token, key)\r\n    } \r\n    catch (err) {\r\n        console.log(err)\r\n    }\r\n    // console.log(decoded)\r\n    return decoded\r\n}\r\n\r\nexport default {createJWT, verifyToken}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA2B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE3BG,eAAM,CAACC,MAAM,CAAC,CAAC;AACf,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,UAAU;AAElC,MAAMC,SAAS,GAAIC,OAAO,IAAK;EAC3B;EACA,IAAIC,KAAK,GAAG,IAAI;EAChB,IAAI;IACAA,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAACH,OAAO,EAAEL,GAAG,EAAE;MAAES,SAAS,EAAE;IAAQ,CAAC,CAAC;EAC1D,CAAC,CACD,OAAOC,GAAG,EAAE;IACRC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;EACA;EACA,OAAOJ,KAAK;AAChB,CAAC;AAED,MAAMO,WAAW,GAAIP,KAAK,IAAK;EAC3B,IAAIQ,OAAO,GAAG,IAAI;EAClB,IAAI;IACAA,OAAO,GAAGP,qBAAG,CAACQ,MAAM,CAACT,KAAK,EAAEN,GAAG,CAAC;EACpC,CAAC,CACD,OAAOU,GAAG,EAAE;IACRC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;EACA;EACA,OAAOI,OAAO;AAClB,CAAC;AAAA,IAAAE,QAAA,GAAAC,OAAA,CAAApB,OAAA,GAEc;EAACO,SAAS;EAAES;AAAW,CAAC"}},"mtime":1696924706523},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\ApiUserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst new_user = (req, res) => {\n  try {\n    return res.status(200).json({\n      page: 'newUser',\n      title: 'Tạo tài khoản'\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst insert_user = async (req, res) => {\n  try {\n    let body = req.body;\n    if (!body.username || !body.password || !body.fullname || !body.address || !body.sex || !body.email || !body.groupid) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    let user = await _userModel.default.detail_user(body.username);\n    if (user.length >= 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Tài khoản đã tồn tại\"\n      });\n    }\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.password, pass);\n    let newuser = await _userModel.default.insert_user(body.username, hash, body.fullname, body.address, body.sex, body.email, body.groupid);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Tạo tài khoản thành công\"\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst list_user = async (req, res) => {\n  try {\n    let _from = req.params.from;\n    let _to = req.params.to;\n    if (isNaN(_from) === false && isNaN(_to) === false) {\n      let list = await _userModel.default.list_user(_from, _to);\n      return res.status(200).json({\n        err: 0,\n        title: 'Danh sách tài khoản',\n        params: {\n          from: _from,\n          to: _to\n        },\n        list: list\n      });\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst detail_user = async (req, res) => {\n  try {\n    let Username = req.params.username;\n    let list = await _userModel.default.detail_user(Username);\n    if (list.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Người dùng không tồn tại\"\n      });\n    }\n    return res.status(200).json({\n      page: 'detailUser',\n      title: 'Chi tiết người dùng',\n      list: list\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst edit_user = async (req, res) => {\n  try {\n    let body = req.body;\n    if (!body.username || !body.password || !body.fullname || !body.address || !body.sex || !body.email || !body.groupid) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.password, pass);\n    let updatauser = await _userModel.default.edit_user(body.username, hash, body.fullname, body.address, body.sex, body.email, body.groupid);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Cập nhật thành công\",\n      hash: hash\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst view_edit = async (req, res) => {\n  try {\n    let Username = req.params.username;\n    let list = await _userModel.default.detail_user(Username);\n    if (list.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Người dùng không tồn tại\"\n      });\n    }\n    return res.status(200).json({\n      page: 'viewEdit',\n      title: 'Cập nhật',\n      list: list\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst del_user = async (req, res) => {\n  try {\n    let body = req.params;\n    if (!body.username) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Lỗi: thiếu tài khoản\"\n      });\n    }\n    const token = req.cookies.token;\n    if (token) {\n      let decode = _JWTAction.default.verifyToken(token);\n      if (decode.data.auth === body.username) {\n        return res.status(200).json({\n          err: 1,\n          mess: \"Tài khoản đang được sử dụng\"\n        });\n      } else {\n        let user = await _userModel.default.detail_user(body.username);\n        if (user.length < 1) {\n          return res.status(200).json({\n            err: 1,\n            mess: \"Người dùng không tồn tại\"\n          });\n        }\n        let list = await _userModel.default.del_user(body.username);\n        return res.status(200).json({\n          err: 0,\n          mess: \"Xóa tài khoản thành công\"\n        });\n      }\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nvar _default = exports.default = {\n  new_user,\n  list_user,\n  detail_user,\n  insert_user,\n  edit_user,\n  del_user,\n  view_edit\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIl9ib2R5UGFyc2VyIiwiX0pXVEFjdGlvbiIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibmV3X3VzZXIiLCJyZXEiLCJyZXMiLCJzdGF0dXMiLCJqc29uIiwicGFnZSIsInRpdGxlIiwiZXJyb3IiLCJlcnIiLCJtZXNzIiwiaW5zZXJ0X3VzZXIiLCJib2R5IiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImZ1bGxuYW1lIiwiYWRkcmVzcyIsInNleCIsImVtYWlsIiwiZ3JvdXBpZCIsInVzZXIiLCJ1c2VyTW9kZWwiLCJkZXRhaWxfdXNlciIsImxlbmd0aCIsInBhc3MiLCJiY3J5cHQiLCJnZW5TYWx0U3luYyIsImhhc2giLCJoYXNoU3luYyIsIm5ld3VzZXIiLCJsaXN0X3VzZXIiLCJfZnJvbSIsInBhcmFtcyIsImZyb20iLCJfdG8iLCJ0byIsImlzTmFOIiwibGlzdCIsIlVzZXJuYW1lIiwiZWRpdF91c2VyIiwidXBkYXRhdXNlciIsInZpZXdfZWRpdCIsImRlbF91c2VyIiwidG9rZW4iLCJjb29raWVzIiwiZGVjb2RlIiwiSldUIiwidmVyaWZ5VG9rZW4iLCJkYXRhIiwiYXV0aCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQXBpVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgdXNlck1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy91c2VyTW9kZWxcIlxyXG5pbXBvcnQgeyBqc29uIH0gZnJvbSBcImJvZHktcGFyc2VyXCJcclxuaW1wb3J0IEpXVCBmcm9tIFwiLi4vbWlkZGxld2FyZS9KV1RBY3Rpb25cIlxyXG5cclxuXHJcbmNvbnN0IG5ld191c2VyID0gKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBhZ2U6ICduZXdVc2VyJywgXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1ThuqFvIHTDoGkga2hv4bqjbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG5cclxuICAgICAgICBpZiAoIWJvZHkudXNlcm5hbWUgfHwgIWJvZHkucGFzc3dvcmQgfHwgIWJvZHkuZnVsbG5hbWUgfHwgIWJvZHkuYWRkcmVzcyB8fCAhYm9keS5zZXggfHwgIWJvZHkuZW1haWwgfHwgIWJvZHkuZ3JvdXBpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiVGhp4bq/dSB0aMO0bmcgdGluIGPhuqduIHRoaeG6v3RcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgdXNlciA9IGF3YWl0IHVzZXJNb2RlbC5kZXRhaWxfdXNlcihib2R5LnVzZXJuYW1lKVxyXG5cclxuICAgICAgICBpZiAodXNlci5sZW5ndGggPj0gMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiVMOgaSBraG/huqNuIMSRw6MgdOG7k24gdOG6oWlcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgcGFzcyA9IGJjcnlwdC5nZW5TYWx0U3luYygxMClcclxuICAgICAgICBsZXQgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhib2R5LnBhc3N3b3JkLCBwYXNzKVxyXG5cclxuICAgICAgICBsZXQgbmV3dXNlciA9IGF3YWl0IHVzZXJNb2RlbC5pbnNlcnRfdXNlcihib2R5LnVzZXJuYW1lLCBoYXNoLCBib2R5LmZ1bGxuYW1lLCBib2R5LmFkZHJlc3MsIGJvZHkuc2V4LCBib2R5LmVtYWlsLCBib2R5Lmdyb3VwaWQpXHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJU4bqhbyB0w6BpIGtob+G6o24gdGjDoG5oIGPDtG5nXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBsaXN0X3VzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgX2Zyb20gPSByZXEucGFyYW1zLmZyb21cclxuICAgICAgICBsZXQgX3RvID0gcmVxLnBhcmFtcy50b1xyXG5cclxuICAgICAgICBpZiAoaXNOYU4oX2Zyb20pID09PSBmYWxzZSAmJiBpc05hTihfdG8pID09PSBmYWxzZSkge1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgbGlzdCA9IGF3YWl0IHVzZXJNb2RlbC5saXN0X3VzZXIoX2Zyb20sIF90bylcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdEYW5oIHPDoWNoIHTDoGkga2hv4bqjbicsIFxyXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmcm9tOl9mcm9tLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG86X3RvXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgXHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdDogbGlzdFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZGV0YWlsX3VzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgVXNlcm5hbWUgPSByZXEucGFyYW1zLnVzZXJuYW1lXHJcbiAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCB1c2VyTW9kZWwuZGV0YWlsX3VzZXIoVXNlcm5hbWUpXHJcblxyXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIk5nxrDhu51pIGTDuW5nIGtow7RuZyB04buTbiB04bqhaVwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGFnZTogJ2RldGFpbFVzZXInLCBcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2hpIHRp4bq/dCBuZ8aw4budaSBkw7luZycsIFxyXG4gICAgICAgICAgICAgICAgbGlzdDpsaXN0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5jb25zdCBlZGl0X3VzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcblxyXG4gICAgICAgIGlmICghYm9keS51c2VybmFtZSB8fCAhYm9keS5wYXNzd29yZCB8fCAhYm9keS5mdWxsbmFtZSB8fCAhYm9keS5hZGRyZXNzIHx8ICFib2R5LnNleCB8fCAhYm9keS5lbWFpbCB8fCAhYm9keS5ncm91cGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJUaGnhur91IHRow7RuZyB0aW4gY+G6p24gdGhp4bq/dFwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwYXNzID0gYmNyeXB0LmdlblNhbHRTeW5jKDEwKVxyXG4gICAgICAgIGxldCBoYXNoID0gYmNyeXB0Lmhhc2hTeW5jKGJvZHkucGFzc3dvcmQsIHBhc3MpXHJcblxyXG4gICAgICAgIGxldCB1cGRhdGF1c2VyID0gYXdhaXQgdXNlck1vZGVsLmVkaXRfdXNlcihib2R5LnVzZXJuYW1lLCBoYXNoLCBib2R5LmZ1bGxuYW1lLCBib2R5LmFkZHJlc3MsIGJvZHkuc2V4LCBib2R5LmVtYWlsLCBib2R5Lmdyb3VwaWQpXHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJD4bqtcCBuaOG6rXQgdGjDoG5oIGPDtG5nXCIsXHJcbiAgICAgICAgICAgICAgICBoYXNoOiBoYXNoXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3Qgdmlld19lZGl0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IFVzZXJuYW1lID0gcmVxLnBhcmFtcy51c2VybmFtZVxyXG4gICAgICAgIGxldCBsaXN0ID0gYXdhaXQgdXNlck1vZGVsLmRldGFpbF91c2VyKFVzZXJuYW1lKVxyXG5cclxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJOZ8aw4budaSBkw7luZyBraMO0bmcgdOG7k24gdOG6oWlcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBhZ2U6ICd2aWV3RWRpdCcsIFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdD4bqtcCBuaOG6rXQnLCBcclxuICAgICAgICAgICAgICAgIGxpc3Q6bGlzdFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jb25zdCBkZWxfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBib2R5ID0gcmVxLnBhcmFtc1xyXG5cclxuICAgICAgICBpZiAoIWJvZHkudXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiB0aGnhur91IHTDoGkga2hv4bqjblwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMudG9rZW47XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRva2VuKSB7XHJcblxyXG4gICAgICAgICAgICBsZXQgZGVjb2RlID0gSldULnZlcmlmeVRva2VuKHRva2VuKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChkZWNvZGUuZGF0YS5hdXRoID09PSBib2R5LnVzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiVMOgaSBraG/huqNuIMSRYW5nIMSRxrDhu6NjIHPhu60gZOG7pW5nXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG5cclxuICAgICAgICAgICAgICAgIGxldCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmRldGFpbF91c2VyKGJvZHkudXNlcm5hbWUpXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHVzZXIubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzczogXCJOZ8aw4budaSBkw7luZyBraMO0bmcgdOG7k24gdOG6oWlcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGxldCBsaXN0ID0gYXdhaXQgdXNlck1vZGVsLmRlbF91c2VyKGJvZHkudXNlcm5hbWUpXHJcbiAgICBcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycjogMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzczogXCJYw7NhIHTDoGkga2hv4bqjbiB0aMOgbmggY8O0bmdcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge25ld191c2VyLCBsaXN0X3VzZXIsIGRldGFpbF91c2VyLCBpbnNlcnRfdXNlciwgZWRpdF91c2VyLCBkZWxfdXNlciwgdmlld19lZGl0fSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFdBQUEsR0FBQUgsT0FBQTtBQUNBLElBQUFJLFVBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBRCx1QkFBQU0sR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUd6QyxNQUFNRyxRQUFRLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBRTNCLElBQUk7SUFFQSxPQUFPQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUN2QjtNQUNJQyxJQUFJLEVBQUUsU0FBUztNQUNmQyxLQUFLLEVBQUU7SUFDWCxDQUNKLENBQUM7RUFFTCxDQUFDLENBQUMsT0FBT0MsS0FBSyxFQUFFO0lBQ1osT0FBT0wsR0FBRyxDQUFDQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDdkI7TUFDSUksR0FBRyxFQUFFLENBQUM7TUFDTkMsSUFBSSxFQUFFLE9BQU8sR0FBR0Y7SUFDcEIsQ0FDSixDQUFDO0VBQ0w7QUFFSixDQUFDO0FBRUQsTUFBTUcsV0FBVyxHQUFHLE1BQUFBLENBQU9ULEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBRXBDLElBQUk7SUFFQSxJ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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","_bodyParser","_JWTAction","obj","__esModule","default","new_user","req","res","status","json","page","title","error","err","mess","insert_user","body","username","password","fullname","address","sex","email","groupid","user","userModel","detail_user","length","pass","bcrypt","genSaltSync","hash","hashSync","newuser","list_user","_from","params","from","_to","to","isNaN","list","Username","edit_user","updatauser","view_edit","del_user","token","cookies","decode","JWT","verifyToken","data","auth","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["ApiUserController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n\r\nconst new_user = (req, res) => {\r\n\r\n    try {\r\n        \r\n        return res.status(200).json(\r\n            {\r\n                page: 'newUser', \r\n                title: 'Tạo tài khoản'\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst insert_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n\r\n        if (!body.username || !body.password || !body.fullname || !body.address || !body.sex || !body.email || !body.groupid) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        let user = await userModel.detail_user(body.username)\r\n\r\n        if (user.length >= 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Tài khoản đã tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.password, pass)\r\n\r\n        let newuser = await userModel.insert_user(body.username, hash, body.fullname, body.address, body.sex, body.email, body.groupid)\r\n\r\n        return res.status(200).json(\r\n            {\r\n                err: 0,\r\n                mess: \"Tạo tài khoản thành công\"\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst list_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let _from = req.params.from\r\n        let _to = req.params.to\r\n\r\n        if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        \r\n            let list = await userModel.list_user(_from, _to)\r\n\r\n            return res.status(200).json(\r\n                {\r\n                    err: 0,\r\n                    title: 'Danh sách tài khoản', \r\n                    params: {\r\n                        from:_from, \r\n                        to:_to\r\n                    }, \r\n                    list: list\r\n                }\r\n            )\r\n        }\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst detail_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let Username = req.params.username\r\n        let list = await userModel.detail_user(Username)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Người dùng không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            {\r\n                page: 'detailUser', \r\n                title: 'Chi tiết người dùng', \r\n                list:list\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst edit_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n\r\n        if (!body.username || !body.password || !body.fullname || !body.address || !body.sex || !body.email || !body.groupid) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.password, pass)\r\n\r\n        let updatauser = await userModel.edit_user(body.username, hash, body.fullname, body.address, body.sex, body.email, body.groupid)\r\n\r\n        return res.status(200).json(\r\n            {\r\n                err: 0,\r\n                mess: \"Cập nhật thành công\",\r\n                hash: hash\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst view_edit = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let Username = req.params.username\r\n        let list = await userModel.detail_user(Username)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Người dùng không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            {\r\n                page: 'viewEdit', \r\n                title: 'Cập nhật', \r\n                list:list\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst del_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.params\r\n\r\n        if (!body.username) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Lỗi: thiếu tài khoản\"\r\n                }\r\n            )\r\n        }\r\n\r\n        const token = req.cookies.token;\r\n        \r\n        if (token) {\r\n\r\n            let decode = JWT.verifyToken(token);\r\n\r\n            if (decode.data.auth === body.username) {\r\n                return res.status(200).json(\r\n                    {\r\n                        err: 1,\r\n                        mess: \"Tài khoản đang được sử dụng\"\r\n                    }\r\n                ) \r\n            }\r\n            else {\r\n\r\n                let user = await userModel.detail_user(body.username)\r\n\r\n                if (user.length < 1) {\r\n                    return res.status(200).json(\r\n                        {\r\n                            err: 1,\r\n                            mess: \"Người dùng không tồn tại\"\r\n                        }\r\n                    )\r\n                }\r\n\r\n                let list = await userModel.del_user(body.username)\r\n    \r\n                return res.status(200).json(\r\n                    {\r\n                        err: 0,\r\n                        mess: \"Xóa tài khoản thành công\"\r\n                    }\r\n                )\r\n            }\r\n\r\n        }\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nexport default {new_user, list_user, detail_user, insert_user, edit_user, del_user, view_edit}"],"mappings":"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"}},"mtime":1700119924019},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\ApiPostController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thư viện thao tác file\n\nconst new_post = async (req, res) => {\n  try {\n    let danhmuc = await _newsModel.default.list_news_all();\n    return res.status(200).json({\n      page: 'newpost',\n      title: 'Tạo bài viết',\n      danhmuc: danhmuc\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst insert_post = async (req, res) => {\n  try {\n    let body = req.body;\n    let img = req.file;\n    if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    const currentDate = new Date();\n    await _postModel.default.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id, currentDate);\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst list_post = async (req, res) => {\n  try {\n    let _from = req.params.from;\n    let _to = req.params.to;\n    let auth = null;\n    if (req.session.auth) {\n      auth = req.session.auth.name;\n    }\n    if (isNaN(_from) === false && isNaN(_to) === false) {\n      let list = await _postModel.default.list_post(_from, _to);\n      return res.status(200).json({\n        page: 'listpost',\n        title: 'Danh sách bài viết',\n        params: {\n          from: _from,\n          to: _to\n        },\n        list: list,\n        auth: auth\n      });\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst detail_post = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let danhmuc = await _newsModel.default.list_news_all();\n    let list = await _postModel.default.detail_post(id);\n    if (list.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Bài viết không tồn tại\"\n      });\n    }\n    return res.status(200).json({\n      page: 'detailpost',\n      title: 'Chi tiết bài viết',\n      list: list,\n      danhmuc: danhmuc\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst edit_post = async (req, res) => {\n  try {\n    const id = req.body.id;\n    let body = req.body;\n    let img = body.img_old; // truyền img cũ qua hidden input\n    let file = req.file;\n    if (file) {\n      img = file.filename;\n      let post = await _postModel.default.detail_post(id);\n      if (post.length < 1) {\n        return res.status(200).json({\n          err: 1,\n          mess: \"Bài viết không tồn tại\"\n        });\n      }\n      _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n    }\n    if (!body.titlenew || !body.contentnew || !body.news_id) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    await _postModel.default.edit_post(body.titlenew, body.contentnew, img, body.news_id, id);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Cập nhật thành công\"\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst view_edit_post = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let danhmuc = await _newsModel.default.list_news_all();\n    let list = await _postModel.default.detail_post_edit(id);\n    if (list.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Người dùng không tồn tại\"\n      });\n    }\n    return res.status(200).json({\n      page: 'viewEditpost',\n      title: 'Cập nhật bài viết',\n      list: list,\n      danhmuc: danhmuc\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst del_post = async (req, res) => {\n  try {\n    const id = req.body.id;\n    let post = await _postModel.default.detail_post(id);\n    if (post.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Bài viết không tồn tại\"\n      });\n    }\n    _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n    let list = await _postModel.default.del_post(id);\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        err: 0,\n        mess: \"Xóa bài viết thành công\"\n      }\n    }));\n  } catch (error) {\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nvar _default = exports.default = {\n  list_post,\n  new_post,\n  insert_post,\n  detail_post,\n  view_edit_post,\n  edit_post,\n  del_post\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX3Bvc3RNb2RlbCIsIl9uZXdzTW9kZWwiLCJfYm9keVBhcnNlciIsIl9KV1RBY3Rpb24iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm5ld19wb3N0IiwicmVxIiwicmVzIiwiZGFuaG11YyIsIm5ld3NNb2RlbCIsImxpc3RfbmV3c19hbGwiLCJzdGF0dXMiLCJqc29uIiwicGFnZSIsInRpdGxlIiwiZXJyb3IiLCJlcnIiLCJtZXNzIiwiaW5zZXJ0X3Bvc3QiLCJib2R5IiwiaW1nIiwiZmlsZSIsInRpdGxlbmV3IiwiY29udGVudG5ldyIsImZpbGVuYW1lIiwibmV3c19pZCIsImN1cnJlbnREYXRlIiwiRGF0ZSIsInBvc3RNb2RlbCIsImxpc3RfcG9zdCIsIl9mcm9tIiwicGFyYW1zIiwiZnJvbSIsIl90byIsInRvIiwiYXV0aCIsInNlc3Npb24iLCJuYW1lIiwiaXNOYU4iLCJsaXN0IiwiZGV0YWlsX3Bvc3QiLCJpZCIsImxlbmd0aCIsImVkaXRfcG9zdCIsImltZ19vbGQiLCJwb3N0IiwiZnMiLCJ1bmxpbmtTeW5jIiwiaW1hZ2UiLCJ2aWV3X2VkaXRfcG9zdCIsImRldGFpbF9wb3N0X2VkaXQiLCJkZWxfcG9zdCIsIkpXVCIsImNyZWF0ZUpXVCIsImRhdGEiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFx4YW1wcFxcaHRkb2NzXFxCQ19Ob2RlXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIkFwaVBvc3RDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJyAvLyB0aMawIHZp4buHbiB0aGFvIHTDoWMgZmlsZVxyXG5pbXBvcnQgcG9zdE1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9wb3N0TW9kZWxcIlxyXG5pbXBvcnQgbmV3c01vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9uZXdzTW9kZWxcIlxyXG5pbXBvcnQgeyBqc29uIH0gZnJvbSBcImJvZHktcGFyc2VyXCJcclxuaW1wb3J0IEpXVCBmcm9tIFwiLi4vbWlkZGxld2FyZS9KV1RBY3Rpb25cIlxyXG5cclxuXHJcbmNvbnN0IG5ld19wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBsZXQgZGFuaG11YyA9IGF3YWl0IG5ld3NNb2RlbC5saXN0X25ld3NfYWxsKClcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBhZ2U6ICduZXdwb3N0JywgXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ1ThuqFvIGLDoGkgdmnhur90JyxcclxuICAgICAgICAgICAgICAgIGRhbmhtdWM6IGRhbmhtdWNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgICAgIGxldCBpbWcgPSByZXEuZmlsZVxyXG5cclxuXHJcbiAgICAgICAgaWYgKCFib2R5LnRpdGxlbmV3IHx8ICFib2R5LmNvbnRlbnRuZXcgfHwgIWltZy5maWxlbmFtZSB8fCAhYm9keS5uZXdzX2lkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJUaGnhur91IHRow7RuZyB0aW4gY+G6p24gdGhp4bq/dFwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcclxuXHJcbiAgICAgICAgYXdhaXQgcG9zdE1vZGVsLmluc2VydF9wb3N0KGJvZHkudGl0bGVuZXcsIGJvZHkuY29udGVudG5ldywgaW1nLmZpbGVuYW1lLCBib2R5Lm5ld3NfaWQsIGN1cnJlbnREYXRlKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGxpc3RfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBfZnJvbSA9IHJlcS5wYXJhbXMuZnJvbVxyXG4gICAgICAgIGxldCBfdG8gPSByZXEucGFyYW1zLnRvXHJcbiAgICAgICAgbGV0IGF1dGggPSBudWxsXHJcblxyXG4gICAgICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRoKSB7XHJcbiAgICAgICAgICAgIGF1dGggPSByZXEuc2Vzc2lvbi5hdXRoLm5hbWVcclxuICAgICAgICB9IFxyXG5cclxuICAgICAgICBpZiAoaXNOYU4oX2Zyb20pID09PSBmYWxzZSAmJiBpc05hTihfdG8pID09PSBmYWxzZSkge1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICBsZXQgbGlzdCA9IGF3YWl0IHBvc3RNb2RlbC5saXN0X3Bvc3QoX2Zyb20sIF90bylcclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZTogJ2xpc3Rwb3N0JywgXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6ICdEYW5oIHPDoWNoIGLDoGkgdmnhur90JywgXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb206IF9mcm9tLCBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG86IF90b1xyXG4gICAgICAgICAgICAgICAgICAgIH0sIFxyXG4gICAgICAgICAgICAgICAgICAgIGxpc3Q6IGxpc3QsIFxyXG4gICAgICAgICAgICAgICAgICAgIGF1dGg6IGF1dGhcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRldGFpbF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgICAgIGxldCBkYW5obXVjID0gYXdhaXQgbmV3c01vZGVsLmxpc3RfbmV3c19hbGwoKVxyXG4gICAgICAgIGxldCBsaXN0ID0gYXdhaXQgcG9zdE1vZGVsLmRldGFpbF9wb3N0KGlkKVxyXG5cclxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJCw6BpIHZp4bq/dCBraMO0bmcgdOG7k24gdOG6oWlcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBhZ2U6ICdkZXRhaWxwb3N0JywgXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0NoaSB0aeG6v3QgYsOgaSB2aeG6v3QnLCBcclxuICAgICAgICAgICAgICAgIGxpc3Q6IGxpc3QsXHJcbiAgICAgICAgICAgICAgICBkYW5obXVjOiBkYW5obXVjXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxuICAgIFxyXG59XHJcblxyXG5jb25zdCBlZGl0X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBjb25zdCBpZCA9IHJlcS5ib2R5LmlkIFxyXG4gICAgICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuICAgICAgICBsZXQgaW1nID0gYm9keS5pbWdfb2xkIC8vIHRydXnhu4FuIGltZyBjxakgcXVhIGhpZGRlbiBpbnB1dFxyXG4gICAgICAgIGxldCBmaWxlID0gcmVxLmZpbGVcclxuXHJcbiAgICAgICAgaWYgKGZpbGUpIHtcclxuXHJcbiAgICAgICAgICAgIGltZyA9IGZpbGUuZmlsZW5hbWVcclxuICAgICAgICAgICAgbGV0IHBvc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGV0YWlsX3Bvc3QoaWQpXHJcblxyXG4gICAgICAgICAgICBpZiAocG9zdC5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiQsOgaSB2aeG6v3Qga2jDtG5nIHThu5NuIHThuqFpXCJcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGZzLnVubGlua1N5bmMoJy4vc3JjL3B1YmxpYy91cGxvYWQvJyArIHBvc3RbMF0uaW1hZ2UpXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIWJvZHkudGl0bGVuZXcgfHwgIWJvZHkuY29udGVudG5ldyB8fCAhYm9keS5uZXdzX2lkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJUaGnhur91IHRow7RuZyB0aW4gY+G6p24gdGhp4bq/dFwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IHBvc3RNb2RlbC5lZGl0X3Bvc3QoYm9keS50aXRsZW5ldywgYm9keS5jb250ZW50bmV3LCBpbWcsIGJvZHkubmV3c19pZCwgaWQpXHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJD4bqtcCBuaOG6rXQgdGjDoG5oIGPDtG5nXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCB2aWV3X2VkaXRfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBpZCA9IHJlcS5wYXJhbXMuaWRcclxuICAgICAgICBsZXQgZGFuaG11YyA9IGF3YWl0IG5ld3NNb2RlbC5saXN0X25ld3NfYWxsKClcclxuICAgICAgICBsZXQgbGlzdCA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdF9lZGl0KGlkKVxyXG5cclxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJOZ8aw4budaSBkw7luZyBraMO0bmcgdOG7k24gdOG6oWlcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHBhZ2U6ICd2aWV3RWRpdHBvc3QnLCBcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnQ+G6rXAgbmjhuq10IGLDoGkgdmnhur90JywgXHJcbiAgICAgICAgICAgICAgICBsaXN0OiBsaXN0LFxyXG4gICAgICAgICAgICAgICAgZGFuaG11YzogZGFuaG11Y1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5jb25zdCBkZWxfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQgXHJcbiAgICAgICAgbGV0IHBvc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGV0YWlsX3Bvc3QoaWQpXHJcblxyXG4gICAgICAgIGlmIChwb3N0Lmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkLDoGkgdmnhur90IGtow7RuZyB04buTbiB04bqhaVwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZzLnVubGlua1N5bmMoJy4vc3JjL3B1YmxpYy91cGxvYWQvJyArIHBvc3RbMF0uaW1hZ2UpXHJcbiAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGVsX3Bvc3QoaWQpXHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJYw7NhIGLDoGkgdmnhur90IHRow6BuaCBjw7RuZ1wifX1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgSldULmNyZWF0ZUpXVCh7ZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvcn19XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtsaXN0X3Bvc3QsbmV3X3Bvc3QsaW5zZXJ0X3Bvc3QsZGV0YWlsX3Bvc3Qsdmlld19lZGl0X3Bvc3QsZWRpdF9wb3N0LGRlbF9wb3N0fVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxHQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxVQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxXQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxVQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUQsdUJBQUFPLEdBQUEsV0FBQUEsR0FBQSxJQUFB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_postModel","_newsModel","_bodyParser","_JWTAction","obj","__esModule","default","new_post","req","res","danhmuc","newsModel","list_news_all","status","json","page","title","error","err","mess","insert_post","body","img","file","titlenew","contentnew","filename","news_id","currentDate","Date","postModel","list_post","_from","params","from","_to","to","auth","session","name","isNaN","list","detail_post","id","length","edit_post","img_old","post","fs","unlinkSync","image","view_edit_post","detail_post_edit","del_post","JWT","createJWT","data","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["ApiPostController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs' // thư viện thao tác file\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n\r\nconst new_post = async (req, res) => {\r\n\r\n    try {\r\n        let danhmuc = await newsModel.list_news_all()\r\n        return res.status(200).json(\r\n            {\r\n                page: 'newpost', \r\n                title: 'Tạo bài viết',\r\n                danhmuc: danhmuc\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst insert_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n        let img = req.file\r\n\r\n\r\n        if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        const currentDate = new Date();\r\n\r\n        await postModel.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id, currentDate)\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst list_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let _from = req.params.from\r\n        let _to = req.params.to\r\n        let auth = null\r\n\r\n        if (req.session.auth) {\r\n            auth = req.session.auth.name\r\n        } \r\n\r\n        if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        \r\n            let list = await postModel.list_post(_from, _to)\r\n    \r\n            return res.status(200).json(\r\n                {\r\n                    page: 'listpost', \r\n                    title: 'Danh sách bài viết', \r\n                    params: {\r\n                        from: _from, \r\n                        to: _to\r\n                    }, \r\n                    list: list, \r\n                    auth: auth\r\n                }\r\n            )\r\n        }\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst detail_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let id = req.params.id\r\n        let danhmuc = await newsModel.list_news_all()\r\n        let list = await postModel.detail_post(id)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Bài viết không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            {\r\n                page: 'detailpost', \r\n                title: 'Chi tiết bài viết', \r\n                list: list,\r\n                danhmuc: danhmuc\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst edit_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        const id = req.body.id \r\n        let body = req.body\r\n        let img = body.img_old // truyền img cũ qua hidden input\r\n        let file = req.file\r\n\r\n        if (file) {\r\n\r\n            img = file.filename\r\n            let post = await postModel.detail_post(id)\r\n\r\n            if (post.length < 1) {\r\n                return res.status(200).json(\r\n                    {\r\n                        err: 1,\r\n                        mess: \"Bài viết không tồn tại\"\r\n                    }\r\n                )\r\n            }\r\n\r\n            fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n        }\r\n\r\n        if (!body.titlenew || !body.contentnew || !body.news_id) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        await postModel.edit_post(body.titlenew, body.contentnew, img, body.news_id, id)\r\n\r\n        return res.status(200).json(\r\n            {\r\n                err: 0,\r\n                mess: \"Cập nhật thành công\"\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst view_edit_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let id = req.params.id\r\n        let danhmuc = await newsModel.list_news_all()\r\n        let list = await postModel.detail_post_edit(id)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Người dùng không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            {\r\n                page: 'viewEditpost', \r\n                title: 'Cập nhật bài viết', \r\n                list: list,\r\n                danhmuc: danhmuc\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst del_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        const id = req.body.id \r\n        let post = await postModel.detail_post(id)\r\n\r\n        if (post.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Bài viết không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n        let list = await postModel.del_post(id)\r\n\r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                err: 0,\r\n                mess: \"Xóa bài viết thành công\"}}\r\n            )\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nexport default {list_post,new_post,insert_post,detail_post,view_edit_post,edit_post,del_post}\r\n"],"mappings":"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"}},"mtime":1700052830135},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\controllers\\\\ApiNewsController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thư viện thao tác file\n\nconst list_news = async (req, res) => {\n  try {\n    let items = await _newsModel.default.list_news_all();\n    return res.status(200).json({\n      items: items,\n      mess: \"Danh sách tin tức\"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst GetById = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let items = await _newsModel.default.GetById(id);\n    return res.status(200).json({\n      items: items,\n      mess: \"chi tiết tin tức\"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst insert_news = async (req, res) => {\n  try {\n    let body = req.body;\n    let items = await _newsModel.default.insert_news(body.title);\n    return res.status(400).json({\n      items: items,\n      mess: \"Insert thành công \"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst edit_news = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let body = req.body;\n    let news = await _newsModel.default.GetById(id);\n    if (news.length < 1) {\n      return res.status(400).json({\n        err: 1,\n        mess: \"Bài viết không tồn tại\"\n      });\n    }\n    if (!body.title) {\n      return res.status(400).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    await _newsModel.default.edit_news(body.title, id);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Cập nhật thành công\"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst del_news = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let items = await _newsModel.default.del_news(id);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Bạn đã xóa thành công\"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nvar _default = exports.default = {\n  list_news,\n  GetById,\n  insert_news,\n  edit_news,\n  del_news\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX3Bvc3RNb2RlbCIsIl9uZXdzTW9kZWwiLCJfYm9keVBhcnNlciIsIl9KV1RBY3Rpb24iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfbmV3cyIsInJlcSIsInJlcyIsIml0ZW1zIiwibmV3c01vZGVsIiwibGlzdF9uZXdzX2FsbCIsInN0YXR1cyIsImpzb24iLCJtZXNzIiwiZXJyb3IiLCJlcnIiLCJHZXRCeUlkIiwiaWQiLCJwYXJhbXMiLCJpbnNlcnRfbmV3cyIsImJvZHkiLCJ0aXRsZSIsImVkaXRfbmV3cyIsIm5ld3MiLCJsZW5ndGgiLCJkZWxfbmV3cyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQXBpTmV3c0NvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgZnMgZnJvbSAnZnMnIC8vIHRoxrAgdmnhu4duIHRoYW8gdMOhYyBmaWxlXHJcbmltcG9ydCBwb3N0TW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL3Bvc3RNb2RlbFwiXHJcbmltcG9ydCBuZXdzTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL25ld3NNb2RlbFwiXHJcbmltcG9ydCB7IGpzb24gfSBmcm9tIFwiYm9keS1wYXJzZXJcIlxyXG5pbXBvcnQgSldUIGZyb20gXCIuLi9taWRkbGV3YXJlL0pXVEFjdGlvblwiXHJcblxyXG5cclxuXHJcbmNvbnN0IGxpc3RfbmV3cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtcyA9IGF3YWl0IG5ld3NNb2RlbC5saXN0X25ld3NfYWxsKClcclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IGl0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiRGFuaCBzw6FjaCB0aW4gdOG7qWNcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBHZXRCeUlkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBpZCA9IHJlcS5wYXJhbXMuaWRcclxuICAgICAgICAgICAgbGV0IGl0ZW1zID0gYXdhaXQgbmV3c01vZGVsLkdldEJ5SWQoaWQpXHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcImNoaSB0aeG6v3QgdGluIHThu6ljXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgaW5zZXJ0X25ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcblxyXG4gICAgICAgIGxldCBpdGVtcyA9ICBhd2FpdCBuZXdzTW9kZWwuaW5zZXJ0X25ld3MoYm9keS50aXRsZSlcclxuICAgICAgIFxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaXRlbXM6IGl0ZW1zLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJJbnNlcnQgdGjDoG5oIGPDtG5nIFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZWRpdF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuXHJcbiAgICAgIFxyXG4gICAgICAgICAgICBsZXQgbmV3cyA9IGF3YWl0IG5ld3NNb2RlbC5HZXRCeUlkKGlkKVxyXG5cclxuICAgICAgICAgICAgaWYgKG5ld3MubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkLDoGkgdmnhur90IGtow7RuZyB04buTbiB04bqhaVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICBcclxuXHJcbiAgICAgICAgaWYgKCFib2R5LnRpdGxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJUaGnhur91IHRow7RuZyB0aW4gY+G6p24gdGhp4bq/dFwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IG5ld3NNb2RlbC5lZGl0X25ld3MoYm9keS50aXRsZSxpZClcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkPhuq1wIG5o4bqtdCB0aMOgbmggY8O0bmdcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRlbF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBpZCA9IHJlcS5wYXJhbXMuaWRcclxuICAgICAgICAgICAgbGV0IGl0ZW1zID0gYXdhaXQgbmV3c01vZGVsLmRlbF9uZXdzKGlkKVxyXG4gICAgXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJC4bqhbiDEkcOjIHjDs2EgdGjDoG5oIGPDtG5nXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtsaXN0X25ld3MsR2V0QnlJZCxpbnNlcnRfbmV3cyxlZGl0X25ld3MsZGVsX25ld3N9XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEdBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLFdBQUEsR0FBQUosT0FBQTtBQUNBLElBQUFLLFVBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUF5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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_postModel","_newsModel","_bodyParser","_JWTAction","obj","__esModule","default","list_news","req","res","items","newsModel","list_news_all","status","json","mess","error","err","GetById","id","params","insert_news","body","title","edit_news","news","length","del_news","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\controllers\\","sources":["ApiNewsController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs' // thư viện thao tác file\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n\r\n\r\nconst list_news = async (req, res) => {\r\n\r\n    try {\r\n            let items = await newsModel.list_news_all()\r\n    \r\n            return res.status(200).json(\r\n                {\r\n                    items: items,\r\n                    mess: \"Danh sách tin tức\"\r\n                }\r\n            )\r\n        \r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst GetById = async (req, res) => {\r\n\r\n    try {\r\n\r\n            let id = req.params.id\r\n            let items = await newsModel.GetById(id)\r\n    \r\n            return res.status(200).json(\r\n                {\r\n                    items: items,\r\n                    mess: \"chi tiết tin tức\"\r\n                }\r\n            )\r\n        \r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst insert_news = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n\r\n        let items =  await newsModel.insert_news(body.title)\r\n       \r\n        return res.status(400).json(\r\n            {\r\n                items: items,\r\n                mess: \"Insert thành công \"\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst edit_news = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let id = req.params.id\r\n        let body = req.body\r\n\r\n      \r\n            let news = await newsModel.GetById(id)\r\n\r\n            if (news.length < 1) {\r\n                return res.status(400).json(\r\n                    {\r\n                        err: 1,\r\n                        mess: \"Bài viết không tồn tại\"\r\n                    }\r\n                )\r\n            }\r\n\r\n      \r\n\r\n        if (!body.title) {\r\n            return res.status(400).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        await newsModel.edit_news(body.title,id)\r\n\r\n        return res.status(200).json(\r\n            {\r\n                err: 0,\r\n                mess: \"Cập nhật thành công\"\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst del_news = async (req, res) => {\r\n\r\n    try {\r\n\r\n            let id = req.params.id\r\n            let items = await newsModel.del_news(id)\r\n    \r\n            return res.status(200).json(\r\n                {\r\n                    err: 0,\r\n                    mess: \"Bạn đã xóa thành công\"\r\n                }\r\n            )\r\n        \r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default {list_news,GetById,insert_news,edit_news,del_news}\r\n"],"mappings":"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"}},"mtime":1696928775740},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"filename\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\\\\src\\\\middleware\\\\Auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\xampp\\\\htdocs\\\\BC_Node\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// let payload = { foo: 'bar' }\n// let code = JWT.createJWT(payload)\n// JWT.verifyToken(code)\nconst verifyAuth = (req, res, next) => {\n  if (req.session.auth) {\n    if (req.session.auth.role == 2) {\n      // const token = req.body.token || req.query.token || req.headers[\"x-access-token\"]\n\n      const token = req.cookies.token;\n      if (!token) {\n        return res.status(200).json({\n          err: 1,\n          mess: \"bien token khong ton tai\"\n        });\n      }\n      try {\n        const decoded = _JWTAction.default.verifyToken(token);\n        if (decoded) {\n          // res.status(200).json({ err: 1, mess: \"token da xac thuc tai khoan\" })\n          next();\n        } else {\n          return res.status(200).json({\n            err: 1,\n            mess: \"khong xac thuc\"\n          });\n        }\n      } catch (error) {\n        return res.status(200).json({\n          err: 1,\n          mess: error\n        });\n      }\n    } else {\n      return res.status(200).json({\n        err: 1,\n        mess: \"khong co quyen han truy cap\"\n      });\n    }\n  } else {\n    return res.status(200).json({\n      err: 1,\n      mess: \"chua dang nhap tai khoan\"\n    });\n  }\n};\nconst Notfound = (req, res, next) => {\n  res.status(404).send(\"<h1>Page not found on the server</h1>\");\n};\nconst HasLogin = (req, res, next) => {\n  if (!req.session.auth) {\n    next();\n  } else {\n    res.redirect('/list-user/0-10');\n  }\n};\nconst Authen = (req, res, next) => {\n  if (req.session.auth) {\n    if (req.session.auth.role == 2) {\n      next();\n    } else {\n      res.redirect('/list-user/0-10');\n    }\n  } else {\n    res.redirect('/login');\n  }\n};\nconst auth = _express.default.Router();\nconst authMiddleware = app => {\n  auth.use(\"/insert_new_user\", Authen);\n  auth.use(\"/detail_user/:username\", Authen);\n  auth.use(\"/del_user\", Authen);\n  auth.use(\"/view_edit/:username\", Authen);\n  auth.use(\"/edit_user\", Authen);\n  auth.use(\"/list-user/:from-:to\", Authen);\n  auth.use(\"/create_new_user\", Authen);\n\n  //quan ly tin tuc ( news ) \n  auth.use('/list-news/:from-:to', Authen);\n  auth.use('/create_new_news', Authen);\n  auth.use('/insert_new_news', Authen);\n  auth.use('/detail_news/:title', Authen);\n  auth.use('/view_edit_news/:id', Authen);\n  auth.use('/edit_news', Authen);\n  auth.use('/del_news', Authen);\n\n  //quan ly bai viet ( post )  \n  auth.use('/list-post/:from-:to', Authen);\n  auth.use('/create_new_post', Authen);\n  auth.use('/insert_new_post', Authen);\n  auth.use('/detail_post/:id', Authen);\n  auth.use('/view_edit_post/:id', Authen);\n  auth.use('/edit_post', Authen);\n  auth.use('/del_post', Authen);\n  // /login\n  auth.use('/loginView', HasLogin);\n\n  //===============================================API===================================================\n\n  auth.use('/api/v1/login-auth', verifyAuth);\n\n  //quan ly user ( user ) \n  auth.use(\"/api/v1/insert_new_user\", verifyAuth);\n  auth.use(\"/api/v1/detail_user/:username\", verifyAuth);\n  auth.use(\"/api/v1/del_user/:username\", verifyAuth);\n  auth.use(\"/api/v1/view_edit/:username\", verifyAuth);\n  auth.use(\"/api/v1/edit_user\", verifyAuth);\n  auth.use(\"/api/v1/list-user/:from-:to\", verifyAuth);\n  auth.use(\"/api/v1/create_new_user\", verifyAuth);\n\n  //quan ly tin tuc ( news ) \n  auth.use('/api/v1/list-news/:from-:to', verifyAuth);\n  auth.use('/api/v1/create_new_news', verifyAuth);\n  auth.use('/api/v1/insert_new_news', verifyAuth);\n  auth.use('/api/v1/detail_news/:title', verifyAuth);\n  auth.use('/api/v1/view_edit_news/:id', verifyAuth);\n  auth.use('/api/v1/edit_news', verifyAuth);\n  auth.use('/api/v1/del_news', verifyAuth);\n\n  //quan ly bai viet ( post )  \n  auth.use('/api/v1/list-post/:from-:to', verifyAuth);\n  auth.use('/api/v1/create_new_post', verifyAuth);\n  auth.use('/api/v1/insert_new_post', verifyAuth);\n  auth.use('/api/v1/detail_post/:id', verifyAuth);\n  auth.use('/api/v1/view_edit_post/:id', verifyAuth);\n  auth.use('/api/v1/edit_post', verifyAuth);\n  auth.use('/api/v1/del_post', verifyAuth);\n\n  //api quan ly tin tuc (news)\n  auth.use('/api/v1/GetById/:id', verifyAuth);\n  auth.use('/api/v1/list-news', verifyAuth);\n  auth.use('/api/v1/insert_news', verifyAuth);\n  auth.use('/api/v1/edit_news/:id', verifyAuth);\n  auth.use('/api/v1/del_news/:id', verifyAuth);\n  return app.use(\"/\", auth);\n};\nvar _default = exports.default = {\n  authMiddleware,\n  Notfound,\n  verifyAuth\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0pXVEFjdGlvbiIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwidmVyaWZ5QXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJzZXNzaW9uIiwiYXV0aCIsInJvbGUiLCJ0b2tlbiIsImNvb2tpZXMiLCJzdGF0dXMiLCJqc29uIiwiZXJyIiwibWVzcyIsImRlY29kZWQiLCJqd3QiLCJ2ZXJpZnlUb2tlbiIsImVycm9yIiwiTm90Zm91bmQiLCJzZW5kIiwiSGFzTG9naW4iLCJyZWRpcmVjdCIsIkF1dGhlbiIsImV4cHJlc3MiLCJSb3V0ZXIiLCJhdXRoTWlkZGxld2FyZSIsImFwcCIsInVzZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXHhhbXBwXFxodGRvY3NcXEJDX05vZGVcXHNyY1xcbWlkZGxld2FyZVxcIiwic291cmNlcyI6WyJBdXRoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuaW1wb3J0IGp3dCBmcm9tIFwiLi4vbWlkZGxld2FyZS9KV1RBY3Rpb25cIlxyXG5cclxuLy8gbGV0IHBheWxvYWQgPSB7IGZvbzogJ2JhcicgfVxyXG4vLyBsZXQgY29kZSA9IEpXVC5jcmVhdGVKV1QocGF5bG9hZClcclxuLy8gSldULnZlcmlmeVRva2VuKGNvZGUpXHJcblxyXG5cclxuY29uc3QgdmVyaWZ5QXV0aCA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG5cclxuICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRoKSB7XHJcbiAgICAgICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgucm9sZSA9PSAyKSB7XHJcblxyXG4gICAgICAgICAgICAvLyBjb25zdCB0b2tlbiA9IHJlcS5ib2R5LnRva2VuIHx8IHJlcS5xdWVyeS50b2tlbiB8fCByZXEuaGVhZGVyc1tcIngtYWNjZXNzLXRva2VuXCJdXHJcblxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IHJlcS5jb29raWVzLnRva2VuO1xyXG5cclxuICAgICAgICAgICAgaWYgKCF0b2tlbikge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgZXJyOiAxLCBtZXNzOiBcImJpZW4gdG9rZW4ga2hvbmcgdG9uIHRhaVwiIH0pXHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBkZWNvZGVkID0gand0LnZlcmlmeVRva2VuKHRva2VuKVxyXG5cclxuICAgICAgICAgICAgICAgIGlmIChkZWNvZGVkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gcmVzLnN0YXR1cygyMDApLmpzb24oeyBlcnI6IDEsIG1lc3M6IFwidG9rZW4gZGEgeGFjIHRodWMgdGFpIGtob2FuXCIgfSlcclxuICAgICAgICAgICAgICAgICAgICBuZXh0KClcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHsgZXJyOiAxLCBtZXNzOiBcImtob25nIHhhYyB0aHVjXCIgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBlcnI6IDEsIG1lc3M6IGVycm9yIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBlcnI6IDEsIG1lc3M6IFwia2hvbmcgY28gcXV5ZW4gaGFuIHRydXkgY2FwXCIgfSlcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBlcnI6IDEsIG1lc3M6IFwiY2h1YSBkYW5nIG5oYXAgdGFpIGtob2FuXCIgfSlcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgTm90Zm91bmQgPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKFwiPGgxPlBhZ2Ugbm90IGZvdW5kIG9uIHRoZSBzZXJ2ZXI8L2gxPlwiKVxyXG59XHJcblxyXG5jb25zdCBIYXNMb2dpbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG5cclxuICAgIGlmICghcmVxLnNlc3Npb24uYXV0aCkge1xyXG4gICAgICAgIG5leHQoKVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KCcvbGlzdC11c2VyLzAtMTAnKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBBdXRoZW4gPSAocmVxLCByZXMsIG5leHQpID0+IHtcclxuXHJcbiAgICBpZiAocmVxLnNlc3Npb24uYXV0aCkge1xyXG4gICAgICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRoLnJvbGUgPT0gMikge1xyXG4gICAgICAgICAgICBuZXh0KClcclxuICAgICAgICB9IFxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXMucmVkaXJlY3QoJy9saXN0LXVzZXIvMC0xMCcpXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KCcvbG9naW4nKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBhdXRoID0gZXhwcmVzcy5Sb3V0ZXIoKVxyXG5jb25zdCBhdXRoTWlkZGxld2FyZSA9IChhcHApID0+IHtcclxuXHJcbiAgICBhdXRoLnVzZShcIi9pbnNlcnRfbmV3X3VzZXJcIiwgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoXCIvZGV0YWlsX3VzZXIvOnVzZXJuYW1lXCIsIEF1dGhlbilcclxuICAgIGF1dGgudXNlKFwiL2RlbF91c2VyXCIsIEF1dGhlbilcclxuICAgIGF1dGgudXNlKFwiL3ZpZXdfZWRpdC86dXNlcm5hbWVcIiwgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoXCIvZWRpdF91c2VyXCIsIEF1dGhlbilcclxuICAgIGF1dGgudXNlKFwiL2xpc3QtdXNlci86ZnJvbS06dG9cIiwgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoXCIvY3JlYXRlX25ld191c2VyXCIsIEF1dGhlbilcclxuXHJcbiAgICAvL3F1YW4gbHkgdGluIHR1YyAoIG5ld3MgKSBcclxuICAgIGF1dGgudXNlKCcvbGlzdC1uZXdzLzpmcm9tLTp0bycsIEF1dGhlbilcclxuICAgIGF1dGgudXNlKCcvY3JlYXRlX25ld19uZXdzJywgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoJy9pbnNlcnRfbmV3X25ld3MnLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZSgnL2RldGFpbF9uZXdzLzp0aXRsZScsIEF1dGhlbilcclxuXHJcbiAgICBhdXRoLnVzZSgnL3ZpZXdfZWRpdF9uZXdzLzppZCcsIEF1dGhlbilcclxuICAgIGF1dGgudXNlKCcvZWRpdF9uZXdzJywgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoJy9kZWxfbmV3cycsIEF1dGhlbilcclxuXHJcblxyXG4gICAgLy9xdWFuIGx5IGJhaSB2aWV0ICggcG9zdCApICBcclxuICAgIGF1dGgudXNlKCcvbGlzdC1wb3N0Lzpmcm9tLTp0bycsIEF1dGhlbilcclxuICAgIGF1dGgudXNlKCcvY3JlYXRlX25ld19wb3N0JywgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoJy9pbnNlcnRfbmV3X3Bvc3QnLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZSgnL2RldGFpbF9wb3N0LzppZCcsIEF1dGhlbilcclxuXHJcbiAgICBhdXRoLnVzZSgnL3ZpZXdfZWRpdF9wb3N0LzppZCcsIEF1dGhlbilcclxuICAgIGF1dGgudXNlKCcvZWRpdF9wb3N0JywgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoJy9kZWxfcG9zdCcsIEF1dGhlbilcclxuICAgIC8vIC9sb2dpblxyXG4gICAgYXV0aC51c2UoJy9sb2dpblZpZXcnLCBIYXNMb2dpbilcclxuXHJcblxyXG5cclxuICAgIC8vPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1BUEk9PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cclxuXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9sb2dpbi1hdXRoJywgdmVyaWZ5QXV0aClcclxuXHJcbiAgICAvL3F1YW4gbHkgdXNlciAoIHVzZXIgKSBcclxuICAgIGF1dGgudXNlKFwiL2FwaS92MS9pbnNlcnRfbmV3X3VzZXJcIiwgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKFwiL2FwaS92MS9kZXRhaWxfdXNlci86dXNlcm5hbWVcIiwgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKFwiL2FwaS92MS9kZWxfdXNlci86dXNlcm5hbWVcIiwgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKFwiL2FwaS92MS92aWV3X2VkaXQvOnVzZXJuYW1lXCIsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZShcIi9hcGkvdjEvZWRpdF91c2VyXCIsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZShcIi9hcGkvdjEvbGlzdC11c2VyLzpmcm9tLTp0b1wiLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoXCIvYXBpL3YxL2NyZWF0ZV9uZXdfdXNlclwiLCB2ZXJpZnlBdXRoKVxyXG5cclxuXHJcbiAgICAvL3F1YW4gbHkgdGluIHR1YyAoIG5ld3MgKSBcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL2xpc3QtbmV3cy86ZnJvbS06dG8nLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoJy9hcGkvdjEvY3JlYXRlX25ld19uZXdzJywgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL2luc2VydF9uZXdfbmV3cycsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9kZXRhaWxfbmV3cy86dGl0bGUnLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoJy9hcGkvdjEvdmlld19lZGl0X25ld3MvOmlkJywgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL2VkaXRfbmV3cycsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9kZWxfbmV3cycsIHZlcmlmeUF1dGgpXHJcblxyXG5cclxuICAgIC8vcXVhbiBseSBiYWkgdmlldCAoIHBvc3QgKSAgXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9saXN0LXBvc3QvOmZyb20tOnRvJywgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL2NyZWF0ZV9uZXdfcG9zdCcsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9pbnNlcnRfbmV3X3Bvc3QnLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoJy9hcGkvdjEvZGV0YWlsX3Bvc3QvOmlkJywgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL3ZpZXdfZWRpdF9wb3N0LzppZCcsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9lZGl0X3Bvc3QnLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoJy9hcGkvdjEvZGVsX3Bvc3QnLCB2ZXJpZnlBdXRoKVxyXG5cclxuXHJcbiAgICAvL2FwaSBxdWFuIGx5IHRpbiB0dWMgKG5ld3MpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9HZXRCeUlkLzppZCcsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9saXN0LW5ld3MnLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoJy9hcGkvdjEvaW5zZXJ0X25ld3MnLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoJy9hcGkvdjEvZWRpdF9uZXdzLzppZCcsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9kZWxfbmV3cy86aWQnLCB2ZXJpZnlBdXRoKVxyXG5cclxuXHJcbiAgICByZXR1cm4gYXBwLnVzZShcIi9cIiwgYXV0aClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge2F1dGhNaWRkbGV3YXJlLCBOb3Rmb3VuZCwgdmVyaWZ5QXV0aH1cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxVQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBeUMsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFekM7QUFDQTtBQUNBO0FBR0EsTUFBTUcsVUFBVSxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsRUFBRUMsSUFBSSxLQUFLO0VBRW5DLElBQUlGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxJQUFJLEVBQUU7SUFDbEIsSUFBSUosR0FBRyxDQUFDRyxPQUFPLENBQUNDLElBQUksQ0FBQ0MsSUFBSSxJQUFJLENBQUMsRUFBRTtNQUU1Qjs7TUFFQSxNQUFNQyxLQUFLLEdBQUdOLEdBQUcsQ0FBQ08sT0FBTyxDQUFDRCxLQUFLO01BRS9CLElBQUksQ0FBQ0EsS0FBSyxFQUFFO1FBQ1IsT0FBT0wsR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUFFQyxHQUFHLEVBQUUsQ0FBQztVQUFFQyxJQUFJLEVBQUU7UUFBMkIsQ0FBQyxDQUFDO01BQzdFO01BRUEsSUFBSTtRQUNBLE1BQU1DLE9BQU8sR0FBR0Msa0JBQUcsQ0FBQ0MsV0FBVyxDQUFDUixLQUFLLENBQUM7UUFFdEMsSUFBSU0sT0FBTyxFQUFFO1VBQ1Q7VUFDQVYsSUFBSSxDQUFDLENBQUM7UUFDVixDQUFDLE1BQ0c7VUFDQSxPQUFPRCxHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1lBQUVDLEdBQUcsRUFBRSxDQUFDO1lBQUVDLElBQUksRUFBRTtVQUFpQixDQUFDLENBQUM7UUFDbkU7TUFFSixDQUFDLENBQUMsT0FBT0ksS0FBSyxFQUFFO1FBQ1osT0FBT2QsR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztVQUFFQyxHQUFHLEVBQUUsQ0FBQztVQUFFQyxJQUFJLEVBQUVJO1FBQU0sQ0FBQyxDQUFDO01BQ3hEO0lBQ0osQ0FBQyxNQUNJO01BQ0QsT0FBT2QsR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztRQUFFQyxHQUFHLEVBQUUsQ0FBQztRQUFFQyxJQUFJLEVBQUU7TUFBOEIsQ0FBQyxDQUFDO0lBQ2hGO0VBQ0osQ0FBQyxNQUNJO0lBQ0QsT0FBT1YsR0FBRyxDQUFDTyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQztNQUFFQyxHQUFHLEVBQUUsQ0FBQztNQUFFQyxJQUFJLEVBQUU7SUFBMkIsQ0FBQyxDQUFDO0VBQzdFO0FBQ0osQ0FBQztBQUVELE1BQU1LLFFBQVEsR0FBR0EsQ0FBQ2hCLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFDakNELEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDUyxJQUFJLENBQUMsdUNBQXVDLENBQUM7QUFDakUsQ0FBQztBQUVELE1BQU1DLFFBQVEsR0FBR0EsQ0FBQ2xCLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFFakMsSUFBSSxDQUFDRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsSUFBSSxFQUFFO0lBQ25CRixJQUFJLENBQUMsQ0FBQztFQUNWLENBQUMsTUFDSTtJQUNERCxHQUFHLENBQUNrQixRQUFRLENBQUMsaUJBQWlCLENBQUM7RUFDbkM7QUFDSixDQUFDO0FBRUQsTUFBTUMsTUFBTSxHQUFHQSxDQUFDcEIsR0FBRyxFQUFFQyxHQUFHLEVBQUVDLElBQUksS0FBSztFQUUvQixJQUFJRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsSUFBSSxFQUFFO0lBQ2xCLElBQUlKLEdBQUcsQ0FBQ0csT0FBTyxDQUFDQyxJQUFJLENBQUNDLElBQUksSUFBSSxDQUFDLEVBQUU7TUFDNUJILElBQUksQ0FBQyxDQUFDO0lBQ1YsQ0FBQyxNQUNJO01BQ0RELEdBQUcsQ0FBQ2tCLFFBQVEsQ0FBQyxpQkFBaUIsQ0FBQztJQUNuQztFQUNKLENBQUMsTUFDSTtJQUNEbEIsR0FBRyxDQUFDa0IsUUFBUSxDQUFDLFFBQVEsQ0FBQztFQUMxQjtBQUNKLENBQUM7QUFFRCxNQUFNZixJQUFJLEdBQUdpQixnQkFBTyxDQUFDQyxNQUFNLENBQUMsQ0FBQztBQUM3QixNQUFNQyxjQUFjLEdBQUlDLEdBQUcsSUFBSztFQUU1QnBCLElBQUksQ0FBQ3FCLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRUwsTUFBTSxDQUFDO0VBQ3BDaEIsSUFBSSxDQUFDcUIsR0FBRyxDQUFDLHdCQUF3QixFQUFFTCxNQUFNLENBQUM7RUFDMUNoQixJQUFJLENBQUNxQixHQUFHLENBQUMsV0FBVyxFQUFFTCxNQUFNLENBQUM7RUFDN0JoQixJQUFJLENBQUNxQixHQUFHLENBQUMsc0JBQXNCLEVBQUVMLE1BQU0sQ0FBQztFQUN4Q2hCLElBQUksQ0FBQ3FCLEdBQUcsQ0FBQyxZQUFZLEVBQUVMLE1BQU0sQ0FBQztFQUM5QmhCLElBQUksQ0FBQ3FCLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRUwsTUFBTSxDQUFDO0VBQ3hDaEIsSUFBSSxDQUFDcUIsR0FBRyxDQUFDLGtCQUFrQixFQUFFTCxNQUFNLENBQUM7O0VBRXBDO0VBQ0FoQixJQUFJLENBQUNxQixHQUFHLENBQUMsc0JBQXNCLEVBQUVMLE1BQU0sQ0FBQztFQUN4Q2hCLElBQUksQ0FBQ3FCLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRUwsTUFBTSxDQUFDO0VBQ3BDaEIsSUFBSSxDQUFDcUIsR0FBRyxDQUFDLGtCQUFrQixFQUFFTCxNQUFNLENBQUM7RUFDcENoQixJQUFJLENBQUNxQixHQUFHLENBQUMscUJBQXFCLEVBQUVMLE1BQU0sQ0FBQztFQUV2Q2hCLElBQUksQ0FBQ3FCLEdBQUcsQ0FBQyxxQkFBcUIsRUFBRUwsTUFBTSxDQUFDO0VBQ3ZDaEIsSUFBSSxDQUFDcUIsR0FBRyxDQUFDLFlBQVksRUFBRUwsTUFBTSxDQUFDO0VBQzlCaEIsSUFBSSxDQUFDcUIsR0FBRyxDQUFDLFdBQVcsRUFBRUwsTUFBTSxDQUFDOztFQUc3QjtFQUNBaEIsSUFBSSxDQUFDcUIsR0FBRyxDQUFDLHNCQUFzQixFQUFFTCxNQUFNLENBQUM7RUFDeENoQixJQUFJLENBQUNxQixHQUFHLENBQUMsa0JBQWtCLEVBQUVMLE1BQU0sQ0FBQztFQUNwQ2hCLElBQUksQ0FBQ3FCLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRUwsTUFBTSxDQUFDO0VBQ3BDaEIsSUFBSSxDQUFDcUIsR0FBRyxDQUFDLGtCQUFrQixFQUFFTCxNQUFNLENBQUM7RUFFcENoQixJQUFJLENBQUNxQixHQUFHLENBQUMscUJBQXFCLEVBQUVMLE1BQU0sQ0FBQztFQUN2Q2hCLElBQUksQ0FBQ3FCLEdBQUcsQ0FBQyxZQUFZLEVBQUVMLE1BQU0sQ0FBQztFQUM5QmhCLElBQUksQ0FBQ3FCLEdBQUcsQ0FBQyxXQUFXLEVBQUVMLE1BQU0sQ0FBQztFQUM3QjtFQUNBaEIsSUFBSSxDQUFDcUIsR0FBRyxDQUFDLFlBQVksRUFBRVAsUUFBUSxDQUFDOztFQUloQzs7RUFFQWQsSUFBSSxDQUFDcUIsR0FBRyxDQUFDLG9CQUFvQixFQUFFMUIsVUFBVSxDQUFDOztFQUUxQztFQUNBSyxJQUFJLENBQUNxQixHQUFHLENBQUMseUJBQXlCLEVBQUUxQixVQUFVLENBQUM7RUFDL0NLLElBQUksQ0FBQ3FCLEdBQUcsQ0FBQywrQkFBK0IsRUFBRTFCLFVBQVUsQ0FBQztFQUNyREssSUFBSSxDQUFDcUIsR0FBRyxDQUFDLDRCQUE0QixFQUFFMUIsVUFBVSxDQUFDO0VBQ2xESyxJQUFJLENBQUNxQixHQUFHLENBQUMsNkJBQTZCLEVBQUUxQixVQUFVLENBQUM7RUFDbkRLLElBQUksQ0FBQ3FCLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRTFCLFVBQVUsQ0FBQztFQUN6Q0ssSUFBSSxDQUFDcUIsR0FBRyxDQUFDLDZCQUE2QixFQUFFMUIsVUFBVSxDQUFDO0VBQ25ESyxJQUFJLENBQUNxQixHQUFHLENBQUMseUJBQXlCLEVBQUUxQixVQUFVLENBQUM7O0VBRy9DO0VBQ0FLLElBQUksQ0FBQ3FCLEdBQUcsQ0FBQyw2QkFBNkIsRUFBRTFCLFVBQVUsQ0FBQztFQUNuREssSUFBSSxDQUFDcUIsR0FBRyxDQUFDLHlCQUF5QixFQUFFMUIsVUFBVSxDQUFDO0VBQy9DSyxJQUFJLENBQUNxQixHQUFHLENBQUMseUJBQXlCLEVBQUUxQixVQUFVLENBQUM7RUFDL0NLLElBQUksQ0FBQ3FCLEdBQUcsQ0FBQyw0QkFBNEIsRUFBRTFCLFVBQVUsQ0FBQztFQUNsREssSUFBSSxDQUFDcUIsR0FBRyxDQUFDLDRCQUE0QixFQUFFMUIsVUFBVSxDQUFDO0VBQ2xESyxJQUFJLENBQUNxQixHQUFHLENBQUMsbUJBQW1CLEVBQUUxQixVQUFVLENBQUM7RUFDekNLLElBQUksQ0FBQ3FCLEdBQUcsQ0FBQyxrQkFBa0IsRUFBRTFCLFVBQVUsQ0FBQzs7RUFHeEM7RUFDQUssSUFBSSxDQUFDcUIsR0FBRyxDQUFDLDZCQUE2QixFQUFFMUIsVUFBVSxDQUFDO0VBQ25ESyxJQUFJLENBQUNxQixHQUFHLENBQUMseUJBQXlCLEVBQUUxQixVQUFVLENBQUM7RUFDL0NLLElBQUksQ0FBQ3FCLEdBQUcsQ0FBQyx5QkFBeUIsRUFBRTFCLFVBQVUsQ0FBQztFQUMvQ0ssSUFBSSxDQUFDcUIsR0FBRyxDQUFDLHlCQUF5QixFQUFFMUIsVUFBVSxDQUFDO0VBQy9DSyxJQUFJLENBQUNxQixHQUFHLENBQUMsNEJBQTRCLEVBQUUxQixVQUFVLENBQUM7RUFDbERLLElBQUksQ0FBQ3FCLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRTFCLFVBQVUsQ0FBQztFQUN6Q0ssSUFBSSxDQUFDcUIsR0FBRyxDQUFDLGtCQUFrQixFQUFFMUIsVUFBVSxDQUFDOztFQUd4QztFQUNBSyxJQUFJLENBQUNxQixHQUFHLENBQUMscUJBQXFCLEVBQUUxQixVQUFVLENBQUM7RUFDM0NLLElBQUksQ0FBQ3FCLEdBQUcsQ0FBQyxtQkFBbUIsRUFBRTFCLFVBQVUsQ0FBQztFQUN6Q0ssSUFBSSxDQUFDcUIsR0FBRyxDQUFDLHFCQUFxQixFQUFFMUIsVUFBVSxDQUFDO0VBQzNDSyxJQUFJLENBQUNxQixHQUFHLENBQUMsdUJBQXVCLEVBQUUxQixVQUFVLENBQUM7RUFDN0NLLElBQUksQ0FBQ3FCLEdBQUcsQ0FBQyxzQkFBc0IsRUFBRTFCLFVBQVUsQ0FBQztFQUc1QyxPQUFPeUIsR0FBRyxDQUFDQyxHQUFHLENBQUMsR0FBRyxFQUFFckIsSUFBSSxDQUFDO0FBQzdCLENBQUM7QUFBQSxJQUFBc0IsUUFBQSxHQUFBQyxPQUFBLENBQUE3QixPQUFBLEdBRWM7RUFBQ3lCLGNBQWM7RUFBRVAsUUFBUTtFQUFFakI7QUFBVSxDQUFDIn0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_JWTAction","obj","__esModule","default","verifyAuth","req","res","next","session","auth","role","token","cookies","status","json","err","mess","decoded","jwt","verifyToken","error","Notfound","send","HasLogin","redirect","Authen","express","Router","authMiddleware","app","use","_default","exports"],"sourceRoot":"D:\\xampp\\htdocs\\BC_Node\\src\\middleware\\","sources":["Auth.js"],"sourcesContent":["import express from \"express\"\r\nimport jwt from \"../middleware/JWTAction\"\r\n\r\n// let payload = { foo: 'bar' }\r\n// let code = JWT.createJWT(payload)\r\n// JWT.verifyToken(code)\r\n\r\n\r\nconst verifyAuth = (req, res, next) => {\r\n\r\n    if (req.session.auth) {\r\n        if (req.session.auth.role == 2) {\r\n\r\n            // const token = req.body.token || req.query.token || req.headers[\"x-access-token\"]\r\n\r\n            const token = req.cookies.token;\r\n\r\n            if (!token) {\r\n                return res.status(200).json({ err: 1, mess: \"bien token khong ton tai\" })\r\n            }\r\n\r\n            try {\r\n                const decoded = jwt.verifyToken(token)\r\n\r\n                if (decoded) {\r\n                    // res.status(200).json({ err: 1, mess: \"token da xac thuc tai khoan\" })\r\n                    next()\r\n                }\r\n                else{\r\n                    return res.status(200).json({ err: 1, mess: \"khong xac thuc\" })\r\n                }\r\n\r\n            } catch (error) {\r\n                return res.status(200).json({ err: 1, mess: error })\r\n            }\r\n        } \r\n        else {\r\n            return res.status(200).json({ err: 1, mess: \"khong co quyen han truy cap\" })\r\n        }\r\n    }\r\n    else {\r\n        return res.status(200).json({ err: 1, mess: \"chua dang nhap tai khoan\" })\r\n    }\r\n}\r\n\r\nconst Notfound = (req, res, next) => {\r\n    res.status(404).send(\"<h1>Page not found on the server</h1>\")\r\n}\r\n\r\nconst HasLogin = (req, res, next) => {\r\n\r\n    if (!req.session.auth) {\r\n        next()\r\n    }\r\n    else {\r\n        res.redirect('/list-user/0-10')\r\n    }\r\n}\r\n\r\nconst Authen = (req, res, next) => {\r\n\r\n    if (req.session.auth) {\r\n        if (req.session.auth.role == 2) {\r\n            next()\r\n        } \r\n        else {\r\n            res.redirect('/list-user/0-10')\r\n        }\r\n    }\r\n    else {\r\n        res.redirect('/login')\r\n    }\r\n}\r\n\r\nconst auth = express.Router()\r\nconst authMiddleware = (app) => {\r\n\r\n    auth.use(\"/insert_new_user\", Authen)\r\n    auth.use(\"/detail_user/:username\", Authen)\r\n    auth.use(\"/del_user\", Authen)\r\n    auth.use(\"/view_edit/:username\", Authen)\r\n    auth.use(\"/edit_user\", Authen)\r\n    auth.use(\"/list-user/:from-:to\", Authen)\r\n    auth.use(\"/create_new_user\", Authen)\r\n\r\n    //quan ly tin tuc ( news ) \r\n    auth.use('/list-news/:from-:to', Authen)\r\n    auth.use('/create_new_news', Authen)\r\n    auth.use('/insert_new_news', Authen)\r\n    auth.use('/detail_news/:title', Authen)\r\n\r\n    auth.use('/view_edit_news/:id', Authen)\r\n    auth.use('/edit_news', Authen)\r\n    auth.use('/del_news', Authen)\r\n\r\n\r\n    //quan ly bai viet ( post )  \r\n    auth.use('/list-post/:from-:to', Authen)\r\n    auth.use('/create_new_post', Authen)\r\n    auth.use('/insert_new_post', Authen)\r\n    auth.use('/detail_post/:id', Authen)\r\n\r\n    auth.use('/view_edit_post/:id', Authen)\r\n    auth.use('/edit_post', Authen)\r\n    auth.use('/del_post', Authen)\r\n    // /login\r\n    auth.use('/loginView', HasLogin)\r\n\r\n\r\n\r\n    //===============================================API===================================================\r\n\r\n    auth.use('/api/v1/login-auth', verifyAuth)\r\n\r\n    //quan ly user ( user ) \r\n    auth.use(\"/api/v1/insert_new_user\", verifyAuth)\r\n    auth.use(\"/api/v1/detail_user/:username\", verifyAuth)\r\n    auth.use(\"/api/v1/del_user/:username\", verifyAuth)\r\n    auth.use(\"/api/v1/view_edit/:username\", verifyAuth)\r\n    auth.use(\"/api/v1/edit_user\", verifyAuth)\r\n    auth.use(\"/api/v1/list-user/:from-:to\", verifyAuth)\r\n    auth.use(\"/api/v1/create_new_user\", verifyAuth)\r\n\r\n\r\n    //quan ly tin tuc ( news ) \r\n    auth.use('/api/v1/list-news/:from-:to', verifyAuth)\r\n    auth.use('/api/v1/create_new_news', verifyAuth)\r\n    auth.use('/api/v1/insert_new_news', verifyAuth)\r\n    auth.use('/api/v1/detail_news/:title', verifyAuth)\r\n    auth.use('/api/v1/view_edit_news/:id', verifyAuth)\r\n    auth.use('/api/v1/edit_news', verifyAuth)\r\n    auth.use('/api/v1/del_news', verifyAuth)\r\n\r\n\r\n    //quan ly bai viet ( post )  \r\n    auth.use('/api/v1/list-post/:from-:to', verifyAuth)\r\n    auth.use('/api/v1/create_new_post', verifyAuth)\r\n    auth.use('/api/v1/insert_new_post', verifyAuth)\r\n    auth.use('/api/v1/detail_post/:id', verifyAuth)\r\n    auth.use('/api/v1/view_edit_post/:id', verifyAuth)\r\n    auth.use('/api/v1/edit_post', verifyAuth)\r\n    auth.use('/api/v1/del_post', verifyAuth)\r\n\r\n\r\n    //api quan ly tin tuc (news)\r\n    auth.use('/api/v1/GetById/:id', verifyAuth)\r\n    auth.use('/api/v1/list-news', verifyAuth)\r\n    auth.use('/api/v1/insert_news', verifyAuth)\r\n    auth.use('/api/v1/edit_news/:id', verifyAuth)\r\n    auth.use('/api/v1/del_news/:id', verifyAuth)\r\n\r\n\r\n    return app.use(\"/\", auth)\r\n}\r\n\r\nexport default {authMiddleware, Notfound, verifyAuth}\r\n"],"mappings":"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"}},"mtime":1700110039424},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\index.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nvar _connectRedis = _interopRequireDefault(require(\"connect-redis\"));\nvar _expressSession = _interopRequireDefault(require(\"express-session\"));\nvar _redis = require(\"redis\");\nvar _viewEngine = _interopRequireDefault(require(\"./config/viewEngine\"));\nvar _webRoute = _interopRequireDefault(require(\"./router/webRoute\"));\nvar _apiRoute = _interopRequireDefault(require(\"./router/apiRoute\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _bodyParser = _interopRequireDefault(require(\"body-parser\"));\nvar _Auth = _interopRequireDefault(require(\"./middleware/Auth\"));\nvar _cors = _interopRequireDefault(require(\"cors\"));\nvar _cookieParser = _interopRequireDefault(require(\"cookie-parser\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst app = (0, _express.default)();\n_dotenv.default.config(); // cấu hình port trong .env\nconst port = process.env.PORT;\n\n// Initialize client.\nlet redisClient = (0, _redis.createClient)();\nredisClient.connect().catch(console.error);\n\n// Initialize store.\nlet redisStore = new _connectRedis.default({\n  client: redisClient,\n  prefix: \"myapp:\"\n});\n\n// Initialize sesssion storage.\napp.use((0, _expressSession.default)({\n  store: redisStore,\n  resave: false,\n  // required: force lightweight session keep alive (touch)\n  saveUninitialized: false,\n  // recommended: only save session when data exists\n  secret: \"keyboard cat\"\n}));\napp.use(_bodyParser.default.urlencoded({\n  extended: false\n}));\napp.use(_bodyParser.default.json());\n(0, _viewEngine.default)(app); // khởi tạo viewEngine\n\napp.use('/static', _express.default.static(_path.default.join(__dirname, 'public'))); // thêm \"/static\" vào link ảnh vd:\"/static/img/h1.jpg\"\n\napp.use((0, _cookieParser.default)());\nconst corsOptions = {\n  origin: ['http://localhost:3000', 'http://127.0.0.1'\n  // đường dẫn web react \n  ],\n\n  credentials: true,\n  exposedHeaders: ['set-cookie']\n};\napp.use((0, _cors.default)(corsOptions));\n_Auth.default.authMiddleware(app);\n(0, _webRoute.default)(app); // khởi tạo router\n(0, _apiRoute.default)(app); // khởi tạo router api\n\napp.use(_Auth.default.Notfound);\napp.listen(port, () => {\n  console.log(\"Example app listening on port http://localhost:\".concat(port));\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2RvdGVudiIsIl9jb25uZWN0UmVkaXMiLCJfZXhwcmVzc1Nlc3Npb24iLCJfcmVkaXMiLCJfdmlld0VuZ2luZSIsIl93ZWJSb3V0ZSIsIl9hcGlSb3V0ZSIsIl9wYXRoIiwiX2JvZHlQYXJzZXIiLCJfQXV0aCIsIl9jb3JzIiwiX2Nvb2tpZVBhcnNlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiYXBwIiwiZXhwcmVzcyIsImRvdGVudiIsImNvbmZpZyIsInBvcnQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsInJlZGlzQ2xpZW50IiwiY3JlYXRlQ2xpZW50IiwiY29ubmVjdCIsImNhdGNoIiwiY29uc29sZSIsImVycm9yIiwicmVkaXNTdG9yZSIsIlJlZGlzU3RvcmUiLCJjbGllbnQiLCJwcmVmaXgiLCJ1c2UiLCJzZXNzaW9uIiwic3RvcmUiLCJyZXNhdmUiLCJzYXZlVW5pbml0aWFsaXplZCIsInNlY3JldCIsImJvZHlQYXJzZXIiLCJ1cmxlbmNvZGVkIiwiZXh0ZW5kZWQiLCJqc29uIiwiY29uZmlnVmlld0VuZ2luZSIsInN0YXRpYyIsInBhdGgiLCJqb2luIiwiX19kaXJuYW1lIiwiY29va2llUGFyc2VyIiwiY29yc09wdGlvbnMiLCJvcmlnaW4iLCJjcmVkZW50aWFscyIsImV4cG9zZWRIZWFkZXJzIiwiY29ycyIsIkF1dGgiLCJhdXRoTWlkZGxld2FyZSIsImluaXRXZWJSb3V0ZSIsImluaXRBUElSb3V0ZSIsIk5vdGZvdW5kIiwibGlzdGVuIiwibG9nIiwiY29uY2F0Il0sInNvdXJjZVJvb3QiOiJEOlxcTm9kZV9CYW9DYW9cXE5vZGVfQVBJXFxzcmNcXCIsInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgZG90ZW52IGZyb20gXCJkb3RlbnZcIlxyXG5pbXBvcnQgUmVkaXNTdG9yZSBmcm9tIFwiY29ubmVjdC1yZWRpc1wiXHJcbmltcG9ydCBzZXNzaW9uIGZyb20gXCJleHByZXNzLXNlc3Npb25cIlxyXG5pbXBvcnQge2NyZWF0ZUNsaWVudH0gZnJvbSBcInJlZGlzXCJcclxuaW1wb3J0IGNvbmZpZ1ZpZXdFbmdpbmUgZnJvbSBcIi4vY29uZmlnL3ZpZXdFbmdpbmVcIlxyXG5pbXBvcnQgaW5pdFdlYlJvdXRlIGZyb20gXCIuL3JvdXRlci93ZWJSb3V0ZVwiXHJcbmltcG9ydCBpbml0QVBJUm91dGUgZnJvbSBcIi4vcm91dGVyL2FwaVJvdXRlXCJcclxuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIlxyXG5pbXBvcnQgYm9keVBhcnNlciBmcm9tIFwiYm9keS1wYXJzZXJcIlxyXG5pbXBvcnQgQXV0aCBmcm9tIFwiLi9taWRkbGV3YXJlL0F1dGhcIlxyXG5pbXBvcnQgY29ycyBmcm9tIFwiY29yc1wiXHJcbmltcG9ydCBjb29raWVQYXJzZXIgZnJvbSAnY29va2llLXBhcnNlcidcclxuXHJcbmNvbnN0IGFwcCA9IGV4cHJlc3MoKVxyXG5cclxuZG90ZW52LmNvbmZpZygpIC8vIGPhuqV1IGjDrG5oIHBvcnQgdHJvbmcgLmVudlxyXG5jb25zdCBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVFxyXG5cclxuLy8gSW5pdGlhbGl6ZSBjbGllbnQuXHJcbmxldCByZWRpc0NsaWVudCA9IGNyZWF0ZUNsaWVudCgpXHJcbnJlZGlzQ2xpZW50LmNvbm5lY3QoKS5jYXRjaChjb25zb2xlLmVycm9yKVxyXG5cclxuLy8gSW5pdGlhbGl6ZSBzdG9yZS5cclxubGV0IHJlZGlzU3RvcmUgPSBuZXcgUmVkaXNTdG9yZSh7XHJcbiAgY2xpZW50OiByZWRpc0NsaWVudCxcclxuICBwcmVmaXg6IFwibXlhcHA6XCIsXHJcbn0pXHJcblxyXG4vLyBJbml0aWFsaXplIHNlc3NzaW9uIHN0b3JhZ2UuXHJcbmFwcC51c2UoXHJcbiAgc2Vzc2lvbih7XHJcbiAgICBzdG9yZTogcmVkaXNTdG9yZSxcclxuICAgIHJlc2F2ZTogZmFsc2UsIC8vIHJlcXVpcmVkOiBmb3JjZSBsaWdodHdlaWdodCBzZXNzaW9uIGtlZXAgYWxpdmUgKHRvdWNoKVxyXG4gICAgc2F2ZVVuaW5pdGlhbGl6ZWQ6IGZhbHNlLCAvLyByZWNvbW1lbmRlZDogb25seSBzYXZlIHNlc3Npb24gd2hlbiBkYXRhIGV4aXN0c1xyXG4gICAgc2VjcmV0OiBcImtleWJvYXJkIGNhdFwiLFxyXG4gICAgXHJcbiAgfSlcclxuKVxyXG5hcHAudXNlKGJvZHlQYXJzZXIudXJsZW5jb2RlZCh7IGV4dGVuZGVkOiBmYWxzZSB9KSlcclxuYXBwLnVzZShib2R5UGFyc2VyLmpzb24oKSlcclxuXHJcbmNvbmZpZ1ZpZXdFbmdpbmUoYXBwKSAvLyBraOG7n2kgdOG6oW8gdmlld0VuZ2luZVxyXG5cclxuYXBwLnVzZSgnL3N0YXRpYycsIGV4cHJlc3Muc3RhdGljKHBhdGguam9pbihfX2Rpcm5hbWUsJ3B1YmxpYycpKSkgLy8gdGjDqm0gXCIvc3RhdGljXCIgdsOgbyBsaW5rIOG6o25oIHZkOlwiL3N0YXRpYy9pbWcvaDEuanBnXCJcclxuXHJcbmFwcC51c2UoY29va2llUGFyc2VyKCkpXHJcblxyXG5jb25zdCBjb3JzT3B0aW9ucyA9IHtcclxuICBvcmlnaW46IFtcclxuICAgICdodHRwOi8vbG9jYWxob3N0OjMwMDAnLFxyXG4gICAgJ2h0dHA6Ly8xMjcuMC4wLjEnXHJcbiAgICAvLyDEkcaw4budbmcgZOG6q24gd2ViIHJlYWN0IFxyXG4gIF0sXHJcbiAgY3JlZGVudGlhbHM6IHRydWUsXHJcbiAgZXhwb3NlZEhlYWRlcnM6IFsnc2V0LWNvb2tpZSddLFxyXG59O1xyXG5cclxuYXBwLnVzZShjb3JzKGNvcnNPcHRpb25zKSk7XHJcblxyXG5BdXRoLmF1dGhNaWRkbGV3YXJlKGFwcClcclxuXHJcbmluaXRXZWJSb3V0ZShhcHApIC8vIGto4bufaSB04bqhbyByb3V0ZXJcclxuaW5pdEFQSVJvdXRlKGFwcCkgLy8ga2jhu59pIHThuqFvIHJvdXRlciBhcGlcclxuXHJcbmFwcC51c2UoQXV0aC5Ob3Rmb3VuZClcclxuXHJcbmFwcC5saXN0ZW4ocG9ydCwgKCkgPT4ge1xyXG4gIGNvbnNvbGUubG9nKGBFeGFtcGxlIGFwcCBsaXN0ZW5pbmcgb24gcG9ydCBodHRwOi8vbG9jYWxob3N0OiR7cG9ydH1gKVxyXG59KSJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRSxhQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxlQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSSxNQUFBLEdBQUFKLE9BQUE7QUFDQSxJQUFBSyxXQUFBLEdBQUFOLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTSxTQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBTyxTQUFBLEdBQUFSLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBUSxLQUFBLEdBQUFULHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBUyxXQUFBLEdBQUFWLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBVSxLQUFBLEdBQUFYLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBVyxLQUFBLEdBQUFaLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBWSxhQUFBLEdBQUFiLHNCQUFBLENBQUFDLE9BQUE7QUFBd0MsU0FBQUQsdUJBQUFjLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFeEMsTUFBTUcsR0FBRyxHQUFHLElBQUFDLGdCQUFPLEVBQUMsQ0FBQztBQUVyQkMsZUFBTSxDQUFDQyxNQUFNLENBQUMsQ0FBQyxFQUFDO0FBQ2hCLE1BQU1DLElBQUksR0FBR0MsT0FBTyxDQUFDQyxHQUFHLENBQUNDLElBQUk7O0FBRTdCO0FBQ0EsSUFBSUMsV0FBVyxHQUFHLElBQUFDLG1CQUFZLEVBQUMsQ0FBQztBQUNoQ0QsV0FBVyxDQUFDRSxPQUFPLENBQUMsQ0FBQyxDQUFDQyxLQUFLLENBQUNDLE9BQU8sQ0FBQ0MsS0FBSyxDQUFDOztBQUUxQztBQUNBLElBQUlDLFVBQVUsR0FBRyxJQUFJQyxxQkFBVSxDQUFDO0VBQzlCQyxNQUFNLEVBQUVSLFdBQVc7RUFDbkJTLE1BQU0sRUFBRTtBQUNWLENBQUMsQ0FBQzs7QUFFRjtBQUNBakIsR0FBRyxDQUFDa0IsR0FBRyxDQUNMLElBQUFDLHVCQUFPLEVBQUM7RUFDTkMsS0FBSyxFQUFFTixVQUFVO0VBQ2pCTyxNQUFNLEVBQUUsS0FBSztFQUFFO0VBQ2ZDLGlCQUFpQixFQUFFLEtBQUs7RUFBRTtFQUMxQkMsTUFBTSxFQUFFO0FBRVYsQ0FBQyxDQUNILENBQUM7QUFDRHZCLEdBQUcsQ0FBQ2tCLEdBQUcsQ0FBQ00sbUJBQVUsQ0FBQ0MsVUFBVSxDQUFDO0VBQUVDLFFBQVEsRUFBRTtBQUFNLENBQUMsQ0FBQyxDQUFDO0FBQ25EMUIsR0FBRyxDQUFDa0IsR0FBRyxDQUFDTSxtQkFBVSxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDO0FBRTFCLElBQUFDLG1CQUFnQixFQUFDNUIsR0FBRyxDQUFDLEVBQUM7O0FBRXRCQSxHQUFHLENBQUNrQixHQUFHLENBQUMsU0FBUyxFQUFFakIsZ0JBQU8sQ0FBQzRCLE1BQU0sQ0FBQ0MsYUFBSSxDQUFDQyxJQUFJLENBQUNDLFNBQVMsRUFBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLEVBQUM7O0FBRWxFaEMsR0FBRyxDQUFDa0IsR0FBRyxDQUFDLElBQUFlLHFCQUFZLEVBQUMsQ0FBQyxDQUFDO0FBRXZCLE1BQU1DLFdBQVcsR0FBRztFQUNsQkMsTUFBTSxFQUFFLENBQ04sdUJBQXVCLEVBQ3ZCO0VBQ0E7RUFBQSxDQUNEOztFQUNEQyxXQUFXLEVBQUUsSUFBSTtFQUNqQkMsY0FBYyxFQUFFLENBQUMsWUFBWTtBQUMvQixDQUFDO0FBRURyQyxHQUFHLENBQUNrQixHQUFHLENBQUMsSUFBQW9CLGFBQUksRUFBQ0osV0FBVyxDQUFDLENBQUM7QUFFMUJLLGFBQUksQ0FBQ0MsY0FBYyxDQUFDeEMsR0FBRyxDQUFDO0FBRXhCLElBQUF5QyxpQkFBWSxFQUFDekMsR0FBRyxDQUFDLEVBQUM7QUFDbEIsSUFBQTBDLGlCQUFZLEVBQUMxQyxHQUFHLENBQUMsRUFBQzs7QUFFbEJBLEdBQUcsQ0FBQ2tCLEdBQUcsQ0FBQ3FCLGFBQUksQ0FBQ0ksUUFBUSxDQUFDO0FBRXRCM0MsR0FBRyxDQUFDNEMsTUFBTSxDQUFDeEMsSUFBSSxFQUFFLE1BQU07RUFDckJRLE9BQU8sQ0FBQ2lDLEdBQUcsbURBQUFDLE1BQUEsQ0FBbUQxQyxJQUFJLENBQUUsQ0FBQztBQUN2RSxDQUFDLENBQUMifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_dotenv","_connectRedis","_expressSession","_redis","_viewEngine","_webRoute","_apiRoute","_path","_bodyParser","_Auth","_cors","_cookieParser","obj","__esModule","default","app","express","dotenv","config","port","process","env","PORT","redisClient","createClient","connect","catch","console","error","redisStore","RedisStore","client","prefix","use","session","store","resave","saveUninitialized","secret","bodyParser","urlencoded","extended","json","configViewEngine","static","path","join","__dirname","cookieParser","corsOptions","origin","credentials","exposedHeaders","cors","Auth","authMiddleware","initWebRoute","initAPIRoute","Notfound","listen","log","concat"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\","sources":["index.js"],"sourcesContent":["import express from \"express\"\r\nimport dotenv from \"dotenv\"\r\nimport RedisStore from \"connect-redis\"\r\nimport session from \"express-session\"\r\nimport {createClient} from \"redis\"\r\nimport configViewEngine from \"./config/viewEngine\"\r\nimport initWebRoute from \"./router/webRoute\"\r\nimport initAPIRoute from \"./router/apiRoute\"\r\nimport path from \"path\"\r\nimport bodyParser from \"body-parser\"\r\nimport Auth from \"./middleware/Auth\"\r\nimport cors from \"cors\"\r\nimport cookieParser from 'cookie-parser'\r\n\r\nconst app = express()\r\n\r\ndotenv.config() // cấu hình port trong .env\r\nconst port = process.env.PORT\r\n\r\n// Initialize client.\r\nlet redisClient = createClient()\r\nredisClient.connect().catch(console.error)\r\n\r\n// Initialize store.\r\nlet redisStore = new RedisStore({\r\n  client: redisClient,\r\n  prefix: \"myapp:\",\r\n})\r\n\r\n// Initialize sesssion storage.\r\napp.use(\r\n  session({\r\n    store: redisStore,\r\n    resave: false, // required: force lightweight session keep alive (touch)\r\n    saveUninitialized: false, // recommended: only save session when data exists\r\n    secret: \"keyboard cat\",\r\n    \r\n  })\r\n)\r\napp.use(bodyParser.urlencoded({ extended: false }))\r\napp.use(bodyParser.json())\r\n\r\nconfigViewEngine(app) // khởi tạo viewEngine\r\n\r\napp.use('/static', express.static(path.join(__dirname,'public'))) // thêm \"/static\" vào link ảnh vd:\"/static/img/h1.jpg\"\r\n\r\napp.use(cookieParser())\r\n\r\nconst corsOptions = {\r\n  origin: [\r\n    'http://localhost:3000',\r\n    'http://127.0.0.1'\r\n    // đường dẫn web react \r\n  ],\r\n  credentials: true,\r\n  exposedHeaders: ['set-cookie'],\r\n};\r\n\r\napp.use(cors(corsOptions));\r\n\r\nAuth.authMiddleware(app)\r\n\r\ninitWebRoute(app) // khởi tạo router\r\ninitAPIRoute(app) // khởi tạo router api\r\n\r\napp.use(Auth.Notfound)\r\n\r\napp.listen(port, () => {\r\n  console.log(`Example app listening on port http://localhost:${port}`)\r\n})"],"mappings":";;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,aAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,eAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,MAAA,GAAAJ,OAAA;AACA,IAAAK,WAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,SAAA,GAAAP,sBAAA,CAAAC,OAAA;AACA,IAAAO,SAAA,GAAAR,sBAAA,CAAAC,OAAA;AACA,IAAAQ,KAAA,GAAAT,sBAAA,CAAAC,OAAA;AACA,IAAAS,WAAA,GAAAV,sBAAA,CAAAC,OAAA;AACA,IAAAU,KAAA,GAAAX,sBAAA,CAAAC,OAAA;AACA,IAAAW,KAAA,GAAAZ,sBAAA,CAAAC,OAAA;AACA,IAAAY,aAAA,GAAAb,sBAAA,CAAAC,OAAA;AAAwC,SAAAD,uBAAAc,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAExC,MAAMG,GAAG,GAAG,IAAAC,gBAAO,EAAC,CAAC;AAErBC,eAAM,CAACC,MAAM,CAAC,CAAC,EAAC;AAChB,MAAMC,IAAI,GAAGC,OAAO,CAACC,GAAG,CAACC,IAAI;;AAE7B;AACA,IAAIC,WAAW,GAAG,IAAAC,mBAAY,EAAC,CAAC;AAChCD,WAAW,CAACE,OAAO,CAAC,CAAC,CAACC,KAAK,CAACC,OAAO,CAACC,KAAK,CAAC;;AAE1C;AACA,IAAIC,UAAU,GAAG,IAAIC,qBAAU,CAAC;EAC9BC,MAAM,EAAER,WAAW;EACnBS,MAAM,EAAE;AACV,CAAC,CAAC;;AAEF;AACAjB,GAAG,CAACkB,GAAG,CACL,IAAAC,uBAAO,EAAC;EACNC,KAAK,EAAEN,UAAU;EACjBO,MAAM,EAAE,KAAK;EAAE;EACfC,iBAAiB,EAAE,KAAK;EAAE;EAC1BC,MAAM,EAAE;AAEV,CAAC,CACH,CAAC;AACDvB,GAAG,CAACkB,GAAG,CAACM,mBAAU,CAACC,UAAU,CAAC;EAAEC,QAAQ,EAAE;AAAM,CAAC,CAAC,CAAC;AACnD1B,GAAG,CAACkB,GAAG,CAACM,mBAAU,CAACG,IAAI,CAAC,CAAC,CAAC;AAE1B,IAAAC,mBAAgB,EAAC5B,GAAG,CAAC,EAAC;;AAEtBA,GAAG,CAACkB,GAAG,CAAC,SAAS,EAAEjB,gBAAO,CAAC4B,MAAM,CAACC,aAAI,CAACC,IAAI,CAACC,SAAS,EAAC,QAAQ,CAAC,CAAC,CAAC,EAAC;;AAElEhC,GAAG,CAACkB,GAAG,CAAC,IAAAe,qBAAY,EAAC,CAAC,CAAC;AAEvB,MAAMC,WAAW,GAAG;EAClBC,MAAM,EAAE,CACN,uBAAuB,EACvB;EACA;EAAA,CACD;;EACDC,WAAW,EAAE,IAAI;EACjBC,cAAc,EAAE,CAAC,YAAY;AAC/B,CAAC;AAEDrC,GAAG,CAACkB,GAAG,CAAC,IAAAoB,aAAI,EAACJ,WAAW,CAAC,CAAC;AAE1BK,aAAI,CAACC,cAAc,CAACxC,GAAG,CAAC;AAExB,IAAAyC,iBAAY,EAACzC,GAAG,CAAC,EAAC;AAClB,IAAA0C,iBAAY,EAAC1C,GAAG,CAAC,EAAC;;AAElBA,GAAG,CAACkB,GAAG,CAACqB,aAAI,CAACI,QAAQ,CAAC;AAEtB3C,GAAG,CAAC4C,MAAM,CAACxC,IAAI,EAAE,MAAM;EACrBQ,OAAO,CAACiC,GAAG,mDAAAC,MAAA,CAAmD1C,IAAI,CAAE,CAAC;AACvE,CAAC,CAAC"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\config\\\\viewEngine.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst configViewEngine = app => {\n  app.set(\"view engine\", \"ejs\");\n  app.set(\"views\", \"./src/views\");\n};\nvar _default = exports.default = configViewEngine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWdWaWV3RW5naW5lIiwiYXBwIiwic2V0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxjb25maWdcXCIsInNvdXJjZXMiOlsidmlld0VuZ2luZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjb25maWdWaWV3RW5naW5lID0gKGFwcCkgPT4ge1xyXG4gICAgYXBwLnNldChcInZpZXcgZW5naW5lXCIsIFwiZWpzXCIpXHJcbiAgICBhcHAuc2V0KFwidmlld3NcIiwgXCIuL3NyYy92aWV3c1wiKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IGNvbmZpZ1ZpZXdFbmdpbmUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQU1BLGdCQUFnQixHQUFJQyxHQUFHLElBQUs7RUFDOUJBLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUM7RUFDN0JELEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUM7QUFDbkMsQ0FBQztBQUFBLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBQyxPQUFBLEdBQ2NMLGdCQUFnQiJ9","map":{"version":3,"names":["configViewEngine","app","set","_default","exports","default"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\config\\","sources":["viewEngine.js"],"sourcesContent":["const configViewEngine = (app) => {\r\n    app.set(\"view engine\", \"ejs\")\r\n    app.set(\"views\", \"./src/views\")\r\n}\r\nexport default configViewEngine"],"mappings":";;;;;;AAAA,MAAMA,gBAAgB,GAAIC,GAAG,IAAK;EAC9BA,GAAG,CAACC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;EAC7BD,GAAG,CAACC,GAAG,CAAC,OAAO,EAAE,aAAa,CAAC;AACnC,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GACcL,gBAAgB"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\router\\\\webRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _HomeController = _interopRequireDefault(require(\"./../controllers/HomeController\"));\nvar _AboutController = _interopRequireDefault(require(\"./../controllers/AboutController\"));\nvar _UserController = _interopRequireDefault(require(\"./../controllers/UserController\"));\nvar _formLoginController = _interopRequireDefault(require(\"./../controllers/formLoginController\"));\nvar _HomeUserController = _interopRequireDefault(require(\"./../controllers/HomeUserController\"));\nvar _NewsController = _interopRequireDefault(require(\"./../controllers/NewsController\"));\nvar _PostController = _interopRequireDefault(require(\"./../controllers/PostController\"));\nvar _ApiNewsController = _interopRequireDefault(require(\"./../controllers/ApiNewsController\"));\nvar _ApiPostController = _interopRequireDefault(require(\"./../controllers/ApiPostController\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thu vien up img\n\n// add controller\n// add controller\n// add controller\n\n// add controller\n\n// add controller\n// add controller\n\n// add controller\n// add controller\n\nconst storage = _multer.default.diskStorage({\n  destination: function destination(req, file, cb) {\n    cb(null, './src/public/upload');\n  },\n  filename: function filename(req, file, cb) {\n    const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9);\n    cb(null, uniqueSuffix + _path.default.extname(file.originalname));\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst router = _express.default.Router();\nconst initWebRoute = app => {\n  // app.get('/home/:namepage', HomeController.getHome) // truyền param\n  // app.get('/set-session', HomeController.setSession)\n  // app.get('/abc', HomeController.getAbc)\n\n  router.get('/admin', _HomeController.default.getHome);\n  router.get('/about', _AboutController.default.getAbout);\n  router.get('/create_new_user', _UserController.default.new_user);\n  router.post('/insert_new_user', _UserController.default.insert_user);\n  router.get('/list-user/:from-:to', _UserController.default.list_user);\n  router.get('/login', _formLoginController.default.login);\n  router.post('/login', _formLoginController.default.login_auth);\n  router.get('/logout', _formLoginController.default.logout);\n  router.get('/detail_user/:username', _UserController.default.detail_user);\n  router.post('/del_user', _UserController.default.del_user);\n  router.get('/view_edit/:username', _UserController.default.view_edit);\n  router.post('/edit_user', _UserController.default.edit_user);\n\n  //user\n  router.get('/', _HomeUserController.default.HomeUser);\n  router.get('/LoginUser', _HomeUserController.default.LoginUser);\n  router.post('/login_auth_User', _HomeUserController.default.login_auth_User);\n  router.get('/logout_User', _HomeUserController.default.logout_User);\n  router.get('/RegisterUser', _HomeUserController.default.RegisterUser);\n  router.post('/request_register', _HomeUserController.default.request_register);\n  router.get('/SinglePage/:id', _HomeUserController.default.SinglePage);\n\n  //hien thi bai viet theo tin tuc\n  router.get('/ByNews/:id', _HomeUserController.default.ByNews);\n\n  //quan ly tin tuc ( news )  \n  router.get('/list-news/:from-:to', _NewsController.default.list_news);\n  router.get('/create_new_news', _NewsController.default.new_news);\n  router.post('/insert_new_news', _NewsController.default.insert_news);\n  router.get('/detail_news/:title', _NewsController.default.detail_news);\n  router.get('/view_edit_news/:id', _NewsController.default.view_edit_news);\n  router.post('/edit_news', _NewsController.default.edit_news);\n  router.post('/del_news', _NewsController.default.del_news);\n\n  //quan ly bai viet ( post )  \n  router.get('/list-post/:from-:to', _PostController.default.list_post);\n  router.get('/create_new_post', _PostController.default.new_post);\n  router.post('/insert_new_post', upload.single('filenew'), _PostController.default.insert_post);\n  router.get('/detail_post/:id', _PostController.default.detail_post);\n  router.get('/SinglePage/:id', _HomeUserController.default.SinglePage);\n\n  //hien thi bai viet theo tin tuc\n  router.get('/ByNews/:id', _HomeUserController.default.ByNews);\n\n  //quan ly tin tuc ( news )  \n  router.get('/list-news/:from-:to', _NewsController.default.list_news);\n  router.get('/create_new_news', _NewsController.default.new_news);\n  router.post('/insert_new_news', _NewsController.default.insert_news);\n  router.get('/detail_news/:title', _NewsController.default.detail_news);\n  router.get('/view_edit_news/:id', _NewsController.default.view_edit_news);\n  router.post('/edit_news', _NewsController.default.edit_news);\n  router.post('/del_news', _NewsController.default.del_news);\n\n  //quan ly bai viet ( post )  \n  router.get('/list-post/:from-:to', _PostController.default.list_post);\n  router.get('/create_new_post', _PostController.default.new_post);\n  router.post('/insert_new_post', upload.single('filenew'), _PostController.default.insert_post);\n  router.get('/detail_post/:id', _PostController.default.detail_post);\n  router.get('/view_edit_post/:id', _PostController.default.view_edit_post);\n  router.post('/edit_post', upload.single('filenew'), _PostController.default.edit_post);\n  router.post('/del_post', _PostController.default.del_post);\n\n  // //api react\n\n  // router.get('/api/news', ApiNewsController.apiReactList)\n  // router.get('/api/news/:id', ApiNewsController.apiPostFromNew)\n\n  // router.get('/api/posts', ApiPostController.apiPostList)\n  // router.get('/api/post/:id', ApiPostController.apiPostId)\n\n  return app.use(\"/\", router);\n};\nvar _default = exports.default = initWebRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9wYXRoIiwiX0hvbWVDb250cm9sbGVyIiwiX0Fib3V0Q29udHJvbGxlciIsIl9Vc2VyQ29udHJvbGxlciIsIl9mb3JtTG9naW5Db250cm9sbGVyIiwiX0hvbWVVc2VyQ29udHJvbGxlciIsIl9OZXdzQ29udHJvbGxlciIsIl9Qb3N0Q29udHJvbGxlciIsIl9BcGlOZXdzQ29udHJvbGxlciIsIl9BcGlQb3N0Q29udHJvbGxlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsInVuaXF1ZVN1ZmZpeCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJwYXRoIiwiZXh0bmFtZSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJpbml0V2ViUm91dGUiLCJhcHAiLCJnZXQiLCJIb21lQ29udHJvbGxlciIsImdldEhvbWUiLCJBYm91dENvbnRyb2xsZXIiLCJnZXRBYm91dCIsIlVzZXJDb250cm9sbGVyIiwibmV3X3VzZXIiLCJwb3N0IiwiaW5zZXJ0X3VzZXIiLCJsaXN0X3VzZXIiLCJmb3JtTG9naW5Db250cm9sbGVyIiwibG9naW4iLCJsb2dpbl9hdXRoIiwibG9nb3V0IiwiZGV0YWlsX3VzZXIiLCJkZWxfdXNlciIsInZpZXdfZWRpdCIsImVkaXRfdXNlciIsIkhvbWVVc2VyQ29udHJvbGxlciIsIkhvbWVVc2VyIiwiTG9naW5Vc2VyIiwibG9naW5fYXV0aF9Vc2VyIiwibG9nb3V0X1VzZXIiLCJSZWdpc3RlclVzZXIiLCJyZXF1ZXN0X3JlZ2lzdGVyIiwiU2luZ2xlUGFnZSIsIkJ5TmV3cyIsIk5ld3NDb250cm9sbGVyIiwibGlzdF9uZXdzIiwibmV3X25ld3MiLCJpbnNlcnRfbmV3cyIsImRldGFpbF9uZXdzIiwidmlld19lZGl0X25ld3MiLCJlZGl0X25ld3MiLCJkZWxfbmV3cyIsIlBvc3RDb250cm9sbGVyIiwibGlzdF9wb3N0IiwibmV3X3Bvc3QiLCJzaW5nbGUiLCJpbnNlcnRfcG9zdCIsImRldGFpbF9wb3N0Iiwidmlld19lZGl0X3Bvc3QiLCJlZGl0X3Bvc3QiLCJkZWxfcG9zdCIsInVzZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsid2ViUm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcicgLy8gdGh1IHZpZW4gdXAgaW1nXHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCJcclxuaW1wb3J0IEhvbWVDb250cm9sbGVyIGZyb20gXCIuLy4uL2NvbnRyb2xsZXJzL0hvbWVDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuaW1wb3J0IEFib3V0Q29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9BYm91dENvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5pbXBvcnQgVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5pbXBvcnQgZm9ybUxvZ2luQ29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9mb3JtTG9naW5Db250cm9sbGVyXCJcclxuXHJcbmltcG9ydCBIb21lVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvSG9tZVVzZXJDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuXHJcblxyXG5pbXBvcnQgTmV3c0NvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvTmV3c0NvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5pbXBvcnQgUG9zdENvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvUG9zdENvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5cclxuaW1wb3J0IEFwaU5ld3NDb250cm9sbGVyIGZyb20gXCIuLy4uL2NvbnRyb2xsZXJzL0FwaU5ld3NDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuaW1wb3J0IEFwaVBvc3RDb250cm9sbGVyIGZyb20gXCIuLy4uL2NvbnRyb2xsZXJzL0FwaVBvc3RDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuXHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gICAgZGVzdGluYXRpb246IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICAgIGNiKG51bGwsICcuL3NyYy9wdWJsaWMvdXBsb2FkJylcclxuICAgIH0sXHJcbiAgICBmaWxlbmFtZTogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgICAgY29uc3QgdW5pcXVlU3VmZml4ID0gRGF0ZS5ub3coKSArICctJyArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDFFOSlcclxuICAgICAgY2IobnVsbCwgdW5pcXVlU3VmZml4ICsgcGF0aC5leHRuYW1lKGZpbGUub3JpZ2luYWxuYW1lKSlcclxuICAgIH1cclxuICB9KVxyXG4gIFxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlIH0pXHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpXHJcbmNvbnN0IGluaXRXZWJSb3V0ZSA9IChhcHApID0+IHtcclxuXHJcbiAgICAvLyBhcHAuZ2V0KCcvaG9tZS86bmFtZXBhZ2UnLCBIb21lQ29udHJvbGxlci5nZXRIb21lKSAvLyB0cnV54buBbiBwYXJhbVxyXG4gICAgLy8gYXBwLmdldCgnL3NldC1zZXNzaW9uJywgSG9tZUNvbnRyb2xsZXIuc2V0U2Vzc2lvbilcclxuICAgIC8vIGFwcC5nZXQoJy9hYmMnLCBIb21lQ29udHJvbGxlci5nZXRBYmMpXHJcblxyXG4gICAgcm91dGVyLmdldCgnL2FkbWluJywgSG9tZUNvbnRyb2xsZXIuZ2V0SG9tZSlcclxuICAgIHJvdXRlci5nZXQoJy9hYm91dCcsIEFib3V0Q29udHJvbGxlci5nZXRBYm91dClcclxuXHJcbiAgICByb3V0ZXIuZ2V0KCcvY3JlYXRlX25ld191c2VyJywgVXNlckNvbnRyb2xsZXIubmV3X3VzZXIpXHJcbiAgICByb3V0ZXIucG9zdCgnL2luc2VydF9uZXdfdXNlcicsIFVzZXJDb250cm9sbGVyLmluc2VydF91c2VyKVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy9saXN0LXVzZXIvOmZyb20tOnRvJywgVXNlckNvbnRyb2xsZXIubGlzdF91c2VyKVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy9sb2dpbicsIGZvcm1Mb2dpbkNvbnRyb2xsZXIubG9naW4pXHJcbiAgICByb3V0ZXIucG9zdCgnL2xvZ2luJywgZm9ybUxvZ2luQ29udHJvbGxlci5sb2dpbl9hdXRoKVxyXG4gICAgcm91dGVyLmdldCgnL2xvZ291dCcsIGZvcm1Mb2dpbkNvbnRyb2xsZXIubG9nb3V0KVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy9kZXRhaWxfdXNlci86dXNlcm5hbWUnLCBVc2VyQ29udHJvbGxlci5kZXRhaWxfdXNlcilcclxuXHJcbiAgICByb3V0ZXIucG9zdCgnL2RlbF91c2VyJywgVXNlckNvbnRyb2xsZXIuZGVsX3VzZXIpXHJcblxyXG4gICAgcm91dGVyLmdldCgnL3ZpZXdfZWRpdC86dXNlcm5hbWUnLCBVc2VyQ29udHJvbGxlci52aWV3X2VkaXQpXHJcbiAgICByb3V0ZXIucG9zdCgnL2VkaXRfdXNlcicsIFVzZXJDb250cm9sbGVyLmVkaXRfdXNlcilcclxuXHJcbiAgICBcclxuICAgIC8vdXNlclxyXG4gICAgcm91dGVyLmdldCgnLycsIEhvbWVVc2VyQ29udHJvbGxlci5Ib21lVXNlcilcclxuICAgIFxyXG4gICAgcm91dGVyLmdldCgnL0xvZ2luVXNlcicsIEhvbWVVc2VyQ29udHJvbGxlci5Mb2dpblVzZXIpXHJcbiAgICByb3V0ZXIucG9zdCgnL2xvZ2luX2F1dGhfVXNlcicsIEhvbWVVc2VyQ29udHJvbGxlci5sb2dpbl9hdXRoX1VzZXIpXHJcbiAgICByb3V0ZXIuZ2V0KCcvbG9nb3V0X1VzZXInLCBIb21lVXNlckNvbnRyb2xsZXIubG9nb3V0X1VzZXIpXHJcblxyXG4gICAgXHJcbiAgICByb3V0ZXIuZ2V0KCcvUmVnaXN0ZXJVc2VyJywgSG9tZVVzZXJDb250cm9sbGVyLlJlZ2lzdGVyVXNlcilcclxuICAgIHJvdXRlci5wb3N0KCcvcmVxdWVzdF9yZWdpc3RlcicsIEhvbWVVc2VyQ29udHJvbGxlci5yZXF1ZXN0X3JlZ2lzdGVyKVxyXG5cclxuICAgIFxyXG4gICAgcm91dGVyLmdldCgnL1NpbmdsZVBhZ2UvOmlkJywgSG9tZVVzZXJDb250cm9sbGVyLlNpbmdsZVBhZ2UpXHJcblxyXG5cclxuICAgIC8vaGllbiB0aGkgYmFpIHZpZXQgdGhlbyB0aW4gdHVjXHJcbiAgICByb3V0ZXIuZ2V0KCcvQnlOZXdzLzppZCcsIEhvbWVVc2VyQ29udHJvbGxlci5CeU5ld3MpXHJcbiAgICBcclxuXHJcbiAgICAvL3F1YW4gbHkgdGluIHR1YyAoIG5ld3MgKSAgXHJcbiAgICByb3V0ZXIuZ2V0KCcvbGlzdC1uZXdzLzpmcm9tLTp0bycsIE5ld3NDb250cm9sbGVyLmxpc3RfbmV3cylcclxuICAgIHJvdXRlci5nZXQoJy9jcmVhdGVfbmV3X25ld3MnLCBOZXdzQ29udHJvbGxlci5uZXdfbmV3cylcclxuICAgIHJvdXRlci5wb3N0KCcvaW5zZXJ0X25ld19uZXdzJywgTmV3c0NvbnRyb2xsZXIuaW5zZXJ0X25ld3MpXHJcbiAgICByb3V0ZXIuZ2V0KCcvZGV0YWlsX25ld3MvOnRpdGxlJywgTmV3c0NvbnRyb2xsZXIuZGV0YWlsX25ld3MpXHJcblxyXG4gICAgcm91dGVyLmdldCgnL3ZpZXdfZWRpdF9uZXdzLzppZCcsIE5ld3NDb250cm9sbGVyLnZpZXdfZWRpdF9uZXdzKVxyXG4gICAgcm91dGVyLnBvc3QoJy9lZGl0X25ld3MnLCBOZXdzQ29udHJvbGxlci5lZGl0X25ld3MpXHJcbiAgICByb3V0ZXIucG9zdCgnL2RlbF9uZXdzJywgTmV3c0NvbnRyb2xsZXIuZGVsX25ld3MpXHJcblxyXG5cclxuICAgIC8vcXVhbiBseSBiYWkgdmlldCAoIHBvc3QgKSAgXHJcbiAgICByb3V0ZXIuZ2V0KCcvbGlzdC1wb3N0Lzpmcm9tLTp0bycsIFBvc3RDb250cm9sbGVyLmxpc3RfcG9zdClcclxuICAgIHJvdXRlci5nZXQoJy9jcmVhdGVfbmV3X3Bvc3QnLCBQb3N0Q29udHJvbGxlci5uZXdfcG9zdClcclxuICAgIHJvdXRlci5wb3N0KCcvaW5zZXJ0X25ld19wb3N0JywgdXBsb2FkLnNpbmdsZSgnZmlsZW5ldycpLCBQb3N0Q29udHJvbGxlci5pbnNlcnRfcG9zdClcclxuICAgIHJvdXRlci5nZXQoJy9kZXRhaWxfcG9zdC86aWQnLCBQb3N0Q29udHJvbGxlci5kZXRhaWxfcG9zdClcclxuXHJcblxyXG4gIHJvdXRlci5nZXQoJy9TaW5nbGVQYWdlLzppZCcsIEhvbWVVc2VyQ29udHJvbGxlci5TaW5nbGVQYWdlKVxyXG5cclxuXHJcbiAgLy9oaWVuIHRoaSBiYWkgdmlldCB0aGVvIHRpbiB0dWNcclxuICByb3V0ZXIuZ2V0KCcvQnlOZXdzLzppZCcsIEhvbWVVc2VyQ29udHJvbGxlci5CeU5ld3MpXHJcblxyXG5cclxuICAvL3F1YW4gbHkgdGluIHR1YyAoIG5ld3MgKSAgXHJcbiAgcm91dGVyLmdldCgnL2xpc3QtbmV3cy86ZnJvbS06dG8nLCBOZXdzQ29udHJvbGxlci5saXN0X25ld3MpXHJcbiAgcm91dGVyLmdldCgnL2NyZWF0ZV9uZXdfbmV3cycsIE5ld3NDb250cm9sbGVyLm5ld19uZXdzKVxyXG4gIHJvdXRlci5wb3N0KCcvaW5zZXJ0X25ld19uZXdzJywgTmV3c0NvbnRyb2xsZXIuaW5zZXJ0X25ld3MpXHJcbiAgcm91dGVyLmdldCgnL2RldGFpbF9uZXdzLzp0aXRsZScsIE5ld3NDb250cm9sbGVyLmRldGFpbF9uZXdzKVxyXG5cclxuICByb3V0ZXIuZ2V0KCcvdmlld19lZGl0X25ld3MvOmlkJywgTmV3c0NvbnRyb2xsZXIudmlld19lZGl0X25ld3MpXHJcbiAgcm91dGVyLnBvc3QoJy9lZGl0X25ld3MnLCBOZXdzQ29udHJvbGxlci5lZGl0X25ld3MpXHJcbiAgcm91dGVyLnBvc3QoJy9kZWxfbmV3cycsIE5ld3NDb250cm9sbGVyLmRlbF9uZXdzKVxyXG5cclxuXHJcbiAgLy9xdWFuIGx5IGJhaSB2aWV0ICggcG9zdCApICBcclxuICByb3V0ZXIuZ2V0KCcvbGlzdC1wb3N0Lzpmcm9tLTp0bycsIFBvc3RDb250cm9sbGVyLmxpc3RfcG9zdClcclxuICByb3V0ZXIuZ2V0KCcvY3JlYXRlX25ld19wb3N0JywgUG9zdENvbnRyb2xsZXIubmV3X3Bvc3QpXHJcbiAgcm91dGVyLnBvc3QoJy9pbnNlcnRfbmV3X3Bvc3QnLCB1cGxvYWQuc2luZ2xlKCdmaWxlbmV3JyksIFBvc3RDb250cm9sbGVyLmluc2VydF9wb3N0KVxyXG4gIHJvdXRlci5nZXQoJy9kZXRhaWxfcG9zdC86aWQnLCBQb3N0Q29udHJvbGxlci5kZXRhaWxfcG9zdClcclxuXHJcbiAgcm91dGVyLmdldCgnL3ZpZXdfZWRpdF9wb3N0LzppZCcsIFBvc3RDb250cm9sbGVyLnZpZXdfZWRpdF9wb3N0KVxyXG4gIHJvdXRlci5wb3N0KCcvZWRpdF9wb3N0JywgdXBsb2FkLnNpbmdsZSgnZmlsZW5ldycpLCBQb3N0Q29udHJvbGxlci5lZGl0X3Bvc3QpXHJcbiAgcm91dGVyLnBvc3QoJy9kZWxfcG9zdCcsIFBvc3RDb250cm9sbGVyLmRlbF9wb3N0KVxyXG5cclxuXHJcbiAgLy8gLy9hcGkgcmVhY3RcclxuXHJcbiAgLy8gcm91dGVyLmdldCgnL2FwaS9uZXdzJywgQXBpTmV3c0NvbnRyb2xsZXIuYXBpUmVhY3RMaXN0KVxyXG4gIC8vIHJvdXRlci5nZXQoJy9hcGkvbmV3cy86aWQnLCBBcGlOZXdzQ29udHJvbGxlci5hcGlQb3N0RnJvbU5ldylcclxuXHJcbiAgLy8gcm91dGVyLmdldCgnL2FwaS9wb3N0cycsIEFwaVBvc3RDb250cm9sbGVyLmFwaVBvc3RMaXN0KVxyXG4gIC8vIHJvdXRlci5nZXQoJy9hcGkvcG9zdC86aWQnLCBBcGlQb3N0Q29udHJvbGxlci5hcGlQb3N0SWQpXHJcblxyXG5cclxuICByZXR1cm4gYXBwLnVzZShcIi9cIiwgcm91dGVyKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IGluaXRXZWJSb3V0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsZUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksZ0JBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLGVBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLG9CQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBTyxtQkFBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBR0EsSUFBQVEsZUFBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVMsZUFBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQVUsa0JBQUEsR0FBQVgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFXLGtCQUFBLEdBQUFaLHNCQUFBLENBQUFDLE9BQUE7QUFBa0UsU0FBQUQsdUJBQUFhLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFkdEM7O0FBRWlD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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_multer","_path","_HomeController","_AboutController","_UserController","_formLoginController","_HomeUserController","_NewsController","_PostController","_ApiNewsController","_ApiPostController","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","filename","uniqueSuffix","Date","now","Math","round","random","path","extname","originalname","upload","router","express","Router","initWebRoute","app","get","HomeController","getHome","AboutController","getAbout","UserController","new_user","post","insert_user","list_user","formLoginController","login","login_auth","logout","detail_user","del_user","view_edit","edit_user","HomeUserController","HomeUser","LoginUser","login_auth_User","logout_User","RegisterUser","request_register","SinglePage","ByNews","NewsController","list_news","new_news","insert_news","detail_news","view_edit_news","edit_news","del_news","PostController","list_post","new_post","single","insert_post","detail_post","view_edit_post","edit_post","del_post","use","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\router\\","sources":["webRoute.js"],"sourcesContent":["import express from \"express\"\r\nimport multer from 'multer' // thu vien up img\r\nimport path from \"path\"\r\nimport HomeController from \"./../controllers/HomeController\" // add controller\r\nimport AboutController from \"./../controllers/AboutController\" // add controller\r\nimport UserController from \"./../controllers/UserController\" // add controller\r\nimport formLoginController from \"./../controllers/formLoginController\"\r\n\r\nimport HomeUserController from \"./../controllers/HomeUserController\" // add controller\r\n\r\n\r\nimport NewsController from \"./../controllers/NewsController\" // add controller\r\nimport PostController from \"./../controllers/PostController\" // add controller\r\n\r\nimport ApiNewsController from \"./../controllers/ApiNewsController\" // add controller\r\nimport ApiPostController from \"./../controllers/ApiPostController\" // add controller\r\n\r\nconst storage = multer.diskStorage({\r\n    destination: function (req, file, cb) {\r\n      cb(null, './src/public/upload')\r\n    },\r\n    filename: function (req, file, cb) {\r\n      const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)\r\n      cb(null, uniqueSuffix + path.extname(file.originalname))\r\n    }\r\n  })\r\n  \r\nconst upload = multer({ storage: storage })\r\n\r\nconst router = express.Router()\r\nconst initWebRoute = (app) => {\r\n\r\n    // app.get('/home/:namepage', HomeController.getHome) // truyền param\r\n    // app.get('/set-session', HomeController.setSession)\r\n    // app.get('/abc', HomeController.getAbc)\r\n\r\n    router.get('/admin', HomeController.getHome)\r\n    router.get('/about', AboutController.getAbout)\r\n\r\n    router.get('/create_new_user', UserController.new_user)\r\n    router.post('/insert_new_user', UserController.insert_user)\r\n\r\n    router.get('/list-user/:from-:to', UserController.list_user)\r\n\r\n    router.get('/login', formLoginController.login)\r\n    router.post('/login', formLoginController.login_auth)\r\n    router.get('/logout', formLoginController.logout)\r\n\r\n    router.get('/detail_user/:username', UserController.detail_user)\r\n\r\n    router.post('/del_user', UserController.del_user)\r\n\r\n    router.get('/view_edit/:username', UserController.view_edit)\r\n    router.post('/edit_user', UserController.edit_user)\r\n\r\n    \r\n    //user\r\n    router.get('/', HomeUserController.HomeUser)\r\n    \r\n    router.get('/LoginUser', HomeUserController.LoginUser)\r\n    router.post('/login_auth_User', HomeUserController.login_auth_User)\r\n    router.get('/logout_User', HomeUserController.logout_User)\r\n\r\n    \r\n    router.get('/RegisterUser', HomeUserController.RegisterUser)\r\n    router.post('/request_register', HomeUserController.request_register)\r\n\r\n    \r\n    router.get('/SinglePage/:id', HomeUserController.SinglePage)\r\n\r\n\r\n    //hien thi bai viet theo tin tuc\r\n    router.get('/ByNews/:id', HomeUserController.ByNews)\r\n    \r\n\r\n    //quan ly tin tuc ( news )  \r\n    router.get('/list-news/:from-:to', NewsController.list_news)\r\n    router.get('/create_new_news', NewsController.new_news)\r\n    router.post('/insert_new_news', NewsController.insert_news)\r\n    router.get('/detail_news/:title', NewsController.detail_news)\r\n\r\n    router.get('/view_edit_news/:id', NewsController.view_edit_news)\r\n    router.post('/edit_news', NewsController.edit_news)\r\n    router.post('/del_news', NewsController.del_news)\r\n\r\n\r\n    //quan ly bai viet ( post )  \r\n    router.get('/list-post/:from-:to', PostController.list_post)\r\n    router.get('/create_new_post', PostController.new_post)\r\n    router.post('/insert_new_post', upload.single('filenew'), PostController.insert_post)\r\n    router.get('/detail_post/:id', PostController.detail_post)\r\n\r\n\r\n  router.get('/SinglePage/:id', HomeUserController.SinglePage)\r\n\r\n\r\n  //hien thi bai viet theo tin tuc\r\n  router.get('/ByNews/:id', HomeUserController.ByNews)\r\n\r\n\r\n  //quan ly tin tuc ( news )  \r\n  router.get('/list-news/:from-:to', NewsController.list_news)\r\n  router.get('/create_new_news', NewsController.new_news)\r\n  router.post('/insert_new_news', NewsController.insert_news)\r\n  router.get('/detail_news/:title', NewsController.detail_news)\r\n\r\n  router.get('/view_edit_news/:id', NewsController.view_edit_news)\r\n  router.post('/edit_news', NewsController.edit_news)\r\n  router.post('/del_news', NewsController.del_news)\r\n\r\n\r\n  //quan ly bai viet ( post )  \r\n  router.get('/list-post/:from-:to', PostController.list_post)\r\n  router.get('/create_new_post', PostController.new_post)\r\n  router.post('/insert_new_post', upload.single('filenew'), PostController.insert_post)\r\n  router.get('/detail_post/:id', PostController.detail_post)\r\n\r\n  router.get('/view_edit_post/:id', PostController.view_edit_post)\r\n  router.post('/edit_post', upload.single('filenew'), PostController.edit_post)\r\n  router.post('/del_post', PostController.del_post)\r\n\r\n\r\n  // //api react\r\n\r\n  // router.get('/api/news', ApiNewsController.apiReactList)\r\n  // router.get('/api/news/:id', ApiNewsController.apiPostFromNew)\r\n\r\n  // router.get('/api/posts', ApiPostController.apiPostList)\r\n  // router.get('/api/post/:id', ApiPostController.apiPostId)\r\n\r\n\r\n  return app.use(\"/\", router)\r\n}\r\nexport default initWebRoute"],"mappings":"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"}},"mtime":1700138241438},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// import homeModel from \"../services/homeModel\"\n\n// const getHome = (req, res) => {\n//     let name = req.params.namepage // nhân param\n//     res.render('home', {data: {tilte:name}})\n// }\n\n// const setSession = async (req, res) => {\n//     //req.session.destroy()\n//     req.session.views = {'page':'home', 'test':10}\n//     res.render('home', {data: {tilte:req.session.views.page}})\n// }\n\n// const getAbc = async (req, res) => {\n//     let list = await homeModel.getall() // call model\n//     return res.render('home', {data: {tilte:'name', rows:list}})\n// }\n\n// const getapi = (req, res) => {\n//     return res.status(200).json({\n//         data: 'list'\n//     })\n// }\nconst getHome = (req, res) => {\n  // res.send('Home')\n  res.redirect(\"/login\");\n};\nvar _default = exports.default = {\n  getHome\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRIb21lIiwicmVxIiwicmVzIiwicmVkaXJlY3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxOb2RlX0Jhb0Nhb1xcTm9kZV9BUElcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiSG9tZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG4vLyBpbXBvcnQgaG9tZU1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9ob21lTW9kZWxcIlxyXG5cclxuLy8gY29uc3QgZ2V0SG9tZSA9IChyZXEsIHJlcykgPT4ge1xyXG4vLyAgICAgbGV0IG5hbWUgPSByZXEucGFyYW1zLm5hbWVwYWdlIC8vIG5ow6JuIHBhcmFtXHJcbi8vICAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHt0aWx0ZTpuYW1lfX0pXHJcbi8vIH1cclxuXHJcbi8vIGNvbnN0IHNldFNlc3Npb24gPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuLy8gICAgIC8vcmVxLnNlc3Npb24uZGVzdHJveSgpXHJcbi8vICAgICByZXEuc2Vzc2lvbi52aWV3cyA9IHsncGFnZSc6J2hvbWUnLCAndGVzdCc6MTB9XHJcbi8vICAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHt0aWx0ZTpyZXEuc2Vzc2lvbi52aWV3cy5wYWdlfX0pXHJcbi8vIH1cclxuXHJcbi8vIGNvbnN0IGdldEFiYyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4vLyAgICAgbGV0IGxpc3QgPSBhd2FpdCBob21lTW9kZWwuZ2V0YWxsKCkgLy8gY2FsbCBtb2RlbFxyXG4vLyAgICAgcmV0dXJuIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3RpbHRlOiduYW1lJywgcm93czpsaXN0fX0pXHJcbi8vIH1cclxuXHJcbi8vIGNvbnN0IGdldGFwaSA9IChyZXEsIHJlcykgPT4ge1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuLy8gICAgICAgICBkYXRhOiAnbGlzdCdcclxuLy8gICAgIH0pXHJcbi8vIH1cclxuXHJcblxyXG5jb25zdCBnZXRIb21lID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAvLyByZXMuc2VuZCgnSG9tZScpXHJcbiAgICByZXMucmVkaXJlY3QoXCIvbG9naW5cIilcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge2dldEhvbWV9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBNkIsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0EsTUFBTUcsT0FBTyxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMxQjtFQUNBQSxHQUFHLENBQUNDLFFBQVEsQ0FBQyxRQUFRLENBQUM7QUFDMUIsQ0FBQztBQUFBLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBTixPQUFBLEdBRWM7RUFBQ0M7QUFBTyxDQUFDIn0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","obj","__esModule","default","getHome","req","res","redirect","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["HomeController.js"],"sourcesContent":["import express from \"express\"\r\n// import homeModel from \"../services/homeModel\"\r\n\r\n// const getHome = (req, res) => {\r\n//     let name = req.params.namepage // nhân param\r\n//     res.render('home', {data: {tilte:name}})\r\n// }\r\n\r\n// const setSession = async (req, res) => {\r\n//     //req.session.destroy()\r\n//     req.session.views = {'page':'home', 'test':10}\r\n//     res.render('home', {data: {tilte:req.session.views.page}})\r\n// }\r\n\r\n// const getAbc = async (req, res) => {\r\n//     let list = await homeModel.getall() // call model\r\n//     return res.render('home', {data: {tilte:'name', rows:list}})\r\n// }\r\n\r\n// const getapi = (req, res) => {\r\n//     return res.status(200).json({\r\n//         data: 'list'\r\n//     })\r\n// }\r\n\r\n\r\nconst getHome = (req, res) => {\r\n    // res.send('Home')\r\n    res.redirect(\"/login\")\r\n}\r\n\r\nexport default {getHome}"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC7B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAGA,MAAMG,OAAO,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC1B;EACAA,GAAG,CAACC,QAAQ,CAAC,QAAQ,CAAC;AAC1B,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAN,OAAA,GAEc;EAACC;AAAO,CAAC"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\AboutController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getAbout = (req, res) => {\n  res.render('About', {\n    data: {\n      tilte: 'About Page'\n    }\n  });\n};\nvar _default = exports.default = {\n  getAbout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRBYm91dCIsInJlcSIsInJlcyIsInJlbmRlciIsImRhdGEiLCJ0aWx0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJBYm91dENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5cclxuY29uc3QgZ2V0QWJvdXQgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ0Fib3V0Jywge2RhdGE6IHt0aWx0ZTonQWJvdXQgUGFnZSd9fSlcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtnZXRBYm91dH0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUU3QixNQUFNRyxRQUFRLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzNCQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxPQUFPLEVBQUU7SUFBQ0MsSUFBSSxFQUFFO01BQUNDLEtBQUssRUFBQztJQUFZO0VBQUMsQ0FBQyxDQUFDO0FBQ3JELENBQUM7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQVIsT0FBQSxHQUdjO0VBQUNDO0FBQVEsQ0FBQyJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","obj","__esModule","default","getAbout","req","res","render","data","tilte","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["AboutController.js"],"sourcesContent":["import express from \"express\"\r\n\r\nconst getAbout = (req, res) => {\r\n    res.render('About', {data: {tilte:'About Page'}})\r\n}\r\n\r\n\r\nexport default {getAbout}"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7B,MAAMG,QAAQ,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC3BA,GAAG,CAACC,MAAM,CAAC,OAAO,EAAE;IAACC,IAAI,EAAE;MAACC,KAAK,EAAC;IAAY;EAAC,CAAC,CAAC;AACrD,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAR,OAAA,GAGc;EAACC;AAAQ,CAAC"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst new_user = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'newUser',\n      title: 'Tạo tài khoản'\n    }\n  });\n};\nconst insert_user = async (req, res) => {\n  let body = req.body;\n  if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    let role = 1;\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.pass, pass);\n    await _userModel.default.insert_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role);\n    res.redirect(\"/list-user/0-10\");\n  }\n};\nconst list_user = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _userModel.default.list_user(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listUser',\n        title: 'Danh sách tài khoản',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst detail_user = async (req, res) => {\n  let Username = req.params.username;\n  let list = await _userModel.default.detail_user(Username);\n  res.render('home', {\n    data: {\n      page: 'detailUser',\n      title: 'Chi tiết người dùng',\n      list: list\n    }\n  });\n};\nconst edit_user = async (req, res) => {\n  let role = 1;\n  let body = req.body;\n  console.table(body);\n  if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n  let pass = _bcryptjs.default.genSaltSync(10);\n  let hash = _bcryptjs.default.hashSync(body.pass, pass);\n  await _userModel.default.edit_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role);\n  res.redirect(\"/detail_user/\" + body.name);\n};\nconst view_edit = async (req, res) => {\n  let Username = req.params.username;\n  let list = await _userModel.default.detail_user(Username);\n  res.render('home', {\n    data: {\n      page: 'viewEdit',\n      title: 'Cập nhật',\n      list: list\n    }\n  });\n};\nconst del_user = async (req, res) => {\n  let body = req.body;\n  if (!body.username) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n  let list = await _userModel.default.del_user(body.username);\n  res.redirect(\"/list-user/0-10\");\n};\nvar _default = exports.default = {\n  new_user,\n  list_user,\n  detail_user,\n  insert_user,\n  edit_user,\n  del_user,\n  view_edit\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibmV3X3VzZXIiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwiaW5zZXJ0X3VzZXIiLCJib2R5IiwibmFtZSIsInBhc3MiLCJuYW1ldXNlciIsImFkZHJlc3MiLCJmbGV4UmFkaW9EZWZhdWx0IiwiZW1haWwiLCJzdGF0dXMiLCJzZW5kIiwicm9sZSIsImJjcnlwdCIsImdlblNhbHRTeW5jIiwiaGFzaCIsImhhc2hTeW5jIiwidXNlck1vZGVsIiwicmVkaXJlY3QiLCJsaXN0X3VzZXIiLCJfZnJvbSIsInBhcmFtcyIsImZyb20iLCJfdG8iLCJ0byIsImF1dGgiLCJzZXNzaW9uIiwiaXNOYU4iLCJsaXN0IiwiZGV0YWlsX3VzZXIiLCJVc2VybmFtZSIsInVzZXJuYW1lIiwiZWRpdF91c2VyIiwiY29uc29sZSIsInRhYmxlIiwidmlld19lZGl0IiwiZGVsX3VzZXIiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxOb2RlX0Jhb0Nhb1xcTm9kZV9BUElcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgdXNlck1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy91c2VyTW9kZWxcIlxyXG5cclxuY29uc3QgbmV3X3VzZXIgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICduZXdVc2VyJywgdGl0bGU6ICdU4bqhbyB0w6BpIGtob+G6o24nfX0pXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBpZiAoIWJvZHkubmFtZSB8fCAhYm9keS5wYXNzIHx8ICFib2R5Lm5hbWV1c2VyIHx8ICFib2R5LmFkZHJlc3MgfHwgIWJvZHkuZmxleFJhZGlvRGVmYXVsdCB8fCAhYm9keS5lbWFpbCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIGxldCByb2xlID0gMVxyXG4gICAgICAgIGxldCBwYXNzID0gYmNyeXB0LmdlblNhbHRTeW5jKDEwKVxyXG4gICAgICAgIGxldCBoYXNoID0gYmNyeXB0Lmhhc2hTeW5jKGJvZHkucGFzcywgcGFzcylcclxuICAgICAgICBhd2FpdCB1c2VyTW9kZWwuaW5zZXJ0X3VzZXIoYm9keS5uYW1lLCBoYXNoLCBib2R5Lm5hbWV1c2VyLCBib2R5LmFkZHJlc3MsIGJvZHkuZmxleFJhZGlvRGVmYXVsdCwgYm9keS5lbWFpbCwgcm9sZSlcclxuICAgICAgICByZXMucmVkaXJlY3QoXCIvbGlzdC11c2VyLzAtMTBcIilcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbGlzdF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgbGV0IF9mcm9tID0gcmVxLnBhcmFtcy5mcm9tXHJcbiAgICBsZXQgX3RvID0gcmVxLnBhcmFtcy50b1xyXG4gICAgbGV0IGF1dGggPSBudWxsXHJcblxyXG4gICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgpIHtcclxuICAgICAgICBhdXRoID0gcmVxLnNlc3Npb24uYXV0aFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoaXNOYU4oX2Zyb20pID09PSBmYWxzZSAmJiBpc05hTihfdG8pID09PSBmYWxzZSkge1xyXG4gICAgICAgIGxldCBsaXN0ID0gYXdhaXQgdXNlck1vZGVsLmxpc3RfdXNlcihfZnJvbSwgX3RvKVxyXG4gICAgICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdsaXN0VXNlcicsIHRpdGxlOiAnRGFuaCBzw6FjaCB0w6BpIGtob+G6o24nLCBwYXJhbXM6IHtfZnJvbSwgX3RvfSAsIGxpc3Q6bGlzdCwgYXV0aDphdXRofX0pXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRldGFpbF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgVXNlcm5hbWUgPSByZXEucGFyYW1zLnVzZXJuYW1lXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IHVzZXJNb2RlbC5kZXRhaWxfdXNlcihVc2VybmFtZSlcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdkZXRhaWxVc2VyJywgdGl0bGU6ICdDaGkgdGnhur90IG5nxrDhu51pIGTDuW5nJywgbGlzdDpsaXN0fX0pXHJcbn1cclxuXHJcbmNvbnN0IGVkaXRfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IHJvbGUgPSAxXHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBjb25zb2xlLnRhYmxlKGJvZHkpXHJcbiAgICBpZiAoIWJvZHkubmFtZSB8fCAhYm9keS5wYXNzIHx8ICFib2R5Lm5hbWV1c2VyIHx8ICFib2R5LmFkZHJlc3MgfHwgIWJvZHkuZmxleFJhZGlvRGVmYXVsdCB8fCAhYm9keS5lbWFpbCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbiAgICBsZXQgcGFzcyA9IGJjcnlwdC5nZW5TYWx0U3luYygxMClcclxuICAgIGxldCBoYXNoID0gYmNyeXB0Lmhhc2hTeW5jKGJvZHkucGFzcywgcGFzcylcclxuICAgIGF3YWl0IHVzZXJNb2RlbC5lZGl0X3VzZXIoYm9keS5uYW1lLCBoYXNoLCBib2R5Lm5hbWV1c2VyLCBib2R5LmFkZHJlc3MsIGJvZHkuZmxleFJhZGlvRGVmYXVsdCwgYm9keS5lbWFpbCwgcm9sZSlcclxuICAgIHJlcy5yZWRpcmVjdChcIi9kZXRhaWxfdXNlci9cIiArIGJvZHkubmFtZSlcclxufVxyXG5cclxuY29uc3Qgdmlld19lZGl0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgVXNlcm5hbWUgPSByZXEucGFyYW1zLnVzZXJuYW1lXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IHVzZXJNb2RlbC5kZXRhaWxfdXNlcihVc2VybmFtZSlcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICd2aWV3RWRpdCcsIHRpdGxlOiAnQ+G6rXAgbmjhuq10JywgbGlzdDpsaXN0fX0pXHJcbn1cclxuXHJcbmNvbnN0IGRlbF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBpZiAoIWJvZHkudXNlcm5hbWUpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCB1c2VyTW9kZWwuZGVsX3VzZXIoYm9keS51c2VybmFtZSlcclxuICAgIHJlcy5yZWRpcmVjdChcIi9saXN0LXVzZXIvMC0xMFwiKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7bmV3X3VzZXIsIGxpc3RfdXNlciwgZGV0YWlsX3VzZXIsIGluc2VydF91c2VyLCBlZGl0X3VzZXIsIGRlbF91c2VyLCB2aWV3X2VkaXR9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRixzQkFBQSxDQUFBQyxP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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","obj","__esModule","default","new_user","req","res","render","data","page","title","insert_user","body","name","pass","nameuser","address","flexRadioDefault","email","status","send","role","bcrypt","genSaltSync","hash","hashSync","userModel","redirect","list_user","_from","params","from","_to","to","auth","session","isNaN","list","detail_user","Username","username","edit_user","console","table","view_edit","del_user","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["UserController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst new_user = (req, res) => {\r\n    res.render('home', {data: {page: 'newUser', title: 'Tạo tài khoản'}})\r\n}\r\n\r\nconst insert_user = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        let role = 1\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.pass, pass)\r\n        await userModel.insert_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role)\r\n        res.redirect(\"/list-user/0-10\")\r\n    }\r\n}\r\n\r\nconst list_user = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await userModel.list_user(_from, _to)\r\n        res.render('home', {data: {page: 'listUser', title: 'Danh sách tài khoản', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst detail_user = async (req, res) => {\r\n    let Username = req.params.username\r\n    let list = await userModel.detail_user(Username)\r\n    res.render('home', {data: {page: 'detailUser', title: 'Chi tiết người dùng', list:list}})\r\n}\r\n\r\nconst edit_user = async (req, res) => {\r\n    let role = 1\r\n    let body = req.body\r\n    console.table(body)\r\n    if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    let pass = bcrypt.genSaltSync(10)\r\n    let hash = bcrypt.hashSync(body.pass, pass)\r\n    await userModel.edit_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role)\r\n    res.redirect(\"/detail_user/\" + body.name)\r\n}\r\n\r\nconst view_edit = async (req, res) => {\r\n    let Username = req.params.username\r\n    let list = await userModel.detail_user(Username)\r\n    res.render('home', {data: {page: 'viewEdit', title: 'Cập nhật', list:list}})\r\n}\r\n\r\nconst del_user = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    let list = await userModel.del_user(body.username)\r\n    res.redirect(\"/list-user/0-10\")\r\n}\r\n\r\nexport default {new_user, list_user, detail_user, insert_user, edit_user, del_user, view_edit}"],"mappings":"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"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\services\\\\userModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst insert_user = async (username, password, fullname, address, sex, email, groupid) => {\n  await _connectDB.default.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `sex`, `email`, `groupid`) VALUES (?,?,?,?,?,?,?)', [username, password, fullname, address, sex, email, groupid]);\n};\nconst list_user = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `users`');\n  return rows;\n};\nconst detail_user = async name => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM users WHERE users.username LIKE ?', [name]);\n  return rows;\n};\nconst edit_user = async (username, password, fullname, address, sex, email, groupid) => {\n  await _connectDB.default.execute('UPDATE `users` SET `password`=?,`fullname`=?,`address`=?,`sex`=?,`email`=?,`groupid`=? WHERE users.username = ?', [password, fullname, address, sex, email, groupid, username]);\n};\nconst del_user = async username => {\n  await _connectDB.default.execute('DELETE FROM `users` WHERE users.username = ?', [username]);\n};\nconst auth = async username => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM users WHERE users.username LIKE ?', [username]);\n  return rows;\n};\nconst insert_user_Users = async (username, password, fullname, address, groupid) => {\n  await _connectDB.default.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `groupid`) VALUES (?,?,?,?,?)', [username, password, fullname, address, groupid]);\n};\nvar _default = exports.default = {\n  insert_user,\n  list_user,\n  detail_user,\n  edit_user,\n  del_user,\n  auth,\n  insert_user_Users\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImluc2VydF91c2VyIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImZ1bGxuYW1lIiwiYWRkcmVzcyIsInNleCIsImVtYWlsIiwiZ3JvdXBpZCIsImNvbiIsImV4ZWN1dGUiLCJsaXN0X3VzZXIiLCJmcm9tIiwidG8iLCJyb3dzIiwiZmllbGRzIiwiZGV0YWlsX3VzZXIiLCJuYW1lIiwiZWRpdF91c2VyIiwiZGVsX3VzZXIiLCJhdXRoIiwiaW5zZXJ0X3VzZXJfVXNlcnMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxOb2RlX0Jhb0Nhb1xcTm9kZV9BUElcXHNyY1xcc2VydmljZXNcXCIsInNvdXJjZXMiOlsidXNlck1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb24gZnJvbSBcIi4vLi4vY29uZmlnL2Nvbm5lY3REQlwiXHJcblxyXG5jb25zdCBpbnNlcnRfdXNlciA9IGFzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBzZXgsIGVtYWlsLCBncm91cGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnSU5TRVJUIElOVE8gYHVzZXJzYChgdXNlcm5hbWVgLCBgcGFzc3dvcmRgLCBgZnVsbG5hbWVgLCBgYWRkcmVzc2AsIGBzZXhgLCBgZW1haWxgLCBgZ3JvdXBpZGApIFZBTFVFUyAoPyw/LD8sPyw/LD8sPyknLFt1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBzZXgsIGVtYWlsLCBncm91cGlkXSlcclxufSBcclxuXHJcbmNvbnN0IGxpc3RfdXNlciA9IGFzeW5jIChmcm9tLCB0bykgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBgdXNlcnNgJylcclxuICAgIHJldHVybiByb3dzXHJcbn0gXHJcblxyXG5jb25zdCBkZXRhaWxfdXNlciA9IGFzeW5jIChuYW1lKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIHVzZXJzLnVzZXJuYW1lIExJS0UgPycsIFtuYW1lXSlcclxuICAgIHJldHVybiByb3dzXHJcbn0gXHJcblxyXG5jb25zdCBlZGl0X3VzZXIgPSBhc3luYyAodXNlcm5hbWUsIHBhc3N3b3JkLCBmdWxsbmFtZSwgYWRkcmVzcywgc2V4LCBlbWFpbCwgZ3JvdXBpZCkgPT4ge1xyXG4gICAgYXdhaXQgY29uLmV4ZWN1dGUoJ1VQREFURSBgdXNlcnNgIFNFVCBgcGFzc3dvcmRgPT8sYGZ1bGxuYW1lYD0/LGBhZGRyZXNzYD0/LGBzZXhgPT8sYGVtYWlsYD0/LGBncm91cGlkYD0/IFdIRVJFIHVzZXJzLnVzZXJuYW1lID0gPycsW3Bhc3N3b3JkLCBmdWxsbmFtZSwgYWRkcmVzcywgc2V4LCBlbWFpbCwgZ3JvdXBpZCwgdXNlcm5hbWVdKVxyXG59XHJcblxyXG5jb25zdCBkZWxfdXNlciA9IGFzeW5jICh1c2VybmFtZSkgPT4ge1xyXG4gICAgYXdhaXQgY29uLmV4ZWN1dGUoJ0RFTEVURSBGUk9NIGB1c2Vyc2AgV0hFUkUgdXNlcnMudXNlcm5hbWUgPSA/JyxbdXNlcm5hbWVdKVxyXG59XHJcblxyXG5jb25zdCBhdXRoID0gYXN5bmMgKHVzZXJuYW1lKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIHVzZXJzLnVzZXJuYW1lIExJS0UgPycsIFt1c2VybmFtZV0pXHJcbiAgICByZXR1cm4gcm93c1xyXG59XHJcblxyXG5jb25zdCBpbnNlcnRfdXNlcl9Vc2VycyA9IGFzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBncm91cGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnSU5TRVJUIElOVE8gYHVzZXJzYChgdXNlcm5hbWVgLCBgcGFzc3dvcmRgLCBgZnVsbG5hbWVgLCBgYWRkcmVzc2AsIGBncm91cGlkYCkgVkFMVUVTICg/LD8sPyw/LD8pJyxbdXNlcm5hbWUsIHBhc3N3b3JkLCBmdWxsbmFtZSwgYWRkcmVzcywgZ3JvdXBpZF0pXHJcbn0gXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQge2luc2VydF91c2VyLCBsaXN0X3VzZXIsIGRldGFpbF91c2VyLCBlZGl0X3VzZXIsIGRlbF91c2VyLCBhdXRoLGluc2VydF91c2VyX1VzZXJzfSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFBQSxVQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBdUMsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFdkMsTUFBTUcsV0FBVyxHQUFHLE1BQUFBLENBQU9DLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsR0FBRyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sS0FBSztFQUN0RixNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsc0hBQXNILEVBQUMsQ0FBQ1IsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxDQUFDLENBQUM7QUFDMU0sQ0FBQztBQUVELE1BQU1HLFNBQVMsR0FBRyxNQUFBQSxDQUFPQyxJQUFJLEVBQUVDLEVBQUUsS0FBSztFQUNsQyxNQUFNLENBQUNDLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTU4sa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHVCQUF1QixDQUFDO0VBQ2pFLE9BQU9JLElBQUk7QUFDZixDQUFDO0FBRUQsTUFBTUUsV0FBVyxHQUFHLE1BQU9DLElBQUksSUFBSztFQUNoQyxNQUFNLENBQUNILElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTU4sa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLGlEQUFpRCxFQUFFLENBQUNPLElBQUksQ0FBQyxDQUFDO0VBQ25HLE9BQU9ILElBQUk7QUFDZixDQUFDO0FBRUQsTUFBTUksU0FBUyxHQUFHLE1BQUFBLENBQU9oQixRQUFRLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUVDLEdBQUcsRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEtBQUs7RUFDcEYsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLGlIQUFpSCxFQUFDLENBQUNQLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUVDLEdBQUcsRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEVBQUVOLFFBQVEsQ0FBQyxDQUFDO0FBQ3JNLENBQUM7QUFFRCxNQUFNaUIsUUFBUSxHQUFHLE1BQU9qQixRQUFRLElBQUs7RUFDakMsTUFBTU8sa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLDhDQUE4QyxFQUFDLENBQUNSLFFBQVEsQ0FBQyxDQUFDO0FBQ2hGLENBQUM7QUFFRCxNQUFNa0IsSUFBSSxHQUFHLE1BQU9sQixRQUFRLElBQUs7RUFDN0IsTUFBTSxDQUFDWSxJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1OLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxpREFBaUQsRUFBRSxDQUFDUixRQUFRLENBQUMsQ0FBQztFQUN2RyxPQUFPWSxJQUFJO0FBQ2YsQ0FBQztBQUVELE1BQU1PLGlCQUFpQixHQUFHLE1BQUFBLENBQU9uQixRQUFRLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUVHLE9BQU8sS0FBSztFQUNoRixNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsa0dBQWtHLEVBQUMsQ0FBQ1IsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFRyxPQUFPLENBQUMsQ0FBQztBQUMxSyxDQUFDO0FBQUEsSUFBQWMsUUFBQSxHQUFBQyxPQUFBLENBQUF2QixPQUFBLEdBR2M7RUFBQ0MsV0FBVztFQUFFVSxTQUFTO0VBQUVLLFdBQVc7RUFBRUUsU0FBUztFQUFFQyxRQUFRO0VBQUVDLElBQUk7RUFBQ0M7QUFBaUIsQ0FBQyJ9","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","insert_user","username","password","fullname","address","sex","email","groupid","con","execute","list_user","from","to","rows","fields","detail_user","name","edit_user","del_user","auth","insert_user_Users","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\services\\","sources":["userModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\nconst insert_user = async (username, password, fullname, address, sex, email, groupid) => {\r\n    await con.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `sex`, `email`, `groupid`) VALUES (?,?,?,?,?,?,?)',[username, password, fullname, address, sex, email, groupid])\r\n} \r\n\r\nconst list_user = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `users`')\r\n    return rows\r\n} \r\n\r\nconst detail_user = async (name) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM users WHERE users.username LIKE ?', [name])\r\n    return rows\r\n} \r\n\r\nconst edit_user = async (username, password, fullname, address, sex, email, groupid) => {\r\n    await con.execute('UPDATE `users` SET `password`=?,`fullname`=?,`address`=?,`sex`=?,`email`=?,`groupid`=? WHERE users.username = ?',[password, fullname, address, sex, email, groupid, username])\r\n}\r\n\r\nconst del_user = async (username) => {\r\n    await con.execute('DELETE FROM `users` WHERE users.username = ?',[username])\r\n}\r\n\r\nconst auth = async (username) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM users WHERE users.username LIKE ?', [username])\r\n    return rows\r\n}\r\n\r\nconst insert_user_Users = async (username, password, fullname, address, groupid) => {\r\n    await con.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `groupid`) VALUES (?,?,?,?,?)',[username, password, fullname, address, groupid])\r\n} \r\n\r\n\r\nexport default {insert_user, list_user, detail_user, edit_user, del_user, auth,insert_user_Users}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEvC,MAAMG,WAAW,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,KAAK;EACtF,MAAMC,kBAAG,CAACC,OAAO,CAAC,sHAAsH,EAAC,CAACR,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,CAAC,CAAC;AAC1M,CAAC;AAED,MAAMG,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,uBAAuB,CAAC;EACjE,OAAOI,IAAI;AACf,CAAC;AAED,MAAME,WAAW,GAAG,MAAOC,IAAI,IAAK;EAChC,MAAM,CAACH,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAE,CAACO,IAAI,CAAC,CAAC;EACnG,OAAOH,IAAI;AACf,CAAC;AAED,MAAMI,SAAS,GAAG,MAAAA,CAAOhB,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,KAAK;EACpF,MAAMC,kBAAG,CAACC,OAAO,CAAC,iHAAiH,EAAC,CAACP,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,EAAEN,QAAQ,CAAC,CAAC;AACrM,CAAC;AAED,MAAMiB,QAAQ,GAAG,MAAOjB,QAAQ,IAAK;EACjC,MAAMO,kBAAG,CAACC,OAAO,CAAC,8CAA8C,EAAC,CAACR,QAAQ,CAAC,CAAC;AAChF,CAAC;AAED,MAAMkB,IAAI,GAAG,MAAOlB,QAAQ,IAAK;EAC7B,MAAM,CAACY,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAE,CAACR,QAAQ,CAAC,CAAC;EACvG,OAAOY,IAAI;AACf,CAAC;AAED,MAAMO,iBAAiB,GAAG,MAAAA,CAAOnB,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEG,OAAO,KAAK;EAChF,MAAMC,kBAAG,CAACC,OAAO,CAAC,kGAAkG,EAAC,CAACR,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEG,OAAO,CAAC,CAAC;AAC1K,CAAC;AAAA,IAAAc,QAAA,GAAAC,OAAA,CAAAvB,OAAA,GAGc;EAACC,WAAW;EAAEU,SAAS;EAAEK,WAAW;EAAEE,SAAS;EAAEC,QAAQ;EAAEC,IAAI;EAACC;AAAiB,CAAC"}},"mtime":1700138241438},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\config\\\\connectDB.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _promise = _interopRequireDefault(require(\"mysql2/promise\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst con = _promise.default.createPool({\n  host: 'localhost',\n  user: 'root',\n  database: 'th_node2',\n  waitForConnections: true,\n  connectionLimit: 10,\n  maxIdle: 10,\n  // max idle connections, the default value is the same as `connectionLimit`\n  idleTimeout: 60000,\n  // idle connections timeout, in milliseconds, the default value 60000\n  queueLimit: 0,\n  enableKeepAlive: true,\n  keepAliveInitialDelay: 0\n});\nvar _default = exports.default = con;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvbWlzZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjb24iLCJteXNxbCIsImNyZWF0ZVBvb2wiLCJob3N0IiwidXNlciIsImRhdGFiYXNlIiwid2FpdEZvckNvbm5lY3Rpb25zIiwiY29ubmVjdGlvbkxpbWl0IiwibWF4SWRsZSIsImlkbGVUaW1lb3V0IiwicXVldWVMaW1pdCIsImVuYWJsZUtlZXBBbGl2ZSIsImtlZXBBbGl2ZUluaXRpYWxEZWxheSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxjb25maWdcXCIsInNvdXJjZXMiOlsiY29ubmVjdERCLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBteXNxbCBmcm9tIFwibXlzcWwyL3Byb21pc2VcIlxyXG5cclxuY29uc3QgY29uID0gbXlzcWwuY3JlYXRlUG9vbCh7XHJcblxyXG4gICAgaG9zdDogJ2xvY2FsaG9zdCcsXHJcbiAgICB1c2VyOiAncm9vdCcsXHJcbiAgICBkYXRhYmFzZTogJ3RoX25vZGUyJyxcclxuICAgIHdhaXRGb3JDb25uZWN0aW9uczogdHJ1ZSxcclxuICAgIGNvbm5lY3Rpb25MaW1pdDogMTAsXHJcbiAgICBtYXhJZGxlOiAxMCwgLy8gbWF4IGlkbGUgY29ubmVjdGlvbnMsIHRoZSBkZWZhdWx0IHZhbHVlIGlzIHRoZSBzYW1lIGFzIGBjb25uZWN0aW9uTGltaXRgXHJcbiAgICBpZGxlVGltZW91dDogNjAwMDAsIC8vIGlkbGUgY29ubmVjdGlvbnMgdGltZW91dCwgaW4gbWlsbGlzZWNvbmRzLCB0aGUgZGVmYXVsdCB2YWx1ZSA2MDAwMFxyXG4gICAgcXVldWVMaW1pdDogMCxcclxuICAgIGVuYWJsZUtlZXBBbGl2ZTogdHJ1ZSxcclxuICAgIGtlZXBBbGl2ZUluaXRpYWxEZWxheTogMFxyXG5cclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQWtDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRWxDLE1BQU1HLEdBQUcsR0FBR0MsZ0JBQUssQ0FBQ0MsVUFBVSxDQUFDO0VBRXpCQyxJQUFJLEVBQUUsV0FBVztFQUNqQkMsSUFBSSxFQUFFLE1BQU07RUFDWkMsUUFBUSxFQUFFLFVBQVU7RUFDcEJDLGtCQUFrQixFQUFFLElBQUk7RUFDeEJDLGVBQWUsRUFBRSxFQUFFO0VBQ25CQyxPQUFPLEVBQUUsRUFBRTtFQUFFO0VBQ2JDLFdBQVcsRUFBRSxLQUFLO0VBQUU7RUFDcEJDLFVBQVUsRUFBRSxDQUFDO0VBQ2JDLGVBQWUsRUFBRSxJQUFJO0VBQ3JCQyxxQkFBcUIsRUFBRTtBQUUzQixDQUFDLENBQUM7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWYsT0FBQSxHQUVhQyxHQUFHIn0=","map":{"version":3,"names":["_promise","_interopRequireDefault","require","obj","__esModule","default","con","mysql","createPool","host","user","database","waitForConnections","connectionLimit","maxIdle","idleTimeout","queueLimit","enableKeepAlive","keepAliveInitialDelay","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\config\\","sources":["connectDB.js"],"sourcesContent":["import mysql from \"mysql2/promise\"\r\n\r\nconst con = mysql.createPool({\r\n\r\n    host: 'localhost',\r\n    user: 'root',\r\n    database: 'th_node2',\r\n    waitForConnections: true,\r\n    connectionLimit: 10,\r\n    maxIdle: 10, // max idle connections, the default value is the same as `connectionLimit`\r\n    idleTimeout: 60000, // idle connections timeout, in milliseconds, the default value 60000\r\n    queueLimit: 0,\r\n    enableKeepAlive: true,\r\n    keepAliveInitialDelay: 0\r\n\r\n})\r\n\r\nexport default con"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAkC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAElC,MAAMG,GAAG,GAAGC,gBAAK,CAACC,UAAU,CAAC;EAEzBC,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,MAAM;EACZC,QAAQ,EAAE,UAAU;EACpBC,kBAAkB,EAAE,IAAI;EACxBC,eAAe,EAAE,EAAE;EACnBC,OAAO,EAAE,EAAE;EAAE;EACbC,WAAW,EAAE,KAAK;EAAE;EACpBC,UAAU,EAAE,CAAC;EACbC,eAAe,EAAE,IAAI;EACrBC,qBAAqB,EAAE;AAE3B,CAAC,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAEaC,GAAG"}},"mtime":1700138367418},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\formLoginController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst login = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'login',\n      title: 'Đăng nhập'\n    }\n  });\n};\nconst login_auth = async (req, res) => {\n  let body = req.body;\n  if (!body.username || !body.password) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    try {\n      let auth = await _userModel.default.auth(body.username);\n      if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\n        console.log(\"khong ton tai tk\");\n      } else {\n        let hash = _bcryptjs.default.hashSync(body.password, _bcryptjs.default.genSaltSync(10));\n        if (_bcryptjs.default.compareSync(body.password, auth[0].password)) {\n          req.session.auth = {\n            name: auth[0].username,\n            pass: auth[0].password,\n            role: auth[0].groupid\n          };\n          res.redirect(\"/list-user/0-10\");\n        } else {\n          console.log(\"sai mat khau\");\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\nconst logout = (req, res) => {\n  req.session.destroy();\n  res.redirect('/login');\n};\nvar _default = exports.default = {\n  login,\n  login_auth,\n  logout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibG9naW4iLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwibG9naW5fYXV0aCIsImJvZHkiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwic3RhdHVzIiwic2VuZCIsImF1dGgiLCJ1c2VyTW9kZWwiLCJncm91cGlkIiwiY29uc29sZSIsImxvZyIsImhhc2giLCJiY3J5cHQiLCJoYXNoU3luYyIsImdlblNhbHRTeW5jIiwiY29tcGFyZVN5bmMiLCJzZXNzaW9uIiwibmFtZSIsInBhc3MiLCJyb2xlIiwicmVkaXJlY3QiLCJlcnJvciIsImxvZ291dCIsImRlc3Ryb3kiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxOb2RlX0Jhb0Nhb1xcTm9kZV9BUElcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiZm9ybUxvZ2luQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcbmltcG9ydCB1c2VyTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL3VzZXJNb2RlbFwiXHJcblxyXG5jb25zdCBsb2dpbiA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2xvZ2luJywgdGl0bGU6ICfEkMSDbmcgbmjhuq1wJ319KVxyXG59XHJcblxyXG5jb25zdCBsb2dpbl9hdXRoID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBpZiAoIWJvZHkudXNlcm5hbWUgfHwgIWJvZHkucGFzc3dvcmQpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGF1dGggPSBhd2FpdCB1c2VyTW9kZWwuYXV0aChib2R5LnVzZXJuYW1lKVxyXG5cclxuICAgICAgICAgICAgaWYgKCFhdXRoWzBdLnVzZXJuYW1lIHx8ICFhdXRoWzBdLnBhc3N3b3JkIHx8ICFhdXRoWzBdLmdyb3VwaWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwia2hvbmcgdG9uIHRhaSB0a1wiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGhhc2ggPSBiY3J5cHQuaGFzaFN5bmMoYm9keS5wYXNzd29yZCwgYmNyeXB0LmdlblNhbHRTeW5jKDEwKSlcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGJjcnlwdC5jb21wYXJlU3luYyhib2R5LnBhc3N3b3JkLCBhdXRoWzBdLnBhc3N3b3JkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLmF1dGggPSB7bmFtZTphdXRoWzBdLnVzZXJuYW1lLCBwYXNzOmF1dGhbMF0ucGFzc3dvcmQsIHJvbGU6YXV0aFswXS5ncm91cGlkfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5yZWRpcmVjdChcIi9saXN0LXVzZXIvMC0xMFwiKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzYWkgbWF0IGtoYXVcIilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGxvZ291dCA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVxLnNlc3Npb24uZGVzdHJveSgpXHJcbiAgICByZXMucmVkaXJlY3QoJy9sb2dpbicpXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtsb2dpbiwgbG9naW5fYXV0aCwgbG9nb3V0fSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUU3QyxNQUFNRyxLQUFLLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3hCQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxNQUFNLEVBQUU7SUFBQ0MsSUFBSSxFQUFFO01BQUNDLElBQUksRUFBRSxPQUFPO01BQUVDLEtBQUssRUFBRTtJQUFXO0VBQUMsQ0FBQyxDQUFDO0FBQ25FLENBQUM7QUFFRCxNQUFNQyxVQUFVLEdBQUcsTUFBQUEsQ0FBT04sR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDbkMsSUFBSU0sSUFBSSxHQUFHUCxHQUFHLENBQUNPLElBQUk7RUFDbkIsSUFBSSxDQUFDQSxJQUFJLENBQUNDLFFBQVEsSUFBSSxDQUFDRCxJQUFJLENBQUNFLFFBQVEsRUFBRTtJQUNsQ1IsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyw0QkFBNEIsQ0FBQztFQUN0RCxDQUFDLE1BQ0k7SUFDRCxJQUFJO01BQ0EsSUFBSUMsSUFBSSxHQUFHLE1BQU1DLGtCQUFTLENBQUNELElBQUksQ0FBQ0wsSUFBSSxDQUFDQyxRQUFRLENBQUM7TUFFOUMsSUFBSSxDQUFDSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNKLFFBQVEsSUFBSSxDQUFDSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNILFFBQVEsSUFBSSxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNFLE9BQU8sRUFBRTtRQUM1REMsT0FBTyxDQUFDQyxHQUFHLENBQUMsa0JBQWtCLENBQUM7TUFDbkMsQ0FBQyxNQUNJO1FBQ0QsSUFBSUMsSUFBSSxHQUFHQyxpQkFBTSxDQUFDQyxRQUFRLENBQUNaLElBQUksQ0FBQ0UsUUFBUSxFQUFFUyxpQkFBTSxDQUFDRSxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFakUsSUFBSUYsaUJBQU0sQ0FBQ0csV0FBVyxDQUFDZCxJQUFJLENBQUNFLFFBQVEsRUFBRUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDSCxRQUFRLENBQUMsRUFBRTtVQUNyRFQsR0FBRyxDQUFDc0IsT0FBTyxDQUFDVixJQUFJLEdBQUc7WUFBQ1csSUFBSSxFQUFDWCxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNKLFFBQVE7WUFBRWdCLElBQUksRUFBQ1osSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDSCxRQUFRO1lBQUVnQixJQUFJLEVBQUNiLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ0U7VUFBTyxDQUFDO1VBQ3ZGYixHQUFHLENBQUN5QixRQUFRLENBQUMsaUJBQWlCLENBQUM7UUFDbkMsQ0FBQyxNQUNJO1VBQ0RYLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGNBQWMsQ0FBQztRQUMvQjtNQUNKO0lBRUosQ0FBQyxDQUFDLE9BQU9XLEtBQUssRUFBRTtNQUNaWixPQUFPLENBQUNDLEdBQUcsQ0FBQ1csS0FBSyxDQUFDO0lBQ3RCO0VBQ0o7QUFDSixDQUFDO0FBRUQsTUFBTUMsTUFBTSxHQUFHQSxDQUFDNUIsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDekJELEdBQUcsQ0FBQ3NCLE9BQU8sQ0FBQ08sT0FBTyxDQUFDLENBQUM7RUFDckI1QixHQUFHLENBQUN5QixRQUFRLENBQUMsUUFBUSxDQUFDO0FBQzFCLENBQUM7QUFBQSxJQUFBSSxRQUFBLEdBQUFDLE9BQUEsQ0FBQWpDLE9BQUEsR0FFYztFQUFDQyxLQUFLO0VBQUVPLFVBQVU7RUFBRXNCO0FBQU0sQ0FBQyJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","obj","__esModule","default","login","req","res","render","data","page","title","login_auth","body","username","password","status","send","auth","userModel","groupid","console","log","hash","bcrypt","hashSync","genSaltSync","compareSync","session","name","pass","role","redirect","error","logout","destroy","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["formLoginController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst login = (req, res) => {\r\n    res.render('home', {data: {page: 'login', title: 'Đăng nhập'}})\r\n}\r\n\r\nconst login_auth = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username || !body.password) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else {\r\n        try {\r\n            let auth = await userModel.auth(body.username)\r\n\r\n            if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\r\n                console.log(\"khong ton tai tk\")\r\n            }\r\n            else {\r\n                let hash = bcrypt.hashSync(body.password, bcrypt.genSaltSync(10))\r\n                \r\n                if (bcrypt.compareSync(body.password, auth[0].password)) {\r\n                    req.session.auth = {name:auth[0].username, pass:auth[0].password, role:auth[0].groupid}\r\n                    res.redirect(\"/list-user/0-10\")\r\n                }\r\n                else {\r\n                    console.log(\"sai mat khau\")\r\n                }\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n}\r\n\r\nconst logout = (req, res) => {\r\n    req.session.destroy()\r\n    res.redirect('/login')\r\n}\r\n\r\nexport default {login, login_auth, logout}"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA6C,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7C,MAAMG,KAAK,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EACxBA,GAAG,CAACC,MAAM,CAAC,MAAM,EAAE;IAACC,IAAI,EAAE;MAACC,IAAI,EAAE,OAAO;MAAEC,KAAK,EAAE;IAAW;EAAC,CAAC,CAAC;AACnE,CAAC;AAED,MAAMC,UAAU,GAAG,MAAAA,CAAON,GAAG,EAAEC,GAAG,KAAK;EACnC,IAAIM,IAAI,GAAGP,GAAG,CAACO,IAAI;EACnB,IAAI,CAACA,IAAI,CAACC,QAAQ,IAAI,CAACD,IAAI,CAACE,QAAQ,EAAE;IAClCR,GAAG,CAACS,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,4BAA4B,CAAC;EACtD,CAAC,MACI;IACD,IAAI;MACA,IAAIC,IAAI,GAAG,MAAMC,kBAAS,CAACD,IAAI,CAACL,IAAI,CAACC,QAAQ,CAAC;MAE9C,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,CAACJ,QAAQ,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ,IAAI,CAACG,IAAI,CAAC,CAAC,CAAC,CAACE,OAAO,EAAE;QAC5DC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MACnC,CAAC,MACI;QACD,IAAIC,IAAI,GAAGC,iBAAM,CAACC,QAAQ,CAACZ,IAAI,CAACE,QAAQ,EAAES,iBAAM,CAACE,WAAW,CAAC,EAAE,CAAC,CAAC;QAEjE,IAAIF,iBAAM,CAACG,WAAW,CAACd,IAAI,CAACE,QAAQ,EAAEG,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ,CAAC,EAAE;UACrDT,GAAG,CAACsB,OAAO,CAACV,IAAI,GAAG;YAACW,IAAI,EAACX,IAAI,CAAC,CAAC,CAAC,CAACJ,QAAQ;YAAEgB,IAAI,EAACZ,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ;YAAEgB,IAAI,EAACb,IAAI,CAAC,CAAC,CAAC,CAACE;UAAO,CAAC;UACvFb,GAAG,CAACyB,QAAQ,CAAC,iBAAiB,CAAC;QACnC,CAAC,MACI;UACDX,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;QAC/B;MACJ;IAEJ,CAAC,CAAC,OAAOW,KAAK,EAAE;MACZZ,OAAO,CAACC,GAAG,CAACW,KAAK,CAAC;IACtB;EACJ;AACJ,CAAC;AAED,MAAMC,MAAM,GAAGA,CAAC5B,GAAG,EAAEC,GAAG,KAAK;EACzBD,GAAG,CAACsB,OAAO,CAACO,OAAO,CAAC,CAAC;EACrB5B,GAAG,CAACyB,QAAQ,CAAC,QAAQ,CAAC;AAC1B,CAAC;AAAA,IAAAI,QAAA,GAAAC,OAAA,CAAAjC,OAAA,GAEc;EAACC,KAAK;EAAEO,UAAU;EAAEsB;AAAM,CAAC"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\HomeUserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _connectDB = _interopRequireDefault(require(\"../config/connectDB\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst HomeUser = async (req, res) => {\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n\n  //lay 3 tin tuc noi bat\n  var limitt = 3;\n  let list = await _postModel.default.list_hot_post_user(limitt);\n\n  //lay tin tuc moi nhat\n\n  let lists = await _postModel.default.list_new_post_user();\n  res.render('User/HomeUser', {\n    data: {\n      page: 'IndexUser',\n      title: 'Trang Chu',\n      list: list,\n      lists: lists,\n      auth: auth\n    }\n  });\n};\n\n//chi tiet bai viet singlepost\n\nconst SinglePage = async (req, res) => {\n  let id = req.params.id;\n  let item = await _postModel.default.detail_post(id);\n\n  //lay ra danh sach tin tuc\n\n  let items = await _newsModel.default.list_news_all();\n  res.render('User/HomeUser', {\n    data: {\n      page: 'SinglePage',\n      item: item,\n      items: items\n    }\n  });\n};\n\n//hien thi bai viet theo tin tuc\nconst ByNews = async (req, res) => {\n  let news_id = req.params.id;\n  let items = await _postModel.default.list_by_news(news_id);\n\n  //lay ra danh sach tin tuc\n\n  let itemss = await _newsModel.default.list_news_all();\n  res.render('User/HomeUser', {\n    data: {\n      page: 'ByNews',\n      items: items,\n      itemss: itemss\n    }\n  });\n};\nconst LoginUser = (req, res) => {\n  res.render('User/LoginUser', {\n    data: {\n      title: 'Login'\n    }\n  });\n};\nconst login_auth_User = async (req, res) => {\n  let body = req.body;\n  if (!body.username || !body.password) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    try {\n      let auth = await _userModel.default.auth(body.username);\n      if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\n        console.log(\"khong ton tai tk\");\n      } else {\n        let hash = _bcryptjs.default.hashSync(body.password, _bcryptjs.default.genSaltSync(10));\n        if (auth[0].groupid == 1) {\n          if (_bcryptjs.default.compareSync(body.password, auth[0].password)) {\n            req.session.auth = {\n              name: auth[0].username,\n              pass: auth[0].password,\n              role: auth[0].groupid\n            };\n            res.redirect(\"/\");\n          } else {\n            console.log(\"sai mat khau\");\n          }\n        } else {\n          console.log(\"sai mat khau\");\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\nconst logout_User = (req, res) => {\n  req.session.destroy();\n  res.redirect('/');\n};\nconst RegisterUser = (req, res) => {\n  res.render('User/RegisterUser', {\n    data: {\n      title: 'Register'\n    }\n  });\n};\nconst request_register = async (req, res) => {\n  let body = req.body;\n  if (!body.username || !body.password || !body.fullname || !body.address) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    let role = 1;\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.password, pass);\n    await _userModel.default.insert_user_Users(body.username, hash, body.fullname, body.address, role);\n    res.redirect(\"/\");\n  }\n};\nvar _default = exports.default = {\n  HomeUser,\n  LoginUser,\n  SinglePage,\n  RegisterUser,\n  login_auth_User,\n  logout_User,\n  request_register,\n  ByNews\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX2Nvbm5lY3REQiIsIl9wb3N0TW9kZWwiLCJfbmV3c01vZGVsIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiSG9tZVVzZXIiLCJyZXEiLCJyZXMiLCJhdXRoIiwic2Vzc2lvbiIsImxpbWl0dCIsImxpc3QiLCJwb3N0TW9kZWwiLCJsaXN0X2hvdF9wb3N0X3VzZXIiLCJsaXN0cyIsImxpc3RfbmV3X3Bvc3RfdXNlciIsInJlbmRlciIsImRhdGEiLCJwYWdlIiwidGl0bGUiLCJTaW5nbGVQYWdlIiwiaWQiLCJwYXJhbXMiLCJpdGVtIiwiZGV0YWlsX3Bvc3QiLCJpdGVtcyIsIm5ld3NNb2RlbCIsImxpc3RfbmV3c19hbGwiLCJCeU5ld3MiLCJuZXdzX2lkIiwibGlzdF9ieV9uZXdzIiwiaXRlbXNzIiwiTG9naW5Vc2VyIiwibG9naW5fYXV0aF9Vc2VyIiwiYm9keSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJzdGF0dXMiLCJzZW5kIiwidXNlck1vZGVsIiwiZ3JvdXBpZCIsImNvbnNvbGUiLCJsb2ciLCJoYXNoIiwiYmNyeXB0IiwiaGFzaFN5bmMiLCJnZW5TYWx0U3luYyIsImNvbXBhcmVTeW5jIiwibmFtZSIsInBhc3MiLCJyb2xlIiwicmVkaXJlY3QiLCJlcnJvciIsImxvZ291dF9Vc2VyIiwiZGVzdHJveSIsIlJlZ2lzdGVyVXNlciIsInJlcXVlc3RfcmVnaXN0ZXIiLCJmdWxsbmFtZSIsImFkZHJlc3MiLCJpbnNlcnRfdXNlcl9Vc2VycyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJIb21lVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcbmltcG9ydCBjb24gZnJvbSBcIi4uL2NvbmZpZy9jb25uZWN0REJcIlxyXG5pbXBvcnQgcG9zdE1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9wb3N0TW9kZWxcIlxyXG5pbXBvcnQgbmV3c01vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9uZXdzTW9kZWxcIlxyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgdXNlck1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy91c2VyTW9kZWxcIlxyXG5cclxuY29uc3QgSG9tZVVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICBsZXQgYXV0aCA9IG51bGxcclxuXHJcbiAgICBpZiAocmVxLnNlc3Npb24uYXV0aCkge1xyXG4gICAgICAgIGF1dGggPSByZXEuc2Vzc2lvbi5hdXRoXHJcbiAgICB9XHJcblxyXG4gICAgLy9sYXkgMyB0aW4gdHVjIG5vaSBiYXRcclxuICAgIHZhciBsaW1pdHQgPSAzXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IHBvc3RNb2RlbC5saXN0X2hvdF9wb3N0X3VzZXIobGltaXR0KVxyXG4gICBcclxuXHJcbiAgICAvL2xheSB0aW4gdHVjIG1vaSBuaGF0XHJcbiAgXHJcbiAgICBsZXQgbGlzdHMgPSBhd2FpdCBwb3N0TW9kZWwubGlzdF9uZXdfcG9zdF91c2VyKClcclxuXHJcblxyXG4gICAgcmVzLnJlbmRlcignVXNlci9Ib21lVXNlcicsIHtkYXRhOiB7cGFnZTogJ0luZGV4VXNlcicsIHRpdGxlOiAnVHJhbmcgQ2h1JyxsaXN0Omxpc3QsbGlzdHM6bGlzdHMsYXV0aDphdXRofX0pXHJcbn1cclxuXHJcbi8vY2hpIHRpZXQgYmFpIHZpZXQgc2luZ2xlcG9zdFxyXG5cclxuY29uc3QgU2luZ2xlUGFnZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIGxldCBpZCA9IHJlcS5wYXJhbXMuaWRcclxuICAgIGxldCBpdGVtID0gYXdhaXQgcG9zdE1vZGVsLmRldGFpbF9wb3N0KGlkKVxyXG5cclxuICAgIC8vbGF5IHJhIGRhbmggc2FjaCB0aW4gdHVjXHJcblxyXG4gICBsZXQgaXRlbXMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpOyBcclxuXHJcblxyXG4gICAgcmVzLnJlbmRlcignVXNlci9Ib21lVXNlcicsIHtkYXRhOiB7cGFnZTogJ1NpbmdsZVBhZ2UnLGl0ZW06aXRlbSxpdGVtczppdGVtc319KVxyXG59XHJcblxyXG4gIC8vaGllbiB0aGkgYmFpIHZpZXQgdGhlbyB0aW4gdHVjXHJcbmNvbnN0IEJ5TmV3cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIGxldCBuZXdzX2lkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgbGV0IGl0ZW1zID0gYXdhaXQgcG9zdE1vZGVsLmxpc3RfYnlfbmV3cyhuZXdzX2lkKVxyXG5cclxuICAgIC8vbGF5IHJhIGRhbmggc2FjaCB0aW4gdHVjXHJcblxyXG5cclxuICAgIGxldCBpdGVtc3MgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpOyBcclxuICBcclxuXHJcblxyXG4gICAgcmVzLnJlbmRlcignVXNlci9Ib21lVXNlcicsIHtkYXRhOiB7cGFnZTogJ0J5TmV3cycsaXRlbXM6aXRlbXMsaXRlbXNzOml0ZW1zc319KVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5jb25zdCBMb2dpblVzZXIgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ1VzZXIvTG9naW5Vc2VyJywge2RhdGE6IHt0aXRsZTogJ0xvZ2luJ319KVxyXG59XHJcblxyXG5cclxuXHJcbmNvbnN0IGxvZ2luX2F1dGhfVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgaWYgKCFib2R5LnVzZXJuYW1lIHx8ICFib2R5LnBhc3N3b3JkKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBhdXRoID0gYXdhaXQgdXNlck1vZGVsLmF1dGgoYm9keS51c2VybmFtZSlcclxuXHJcbiAgICAgICAgICAgIGlmICghYXV0aFswXS51c2VybmFtZSB8fCAhYXV0aFswXS5wYXNzd29yZCB8fCAhYXV0aFswXS5ncm91cGlkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImtob25nIHRvbiB0YWkgdGtcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhib2R5LnBhc3N3b3JkLCBiY3J5cHQuZ2VuU2FsdFN5bmMoMTApKVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgIGlmKGF1dGhbMF0uZ3JvdXBpZCA9PSAxKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiY3J5cHQuY29tcGFyZVN5bmMoYm9keS5wYXNzd29yZCwgYXV0aFswXS5wYXNzd29yZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEuc2Vzc2lvbi5hdXRoID0ge25hbWU6YXV0aFswXS51c2VybmFtZSwgcGFzczphdXRoWzBdLnBhc3N3b3JkLCByb2xlOmF1dGhbMF0uZ3JvdXBpZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMucmVkaXJlY3QoXCIvXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNhaSBtYXQga2hhdVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzYWkgbWF0IGtoYXVcIilcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbG9nb3V0X1VzZXIgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcS5zZXNzaW9uLmRlc3Ryb3koKVxyXG4gICAgcmVzLnJlZGlyZWN0KCcvJylcclxufVxyXG5cclxuXHJcbmNvbnN0IFJlZ2lzdGVyVXNlciA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLnJlbmRlcignVXNlci9SZWdpc3RlclVzZXInLCB7ZGF0YToge3RpdGxlOiAnUmVnaXN0ZXInfX0pXHJcbn1cclxuXHJcblxyXG5cclxuY29uc3QgcmVxdWVzdF9yZWdpc3RlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgaWYgKCFib2R5LnVzZXJuYW1lIHx8ICFib2R5LnBhc3N3b3JkIHx8ICFib2R5LmZ1bGxuYW1lIHx8ICFib2R5LmFkZHJlc3MpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgcm9sZSA9IDFcclxuICAgICAgICBsZXQgcGFzcyA9IGJjcnlwdC5nZW5TYWx0U3luYygxMClcclxuICAgICAgICBsZXQgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhib2R5LnBhc3N3b3JkLCBwYXNzKVxyXG5cclxuXHJcbiAgICAgICAgYXdhaXQgdXNlck1vZGVsLmluc2VydF91c2VyX1VzZXJzKGJvZHkudXNlcm5hbWUsIGhhc2gsIGJvZHkuZnVsbG5hbWUsIGJvZHkuYWRkcmVzcywgcm9sZSlcclxuICAgICAgICByZXMucmVkaXJlY3QoXCIvXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtIb21lVXNlcixMb2dpblVzZXIsU2luZ2xlUGFnZSxSZWdpc3RlclVzZXIsbG9naW5fYXV0aF9Vc2VyLGxvZ291dF9Vc2VyLHJlcXVlc3RfcmVnaXN0ZXIsQnlOZXdzfSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEdBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLFVBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLFNBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLFVBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QyxTQUFBRCx1QkFBQVEsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUU3QyxNQUFNRyxRQUFRLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFFakMsSUFBSUMsSUFBSSxHQUFHLElBQUk7RUFFZixJQUFJRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0QsSUFBSSxFQUFFO0lBQ2xCQSxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDRCxJQUFJO0VBQzNCOztFQUVBO0VBQ0EsSUFBSUUsTUFBTSxHQUFHLENBQUM7RUFDZCxJQUFJQyxJQUFJLEdBQUcsTUFBTUMsa0JBQVMsQ0FBQ0Msa0JBQWtCLENBQUNILE1BQU0sQ0FBQzs7RUFHckQ7O0VBRUEsSUFBSUksS0FBSyxHQUFHLE1BQU1GLGtCQUFTLENBQUNHLGtCQUFrQixDQUFDLENBQUM7RUFHaERSLEdBQUcsQ0FBQ1MsTUFBTSxDQUFDLGVBQWUsRUFBRTtJQUFDQyxJQUFJLEVBQUU7TUFBQ0MsSUFBSSxFQUFFLFdBQVc7TUFBRUMsS0FBSyxFQUFFLFdBQVc7TUFBQ1IsSUFBSSxFQUFDQSxJQUFJO01BQUNHLEtBQUssRUFBQ0EsS0FBSztNQUFDTixJQUFJLEVBQUNBO0lBQUk7RUFBQyxDQUFDLENBQUM7QUFDaEgsQ0FBQzs7QUFFRDs7QUFFQSxNQUFNWSxVQUFVLEdBQUcsTUFBQUEsQ0FBT2QsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFFbkMsSUFBSWMsRUFBRSxHQUFHZixHQUFHLENBQUNnQixNQUFNLENBQUNELEVBQUU7RUFDdEIsSUFBSUUsSUFBSSxHQUFHLE1BQU1YLGtCQUFTLENBQUNZLFdBQVcsQ0FBQ0gsRUFBRSxDQUFDOztFQUUxQzs7RUFFRCxJQUFJSSxLQUFLLEdBQUcsTUFBTUMsa0JBQVMsQ0FBQ0MsYUFBYSxDQUFDLENBQUM7RUFHMUNwQixHQUFHLENBQUNTLE1BQU0sQ0FBQyxlQUFlLEVBQUU7SUFBQ0MsSUFBSSxFQUFFO01BQUNDLElBQUksRUFBRSxZQUFZO01BQUNLLElBQUksRUFBQ0EsSUFBSTtNQUFDRSxLQUFLLEVBQUNBO0lBQUs7RUFBQyxDQUFDLENBQUM7QUFDbkYsQ0FBQzs7QUFFQztBQUNGLE1BQU1HLE1BQU0sR0FBRyxNQUFBQSxDQUFPdEIsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFFL0IsSUFBSXNCLE9BQU8sR0FBR3ZCLEdBQUcsQ0FBQ2dCLE1BQU0sQ0FBQ0QsRUFBRTtFQUMzQixJQUFJSSxLQUFLLEdBQUcsTUFBTWIsa0JBQVMsQ0FBQ2tCLFlBQVksQ0FBQ0QsT0FBTyxDQUFDOztFQUVqRDs7RUFHQSxJQUFJRSxNQUFNLEdBQUcsTUFBTUwsa0JBQVMsQ0FBQ0MsYUFBYSxDQUFDLENBQUM7RUFJNUNwQixHQUFHLENBQUNTLE1BQU0sQ0FBQyxlQUFlLEVBQUU7SUFBQ0MsSUFBSSxFQUFFO01BQUNDLElBQUksRUFBRSxRQUFRO01BQUNPLEtBQUssRUFBQ0EsS0FBSztNQUFDTSxNQUFNLEVBQUNBO0lBQU07RUFBQyxDQUFDLENBQUM7QUFDbkYsQ0FBQztBQVFELE1BQU1DLFNBQVMsR0FBR0EsQ0FBQzFCLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzVCQSxHQUFHLENBQUNTLE1BQU0sQ0FBQyxnQkFBZ0IsRUFBRTtJQUFDQyxJQUFJLEVBQUU7TUFBQ0UsS0FBSyxFQUFFO0lBQU87RUFBQyxDQUFDLENBQUM7QUFDMUQsQ0FBQztBQUlELE1BQU1jLGVBQWUsR0FBRyxNQUFBQSxDQUFPM0IsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDeEMsSUFBSTJCLElBQUksR0FBRzVCLEdBQUcsQ0FBQzRCLElBQUk7RUFDbkIsSUFBSSxDQUFDQSxJQUFJLENBQUNDLFFBQVEsSUFBSSxDQUFDRCxJQUFJLENBQUNFLFFBQVEsRUFBRTtJQUNsQzdCLEdBQUcsQ0FBQzhCLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDLDRCQUE0QixDQUFDO0VBQ3RELENBQUMsTUFDSTtJQUNELElBQUk7TUFDQSxJQUFJOUIsSUFBSSxHQUFHLE1BQU0rQixrQkFBUyxDQUFDL0IsSUFBSSxDQUFDMEIsSUFBSSxDQUFDQyxRQUFRLENBQUM7TUFFOUMsSUFBSSxDQUFDM0IsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDMkIsUUFBUSxJQUFJLENBQUMzQixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM0QixRQUFRLElBQUksQ0FBQzVCLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ2dDLE9BQU8sRUFBRTtRQUM1REMsT0FBTyxDQUFDQyxHQUFHLENBQUMsa0JBQWtCLENBQUM7TUFDbkMsQ0FBQyxNQUNJO1FBR0QsSUFBSUMsSUFBSSxHQUFHQyxpQkFBTSxDQUFDQyxRQUFRLENBQUNYLElBQUksQ0FBQ0UsUUFBUSxFQUFFUSxpQkFBTSxDQUFDRSxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFbEUsSUFBR3RDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ2dDLE9BQU8sSUFBSSxDQUFDLEVBQUM7VUFDWCxJQUFJSSxpQkFBTSxDQUFDRyxXQUFXLENBQUNiLElBQUksQ0FBQ0UsUUFBUSxFQUFFNUIsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDNEIsUUFBUSxDQUFDLEVBQUU7WUFDckQ5QixHQUFHLENBQUNHLE9BQU8sQ0FBQ0QsSUFBSSxHQUFHO2NBQUN3QyxJQUFJLEVBQUN4QyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMyQixRQUFRO2NBQUVjLElBQUksRUFBQ3pDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQzRCLFFBQVE7Y0FBRWMsSUFBSSxFQUFDMUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDZ0M7WUFBTyxDQUFDO1lBQ3ZGakMsR0FBRyxDQUFDNEMsUUFBUSxDQUFDLEdBQUcsQ0FBQztVQUNyQixDQUFDLE1BQ0k7WUFDRFYsT0FBTyxDQUFDQyxHQUFHLENBQUMsY0FBYyxDQUFDO1VBQy9CO1FBQ1osQ0FBQyxNQUNFO1VBQ0hELE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGNBQWMsQ0FBQztRQUM1QjtNQUNIO0lBRUosQ0FBQyxDQUFDLE9BQU9VLEtBQUssRUFBRTtNQUNaWCxPQUFPLENBQUNDLEdBQUcsQ0FBQ1UsS0FBSyxDQUFDO0lBQ3RCO0VBQ0o7QUFDSixDQUFDO0FBRUQsTUFBTUMsV0FBVyxHQUFHQSxDQUFDL0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDOUJELEdBQUcsQ0FBQ0csT0FBTyxDQUFDNkMsT0FBTyxDQUFDLENBQUM7RUFDckIvQyxHQUFHLENBQUM0QyxRQUFRLENBQUMsR0FBRyxDQUFDO0FBQ3JCLENBQUM7QUFHRCxNQUFNSSxZQUFZLEdBQUdBLENBQUNqRCxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMvQkEsR0FBRyxDQUFDUyxNQUFNLENBQUMsbUJBQW1CLEVBQUU7SUFBQ0MsSUFBSSxFQUFFO01BQUNFLEtBQUssRUFBRTtJQUFVO0VBQUMsQ0FBQyxDQUFDO0FBQ2hFLENBQUM7QUFJRCxNQUFNcUMsZ0JBQWdCLEdBQUcsTUFBQUEsQ0FBT2xELEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3pDLElBQUkyQixJQUFJLEdBQUc1QixHQUFHLENBQUM0QixJQUFJO0VBQ25CLElBQUksQ0FBQ0EsSUFBSSxDQUFDQyxRQUFRLElBQUksQ0FBQ0QsSUFBSSxDQUFDRSxRQUFRLElBQUksQ0FBQ0YsSUFBSSxDQUFDdUIsUUFBUSxJQUFJLENBQUN2QixJQUFJLENBQUN3QixPQUFPLEVBQUU7SUFDckVuRCxHQUFHLENBQUM4QixNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyw0QkFBNEIsQ0FBQztFQUN0RCxDQUFDLE1BQ0c7SUFFQSxJQUFJWSxJQUFJLEdBQUcsQ0FBQztJQUNaLElBQUlELElBQUksR0FBR0wsaUJBQU0sQ0FBQ0UsV0FBVyxDQUFDLEVBQUUsQ0FBQztJQUNqQyxJQUFJSCxJQUFJLEdBQUdDLGlCQUFNLENBQUNDLFFBQVEsQ0FBQ1gsSUFBSSxDQUFDRSxRQUFRLEVBQUVhLElBQUksQ0FBQztJQUcvQyxNQUFNVixrQkFBUyxDQUFDb0IsaUJBQWlCLENBQUN6QixJQUFJLENBQUNDLFFBQVEsRUFBRVEsSUFBSSxFQUFFVCxJQUFJLENBQUN1QixRQUFRLEVBQUV2QixJQUFJLENBQUN3QixPQUFPLEVBQUVSLElBQUksQ0FBQztJQUN6RjNDLEdBQUcsQ0FBQzRDLFFBQVEsQ0FBQyxHQUFHLENBQUM7RUFDckI7QUFDSixDQUFDO0FBQUEsSUFBQVMsUUFBQSxHQUFBQyxPQUFBLENBQUF6RCxPQUFBLEdBUWM7RUFBQ0MsUUFBUTtFQUFDMkIsU0FBUztFQUFDWixVQUFVO0VBQUNtQyxZQUFZO0VBQUN0QixlQUFlO0VBQUNvQixXQUFXO0VBQUNHLGdCQUFnQjtFQUFDNUI7QUFBTSxDQUFDIn0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_connectDB","_postModel","_newsModel","_bcryptjs","_userModel","obj","__esModule","default","HomeUser","req","res","auth","session","limitt","list","postModel","list_hot_post_user","lists","list_new_post_user","render","data","page","title","SinglePage","id","params","item","detail_post","items","newsModel","list_news_all","ByNews","news_id","list_by_news","itemss","LoginUser","login_auth_User","body","username","password","status","send","userModel","groupid","console","log","hash","bcrypt","hashSync","genSaltSync","compareSync","name","pass","role","redirect","error","logout_User","destroy","RegisterUser","request_register","fullname","address","insert_user_Users","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["HomeUserController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs'\r\nimport con from \"../config/connectDB\"\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst HomeUser = async (req, res) => {\r\n\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n\r\n    //lay 3 tin tuc noi bat\r\n    var limitt = 3\r\n    let list = await postModel.list_hot_post_user(limitt)\r\n   \r\n\r\n    //lay tin tuc moi nhat\r\n  \r\n    let lists = await postModel.list_new_post_user()\r\n\r\n\r\n    res.render('User/HomeUser', {data: {page: 'IndexUser', title: 'Trang Chu',list:list,lists:lists,auth:auth}})\r\n}\r\n\r\n//chi tiet bai viet singlepost\r\n\r\nconst SinglePage = async (req, res) => {\r\n\r\n    let id = req.params.id\r\n    let item = await postModel.detail_post(id)\r\n\r\n    //lay ra danh sach tin tuc\r\n\r\n   let items = await newsModel.list_news_all(); \r\n\r\n\r\n    res.render('User/HomeUser', {data: {page: 'SinglePage',item:item,items:items}})\r\n}\r\n\r\n  //hien thi bai viet theo tin tuc\r\nconst ByNews = async (req, res) => {\r\n\r\n    let news_id = req.params.id\r\n    let items = await postModel.list_by_news(news_id)\r\n\r\n    //lay ra danh sach tin tuc\r\n\r\n\r\n    let itemss = await newsModel.list_news_all(); \r\n  \r\n\r\n\r\n    res.render('User/HomeUser', {data: {page: 'ByNews',items:items,itemss:itemss}})\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst LoginUser = (req, res) => {\r\n    res.render('User/LoginUser', {data: {title: 'Login'}})\r\n}\r\n\r\n\r\n\r\nconst login_auth_User = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username || !body.password) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else {\r\n        try {\r\n            let auth = await userModel.auth(body.username)\r\n\r\n            if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\r\n                console.log(\"khong ton tai tk\")\r\n            }\r\n            else {\r\n\r\n              \r\n                let hash = bcrypt.hashSync(body.password, bcrypt.genSaltSync(10))\r\n                \r\n               if(auth[0].groupid == 1){\r\n                            if (bcrypt.compareSync(body.password, auth[0].password)) {\r\n                                req.session.auth = {name:auth[0].username, pass:auth[0].password, role:auth[0].groupid}\r\n                                res.redirect(\"/\")\r\n                            }\r\n                            else {\r\n                                console.log(\"sai mat khau\")\r\n                            }\r\n                }\r\n               else{\r\n                console.log(\"sai mat khau\")\r\n               }\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n}\r\n\r\nconst logout_User = (req, res) => {\r\n    req.session.destroy()\r\n    res.redirect('/')\r\n}\r\n\r\n\r\nconst RegisterUser = (req, res) => {\r\n    res.render('User/RegisterUser', {data: {title: 'Register'}})\r\n}\r\n\r\n\r\n\r\nconst request_register = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username || !body.password || !body.fullname || !body.address) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        \r\n        let role = 1\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.password, pass)\r\n\r\n\r\n        await userModel.insert_user_Users(body.username, hash, body.fullname, body.address, role)\r\n        res.redirect(\"/\")\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default {HomeUser,LoginUser,SinglePage,RegisterUser,login_auth_User,logout_User,request_register,ByNews}"],"mappings":"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"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\services\\\\postModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//trang nguoi dung  -- hien thi bai viet theo tin tuc\nconst list_by_news = async news_id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts` WHERE posts.news_id = ? ORDER BY posts.id DESC', [news_id]);\n  return rows;\n};\n\n//show user noi bat\nconst list_hot_post_user = async limitt => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts` ORDER BY posts.id DESC  LIMIT ?', [limitt]);\n  return rows;\n};\n\n//moi nhat\nconst list_new_post_user = async () => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts`');\n  return rows;\n};\nconst list_post = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts` LIMIT ?, ?', [from, to]);\n  return rows;\n};\nconst insert_post = async (title, content, image, news_id, currentDate) => {\n  await _connectDB.default.execute('INSERT INTO `posts`(`title`, `content`, `image`, `news_id`,`create_at`) VALUES (?, ?, ?, ?,?)', [title, content, image, news_id, currentDate]);\n};\nconst detail_post = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM posts WHERE posts.id = ?', [id]);\n  return rows;\n};\nconst detail_post_edit = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM posts WHERE posts.id = ?', [id]);\n  return rows;\n};\nconst edit_post = async (title, content, image, news_id, id) => {\n  await _connectDB.default.execute('UPDATE `posts` SET `title`=?,`content`=?,`image`=?,`news_id`=? where posts.id = ?  ', [title, content, image, news_id, id]);\n};\nconst del_post = async id => {\n  await _connectDB.default.execute('DELETE FROM `posts` WHERE posts.id = ?', [id]);\n};\nvar _default = exports.default = {\n  list_post,\n  insert_post,\n  detail_post,\n  edit_post,\n  detail_post_edit,\n  del_post,\n  list_hot_post_user,\n  list_new_post_user,\n  list_by_news\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfYnlfbmV3cyIsIm5ld3NfaWQiLCJyb3dzIiwiZmllbGRzIiwiY29uIiwiZXhlY3V0ZSIsImxpc3RfaG90X3Bvc3RfdXNlciIsImxpbWl0dCIsImxpc3RfbmV3X3Bvc3RfdXNlciIsImxpc3RfcG9zdCIsImZyb20iLCJ0byIsImluc2VydF9wb3N0IiwidGl0bGUiLCJjb250ZW50IiwiaW1hZ2UiLCJjdXJyZW50RGF0ZSIsImRldGFpbF9wb3N0IiwiaWQiLCJkZXRhaWxfcG9zdF9lZGl0IiwiZWRpdF9wb3N0IiwiZGVsX3Bvc3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxOb2RlX0Jhb0Nhb1xcTm9kZV9BUElcXHNyY1xcc2VydmljZXNcXCIsInNvdXJjZXMiOlsicG9zdE1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb24gZnJvbSBcIi4vLi4vY29uZmlnL2Nvbm5lY3REQlwiXHJcblxyXG4vL3RyYW5nIG5ndW9pIGR1bmcgIC0tIGhpZW4gdGhpIGJhaSB2aWV0IHRoZW8gdGluIHR1Y1xyXG5jb25zdCBsaXN0X2J5X25ld3MgPSBhc3luYyAobmV3c19pZCkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBgcG9zdHNgIFdIRVJFIHBvc3RzLm5ld3NfaWQgPSA/IE9SREVSIEJZIHBvc3RzLmlkIERFU0MnLFtuZXdzX2lkXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuXHJcblxyXG4vL3Nob3cgdXNlciBub2kgYmF0XHJcbmNvbnN0IGxpc3RfaG90X3Bvc3RfdXNlciA9IGFzeW5jIChsaW1pdHQpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYHBvc3RzYCBPUkRFUiBCWSBwb3N0cy5pZCBERVNDICBMSU1JVCA/JywgW2xpbWl0dF0pXHJcbiAgICByZXR1cm4gcm93c1xyXG59XHJcblxyXG4vL21vaSBuaGF0XHJcbmNvbnN0IGxpc3RfbmV3X3Bvc3RfdXNlciA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYHBvc3RzYCcpXHJcbiAgICByZXR1cm4gcm93c1xyXG59XHJcblxyXG5jb25zdCBsaXN0X3Bvc3QgPSBhc3luYyAoZnJvbSwgdG8pID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYHBvc3RzYCBMSU1JVCA/LCA/JywgW2Zyb20sIHRvXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF9wb3N0ID0gYXN5bmMgKHRpdGxlLCBjb250ZW50LCBpbWFnZSwgbmV3c19pZCwgY3VycmVudERhdGUpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdJTlNFUlQgSU5UTyBgcG9zdHNgKGB0aXRsZWAsIGBjb250ZW50YCwgYGltYWdlYCwgYG5ld3NfaWRgLGBjcmVhdGVfYXRgKSBWQUxVRVMgKD8sID8sID8sID8sPyknLFt0aXRsZSwgY29udGVudCwgaW1hZ2UsIG5ld3NfaWQsY3VycmVudERhdGVdKVxyXG59IFxyXG5jb25zdCBkZXRhaWxfcG9zdCA9IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBwb3N0cyBXSEVSRSBwb3N0cy5pZCA9ID8nLCBbaWRdKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5cclxuY29uc3QgZGV0YWlsX3Bvc3RfZWRpdCA9IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBwb3N0cyBXSEVSRSBwb3N0cy5pZCA9ID8nLCBbaWRdKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5jb25zdCBlZGl0X3Bvc3QgPSBhc3luYyAodGl0bGUsIGNvbnRlbnQsIGltYWdlLCBuZXdzX2lkLCBpZCkgPT4ge1xyXG4gICAgYXdhaXQgY29uLmV4ZWN1dGUoJ1VQREFURSBgcG9zdHNgIFNFVCBgdGl0bGVgPT8sYGNvbnRlbnRgPT8sYGltYWdlYD0/LGBuZXdzX2lkYD0/IHdoZXJlIHBvc3RzLmlkID0gPyAgJyxbdGl0bGUsIGNvbnRlbnQsIGltYWdlLCBuZXdzX2lkLCBpZF0pXHJcbn1cclxuXHJcbmNvbnN0IGRlbF9wb3N0ID0gYXN5bmMgKGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnREVMRVRFIEZST00gYHBvc3RzYCBXSEVSRSBwb3N0cy5pZCA9ID8nLFtpZF0pXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQge2xpc3RfcG9zdCxpbnNlcnRfcG9zdCxkZXRhaWxfcG9zdCxlZGl0X3Bvc3QsZGV0YWlsX3Bvc3RfZWRpdCxkZWxfcG9zdCxsaXN0X2hvdF9wb3N0X3VzZXIsbGlzdF9uZXdfcG9zdF91c2VyLGxpc3RfYnlfbmV3c30iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBQUEsVUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXVDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXZDO0FBQ0EsTUFBTUcsWUFBWSxHQUFHLE1BQU9DLE9BQU8sSUFBSztFQUNwQyxNQUFNLENBQUNDLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHNFQUFzRSxFQUFDLENBQUNKLE9BQU8sQ0FBQyxDQUFDO0VBQzFILE9BQU9DLElBQUk7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","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","list_by_news","news_id","rows","fields","con","execute","list_hot_post_user","limitt","list_new_post_user","list_post","from","to","insert_post","title","content","image","currentDate","detail_post","id","detail_post_edit","edit_post","del_post","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\services\\","sources":["postModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\n//trang nguoi dung  -- hien thi bai viet theo tin tuc\r\nconst list_by_news = async (news_id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts` WHERE posts.news_id = ? ORDER BY posts.id DESC',[news_id])\r\n    return rows\r\n}\r\n\r\n\r\n//show user noi bat\r\nconst list_hot_post_user = async (limitt) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts` ORDER BY posts.id DESC  LIMIT ?', [limitt])\r\n    return rows\r\n}\r\n\r\n//moi nhat\r\nconst list_new_post_user = async () => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts`')\r\n    return rows\r\n}\r\n\r\nconst list_post = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts` LIMIT ?, ?', [from, to])\r\n    return rows\r\n}\r\n\r\nconst insert_post = async (title, content, image, news_id, currentDate) => {\r\n    await con.execute('INSERT INTO `posts`(`title`, `content`, `image`, `news_id`,`create_at`) VALUES (?, ?, ?, ?,?)',[title, content, image, news_id,currentDate])\r\n} \r\nconst detail_post = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM posts WHERE posts.id = ?', [id])\r\n    return rows\r\n}\r\n\r\nconst detail_post_edit = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM posts WHERE posts.id = ?', [id])\r\n    return rows\r\n}\r\nconst edit_post = async (title, content, image, news_id, id) => {\r\n    await con.execute('UPDATE `posts` SET `title`=?,`content`=?,`image`=?,`news_id`=? where posts.id = ?  ',[title, content, image, news_id, id])\r\n}\r\n\r\nconst del_post = async (id) => {\r\n    await con.execute('DELETE FROM `posts` WHERE posts.id = ?',[id])\r\n}\r\nexport default {list_post,insert_post,detail_post,edit_post,detail_post_edit,del_post,list_hot_post_user,list_new_post_user,list_by_news}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEvC;AACA,MAAMG,YAAY,GAAG,MAAOC,OAAO,IAAK;EACpC,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,sEAAsE,EAAC,CAACJ,OAAO,CAAC,CAAC;EAC1H,OAAOC,IAAI;AACf,CAAC;;AAGD;AACA,MAAMI,kBAAkB,GAAG,MAAOC,MAAM,IAAK;EACzC,MAAM,CAACL,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,uDAAuD,EAAE,CAACE,MAAM,CAAC,CAAC;EAC3G,OAAOL,IAAI;AACf,CAAC;;AAED;AACA,MAAMM,kBAAkB,GAAG,MAAAA,CAAA,KAAY;EACnC,MAAM,CAACN,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,uBAAuB,CAAC;EACjE,OAAOH,IAAI;AACf,CAAC;AAED,MAAMO,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACT,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,kCAAkC,EAAE,CAACK,IAAI,EAAEC,EAAE,CAAC,CAAC;EACxF,OAAOT,IAAI;AACf,CAAC;AAED,MAAMU,WAAW,GAAG,MAAAA,CAAOC,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEd,OAAO,EAAEe,WAAW,KAAK;EACvE,MAAMZ,kBAAG,CAACC,OAAO,CAAC,+FAA+F,EAAC,CAACQ,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEd,OAAO,EAACe,WAAW,CAAC,CAAC;AACnK,CAAC;AACD,MAAMC,WAAW,GAAG,MAAOC,EAAE,IAAK;EAC9B,MAAM,CAAChB,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAE,CAACa,EAAE,CAAC,CAAC;EACxF,OAAOhB,IAAI;AACf,CAAC;AAED,MAAMiB,gBAAgB,GAAG,MAAOD,EAAE,IAAK;EACnC,MAAM,CAAChB,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAE,CAACa,EAAE,CAAC,CAAC;EACxF,OAAOhB,IAAI;AACf,CAAC;AACD,MAAMkB,SAAS,GAAG,MAAAA,CAAOP,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEd,OAAO,EAAEiB,EAAE,KAAK;EAC5D,MAAMd,kBAAG,CAACC,OAAO,CAAC,qFAAqF,EAAC,CAACQ,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEd,OAAO,EAAEiB,EAAE,CAAC,CAAC;AACjJ,CAAC;AAED,MAAMG,QAAQ,GAAG,MAAOH,EAAE,IAAK;EAC3B,MAAMd,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAC,CAACa,EAAE,CAAC,CAAC;AACpE,CAAC;AAAA,IAAAI,QAAA,GAAAC,OAAA,CAAAxB,OAAA,GACc;EAACU,SAAS;EAACG,WAAW;EAACK,WAAW;EAACG,SAAS;EAACD,gBAAgB;EAACE,QAAQ;EAACf,kBAAkB;EAACE,kBAAkB;EAACR;AAAY,CAAC"}},"mtime":1700138241438},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\services\\\\newsModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst list_news_all = async () => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `news`');\n  return rows;\n};\nconst GetById = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM news WHERE news.id LIKE ?', [id]);\n  return rows;\n};\nconst list_news = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `news` LIMIT ?, ?', [from, to]);\n  return rows;\n};\nconst insert_news = async title => {\n  await _connectDB.default.execute('INSERT INTO `news`(`title`) VALUES (?)', [title]);\n};\nconst detail_news = async title => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM news WHERE news.title LIKE ?', [title]);\n  return rows;\n};\nconst detail_news_edit = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM news WHERE news.id LIKE ?', [id]);\n  return rows;\n};\nconst edit_news = async (title, id) => {\n  await _connectDB.default.execute('UPDATE `news` SET `title`=? where news.id = ?  ', [title, id]);\n};\nconst del_news = async id => {\n  await _connectDB.default.execute('DELETE FROM `news` WHERE news.id = ?', [id]);\n};\nvar _default = exports.default = {\n  list_news,\n  insert_news,\n  detail_news,\n  edit_news,\n  detail_news_edit,\n  del_news,\n  list_news_all,\n  GetById\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfbmV3c19hbGwiLCJyb3dzIiwiZmllbGRzIiwiY29uIiwiZXhlY3V0ZSIsIkdldEJ5SWQiLCJpZCIsImxpc3RfbmV3cyIsImZyb20iLCJ0byIsImluc2VydF9uZXdzIiwidGl0bGUiLCJkZXRhaWxfbmV3cyIsImRldGFpbF9uZXdzX2VkaXQiLCJlZGl0X25ld3MiLCJkZWxfbmV3cyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxzZXJ2aWNlc1xcIiwic291cmNlcyI6WyJuZXdzTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbiBmcm9tIFwiLi8uLi9jb25maWcvY29ubmVjdERCXCJcclxuXHJcbmNvbnN0IGxpc3RfbmV3c19hbGwgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGBuZXdzYCcpXHJcbiAgICByZXR1cm4gcm93c1xyXG59IFxyXG5cclxuY29uc3QgR2V0QnlJZCA9IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBuZXdzIFdIRVJFIG5ld3MuaWQgTElLRSA/JywgW2lkXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuXHJcbmNvbnN0IGxpc3RfbmV3cyA9IGFzeW5jIChmcm9tLCB0bykgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBgbmV3c2AgTElNSVQgPywgPycsIFtmcm9tLCB0b10pXHJcbiAgICByZXR1cm4gcm93c1xyXG59IFxyXG5cclxuY29uc3QgaW5zZXJ0X25ld3MgPSBhc3luYyAodGl0bGUpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdJTlNFUlQgSU5UTyBgbmV3c2AoYHRpdGxlYCkgVkFMVUVTICg/KScsW3RpdGxlXSlcclxufSBcclxuY29uc3QgZGV0YWlsX25ld3MgPSBhc3luYyAodGl0bGUpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gbmV3cyBXSEVSRSBuZXdzLnRpdGxlIExJS0UgPycsIFt0aXRsZV0pXHJcbiAgICByZXR1cm4gcm93c1xyXG59XHJcblxyXG5jb25zdCBkZXRhaWxfbmV3c19lZGl0ID0gYXN5bmMgKGlkKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIG5ld3MgV0hFUkUgbmV3cy5pZCBMSUtFID8nLCBbaWRdKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5jb25zdCBlZGl0X25ld3MgPSBhc3luYyAodGl0bGUsaWQpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdVUERBVEUgYG5ld3NgIFNFVCBgdGl0bGVgPT8gd2hlcmUgbmV3cy5pZCA9ID8gICcsW3RpdGxlLGlkXSlcclxufVxyXG5cclxuY29uc3QgZGVsX25ld3MgPSBhc3luYyAoaWQpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdERUxFVEUgRlJPTSBgbmV3c2AgV0hFUkUgbmV3cy5pZCA9ID8nLFtpZF0pXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQge2xpc3RfbmV3cyxpbnNlcnRfbmV3cyxkZXRhaWxfbmV3cyxlZGl0X25ld3MsZGV0YWlsX25ld3NfZWRpdCxkZWxfbmV3cywgbGlzdF9uZXdzX2FsbCxHZXRCeUlkfSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFBQSxVQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBdUMsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFdkMsTUFBTUcsYUFBYSxHQUFHLE1BQUFBLENBQUEsS0FBWTtFQUM5QixNQUFNLENBQUNDLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHNCQUFzQixDQUFDO0VBQ2hFLE9BQU9ILElBQUk7QUFDZixDQUFDO0FBRUQsTUFBTUksT0FBTyxHQUFHLE1BQU9DLEVBQUUsSUFBSztFQUMxQixNQUFNLENBQUNMLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHlDQUF5QyxFQUFFLENBQUNFLEVBQUUsQ0FBQyxDQUFDO0VBQ3pGLE9BQU9MLElBQUk7QUFDZixDQUFDO0FBRUQsTUFBTU0sU0FBUyxHQUFHLE1BQUFBLENBQU9DLElBQUksRUFBRUMsRUFBRSxLQUFLO0VBQ2xDLE1BQU0sQ0FBQ1IsSUFBSSxFQUFFQyxNQUFNLENBQUMsR0FBRyxNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsaUNBQWlDLEVBQUUsQ0FBQ0ksSUFBSSxFQUFFQyxFQUFFLENBQUMsQ0FBQztFQUN2RixPQUFPUixJQUFJO0FBQ2YsQ0FBQztBQUVELE1BQU1TLFdBQVcsR0FBRyxNQUFPQyxLQUFLLElBQUs7RUFDakMsTUFBTVIsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHdDQUF3QyxFQUFDLENBQUNPLEtBQUssQ0FBQyxDQUFDO0FBQ3ZFLENBQUM7QUFDRCxNQUFNQyxXQUFXLEdBQUcsTUFBT0QsS0FBSyxJQUFLO0VBQ2pDLE1BQU0sQ0FBQ1YsSUFBSSxFQUFFQyxNQUFNLENBQUMsR0FBRyxNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsNENBQTRDLEVBQUUsQ0FBQ08sS0FBSyxDQUFDLENBQUM7RUFDL0YsT0FBT1YsSUFBSTtBQUNmLENBQUM7QUFFRCxNQUFNWSxnQkFBZ0IsR0FBRyxNQUFPUCxFQUFFLElBQUs7RUFDbkMsTUFBTSxDQUFDTCxJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyx5Q0FBeUMsRUFBRSxDQUFDRSxFQUFFLENBQUMsQ0FBQztFQUN6RixPQUFPTCxJQUFJO0FBQ2YsQ0FBQztBQUNELE1BQU1hLFNBQVMsR0FBRyxNQUFBQSxDQUFPSCxLQUFLLEVBQUNMLEVBQUUsS0FBSztFQUNsQyxNQUFNSCxrQkFBRyxDQUFDQyxPQUFPLENBQUMsaURBQWlELEVBQUMsQ0FBQ08sS0FBSyxFQUFDTCxFQUFFLENBQUMsQ0FBQztBQUNuRixDQUFDO0FBRUQsTUFBTVMsUUFBUSxHQUFHLE1BQU9ULEVBQUUsSUFBSztFQUMzQixNQUFNSCxrQkFBRyxDQUFDQyxPQUFPLENBQUMsc0NBQXNDLEVBQUMsQ0FBQ0UsRUFBRSxDQUFDLENBQUM7QUFDbEUsQ0FBQztBQUFBLElBQUFVLFFBQUEsR0FBQUMsT0FBQSxDQUFBbEIsT0FBQSxHQUNjO0VBQUNRLFNBQVM7RUFBQ0csV0FBVztFQUFDRSxXQUFXO0VBQUNFLFNBQVM7RUFBQ0QsZ0JBQWdCO0VBQUNFLFFBQVE7RUFBRWYsYUFBYTtFQUFDSztBQUFPLENBQUMifQ==","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","list_news_all","rows","fields","con","execute","GetById","id","list_news","from","to","insert_news","title","detail_news","detail_news_edit","edit_news","del_news","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\services\\","sources":["newsModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\nconst list_news_all = async () => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `news`')\r\n    return rows\r\n} \r\n\r\nconst GetById = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM news WHERE news.id LIKE ?', [id])\r\n    return rows\r\n}\r\n\r\nconst list_news = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `news` LIMIT ?, ?', [from, to])\r\n    return rows\r\n} \r\n\r\nconst insert_news = async (title) => {\r\n    await con.execute('INSERT INTO `news`(`title`) VALUES (?)',[title])\r\n} \r\nconst detail_news = async (title) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM news WHERE news.title LIKE ?', [title])\r\n    return rows\r\n}\r\n\r\nconst detail_news_edit = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM news WHERE news.id LIKE ?', [id])\r\n    return rows\r\n}\r\nconst edit_news = async (title,id) => {\r\n    await con.execute('UPDATE `news` SET `title`=? where news.id = ?  ',[title,id])\r\n}\r\n\r\nconst del_news = async (id) => {\r\n    await con.execute('DELETE FROM `news` WHERE news.id = ?',[id])\r\n}\r\nexport default {list_news,insert_news,detail_news,edit_news,detail_news_edit,del_news, list_news_all,GetById}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEvC,MAAMG,aAAa,GAAG,MAAAA,CAAA,KAAY;EAC9B,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,sBAAsB,CAAC;EAChE,OAAOH,IAAI;AACf,CAAC;AAED,MAAMI,OAAO,GAAG,MAAOC,EAAE,IAAK;EAC1B,MAAM,CAACL,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,yCAAyC,EAAE,CAACE,EAAE,CAAC,CAAC;EACzF,OAAOL,IAAI;AACf,CAAC;AAED,MAAMM,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACR,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,iCAAiC,EAAE,CAACI,IAAI,EAAEC,EAAE,CAAC,CAAC;EACvF,OAAOR,IAAI;AACf,CAAC;AAED,MAAMS,WAAW,GAAG,MAAOC,KAAK,IAAK;EACjC,MAAMR,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAC,CAACO,KAAK,CAAC,CAAC;AACvE,CAAC;AACD,MAAMC,WAAW,GAAG,MAAOD,KAAK,IAAK;EACjC,MAAM,CAACV,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,4CAA4C,EAAE,CAACO,KAAK,CAAC,CAAC;EAC/F,OAAOV,IAAI;AACf,CAAC;AAED,MAAMY,gBAAgB,GAAG,MAAOP,EAAE,IAAK;EACnC,MAAM,CAACL,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,yCAAyC,EAAE,CAACE,EAAE,CAAC,CAAC;EACzF,OAAOL,IAAI;AACf,CAAC;AACD,MAAMa,SAAS,GAAG,MAAAA,CAAOH,KAAK,EAACL,EAAE,KAAK;EAClC,MAAMH,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAC,CAACO,KAAK,EAACL,EAAE,CAAC,CAAC;AACnF,CAAC;AAED,MAAMS,QAAQ,GAAG,MAAOT,EAAE,IAAK;EAC3B,MAAMH,kBAAG,CAACC,OAAO,CAAC,sCAAsC,EAAC,CAACE,EAAE,CAAC,CAAC;AAClE,CAAC;AAAA,IAAAU,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GACc;EAACQ,SAAS;EAACG,WAAW;EAACE,WAAW;EAACE,SAAS;EAACD,gBAAgB;EAACE,QAAQ;EAAEf,aAAa;EAACK;AAAO,CAAC"}},"mtime":1700138241438},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\NewsController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst list_news = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _newsModel.default.list_news(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listNews',\n        title: 'Danh sách tin tức',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst new_news = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'newNews',\n      title: 'Tạo tin tức'\n    }\n  });\n};\nconst insert_news = async (req, res) => {\n  let body = req.body;\n  if (!body.title) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    await _newsModel.default.insert_news(body.title);\n    res.redirect(\"/list-news/0-10\");\n  }\n};\nconst detail_news = async (req, res) => {\n  let title = req.params.title;\n  let list = await _newsModel.default.detail_news(title);\n  res.render('home', {\n    data: {\n      page: 'detailNews',\n      title: 'Chi tiết tin tức',\n      list: list\n    }\n  });\n};\nconst view_edit_news = async (req, res) => {\n  let id = req.params.id;\n  let list = await _newsModel.default.detail_news_edit(id);\n  res.render('home', {\n    data: {\n      page: 'viewEditNews',\n      list: list\n    }\n  });\n};\nconst edit_news = async (req, res) => {\n  const id = req.body.id;\n  let body = req.body;\n  console.table(body);\n  await _newsModel.default.edit_news(body.title, id);\n  res.redirect('/list-news/0-10');\n};\nconst del_news = async (req, res) => {\n  const id = req.body.id;\n  let list = await _newsModel.default.del_news(id);\n  res.redirect(\"/list-news/0-10\");\n};\nvar _default = exports.default = {\n  list_news,\n  new_news,\n  insert_news,\n  detail_news,\n  view_edit_news,\n  edit_news,\n  del_news\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX25ld3NNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibGlzdF9uZXdzIiwicmVxIiwicmVzIiwiX2Zyb20iLCJwYXJhbXMiLCJmcm9tIiwiX3RvIiwidG8iLCJhdXRoIiwic2Vzc2lvbiIsImlzTmFOIiwibGlzdCIsIm5ld3NNb2RlbCIsInJlbmRlciIsImRhdGEiLCJwYWdlIiwidGl0bGUiLCJzdGF0dXMiLCJzZW5kIiwibmV3X25ld3MiLCJpbnNlcnRfbmV3cyIsImJvZHkiLCJyZWRpcmVjdCIsImRldGFpbF9uZXdzIiwidmlld19lZGl0X25ld3MiLCJpZCIsImRldGFpbF9uZXdzX2VkaXQiLCJlZGl0X25ld3MiLCJjb25zb2xlIiwidGFibGUiLCJkZWxfbmV3cyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJOZXdzQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcbmltcG9ydCBuZXdzTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL25ld3NNb2RlbFwiXHJcblxyXG5jb25zdCBsaXN0X25ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICBsZXQgX2Zyb20gPSByZXEucGFyYW1zLmZyb21cclxuICAgIGxldCBfdG8gPSByZXEucGFyYW1zLnRvXHJcbiAgICBsZXQgYXV0aCA9IG51bGxcclxuXHJcbiAgICBpZiAocmVxLnNlc3Npb24uYXV0aCkge1xyXG4gICAgICAgIGF1dGggPSByZXEuc2Vzc2lvbi5hdXRoXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChpc05hTihfZnJvbSkgPT09IGZhbHNlICYmIGlzTmFOKF90bykgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzKF9mcm9tLCBfdG8pXHJcbiAgICAgICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2xpc3ROZXdzJywgdGl0bGU6ICdEYW5oIHPDoWNoIHRpbiB04bupYycsIHBhcmFtczoge19mcm9tLCBfdG99ICwgbGlzdDpsaXN0LCBhdXRoOmF1dGh9fSlcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbmV3X25ld3MgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICduZXdOZXdzJywgdGl0bGU6ICdU4bqhbyB0aW4gdOG7qWMnfX0pXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBpZiAoIWJvZHkudGl0bGUgKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgXHJcbiAgICAgICBcclxuICAgICAgICBhd2FpdCBuZXdzTW9kZWwuaW5zZXJ0X25ld3MoYm9keS50aXRsZSlcclxuICAgICAgICByZXMucmVkaXJlY3QoXCIvbGlzdC1uZXdzLzAtMTBcIilcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZGV0YWlsX25ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCB0aXRsZSA9IHJlcS5wYXJhbXMudGl0bGVcclxuICAgIGxldCBsaXN0ID0gYXdhaXQgbmV3c01vZGVsLmRldGFpbF9uZXdzKHRpdGxlKVxyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2RldGFpbE5ld3MnLCB0aXRsZTogJ0NoaSB0aeG6v3QgdGluIHThu6ljJywgbGlzdDpsaXN0fX0pXHJcbn1cclxuXHJcbmNvbnN0IHZpZXdfZWRpdF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IG5ld3NNb2RlbC5kZXRhaWxfbmV3c19lZGl0KGlkKVxyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ3ZpZXdFZGl0TmV3cycsIGxpc3Q6bGlzdH19KVxyXG59XHJcblxyXG5jb25zdCBlZGl0X25ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQgXHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBjb25zb2xlLnRhYmxlKGJvZHkpXHJcbiAgICBhd2FpdCBuZXdzTW9kZWwuZWRpdF9uZXdzKGJvZHkudGl0bGUsaWQpXHJcbiAgICByZXMucmVkaXJlY3QoJy9saXN0LW5ld3MvMC0xMCcpXHJcbn1cclxuXHJcbmNvbnN0IGRlbF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5ib2R5LmlkIFxyXG4gXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IG5ld3NNb2RlbC5kZWxfbmV3cyhpZClcclxuICAgIHJlcy5yZWRpcmVjdChcIi9saXN0LW5ld3MvMC0xMFwiKVxyXG59XHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtsaXN0X25ld3MsbmV3X25ld3MsaW5zZXJ0X25ld3MsZGV0YWlsX25ld3Msdmlld19lZGl0X25ld3MsZWRpdF9uZXdzLGRlbF9uZXdzfSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMs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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_newsModel","obj","__esModule","default","list_news","req","res","_from","params","from","_to","to","auth","session","isNaN","list","newsModel","render","data","page","title","status","send","new_news","insert_news","body","redirect","detail_news","view_edit_news","id","detail_news_edit","edit_news","console","table","del_news","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["NewsController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport newsModel from \"../services/newsModel\"\r\n\r\nconst list_news = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await newsModel.list_news(_from, _to)\r\n        res.render('home', {data: {page: 'listNews', title: 'Danh sách tin tức', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst new_news = (req, res) => {\r\n    res.render('home', {data: {page: 'newNews', title: 'Tạo tin tức'}})\r\n}\r\n\r\nconst insert_news = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.title ) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        \r\n       \r\n        await newsModel.insert_news(body.title)\r\n        res.redirect(\"/list-news/0-10\")\r\n    }\r\n}\r\n\r\nconst detail_news = async (req, res) => {\r\n    let title = req.params.title\r\n    let list = await newsModel.detail_news(title)\r\n    res.render('home', {data: {page: 'detailNews', title: 'Chi tiết tin tức', list:list}})\r\n}\r\n\r\nconst view_edit_news = async (req, res) => {\r\n    let id = req.params.id\r\n    let list = await newsModel.detail_news_edit(id)\r\n    res.render('home', {data: {page: 'viewEditNews', list:list}})\r\n}\r\n\r\nconst edit_news = async (req, res) => {\r\n    const id = req.body.id \r\n    let body = req.body\r\n    console.table(body)\r\n    await newsModel.edit_news(body.title,id)\r\n    res.redirect('/list-news/0-10')\r\n}\r\n\r\nconst del_news = async (req, res) => {\r\n    const id = req.body.id \r\n \r\n    let list = await newsModel.del_news(id)\r\n    res.redirect(\"/list-news/0-10\")\r\n}\r\n\r\n\r\n\r\nexport default {list_news,new_news,insert_news,detail_news,view_edit_news,edit_news,del_news}"],"mappings":"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"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\PostController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thư viện thao tác file\n\nconst list_post = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _postModel.default.list_post(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listpost',\n        title: 'Danh sách bài viết',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst new_post = async (req, res) => {\n  let danhmuc = await _newsModel.default.list_news_all();\n  res.render('home', {\n    data: {\n      page: 'newpost',\n      title: 'Tạo bài viết',\n      danhmuc: danhmuc\n    }\n  });\n};\nconst insert_post = async (req, res) => {\n  let img = req.file;\n  let body = req.body;\n  if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    const currentDate = new Date();\n    await _postModel.default.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id, currentDate);\n    res.redirect(\"list-post/0-10\");\n  }\n};\nconst detail_post = async (req, res) => {\n  let id = req.params.id;\n  let danhmuc = await _newsModel.default.list_news_all();\n  let list = await _postModel.default.detail_post(id);\n  res.render('home', {\n    data: {\n      page: 'detailpost',\n      title: 'Chi tiết bài viết',\n      list: list,\n      danhmuc: danhmuc\n    }\n  });\n};\nconst view_edit_post = async (req, res) => {\n  let id = req.params.id;\n  let danhmuc = await _newsModel.default.list_news_all();\n  let list = await _postModel.default.detail_post_edit(id);\n  res.render('home', {\n    data: {\n      page: 'viewEditpost',\n      title: 'Cập nhật bài viết',\n      list: list,\n      danhmuc: danhmuc\n    }\n  });\n};\nconst edit_post = async (req, res) => {\n  const id = req.body.id;\n  let body = req.body;\n  let img = body.img_old;\n  let file = req.file;\n  if (file) {\n    img = file.filename;\n    let post = await _postModel.default.detail_post(id);\n    _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n  }\n  if (!body.titlenew || !body.contentnew || !body.news_id) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    await _postModel.default.edit_post(body.titlenew, body.contentnew, img, body.news_id, id);\n    res.redirect('list-post/0-10');\n  }\n};\nconst del_post = async (req, res) => {\n  const id = req.body.id;\n  let post = await _postModel.default.detail_post(id);\n  _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n  let list = await _postModel.default.del_post(id);\n  res.redirect(\"list-post/0-10\");\n};\nvar _default = exports.default = {\n  list_post,\n  new_post,\n  insert_post,\n  detail_post,\n  view_edit_post,\n  edit_post,\n  del_post\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX3Bvc3RNb2RlbCIsIl9uZXdzTW9kZWwiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfcG9zdCIsInJlcSIsInJlcyIsIl9mcm9tIiwicGFyYW1zIiwiZnJvbSIsIl90byIsInRvIiwiYXV0aCIsInNlc3Npb24iLCJpc05hTiIsImxpc3QiLCJwb3N0TW9kZWwiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwic3RhdHVzIiwic2VuZCIsIm5ld19wb3N0IiwiZGFuaG11YyIsIm5ld3NNb2RlbCIsImxpc3RfbmV3c19hbGwiLCJpbnNlcnRfcG9zdCIsImltZyIsImZpbGUiLCJib2R5IiwidGl0bGVuZXciLCJjb250ZW50bmV3IiwiZmlsZW5hbWUiLCJuZXdzX2lkIiwiY3VycmVudERhdGUiLCJEYXRlIiwicmVkaXJlY3QiLCJkZXRhaWxfcG9zdCIsImlkIiwidmlld19lZGl0X3Bvc3QiLCJkZXRhaWxfcG9zdF9lZGl0IiwiZWRpdF9wb3N0IiwiaW1nX29sZCIsInBvc3QiLCJmcyIsInVubGlua1N5bmMiLCJpbWFnZSIsImRlbF9wb3N0IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcTm9kZV9CYW9DYW9cXE5vZGVfQVBJXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlBvc3RDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJyAvLyB0aMawIHZp4buHbiB0aGFvIHTDoWMgZmlsZVxyXG5cclxuaW1wb3J0IHBvc3RNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvcG9zdE1vZGVsXCJcclxuaW1wb3J0IG5ld3NNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvbmV3c01vZGVsXCJcclxuXHJcblxyXG5jb25zdCBsaXN0X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICBsZXQgX2Zyb20gPSByZXEucGFyYW1zLmZyb21cclxuICAgIGxldCBfdG8gPSByZXEucGFyYW1zLnRvXHJcbiAgICBsZXQgYXV0aCA9IG51bGxcclxuXHJcbiAgICBpZiAocmVxLnNlc3Npb24uYXV0aCkge1xyXG4gICAgICAgIGF1dGggPSByZXEuc2Vzc2lvbi5hdXRoXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChpc05hTihfZnJvbSkgPT09IGZhbHNlICYmIGlzTmFOKF90bykgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwubGlzdF9wb3N0KF9mcm9tLCBfdG8pXHJcbiAgICAgICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2xpc3Rwb3N0JywgdGl0bGU6ICdEYW5oIHPDoWNoIGLDoGkgdmnhur90JywgcGFyYW1zOiB7X2Zyb20sIF90b30gLCBsaXN0Omxpc3QsIGF1dGg6YXV0aH19KVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBuZXdfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGRhbmhtdWMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpXHJcbiAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHtwYWdlOiAnbmV3cG9zdCcsIHRpdGxlOiAnVOG6oW8gYsOgaSB2aeG6v3QnLCBkYW5obXVjOmRhbmhtdWN9fSlcclxufVxyXG5cclxuY29uc3QgaW5zZXJ0X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCBpbWcgPSByZXEuZmlsZVxyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgaWYgKCFib2R5LnRpdGxlbmV3IHx8ICFib2R5LmNvbnRlbnRuZXcgfHwgIWltZy5maWxlbmFtZSB8fCAhYm9keS5uZXdzX2lkKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGF3YWl0IHBvc3RNb2RlbC5pbnNlcnRfcG9zdChib2R5LnRpdGxlbmV3LCBib2R5LmNvbnRlbnRuZXcsIGltZy5maWxlbmFtZSwgYm9keS5uZXdzX2lkLGN1cnJlbnREYXRlKVxyXG4gICAgICAgIHJlcy5yZWRpcmVjdChcImxpc3QtcG9zdC8wLTEwXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRldGFpbF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICBsZXQgZGFuaG11YyA9IGF3YWl0IG5ld3NNb2RlbC5saXN0X25ld3NfYWxsKClcclxuICAgIGxldCBsaXN0ID0gYXdhaXQgcG9zdE1vZGVsLmRldGFpbF9wb3N0KGlkKVxyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2RldGFpbHBvc3QnLCB0aXRsZTogJ0NoaSB0aeG6v3QgYsOgaSB2aeG6v3QnLCBsaXN0Omxpc3QsIGRhbmhtdWM6ZGFuaG11Y319KVxyXG59XHJcblxyXG5jb25zdCB2aWV3X2VkaXRfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgbGV0IGRhbmhtdWMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdF9lZGl0KGlkKVxyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ3ZpZXdFZGl0cG9zdCcsIHRpdGxlOiAnQ+G6rXAgbmjhuq10IGLDoGkgdmnhur90JywgbGlzdDpsaXN0LCBkYW5obXVjOmRhbmhtdWN9fSlcclxufVxyXG5cclxuY29uc3QgZWRpdF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5ib2R5LmlkIFxyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgbGV0IGltZyA9IGJvZHkuaW1nX29sZFxyXG4gICAgbGV0IGZpbGUgPSByZXEuZmlsZVxyXG5cclxuICAgIGlmIChmaWxlKSB7XHJcbiAgICAgICAgaW1nID0gZmlsZS5maWxlbmFtZVxyXG4gICAgICAgIGxldCBwb3N0ID0gYXdhaXQgcG9zdE1vZGVsLmRldGFpbF9wb3N0KGlkKVxyXG4gICAgICAgIGZzLnVubGlua1N5bmMoJy4vc3JjL3B1YmxpYy91cGxvYWQvJyArIHBvc3RbMF0uaW1hZ2UpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICghYm9keS50aXRsZW5ldyB8fCAhYm9keS5jb250ZW50bmV3IHx8ICFib2R5Lm5ld3NfaWQpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfSBcclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGF3YWl0IHBvc3RNb2RlbC5lZGl0X3Bvc3QoYm9keS50aXRsZW5ldywgYm9keS5jb250ZW50bmV3LCBpbWcsIGJvZHkubmV3c19pZCwgaWQpXHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KCdsaXN0LXBvc3QvMC0xMCcpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRlbF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5ib2R5LmlkIFxyXG4gICAgbGV0IHBvc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGV0YWlsX3Bvc3QoaWQpXHJcbiAgICBmcy51bmxpbmtTeW5jKCcuL3NyYy9wdWJsaWMvdXBsb2FkLycgKyBwb3N0WzBdLmltYWdlKVxyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGVsX3Bvc3QoaWQpXHJcbiAgICByZXMucmVkaXJlY3QoXCJsaXN0LXBvc3QvMC0xMFwiKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7bGlzdF9wb3N0LG5ld19wb3N0LGluc2VydF9wb3N0LGRldGFpbF9wb3N0LHZpZXdfZWRpdF9wb3N0LGVkaXRfcG9zdCxkZWxfcG9zdH0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxHQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxVQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBNkMsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFIekI7O0FBTXBCLE1BQU1HLFNBQVMsR0FBRyxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUVsQyxJQUFJQyxLQUFLLEdBQUdGLEdBQUcsQ0FBQ0csTUFBTSxDQUFDQyxJQUFJO0VBQzNCLElBQUlDLEdBQUcsR0FBR0wsR0FBRyxDQUFDRyxNQUFNLENBQUNHLEVBQUU7RUFDdkIsSUFBSUMsSUFBSSxHQUFHLElBQUk7RUFFZixJQUFJUCxHQUFHLENBQUNRLE9BQU8sQ0FBQ0QsSUFBSSxFQUFFO0lBQ2xCQSxJQUFJLEdBQUdQLEdBQUcsQ0FBQ1EsT0FBTyxDQUFDRCxJQUFJO0VBQzNCO0VBRUEsSUFBSUUsS0FBSyxDQUFDUCxLQUFLLENBQUMsS0FBSyxLQUFLLElBQUlPLEtBQUssQ0FBQ0osR0FBRyxDQUFDLEtBQUssS0FBSyxFQUFFO0lBQ2hELElBQUlLLElBQUksR0FBRyxNQUFNQyxrQkFBUyxDQUFDWixTQUFTLENBQUNHLEtBQUssRUFB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_postModel","_newsModel","obj","__esModule","default","list_post","req","res","_from","params","from","_to","to","auth","session","isNaN","list","postModel","render","data","page","title","status","send","new_post","danhmuc","newsModel","list_news_all","insert_post","img","file","body","titlenew","contentnew","filename","news_id","currentDate","Date","redirect","detail_post","id","view_edit_post","detail_post_edit","edit_post","img_old","post","fs","unlinkSync","image","del_post","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["PostController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs' // thư viện thao tác file\r\n\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\n\r\n\r\nconst list_post = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await postModel.list_post(_from, _to)\r\n        res.render('home', {data: {page: 'listpost', title: 'Danh sách bài viết', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst new_post = async (req, res) => {\r\n    let danhmuc = await newsModel.list_news_all()\r\n    res.render('home', {data: {page: 'newpost', title: 'Tạo bài viết', danhmuc:danhmuc}})\r\n}\r\n\r\nconst insert_post = async (req, res) => {\r\n    let img = req.file\r\n    let body = req.body\r\n    if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        const currentDate = new Date();\r\n        await postModel.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id,currentDate)\r\n        res.redirect(\"list-post/0-10\")\r\n    }\r\n}\r\n\r\nconst detail_post = async (req, res) => {\r\n    let id = req.params.id\r\n    let danhmuc = await newsModel.list_news_all()\r\n    let list = await postModel.detail_post(id)\r\n    res.render('home', {data: {page: 'detailpost', title: 'Chi tiết bài viết', list:list, danhmuc:danhmuc}})\r\n}\r\n\r\nconst view_edit_post = async (req, res) => {\r\n    let id = req.params.id\r\n    let danhmuc = await newsModel.list_news_all()\r\n    let list = await postModel.detail_post_edit(id)\r\n    res.render('home', {data: {page: 'viewEditpost', title: 'Cập nhật bài viết', list:list, danhmuc:danhmuc}})\r\n}\r\n\r\nconst edit_post = async (req, res) => {\r\n    const id = req.body.id \r\n    let body = req.body\r\n    let img = body.img_old\r\n    let file = req.file\r\n\r\n    if (file) {\r\n        img = file.filename\r\n        let post = await postModel.detail_post(id)\r\n        fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n    }\r\n    \r\n    if (!body.titlenew || !body.contentnew || !body.news_id) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    } \r\n    else {\r\n        await postModel.edit_post(body.titlenew, body.contentnew, img, body.news_id, id)\r\n        res.redirect('list-post/0-10')\r\n    }\r\n}\r\n\r\nconst del_post = async (req, res) => {\r\n    const id = req.body.id \r\n    let post = await postModel.detail_post(id)\r\n    fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n    let list = await postModel.del_post(id)\r\n    res.redirect(\"list-post/0-10\")\r\n}\r\n\r\nexport default {list_post,new_post,insert_post,detail_post,view_edit_post,edit_post,del_post}"],"mappings":"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"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\ApiNewsController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thư viện thao tác file\n\n//api reactjs \n\nconst apiReactList = async (req, res) => {\n  const users = await _newsModel.default.list_news_all();\n  res.status(200).json({\n    data: users\n  });\n};\nconst apiNewId = async (req, res) => {\n  const newId = req.params.id;\n  const GetById = await _newsModel.default.GetById(newId);\n  res.status(200).json({\n    data: GetById\n  });\n};\nconst apiPostList = async (req, res) => {\n  var limit = 4;\n  const users = await _postModel.default.list_hot_post_user(limit);\n  res.status(200).json({\n    data: users\n  });\n};\nconst apiPostId = async (req, res) => {\n  const postId = req.params.id;\n  const GetById = await _postModel.default.detail_post_edit(postId);\n  res.status(200).json({\n    data: GetById\n  });\n};\n\n//hien thi bai viet theo loai tin tuc\nconst apiPostFromNew = async (req, res) => {\n  const newId = req.params.id;\n  const GetList = await _postModel.default.list_by_news(newId);\n  res.status(200).json({\n    data: GetList\n  });\n};\nconst list_news = async (req, res) => {\n  try {\n    let items = await _newsModel.default.list_news_all();\n    return res.status(200).json({\n      items: items,\n      mess: \"Danh sách tin tức\"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst GetById = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let items = await _newsModel.default.GetById(id);\n    return res.status(200).json({\n      items: items,\n      mess: \"chi tiết tin tức\"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst insert_news = async (req, res) => {\n  try {\n    let body = req.body;\n    let items = await _newsModel.default.insert_news(body.title);\n    return res.status(400).json({\n      items: items,\n      mess: \"Insert thành công \"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst edit_news = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let body = req.body;\n    let news = await _newsModel.default.GetById(id);\n    if (news.length < 1) {\n      return res.status(400).json({\n        err: 1,\n        mess: \"Bài viết không tồn tại\"\n      });\n    }\n    if (!body.title) {\n      return res.status(400).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    await _newsModel.default.edit_news(body.title, id);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Cập nhật thành công\"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst del_news = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let items = await _newsModel.default.del_news(id);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Bạn đã xóa thành công\"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nvar _default = exports.default = {\n  apiPostId,\n  apiPostFromNew,\n  apiNewId,\n  apiReactList,\n  list_news,\n  GetById,\n  insert_news,\n  edit_news,\n  del_news\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX3Bvc3RNb2RlbCIsIl9uZXdzTW9kZWwiLCJfYm9keVBhcnNlciIsIl9KV1RBY3Rpb24iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImFwaVJlYWN0TGlzdCIsInJlcSIsInJlcyIsInVzZXJzIiwibmV3c01vZGVsIiwibGlzdF9uZXdzX2FsbCIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwiYXBpTmV3SWQiLCJuZXdJZCIsInBhcmFtcyIsImlkIiwiR2V0QnlJZCIsImFwaVBvc3RMaXN0IiwibGltaXQiLCJwb3N0TW9kZWwiLCJsaXN0X2hvdF9wb3N0X3VzZXIiLCJhcGlQb3N0SWQiLCJwb3N0SWQiLCJkZXRhaWxfcG9zdF9lZGl0IiwiYXBpUG9zdEZyb21OZXciLCJHZXRMaXN0IiwibGlzdF9ieV9uZXdzIiwibGlzdF9uZXdzIiwiaXRlbXMiLCJtZXNzIiwiZXJyb3IiLCJlcnIiLCJpbnNlcnRfbmV3cyIsImJvZHkiLCJ0aXRsZSIsImVkaXRfbmV3cyIsIm5ld3MiLCJsZW5ndGgiLCJkZWxfbmV3cyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJBcGlOZXdzQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBmcyBmcm9tICdmcycgLy8gdGjGsCB2aeG7h24gdGhhbyB0w6FjIGZpbGVcclxuaW1wb3J0IHBvc3RNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvcG9zdE1vZGVsXCJcclxuaW1wb3J0IG5ld3NNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvbmV3c01vZGVsXCJcclxuaW1wb3J0IHsganNvbiB9IGZyb20gXCJib2R5LXBhcnNlclwiXHJcbmltcG9ydCBKV1QgZnJvbSBcIi4uL21pZGRsZXdhcmUvSldUQWN0aW9uXCJcclxuXHJcbi8vYXBpIHJlYWN0anMgXHJcblxyXG5jb25zdCBhcGlSZWFjdExpc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIFxyXG4gICAgY29uc3QgdXNlcnMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgZGF0YTogdXNlcnNcclxuICAgIH0pXHJcblxyXG59XHJcblxyXG5jb25zdCBhcGlOZXdJZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgIG5ld0lkID0gcmVxLnBhcmFtcy5pZDtcclxuICAgIFxyXG4gICAgY29uc3QgR2V0QnlJZCA9IGF3YWl0IG5ld3NNb2RlbC5HZXRCeUlkKG5ld0lkKTtcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogR2V0QnlJZFxyXG4gICAgICB9KVxyXG5cclxufVxyXG5cclxuY29uc3QgYXBpUG9zdExpc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIFxyXG4gICAgdmFyIGxpbWl0ID0gNFxyXG4gICAgY29uc3QgdXNlcnMgPSBhd2FpdCBwb3N0TW9kZWwubGlzdF9ob3RfcG9zdF91c2VyKGxpbWl0KTtcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIGRhdGE6IHVzZXJzXHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuXHJcbmNvbnN0IGFwaVBvc3RJZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgIHBvc3RJZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBcclxuICAgIGNvbnN0IEdldEJ5SWQgPSBhd2FpdCBwb3N0TW9kZWwuZGV0YWlsX3Bvc3RfZWRpdChwb3N0SWQpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBkYXRhOiBHZXRCeUlkXHJcbiAgICAgIH0pXHJcblxyXG59XHJcblxyXG5cclxuXHJcbi8vaGllbiB0aGkgYmFpIHZpZXQgdGhlbyBsb2FpIHRpbiB0dWNcclxuY29uc3QgYXBpUG9zdEZyb21OZXcgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0ICBuZXdJZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBjb25zdCBHZXRMaXN0ID0gYXdhaXQgcG9zdE1vZGVsLmxpc3RfYnlfbmV3cyhuZXdJZCk7XHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBkYXRhOiBHZXRMaXN0XHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbmNvbnN0IGxpc3RfbmV3cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtcyA9IGF3YWl0IG5ld3NNb2RlbC5saXN0X25ld3NfYWxsKClcclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IGl0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiRGFuaCBzw6FjaCB0aW4gdOG7qWNcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBHZXRCeUlkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBpZCA9IHJlcS5wYXJhbXMuaWRcclxuICAgICAgICAgICAgbGV0IGl0ZW1zID0gYXdhaXQgbmV3c01vZGVsLkdldEJ5SWQoaWQpXHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcImNoaSB0aeG6v3QgdGluIHThu6ljXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgaW5zZXJ0X25ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcblxyXG4gICAgICAgIGxldCBpdGVtcyA9ICBhd2FpdCBuZXdzTW9kZWwuaW5zZXJ0X25ld3MoYm9keS50aXRsZSlcclxuICAgICAgIFxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaXRlbXM6IGl0ZW1zLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJJbnNlcnQgdGjDoG5oIGPDtG5nIFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZWRpdF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuXHJcbiAgICAgIFxyXG4gICAgICAgICAgICBsZXQgbmV3cyA9IGF3YWl0IG5ld3NNb2RlbC5HZXRCeUlkKGlkKVxyXG5cclxuICAgICAgICAgICAgaWYgKG5ld3MubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkLDoGkgdmnhur90IGtow7RuZyB04buTbiB04bqhaVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICBcclxuXHJcbiAgICAgICAgaWYgKCFib2R5LnRpdGxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJUaGnhur91IHRow7RuZyB0aW4gY+G6p24gdGhp4bq/dFwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IG5ld3NNb2RlbC5lZGl0X25ld3MoYm9keS50aXRsZSxpZClcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkPhuq1wIG5o4bqtdCB0aMOgbmggY8O0bmdcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRlbF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBpZCA9IHJlcS5wYXJhbXMuaWRcclxuICAgICAgICAgICAgbGV0IGl0ZW1zID0gYXdhaXQgbmV3c01vZGVsLmRlbF9uZXdzKGlkKVxyXG4gICAgXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJC4bqhbiDEkcOjIHjDs2EgdGjDoG5oIGPDtG5nXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHthcGlQb3N0SWQsYXBpUG9zdEZyb21OZXcsYXBpTmV3SWQsYXBpUmVhY3RMaXN0LGxpc3RfbmV3cyxHZXRCeUlkLGluc2VydF9uZXdzLGVkaXRfbmV3cyxkZWxfbmV3c31cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsR0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsVUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsVUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksV0FBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUssVUFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFELHVCQUFBTyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBSnJCOztBQU1wQjs7QUFFQSxNQUFNRyxZQUFZLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFFckMsTUFBTUMsS0FBSyxHQUFHLE1BQU1DLGtCQUFTLENBQUNDLGFBQWEsQ0FBQyxDQUFDO0VBRTdDSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO0lBQ25CQyxJQUFJLEVBQUVMO0VBQ1IsQ0FBQyxDQUFDO0FBRU4sQ0FBQztBQUVELE1BQU1NLFFBQVEsR0FBRyxNQUFBQSxDQUFPUixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNqQyxNQUFPUSxLQUFLLEdBQUdULEdBQUcsQ0FBQ1Us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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_postModel","_newsModel","_bodyParser","_JWTAction","obj","__esModule","default","apiReactList","req","res","users","newsModel","list_news_all","status","json","data","apiNewId","newId","params","id","GetById","apiPostList","limit","postModel","list_hot_post_user","apiPostId","postId","detail_post_edit","apiPostFromNew","GetList","list_by_news","list_news","items","mess","error","err","insert_news","body","title","edit_news","news","length","del_news","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["ApiNewsController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs' // thư viện thao tác file\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n//api reactjs \r\n\r\nconst apiReactList = async (req, res) => {\r\n    \r\n    const users = await newsModel.list_news_all();\r\n\r\n    res.status(200).json({\r\n      data: users\r\n    })\r\n\r\n}\r\n\r\nconst apiNewId = async (req, res) => {\r\n    const  newId = req.params.id;\r\n    \r\n    const GetById = await newsModel.GetById(newId);\r\n\r\n    res.status(200).json({\r\n        data: GetById\r\n      })\r\n\r\n}\r\n\r\nconst apiPostList = async (req, res) => {\r\n    \r\n    var limit = 4\r\n    const users = await postModel.list_hot_post_user(limit);\r\n\r\n    res.status(200).json({\r\n      data: users\r\n    })\r\n\r\n}\r\n\r\n\r\nconst apiPostId = async (req, res) => {\r\n    const  postId = req.params.id;\r\n    \r\n    const GetById = await postModel.detail_post_edit(postId);\r\n\r\n    res.status(200).json({\r\n        data: GetById\r\n      })\r\n\r\n}\r\n\r\n\r\n\r\n//hien thi bai viet theo loai tin tuc\r\nconst apiPostFromNew = async (req, res) => {\r\n    const  newId = req.params.id;\r\n    const GetList = await postModel.list_by_news(newId);\r\n\r\n    res.status(200).json({\r\n      data: GetList\r\n    })\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nconst list_news = async (req, res) => {\r\n\r\n    try {\r\n            let items = await newsModel.list_news_all()\r\n    \r\n            return res.status(200).json(\r\n                {\r\n                    items: items,\r\n                    mess: \"Danh sách tin tức\"\r\n                }\r\n            )\r\n        \r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst GetById = async (req, res) => {\r\n\r\n    try {\r\n\r\n            let id = req.params.id\r\n            let items = await newsModel.GetById(id)\r\n    \r\n            return res.status(200).json(\r\n                {\r\n                    items: items,\r\n                    mess: \"chi tiết tin tức\"\r\n                }\r\n            )\r\n        \r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst insert_news = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n\r\n        let items =  await newsModel.insert_news(body.title)\r\n       \r\n        return res.status(400).json(\r\n            {\r\n                items: items,\r\n                mess: \"Insert thành công \"\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst edit_news = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let id = req.params.id\r\n        let body = req.body\r\n\r\n      \r\n            let news = await newsModel.GetById(id)\r\n\r\n            if (news.length < 1) {\r\n                return res.status(400).json(\r\n                    {\r\n                        err: 1,\r\n                        mess: \"Bài viết không tồn tại\"\r\n                    }\r\n                )\r\n            }\r\n\r\n      \r\n\r\n        if (!body.title) {\r\n            return res.status(400).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        await newsModel.edit_news(body.title,id)\r\n\r\n        return res.status(200).json(\r\n            {\r\n                err: 0,\r\n                mess: \"Cập nhật thành công\"\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst del_news = async (req, res) => {\r\n\r\n    try {\r\n\r\n            let id = req.params.id\r\n            let items = await newsModel.del_news(id)\r\n    \r\n            return res.status(200).json(\r\n                {\r\n                    err: 0,\r\n                    mess: \"Bạn đã xóa thành công\"\r\n                }\r\n            )\r\n        \r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default {apiPostId,apiPostFromNew,apiNewId,apiReactList,list_news,GetById,insert_news,edit_news,del_news}\r\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,GAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,UAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,WAAA,GAAAJ,OAAA;AACA,IAAAK,UAAA,GAAAN,sBAAA,CAAAC,OAAA;AAAyC,SAAAD,uBAAAO,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAJrB;;AAMpB;;AAEA,MAAMG,YAAY,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EAErC,MAAMC,KAAK,GAAG,MAAMC,kBAAS,CAACC,aAAa,CAAC,CAAC;EAE7CH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IACnBC,IAAI,EAAEL;EACR,CAAC,CAAC;AAEN,CAAC;AAED,MAAMM,QAAQ,GAAG,MAAAA,CAAOR,GAAG,EAAEC,GAAG,KAAK;EACjC,MAAOQ,KAAK,GAAGT,GAAG,CAACU,MAAM,CAACC,EAAE;EAE5B,MAAMC,OAAO,GAAG,MAAMT,kBAAS,CAACS,OAAO,CAACH,KAAK,CAAC;EAE9CR,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IACjBC,IAAI,EAAEK;EACR,CAAC,CAAC;AAER,CAAC;AAED,MAAMC,WAAW,GAAG,MAAAA,CAAOb,GAAG,EAAEC,GAAG,KAAK;EAEpC,IAAIa,KAAK,GAAG,CAAC;EACb,MAAMZ,KAAK,GAAG,MAAMa,kBAAS,CAACC,kBAAkB,CAACF,KAAK,CAAC;EAEvDb,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IACnBC,IAAI,EAAEL;EACR,CAAC,CAAC;AAEN,CAAC;AAGD,MAAMe,SAAS,GAAG,MAAAA,CAAOjB,GAAG,EAAEC,GAAG,KAAK;EAClC,MAAOiB,MAAM,GAAGlB,GAAG,CAACU,MAAM,CAACC,EAAE;EAE7B,MAAMC,OAAO,GAAG,MAAMG,kBAAS,CAACI,gBAAgB,CAACD,MAAM,CAAC;EAExDjB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IACjBC,IAAI,EAAEK;EACR,CAAC,CAAC;AAER,CAAC;;AAID;AACA,MAAMQ,cAAc,GAAG,MAAAA,CAAOpB,GAAG,EAAEC,GAAG,KAAK;EACvC,MAAOQ,KAAK,GAAGT,GAAG,CAACU,MAAM,CAACC,EAAE;EAC5B,MAAMU,OAAO,GAAG,MAAMN,kBAAS,CAACO,YAAY,CAACb,KAAK,CAAC;EAEnDR,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IACnBC,IAAI,EAAEc;EACR,CAAC,CAAC;AAEN,CAAC;AAMD,MAAME,SAAS,GAAG,MAAAA,CAAOvB,GAAG,EAAEC,GAAG,KAAK;EAElC,IAAI;IACI,IAAIuB,KAAK,GAAG,MAAMrB,kBAAS,CAACC,aAAa,CAAC,CAAC;IAE3C,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIkB,KAAK,EAAEA,KAAK;MACZC,IAAI,EAAE;IACV,CACJ,CAAC;EAET,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,OAAOzB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIqB,GAAG,EAAE,CAAC;MACNF,IAAI,EAAE,OAAO,GAAGC;IACpB,CACJ,CAAC;EACL;AACJ,CAAC;AAED,MAAMd,OAAO,GAAG,MAAAA,CAAOZ,GAAG,EAAEC,GAAG,KAAK;EAEhC,IAAI;IAEI,IAAIU,EAAE,GAAGX,GAAG,CAACU,MAAM,CAACC,EAAE;IACtB,IAAIa,KAAK,GAAG,MAAMrB,kBAAS,CAACS,OAAO,CAACD,EAAE,CAAC;IAEvC,OAAOV,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIkB,KAAK,EAAEA,KAAK;MACZC,IAAI,EAAE;IACV,CACJ,CAAC;EAET,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,OAAOzB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIqB,GAAG,EAAE,CAAC;MACNF,IAAI,EAAE,OAAO,GAAGC;IACpB,CACJ,CAAC;EACL;AACJ,CAAC;AAED,MAAME,WAAW,GAAG,MAAAA,CAAO5B,GAAG,EAAEC,GAAG,KAAK;EAEpC,IAAI;IAEA,IAAI4B,IAAI,GAAG7B,GAAG,CAAC6B,IAAI;IAEnB,IAAIL,KAAK,GAAI,MAAMrB,kBAAS,CAACyB,WAAW,CAACC,IAAI,CAACC,KAAK,CAAC;IAEpD,OAAO7B,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIkB,KAAK,EAAEA,KAAK;MACZC,IAAI,EAAE;IACV,CACJ,CAAC;EAEL,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,OAAOzB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIqB,GAAG,EAAE,CAAC;MACNF,IAAI,EAAE,OAAO,GAAGC;IACpB,CACJ,CAAC;EACL;AACJ,CAAC;AAED,MAAMK,SAAS,GAAG,MAAAA,CAAO/B,GAAG,EAAEC,GAAG,KAAK;EAElC,IAAI;IAEA,IAAIU,EAAE,GAAGX,GAAG,CAACU,MAAM,CAACC,EAAE;IACtB,IAAIkB,IAAI,GAAG7B,GAAG,CAAC6B,IAAI;IAGf,IAAIG,IAAI,GAAG,MAAM7B,kBAAS,CAACS,OAAO,CAACD,EAAE,CAAC;IAEtC,IAAIqB,IAAI,CAACC,MAAM,GAAG,CAAC,EAAE;MACjB,OAAOhC,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;QACIqB,GAAG,EAAE,CAAC;QACNF,IAAI,EAAE;MACV,CACJ,CAAC;IACL;IAIJ,IAAI,CAACI,IAAI,CAACC,KAAK,EAAE;MACb,OAAO7B,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;QACIqB,GAAG,EAAE,CAAC;QACNF,IAAI,EAAE;MACV,CACJ,CAAC;IACL;IAEA,MAAMtB,kBAAS,CAAC4B,SAAS,CAACF,IAAI,CAACC,KAAK,EAACnB,EAAE,CAAC;IAExC,OAAOV,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIqB,GAAG,EAAE,CAAC;MACNF,IAAI,EAAE;IACV,CACJ,CAAC;EAEL,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,OAAOzB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIqB,GAAG,EAAE,CAAC;MACNF,IAAI,EAAE,OAAO,GAAGC;IACpB,CACJ,CAAC;EACL;AACJ,CAAC;AAED,MAAMQ,QAAQ,GAAG,MAAAA,CAAOlC,GAAG,EAAEC,GAAG,KAAK;EAEjC,IAAI;IAEI,IAAIU,EAAE,GAAGX,GAAG,CAACU,MAAM,CAACC,EAAE;IACtB,IAAIa,KAAK,GAAG,MAAMrB,kBAAS,CAAC+B,QAAQ,CAACvB,EAAE,CAAC;IAExC,OAAOV,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIqB,GAAG,EAAE,CAAC;MACNF,IAAI,EAAE;IACV,CACJ,CAAC;EAET,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,OAAOzB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIqB,GAAG,EAAE,CAAC;MACNF,IAAI,EAAE,OAAO,GAAGC;IACpB,CACJ,CAAC;EACL;AACJ,CAAC;AAAA,IAAAS,QAAA,GAAAC,OAAA,CAAAtC,OAAA,GAGc;EAACmB,SAAS;EAACG,cAAc;EAACZ,QAAQ;EAACT,YAAY;EAACwB,SAAS;EAACX,OAAO;EAACgB,WAAW;EAACG,SAAS;EAACG;AAAQ,CAAC"}},"mtime":1700138734298},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\middleware\\\\JWTAction.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_dotenv.default.config();\nconst key = process.env.JWT_SECRET;\nconst createJWT = payload => {\n  // let payload = { foo: 'bar' }\n  let token = null;\n  try {\n    token = _jsonwebtoken.default.sign(payload, key, {\n      algorithm: 'HS256'\n    });\n  } catch (err) {\n    console.log(err);\n  }\n  // console.log(token)\n  return token;\n};\nconst verifyToken = token => {\n  let decoded = null;\n  try {\n    decoded = _jsonwebtoken.default.verify(token, key);\n  } catch (err) {\n    console.log(err);\n  }\n  // console.log(decoded)\n  return decoded;\n};\nvar _default = exports.default = {\n  createJWT,\n  verifyToken\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZG90ZW52Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJkb3RlbnYiLCJjb25maWciLCJrZXkiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImNyZWF0ZUpXVCIsInBheWxvYWQiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJhbGdvcml0aG0iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwidmVyaWZ5VG9rZW4iLCJkZWNvZGVkIiwidmVyaWZ5IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcTm9kZV9CYW9DYW9cXE5vZGVfQVBJXFxzcmNcXG1pZGRsZXdhcmVcXCIsInNvdXJjZXMiOlsiSldUQWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiXHJcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiXHJcblxyXG5kb3RlbnYuY29uZmlnKClcclxuY29uc3Qga2V5ID0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVFxyXG5cclxuY29uc3QgY3JlYXRlSldUID0gKHBheWxvYWQpID0+IHtcclxuICAgIC8vIGxldCBwYXlsb2FkID0geyBmb286ICdiYXInIH1cclxuICAgIGxldCB0b2tlbiA9IG51bGxcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdG9rZW4gPSBqd3Quc2lnbihwYXlsb2FkLCBrZXksIHsgYWxnb3JpdGhtOiAnSFMyNTYnIH0pO1xyXG4gICAgfSBcclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpIFxyXG4gICAgfVxyXG4gICAgLy8gY29uc29sZS5sb2codG9rZW4pXHJcbiAgICByZXR1cm4gdG9rZW5cclxufVxyXG5cclxuY29uc3QgdmVyaWZ5VG9rZW4gPSAodG9rZW4pID0+IHtcclxuICAgIGxldCBkZWNvZGVkID0gbnVsbFxyXG4gICAgdHJ5IHtcclxuICAgICAgICBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwga2V5KVxyXG4gICAgfSBcclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICB9XHJcbiAgICAvLyBjb25zb2xlLmxvZyhkZWNvZGVkKVxyXG4gICAgcmV0dXJuIGRlY29kZWRcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge2NyZWF0ZUpXVCwgdmVyaWZ5VG9rZW59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBMkIsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFM0JHLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFDZixNQUFNQyxHQUFHLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxVQUFVO0FBRWxDLE1BQU1DLFNBQVMsR0FBSUMsT0FBTyxJQUFLO0VBQzNCO0VBQ0EsSUFBSUMsS0FBSyxHQUFHLElBQUk7RUFDaEIsSUFBSTtJQUNBQSxLQUFLLEdBQUdDLHFCQUFHLENBQUNDLElBQUksQ0FBQ0gsT0FBTyxFQUFFTCxHQUFHLEVBQUU7TUFBRVMsU0FBUyxFQUFFO0lBQVEsQ0FBQyxDQUFDO0VBQzFELENBQUMsQ0FDRCxPQUFPQyxHQUFHLEVBQUU7SUFDUkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQztFQUNwQjtFQUNBO0VBQ0EsT0FBT0osS0FBSztBQUNoQixDQUFDO0FBRUQsTUFBTU8sV0FBVyxHQUFJUCxLQUFLLElBQUs7RUFDM0IsSUFBSVEsT0FBTyxHQUFHLElBQUk7RUFDbEIsSUFBSTtJQUNBQSxPQUFPLEdBQUdQLHFCQUFHLENBQUNRLE1BQU0sQ0FBQ1QsS0FBSyxFQUFFTixHQUFHLENBQUM7RUFDcEMsQ0FBQyxDQUNELE9BQU9VLEdBQUcsRUFBRTtJQUNSQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsR0FBRyxDQUFDO0VBQ3BCO0VBQ0E7RUFDQSxPQUFPSSxPQUFPO0FBQ2xCLENBQUM7QUFBQSxJQUFBRSxRQUFBLEdBQUFDLE9BQUEsQ0FBQXBCLE9BQUEsR0FFYztFQUFDTyxTQUFTO0VBQUVTO0FBQVcsQ0FBQyJ9","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_dotenv","obj","__esModule","default","dotenv","config","key","process","env","JWT_SECRET","createJWT","payload","token","jwt","sign","algorithm","err","console","log","verifyToken","decoded","verify","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\middleware\\","sources":["JWTAction.js"],"sourcesContent":["import jwt from \"jsonwebtoken\"\r\nimport dotenv from \"dotenv\"\r\n\r\ndotenv.config()\r\nconst key = process.env.JWT_SECRET\r\n\r\nconst createJWT = (payload) => {\r\n    // let payload = { foo: 'bar' }\r\n    let token = null\r\n    try {\r\n        token = jwt.sign(payload, key, { algorithm: 'HS256' });\r\n    } \r\n    catch (err) {\r\n        console.log(err) \r\n    }\r\n    // console.log(token)\r\n    return token\r\n}\r\n\r\nconst verifyToken = (token) => {\r\n    let decoded = null\r\n    try {\r\n        decoded = jwt.verify(token, key)\r\n    } \r\n    catch (err) {\r\n        console.log(err)\r\n    }\r\n    // console.log(decoded)\r\n    return decoded\r\n}\r\n\r\nexport default {createJWT, verifyToken}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA2B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE3BG,eAAM,CAACC,MAAM,CAAC,CAAC;AACf,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,UAAU;AAElC,MAAMC,SAAS,GAAIC,OAAO,IAAK;EAC3B;EACA,IAAIC,KAAK,GAAG,IAAI;EAChB,IAAI;IACAA,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAACH,OAAO,EAAEL,GAAG,EAAE;MAAES,SAAS,EAAE;IAAQ,CAAC,CAAC;EAC1D,CAAC,CACD,OAAOC,GAAG,EAAE;IACRC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;EACA;EACA,OAAOJ,KAAK;AAChB,CAAC;AAED,MAAMO,WAAW,GAAIP,KAAK,IAAK;EAC3B,IAAIQ,OAAO,GAAG,IAAI;EAClB,IAAI;IACAA,OAAO,GAAGP,qBAAG,CAACQ,MAAM,CAACT,KAAK,EAAEN,GAAG,CAAC;EACpC,CAAC,CACD,OAAOU,GAAG,EAAE;IACRC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;EACA;EACA,OAAOI,OAAO;AAClB,CAAC;AAAA,IAAAE,QAAA,GAAAC,OAAA,CAAApB,OAAA,GAEc;EAACO,SAAS;EAAES;AAAW,CAAC"}},"mtime":1700138241345},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\ApiPostController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thư viện thao tác file\n\nconst new_post = async (req, res) => {\n  try {\n    let danhmuc = await _newsModel.default.list_news_all();\n    return res.status(200).json({\n      page: 'newpost',\n      title: 'Tạo bài viết',\n      danhmuc: danhmuc\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst insert_post = async (req, res) => {\n  try {\n    let body = req.body;\n    let img = req.file;\n    if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    const currentDate = new Date();\n    await _postModel.default.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id, currentDate);\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst list_post = async (req, res) => {\n  try {\n    let _from = req.params.from;\n    let _to = req.params.to;\n    let auth = null;\n    if (req.session.auth) {\n      auth = req.session.auth.name;\n    }\n    if (isNaN(_from) === false && isNaN(_to) === false) {\n      let list = await _postModel.default.list_post(_from, _to);\n      return res.status(200).json({\n        page: 'listpost',\n        title: 'Danh sách bài viết',\n        params: {\n          from: _from,\n          to: _to\n        },\n        list: list,\n        auth: auth\n      });\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst detail_post = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let danhmuc = await _newsModel.default.list_news_all();\n    let list = await _postModel.default.detail_post(id);\n    if (list.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Bài viết không tồn tại\"\n      });\n    }\n    return res.status(200).json({\n      page: 'detailpost',\n      title: 'Chi tiết bài viết',\n      list: list,\n      danhmuc: danhmuc\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst edit_post = async (req, res) => {\n  try {\n    const id = req.body.id;\n    let body = req.body;\n    let img = body.img_old; // truyền img cũ qua hidden input\n    let file = req.file;\n    if (file) {\n      img = file.filename;\n      let post = await _postModel.default.detail_post(id);\n      if (post.length < 1) {\n        return res.status(200).json({\n          err: 1,\n          mess: \"Bài viết không tồn tại\"\n        });\n      }\n      _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n    }\n    if (!body.titlenew || !body.contentnew || !body.news_id) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    await _postModel.default.edit_post(body.titlenew, body.contentnew, img, body.news_id, id);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Cập nhật thành công\"\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst view_edit_post = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let danhmuc = await _newsModel.default.list_news_all();\n    let list = await _postModel.default.detail_post_edit(id);\n    if (list.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Người dùng không tồn tại\"\n      });\n    }\n    return res.status(200).json({\n      page: 'viewEditpost',\n      title: 'Cập nhật bài viết',\n      list: list,\n      danhmuc: danhmuc\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst del_post = async (req, res) => {\n  try {\n    const id = req.body.id;\n    let post = await _postModel.default.detail_post(id);\n    if (post.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Bài viết không tồn tại\"\n      });\n    }\n    _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n    let list = await _postModel.default.del_post(id);\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        err: 0,\n        mess: \"Xóa bài viết thành công\"\n      }\n    }));\n  } catch (error) {\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nvar _default = exports.default = {\n  list_post,\n  new_post,\n  insert_post,\n  detail_post,\n  view_edit_post,\n  edit_post,\n  del_post\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX3Bvc3RNb2RlbCIsIl9uZXdzTW9kZWwiLCJfYm9keVBhcnNlciIsIl9KV1RBY3Rpb24iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm5ld19wb3N0IiwicmVxIiwicmVzIiwiZGFuaG11YyIsIm5ld3NNb2RlbCIsImxpc3RfbmV3c19hbGwiLCJzdGF0dXMiLCJqc29uIiwicGFnZSIsInRpdGxlIiwiZXJyb3IiLCJlcnIiLCJtZXNzIiwiaW5zZXJ0X3Bvc3QiLCJib2R5IiwiaW1nIiwiZmlsZSIsInRpdGxlbmV3IiwiY29udGVudG5ldyIsImZpbGVuYW1lIiwibmV3c19pZCIsImN1cnJlbnREYXRlIiwiRGF0ZSIsInBvc3RNb2RlbCIsImxpc3RfcG9zdCIsIl9mcm9tIiwicGFyYW1zIiwiZnJvbSIsIl90byIsInRvIiwiYXV0aCIsInNlc3Npb24iLCJuYW1lIiwiaXNOYU4iLCJsaXN0IiwiZGV0YWlsX3Bvc3QiLCJpZCIsImxlbmd0aCIsImVkaXRfcG9zdCIsImltZ19vbGQiLCJwb3N0IiwiZnMiLCJ1bmxpbmtTeW5jIiwiaW1hZ2UiLCJ2aWV3X2VkaXRfcG9zdCIsImRldGFpbF9wb3N0X2VkaXQiLCJkZWxfcG9zdCIsIkpXVCIsImNyZWF0ZUpXVCIsImRhdGEiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxOb2RlX0Jhb0Nhb1xcTm9kZV9BUElcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQXBpUG9zdENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgZnMgZnJvbSAnZnMnIC8vIHRoxrAgdmnhu4duIHRoYW8gdMOhYyBmaWxlXHJcbmltcG9ydCBwb3N0TW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL3Bvc3RNb2RlbFwiXHJcbmltcG9ydCBuZXdzTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL25ld3NNb2RlbFwiXHJcbmltcG9ydCB7IGpzb24gfSBmcm9tIFwiYm9keS1wYXJzZXJcIlxyXG5pbXBvcnQgSldUIGZyb20gXCIuLi9taWRkbGV3YXJlL0pXVEFjdGlvblwiXHJcblxyXG5cclxuY29uc3QgbmV3X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCBkYW5obXVjID0gYXdhaXQgbmV3c01vZGVsLmxpc3RfbmV3c19hbGwoKVxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGFnZTogJ25ld3Bvc3QnLCBcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnVOG6oW8gYsOgaSB2aeG6v3QnLFxyXG4gICAgICAgICAgICAgICAgZGFuaG11YzogZGFuaG11Y1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cclxuY29uc3QgaW5zZXJ0X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICAgICAgbGV0IGltZyA9IHJlcS5maWxlXHJcblxyXG5cclxuICAgICAgICBpZiAoIWJvZHkudGl0bGVuZXcgfHwgIWJvZHkuY29udGVudG5ldyB8fCAhaW1nLmZpbGVuYW1lIHx8ICFib2R5Lm5ld3NfaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIlRoaeG6v3UgdGjDtG5nIHRpbiBj4bqnbiB0aGnhur90XCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgICAgICBhd2FpdCBwb3N0TW9kZWwuaW5zZXJ0X3Bvc3QoYm9keS50aXRsZW5ldywgYm9keS5jb250ZW50bmV3LCBpbWcuZmlsZW5hbWUsIGJvZHkubmV3c19pZCwgY3VycmVudERhdGUpXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbGlzdF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IF9mcm9tID0gcmVxLnBhcmFtcy5mcm9tXHJcbiAgICAgICAgbGV0IF90byA9IHJlcS5wYXJhbXMudG9cclxuICAgICAgICBsZXQgYXV0aCA9IG51bGxcclxuXHJcbiAgICAgICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgpIHtcclxuICAgICAgICAgICAgYXV0aCA9IHJlcS5zZXNzaW9uLmF1dGgubmFtZVxyXG4gICAgICAgIH0gXHJcblxyXG4gICAgICAgIGlmIChpc05hTihfZnJvbSkgPT09IGZhbHNlICYmIGlzTmFOKF90bykgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBsaXN0ID0gYXdhaXQgcG9zdE1vZGVsLmxpc3RfcG9zdChfZnJvbSwgX3RvKVxyXG4gICAgXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBwYWdlOiAnbGlzdHBvc3QnLCBcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0Rhbmggc8OhY2ggYsOgaSB2aeG6v3QnLCBcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogX2Zyb20sIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzogX3RvXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgXHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdDogbGlzdCwgXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aDogYXV0aFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZGV0YWlsX3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICAgICAgbGV0IGRhbmhtdWMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpXHJcbiAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGV0YWlsX3Bvc3QoaWQpXHJcblxyXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkLDoGkgdmnhur90IGtow7RuZyB04buTbiB04bqhaVwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGFnZTogJ2RldGFpbHBvc3QnLCBcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2hpIHRp4bq/dCBiw6BpIHZp4bq/dCcsIFxyXG4gICAgICAgICAgICAgICAgbGlzdDogbGlzdCxcclxuICAgICAgICAgICAgICAgIGRhbmhtdWM6IGRhbmhtdWNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbmNvbnN0IGVkaXRfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQgXHJcbiAgICAgICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgICAgIGxldCBpbWcgPSBib2R5LmltZ19vbGQgLy8gdHJ1eeG7gW4gaW1nIGPFqSBxdWEgaGlkZGVuIGlucHV0XHJcbiAgICAgICAgbGV0IGZpbGUgPSByZXEuZmlsZVxyXG5cclxuICAgICAgICBpZiAoZmlsZSkge1xyXG5cclxuICAgICAgICAgICAgaW1nID0gZmlsZS5maWxlbmFtZVxyXG4gICAgICAgICAgICBsZXQgcG9zdCA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdChpZClcclxuXHJcbiAgICAgICAgICAgIGlmIChwb3N0Lmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzczogXCJCw6BpIHZp4bq/dCBraMO0bmcgdOG7k24gdOG6oWlcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnMudW5saW5rU3luYygnLi9zcmMvcHVibGljL3VwbG9hZC8nICsgcG9zdFswXS5pbWFnZSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghYm9keS50aXRsZW5ldyB8fCAhYm9keS5jb250ZW50bmV3IHx8ICFib2R5Lm5ld3NfaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIlRoaeG6v3UgdGjDtG5nIHRpbiBj4bqnbiB0aGnhur90XCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgcG9zdE1vZGVsLmVkaXRfcG9zdChib2R5LnRpdGxlbmV3LCBib2R5LmNvbnRlbnRuZXcsIGltZywgYm9keS5uZXdzX2lkLCBpZClcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkPhuq1wIG5o4bqtdCB0aMOgbmggY8O0bmdcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHZpZXdfZWRpdF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgICAgIGxldCBkYW5obXVjID0gYXdhaXQgbmV3c01vZGVsLmxpc3RfbmV3c19hbGwoKVxyXG4gICAgICAgIGxldCBsaXN0ID0gYXdhaXQgcG9zdE1vZGVsLmRldGFpbF9wb3N0X2VkaXQoaWQpXHJcblxyXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIk5nxrDhu51pIGTDuW5nIGtow7RuZyB04buTbiB04bqhaVwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGFnZTogJ3ZpZXdFZGl0cG9zdCcsIFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdD4bqtcCBuaOG6rXQgYsOgaSB2aeG6v3QnLCBcclxuICAgICAgICAgICAgICAgIGxpc3Q6IGxpc3QsXHJcbiAgICAgICAgICAgICAgICBkYW5obXVjOiBkYW5obXVjXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNvbnN0IGRlbF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgY29uc3QgaWQgPSByZXEuYm9keS5pZCBcclxuICAgICAgICBsZXQgcG9zdCA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdChpZClcclxuXHJcbiAgICAgICAgaWYgKHBvc3QubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiQsOgaSB2aeG6v3Qga2jDtG5nIHThu5NuIHThuqFpXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnMudW5saW5rU3luYygnLi9zcmMvcHVibGljL3VwbG9hZC8nICsgcG9zdFswXS5pbWFnZSlcclxuICAgICAgICBsZXQgbGlzdCA9IGF3YWl0IHBvc3RNb2RlbC5kZWxfcG9zdChpZClcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIljDs2EgYsOgaSB2aeG6v3QgdGjDoG5oIGPDtG5nXCJ9fVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yfX1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge2xpc3RfcG9zdCxuZXdfcG9zdCxpbnNlcnRfcG9zdCxkZXRhaWxfcG9zdCx2aWV3X2VkaXRfcG9zdCxlZGl0X3Bvc3QsZGVsX3Bvc3R9XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEdBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLFdBQUEsR0FBQUosT0FBQTtBQUNBLElBQUFLLFVBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBRCx1QkFBQU8sR0FBQSxXQUFBQSxHQUFBLElBQUFB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_postModel","_newsModel","_bodyParser","_JWTAction","obj","__esModule","default","new_post","req","res","danhmuc","newsModel","list_news_all","status","json","page","title","error","err","mess","insert_post","body","img","file","titlenew","contentnew","filename","news_id","currentDate","Date","postModel","list_post","_from","params","from","_to","to","auth","session","name","isNaN","list","detail_post","id","length","edit_post","img_old","post","fs","unlinkSync","image","view_edit_post","detail_post_edit","del_post","JWT","createJWT","data","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["ApiPostController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs' // thư viện thao tác file\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n\r\nconst new_post = async (req, res) => {\r\n\r\n    try {\r\n        let danhmuc = await newsModel.list_news_all()\r\n        return res.status(200).json(\r\n            {\r\n                page: 'newpost', \r\n                title: 'Tạo bài viết',\r\n                danhmuc: danhmuc\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst insert_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n        let img = req.file\r\n\r\n\r\n        if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        const currentDate = new Date();\r\n\r\n        await postModel.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id, currentDate)\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst list_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let _from = req.params.from\r\n        let _to = req.params.to\r\n        let auth = null\r\n\r\n        if (req.session.auth) {\r\n            auth = req.session.auth.name\r\n        } \r\n\r\n        if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        \r\n            let list = await postModel.list_post(_from, _to)\r\n    \r\n            return res.status(200).json(\r\n                {\r\n                    page: 'listpost', \r\n                    title: 'Danh sách bài viết', \r\n                    params: {\r\n                        from: _from, \r\n                        to: _to\r\n                    }, \r\n                    list: list, \r\n                    auth: auth\r\n                }\r\n            )\r\n        }\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst detail_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let id = req.params.id\r\n        let danhmuc = await newsModel.list_news_all()\r\n        let list = await postModel.detail_post(id)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Bài viết không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            {\r\n                page: 'detailpost', \r\n                title: 'Chi tiết bài viết', \r\n                list: list,\r\n                danhmuc: danhmuc\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst edit_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        const id = req.body.id \r\n        let body = req.body\r\n        let img = body.img_old // truyền img cũ qua hidden input\r\n        let file = req.file\r\n\r\n        if (file) {\r\n\r\n            img = file.filename\r\n            let post = await postModel.detail_post(id)\r\n\r\n            if (post.length < 1) {\r\n                return res.status(200).json(\r\n                    {\r\n                        err: 1,\r\n                        mess: \"Bài viết không tồn tại\"\r\n                    }\r\n                )\r\n            }\r\n\r\n            fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n        }\r\n\r\n        if (!body.titlenew || !body.contentnew || !body.news_id) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        await postModel.edit_post(body.titlenew, body.contentnew, img, body.news_id, id)\r\n\r\n        return res.status(200).json(\r\n            {\r\n                err: 0,\r\n                mess: \"Cập nhật thành công\"\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst view_edit_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let id = req.params.id\r\n        let danhmuc = await newsModel.list_news_all()\r\n        let list = await postModel.detail_post_edit(id)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Người dùng không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            {\r\n                page: 'viewEditpost', \r\n                title: 'Cập nhật bài viết', \r\n                list: list,\r\n                danhmuc: danhmuc\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst del_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        const id = req.body.id \r\n        let post = await postModel.detail_post(id)\r\n\r\n        if (post.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Bài viết không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n        let list = await postModel.del_post(id)\r\n\r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                err: 0,\r\n                mess: \"Xóa bài viết thành công\"}}\r\n            )\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nexport default {list_post,new_post,insert_post,detail_post,view_edit_post,edit_post,del_post}\r\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,GAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,UAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,WAAA,GAAAJ,OAAA;AACA,IAAAK,UAAA,GAAAN,sBAAA,CAAAC,OAAA;AAAyC,SAAAD,uBAAAO,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAJrB;;AAOpB,MAAMG,QAAQ,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EAEjC,IAAI;IACA,IAAIC,OAAO,GAAG,MAAMC,kBAAS,CAACC,aAAa,CAAC,CAAC;IAC7C,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIC,IAAI,EAAE,SAAS;MACfC,KAAK,EAAE,cAAc;MACrBN,OAAO,EAAEA;IACb,CACJ,CAAC;EAEL,CAAC,CAAC,OAAOO,KAAK,EAAE;IACZ,OAAOR,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACII,GAAG,EAAE,CAAC;MACNC,IAAI,EAAE,OAAO,GAAGF;IACpB,CACJ,CAAC;EACL;AAEJ,CAAC;AAED,MAAMG,WAAW,GAAG,MAAAA,CAAOZ,GAAG,EAAEC,GAAG,KAAK;EAEpC,IAAI;IAEA,IAAIY,IAAI,GAAGb,GAAG,CAACa,IAAI;IACnB,IAAIC,GAAG,GAAGd,GAAG,CAACe,IAAI;IAGlB,IAAI,CAACF,IAAI,CAACG,QAAQ,IAAI,CAACH,IAAI,CAACI,UAAU,IAAI,CAACH,GAAG,CAACI,QAAQ,IAAI,CAACL,IAAI,CAACM,OAAO,EAAE;MACtE,OAAOlB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;QACII,GAAG,EAAE,CAAC;QACNC,IAAI,EAAE;MACV,CACJ,CAAC;IACL;IAEA,MAAMS,WAAW,GAAG,IAAIC,IAAI,CAAC,CAAC;IAE9B,MAAMC,kBAAS,CAACV,WAAW,CAACC,IAAI,CAACG,QAAQ,EAAEH,IAAI,CAACI,UAAU,EAAEH,GAAG,CAACI,QAAQ,EAAEL,IAAI,CAACM,OAAO,EAAEC,WAAW,CAAC;EAExG,CAAC,CAAC,OAAOX,KAAK,EAAE;IACZ,OAAOR,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACII,GAAG,EAAE,CAAC;MACNC,IAAI,EAAE,OAAO,GAAGF;IACpB,CACJ,CAAC;EACL;AACJ,CAAC;AAED,MAAMc,SAAS,GAAG,MAAAA,CAAOvB,GAAG,EAAEC,GAAG,KAAK;EAElC,IAAI;IAEA,IAAIuB,KAAK,GAAGxB,GAAG,CAACyB,MAAM,CAACC,IAAI;IAC3B,IAAIC,GAAG,GAAG3B,GAAG,CAACyB,MAAM,CAACG,EAAE;IACvB,IAAIC,IAAI,GAAG,IAAI;IAEf,IAAI7B,GAAG,CAAC8B,OAAO,CAACD,IAAI,EAAE;MAClBA,IAAI,GAAG7B,GAAG,CAAC8B,OAAO,CAACD,IAAI,CAACE,IAAI;IAChC;IAEA,IAAIC,KAAK,CAACR,KAAK,CAAC,KAAK,KAAK,IAAIQ,KAAK,CAACL,GAAG,CAAC,KAAK,KAAK,EAAE;MAEhD,IAAIM,IAAI,GAAG,MAAMX,kBAAS,CAACC,SAAS,CAACC,KAAK,EAAEG,GAAG,CAAC;MAEhD,OAAO1B,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;QACIC,IAAI,EAAE,UAAU;QAChBC,KAAK,EAAE,oBAAoB;QAC3BiB,MAAM,EAAE;UACJC,IAAI,EAAEF,KAAK;UACXI,EAAE,EAAED;QACR,CAAC;QACDM,IAAI,EAAEA,IAAI;QACVJ,IAAI,EAAEA;MACV,CACJ,CAAC;IACL;EACJ,CAAC,CAAC,OAAOpB,KAAK,EAAE;IACZ,OAAOR,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACII,GAAG,EAAE,CAAC;MACNC,IAAI,EAAE,OAAO,GAAGF;IACpB,CACJ,CAAC;EACL;AACJ,CAAC;AAED,MAAMyB,WAAW,GAAG,MAAAA,CAAOlC,GAAG,EAAEC,GAAG,KAAK;EAEpC,IAAI;IAEA,IAAIkC,EAAE,GAAGnC,GAAG,CAACyB,MAAM,CAACU,EAAE;IACtB,IAAIjC,OAAO,GAAG,MAAMC,kBAAS,CAACC,aAAa,CAAC,CAAC;IAC7C,IAAI6B,IAAI,GAAG,MAAMX,kBAAS,CAACY,WAAW,CAACC,EAAE,CAAC;IAE1C,IAAIF,IAAI,CAACG,MAAM,GAAG,CAAC,EAAE;MACjB,OAAOnC,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;QACII,GAAG,EAAE,CAAC;QACNC,IAAI,EAAE;MACV,CACJ,CAAC;IACL;IAEA,OAAOV,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIC,IAAI,EAAE,YAAY;MAClBC,KAAK,EAAE,mBAAmB;MAC1ByB,IAAI,EAAEA,IAAI;MACV/B,OAAO,EAAEA;IACb,CACJ,CAAC;EAEL,CAAC,CAAC,OAAOO,KAAK,EAAE;IACZ,OAAOR,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACII,GAAG,EAAE,CAAC;MACNC,IAAI,EAAE,OAAO,GAAGF;IACpB,CACJ,CAAC;EACL;AAEJ,CAAC;AAED,MAAM4B,SAAS,GAAG,MAAAA,CAAOrC,GAAG,EAAEC,GAAG,KAAK;EAElC,IAAI;IAEA,MAAMkC,EAAE,GAAGnC,GAAG,CAACa,IAAI,CAACsB,EAAE;IACtB,IAAItB,IAAI,GAAGb,GAAG,CAACa,IAAI;IACnB,IAAIC,GAAG,GAAGD,IAAI,CAACyB,OAAO,EAAC;IACvB,IAAIvB,IAAI,GAAGf,GAAG,CAACe,IAAI;IAEnB,IAAIA,IAAI,EAAE;MAEND,GAAG,GAAGC,IAAI,CAACG,QAAQ;MACnB,IAAIqB,IAAI,GAAG,MAAMjB,kBAAS,CAACY,WAAW,CAACC,EAAE,CAAC;MAE1C,IAAII,IAAI,CAACH,MAAM,GAAG,CAAC,EAAE;QACjB,OAAOnC,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;UACII,GAAG,EAAE,CAAC;UACNC,IAAI,EAAE;QACV,CACJ,CAAC;MACL;MAEA6B,WAAE,CAACC,UAAU,CAAC,sBAAsB,GAAGF,IAAI,CAAC,CAAC,CAAC,CAACG,KAAK,CAAC;IACzD;IAEA,IAAI,CAAC7B,IAAI,CAACG,QAAQ,IAAI,CAACH,IAAI,CAACI,UAAU,IAAI,CAACJ,IAAI,CAACM,OAAO,EAAE;MACrD,OAAOlB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;QACII,GAAG,EAAE,CAAC;QACNC,IAAI,EAAE;MACV,CACJ,CAAC;IACL;IAEA,MAAMW,kBAAS,CAACe,SAAS,CAACxB,IAAI,CAACG,QAAQ,EAAEH,IAAI,CAACI,UAAU,EAAEH,GAAG,EAAED,IAAI,CAACM,OAAO,EAAEgB,EAAE,CAAC;IAEhF,OAAOlC,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACII,GAAG,EAAE,CAAC;MACNC,IAAI,EAAE;IACV,CACJ,CAAC;EAEL,CAAC,CAAC,OAAOF,KAAK,EAAE;IACZ,OAAOR,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACII,GAAG,EAAE,CAAC;MACNC,IAAI,EAAE,OAAO,GAAGF;IACpB,CACJ,CAAC;EACL;AACJ,CAAC;AAED,MAAMkC,cAAc,GAAG,MAAAA,CAAO3C,GAAG,EAAEC,GAAG,KAAK;EAEvC,IAAI;IAEA,IAAIkC,EAAE,GAAGnC,GAAG,CAACyB,MAAM,CAACU,EAAE;IACtB,IAAIjC,OAAO,GAAG,MAAMC,kBAAS,CAACC,aAAa,CAAC,CAAC;IAC7C,IAAI6B,IAAI,GAAG,MAAMX,kBAAS,CAACsB,gBAAgB,CAACT,EAAE,CAAC;IAE/C,IAAIF,IAAI,CAACG,MAAM,GAAG,CAAC,EAAE;MACjB,OAAOnC,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;QACII,GAAG,EAAE,CAAC;QACNC,IAAI,EAAE;MACV,CACJ,CAAC;IACL;IAEA,OAAOV,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIC,IAAI,EAAE,cAAc;MACpBC,KAAK,EAAE,mBAAmB;MAC1ByB,IAAI,EAAEA,IAAI;MACV/B,OAAO,EAAEA;IACb,CACJ,CAAC;EAEL,CAAC,CAAC,OAAOO,KAAK,EAAE;IACZ,OAAOR,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACII,GAAG,EAAE,CAAC;MACNC,IAAI,EAAE,OAAO,GAAGF;IACpB,CACJ,CAAC;EACL;AAEJ,CAAC;AAED,MAAMoC,QAAQ,GAAG,MAAAA,CAAO7C,GAAG,EAAEC,GAAG,KAAK;EAEjC,IAAI;IAEA,MAAMkC,EAAE,GAAGnC,GAAG,CAACa,IAAI,CAACsB,EAAE;IACtB,IAAII,IAAI,GAAG,MAAMjB,kBAAS,CAACY,WAAW,CAACC,EAAE,CAAC;IAE1C,IAAII,IAAI,CAACH,MAAM,GAAG,CAAC,EAAE;MACjB,OAAOnC,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;QACII,GAAG,EAAE,CAAC;QACNC,IAAI,EAAE;MACV,CACJ,CAAC;IACL;IAEA6B,WAAE,CAACC,UAAU,CAAC,sBAAsB,GAAGF,IAAI,CAAC,CAAC,CAAC,CAACG,KAAK,CAAC;IACrD,IAAIT,IAAI,GAAG,MAAMX,kBAAS,CAACuB,QAAQ,CAACV,EAAE,CAAC;IAEvC,OAAOlC,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvBwC,kBAAG,CAACC,SAAS,CAAC;MAACC,IAAI,EAAE;QACjBtC,GAAG,EAAE,CAAC;QACNC,IAAI,EAAE;MAAyB;IAAC,CACpC,CACJ,CAAC;EAEL,CAAC,CAAC,OAAOF,KAAK,EAAE;IACZ,OAAOR,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvBwC,kBAAG,CAACC,SAAS,CAAC;MAACC,IAAI,EAAE;QACjBtC,GAAG,EAAE,CAAC;QACNC,IAAI,EAAE,OAAO,GAAGF;MAAK;IAAC,CAC1B,CACJ,CAAC;EACL;AACJ,CAAC;AAAA,IAAAwC,QAAA,GAAAC,OAAA,CAAApD,OAAA,GAEc;EAACyB,SAAS;EAACxB,QAAQ;EAACa,WAAW;EAACsB,WAAW;EAACS,cAAc;EAACN,SAAS;EAACQ;AAAQ,CAAC"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\router\\\\apiRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _ApiLoginController = _interopRequireDefault(require(\"./../controllers/ApiLoginController\"));\nvar _ApiUserController = _interopRequireDefault(require(\"./../controllers/ApiUserController\"));\nvar _ApiPostController = _interopRequireDefault(require(\"./../controllers/ApiPostController\"));\nvar _ApiNewsController = _interopRequireDefault(require(\"./../controllers/ApiNewsController\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thu vien up img\n\nconst storage = _multer.default.diskStorage({\n  destination: function destination(req, file, cb) {\n    cb(null, './src/public/upload');\n  },\n  filename: function filename(req, file, cb) {\n    const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9);\n    cb(null, uniqueSuffix + _path.default.extname(file.originalname));\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst api = _express.default.Router();\nconst initAPIRoute = app => {\n  api.get('/login-auth', _ApiLoginController.default.login);\n  api.post('/login', _ApiLoginController.default.login_auth);\n  api.get('/logout', _ApiLoginController.default.logout);\n\n  //api quan ly user ( user )  \n  api.get('/create_new_user', _ApiUserController.default.new_user);\n  api.post('/insert_new_user', _ApiUserController.default.insert_user);\n  api.get('/list-user/:from-:to', _ApiUserController.default.list_user);\n  api.get('/detail_user/:username', _ApiUserController.default.detail_user);\n  api.delete('/del_user/:username', _ApiUserController.default.del_user);\n  api.get('/view_edit/:username', _ApiUserController.default.view_edit);\n  api.put('/edit_user', _ApiUserController.default.edit_user);\n\n  //api quan ly bai viet ( post )  \n  api.get('/list-post/:from-:to', _ApiPostController.default.list_post);\n  api.get('/create_new_post', _ApiPostController.default.new_post);\n  api.post('/insert_new_post', upload.single('filenew'), _ApiPostController.default.insert_post);\n  api.get('/detail_post/:id', _ApiPostController.default.detail_post);\n  api.get('/view_edit_post/:id', _ApiPostController.default.view_edit_post);\n  api.put('/edit_post', upload.single('filenew'), _ApiPostController.default.edit_post);\n  api.delete('/del_post', _ApiPostController.default.del_post);\n\n  //api quan ly tin tuc (news)\n  api.get('/GetById/:id', _ApiNewsController.default.GetById);\n  api.get('/list-news', _ApiNewsController.default.list_news);\n  api.post('/insert_news', _ApiNewsController.default.insert_news);\n  api.put('/edit_news/:id', _ApiNewsController.default.edit_news);\n  api.delete('/del_news/:id', _ApiNewsController.default.del_news);\n\n  //user api\n  api.get('/news', _ApiNewsController.default.apiReactList);\n  api.get('/news/:id', _ApiNewsController.default.apiPostFromNew);\n  api.get('/posts', _ApiNewsController.default.apiPostList);\n  api.get('/post/:id', _ApiNewsController.default.apiPostId);\n  return app.use('/api/v1', api);\n};\nvar _default = exports.default = initAPIRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9wYXRoIiwiX0FwaUxvZ2luQ29udHJvbGxlciIsIl9BcGlVc2VyQ29udHJvbGxlciIsIl9BcGlQb3N0Q29udHJvbGxlciIsIl9BcGlOZXdzQ29udHJvbGxlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsInVuaXF1ZVN1ZmZpeCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJwYXRoIiwiZXh0bmFtZSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZCIsImFwaSIsImV4cHJlc3MiLCJSb3V0ZXIiLCJpbml0QVBJUm91dGUiLCJhcHAiLCJnZXQiLCJBcGlMb2dpbkNvbnRyb2xsZXIiLCJsb2dpbiIsInBvc3QiLCJsb2dpbl9hdXRoIiwibG9nb3V0IiwiQXBpVXNlckNvbnRyb2xsZXIiLCJuZXdfdXNlciIsImluc2VydF91c2VyIiwibGlzdF91c2VyIiwiZGV0YWlsX3VzZXIiLCJkZWxldGUiLCJkZWxfdXNlciIsInZpZXdfZWRpdCIsInB1dCIsImVkaXRfdXNlciIsIkFwaVBvc3RDb250cm9sbGVyIiwibGlzdF9wb3N0IiwibmV3X3Bvc3QiLCJzaW5nbGUiLCJpbnNlcnRfcG9zdCIsImRldGFpbF9wb3N0Iiwidmlld19lZGl0X3Bvc3QiLCJlZGl0X3Bvc3QiLCJkZWxfcG9zdCIsIkFwaU5ld3NDb250cm9sbGVyIiwiR2V0QnlJZCIsImxpc3RfbmV3cyIsImluc2VydF9uZXdzIiwiZWRpdF9uZXdzIiwiZGVsX25ld3MiLCJhcGlSZWFjdExpc3QiLCJhcGlQb3N0RnJvbU5ldyIsImFwaVBvc3RMaXN0IiwiYXBpUG9zdElkIiwidXNlIiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcTm9kZV9CYW9DYW9cXE5vZGVfQVBJXFxzcmNcXHJvdXRlclxcIiwic291cmNlcyI6WyJhcGlSb3V0ZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBtdWx0ZXIgZnJvbSAnbXVsdGVyJyAvLyB0aHUgdmllbiB1cCBpbWdcclxuaW1wb3J0IHBhdGggZnJvbSBcInBhdGhcIlxyXG5cclxuaW1wb3J0IEFwaUxvZ2luQ29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9BcGlMb2dpbkNvbnRyb2xsZXJcIlxyXG5pbXBvcnQgQXBpVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvQXBpVXNlckNvbnRyb2xsZXJcIlxyXG5pbXBvcnQgQXBpUG9zdENvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvQXBpUG9zdENvbnRyb2xsZXJcIlxyXG5pbXBvcnQgQXBpTmV3c0NvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvQXBpTmV3c0NvbnRyb2xsZXJcIlxyXG5jb25zdCBzdG9yYWdlID0gbXVsdGVyLmRpc2tTdG9yYWdlKHtcclxuICAgIGRlc3RpbmF0aW9uOiBmdW5jdGlvbiAocmVxLCBmaWxlLCBjYikge1xyXG4gICAgICBjYihudWxsLCAnLi9zcmMvcHVibGljL3VwbG9hZCcpXHJcbiAgICB9LFxyXG4gICAgZmlsZW5hbWU6IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICAgIGNvbnN0IHVuaXF1ZVN1ZmZpeCA9IERhdGUubm93KCkgKyAnLScgKyBNYXRoLnJvdW5kKE1hdGgucmFuZG9tKCkgKiAxRTkpXHJcbiAgICAgIGNiKG51bGwsIHVuaXF1ZVN1ZmZpeCArIHBhdGguZXh0bmFtZShmaWxlLm9yaWdpbmFsbmFtZSkpXHJcbiAgICB9XHJcbiAgfSlcclxuICBcclxuY29uc3QgdXBsb2FkID0gbXVsdGVyKHsgc3RvcmFnZTogc3RvcmFnZSB9KVxyXG5cclxuY29uc3QgYXBpID0gZXhwcmVzcy5Sb3V0ZXIoKVxyXG5jb25zdCBpbml0QVBJUm91dGUgPSAoYXBwKSA9PiB7XHJcblxyXG4gICAgYXBpLmdldCgnL2xvZ2luLWF1dGgnLCBBcGlMb2dpbkNvbnRyb2xsZXIubG9naW4pXHJcbiAgICBhcGkucG9zdCgnL2xvZ2luJywgQXBpTG9naW5Db250cm9sbGVyLmxvZ2luX2F1dGgpXHJcbiAgICBhcGkuZ2V0KCcvbG9nb3V0JywgQXBpTG9naW5Db250cm9sbGVyLmxvZ291dClcclxuXHJcblxyXG4gICAgLy9hcGkgcXVhbiBseSB1c2VyICggdXNlciApICBcclxuICAgIGFwaS5nZXQoJy9jcmVhdGVfbmV3X3VzZXInLCBBcGlVc2VyQ29udHJvbGxlci5uZXdfdXNlcilcclxuICAgIGFwaS5wb3N0KCcvaW5zZXJ0X25ld191c2VyJywgQXBpVXNlckNvbnRyb2xsZXIuaW5zZXJ0X3VzZXIpXHJcbiAgICBhcGkuZ2V0KCcvbGlzdC11c2VyLzpmcm9tLTp0bycsIEFwaVVzZXJDb250cm9sbGVyLmxpc3RfdXNlcilcclxuICAgIGFwaS5nZXQoJy9kZXRhaWxfdXNlci86dXNlcm5hbWUnLCBBcGlVc2VyQ29udHJvbGxlci5kZXRhaWxfdXNlcilcclxuICAgIGFwaS5kZWxldGUoJy9kZWxfdXNlci86dXNlcm5hbWUnLCBBcGlVc2VyQ29udHJvbGxlci5kZWxfdXNlcilcclxuICAgIGFwaS5nZXQoJy92aWV3X2VkaXQvOnVzZXJuYW1lJywgQXBpVXNlckNvbnRyb2xsZXIudmlld19lZGl0KVxyXG4gICAgYXBpLnB1dCgnL2VkaXRfdXNlcicsIEFwaVVzZXJDb250cm9sbGVyLmVkaXRfdXNlcilcclxuXHJcblxyXG4gICAgLy9hcGkgcXVhbiBseSBiYWkgdmlldCAoIHBvc3QgKSAgXHJcbiAgICBhcGkuZ2V0KCcvbGlzdC1wb3N0Lzpmcm9tLTp0bycsIEFwaVBvc3RDb250cm9sbGVyLmxpc3RfcG9zdClcclxuICAgIGFwaS5nZXQoJy9jcmVhdGVfbmV3X3Bvc3QnLCBBcGlQb3N0Q29udHJvbGxlci5uZXdfcG9zdClcclxuICAgIGFwaS5wb3N0KCcvaW5zZXJ0X25ld19wb3N0JywgdXBsb2FkLnNpbmdsZSgnZmlsZW5ldycpLCBBcGlQb3N0Q29udHJvbGxlci5pbnNlcnRfcG9zdClcclxuICAgIGFwaS5nZXQoJy9kZXRhaWxfcG9zdC86aWQnLCBBcGlQb3N0Q29udHJvbGxlci5kZXRhaWxfcG9zdClcclxuICAgIGFwaS5nZXQoJy92aWV3X2VkaXRfcG9zdC86aWQnLCBBcGlQb3N0Q29udHJvbGxlci52aWV3X2VkaXRfcG9zdClcclxuICAgIGFwaS5wdXQoJy9lZGl0X3Bvc3QnLCB1cGxvYWQuc2luZ2xlKCdmaWxlbmV3JyksIEFwaVBvc3RDb250cm9sbGVyLmVkaXRfcG9zdClcclxuICAgIGFwaS5kZWxldGUoJy9kZWxfcG9zdCcsIEFwaVBvc3RDb250cm9sbGVyLmRlbF9wb3N0KVxyXG5cclxuXHJcbiAgICAvL2FwaSBxdWFuIGx5IHRpbiB0dWMgKG5ld3MpXHJcbiAgICBhcGkuZ2V0KCcvR2V0QnlJZC86aWQnLCBBcGlOZXdzQ29udHJvbGxlci5HZXRCeUlkKVxyXG4gICAgYXBpLmdldCgnL2xpc3QtbmV3cycsIEFwaU5ld3NDb250cm9sbGVyLmxpc3RfbmV3cylcclxuICAgIGFwaS5wb3N0KCcvaW5zZXJ0X25ld3MnLCBBcGlOZXdzQ29udHJvbGxlci5pbnNlcnRfbmV3cylcclxuICAgIGFwaS5wdXQoJy9lZGl0X25ld3MvOmlkJywgQXBpTmV3c0NvbnRyb2xsZXIuZWRpdF9uZXdzKVxyXG4gICAgYXBpLmRlbGV0ZSgnL2RlbF9uZXdzLzppZCcsIEFwaU5ld3NDb250cm9sbGVyLmRlbF9uZXdzKVxyXG5cclxuXHJcbiAgICAvL3VzZXIgYXBpXHJcbiAgICBhcGkuZ2V0KCcvbmV3cycsIEFwaU5ld3NDb250cm9sbGVyLmFwaVJlYWN0TGlzdClcclxuICAgIGFwaS5nZXQoJy9uZXdzLzppZCcsIEFwaU5ld3NDb250cm9sbGVyLmFwaVBvc3RGcm9tTmV3KVxyXG5cclxuICAgIGFwaS5nZXQoJy9wb3N0cycsIEFwaU5ld3NDb250cm9sbGVyLmFwaVBvc3RMaXN0KVxyXG4gICAgYXBpLmdldCgnL3Bvc3QvOmlkJywgQXBpTmV3c0NvbnRyb2xsZXIuYXBpUG9zdElkKVxyXG5cclxuICAgIHJldHVybiBhcHAudXNlKCcvYXBpL3YxJywgYXBpKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IGluaXRBUElSb3V0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQUcsbUJBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLGtCQUFBLEdBQUFMLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBSyxrQkFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQU0sa0JBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUFrRSxTQUFBRCx1QkFBQVEsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQU50Qzs7QUFPNUIsTUFBTUcsT0FBTyxHQUFHQyxlQUFNLENBQUNDLFdBQVcsQ0FBQztFQUMvQkMsV0FBVyxFQUFFLFNBQUFBLFlBQVVDLEdBQUcsRUFBRUMsSUFBSSxFQUFFQyxFQUFFLEVBQUU7SUFDcENBLEVBQUUsQ0FBQyxJQUFJLEVBQUUscUJBQXFCLENBQUM7RUFDakMsQ0FBQztFQUNEQyxRQUFRLEVBQUUsU0FBQUEsU0FBVUgsR0FBRyxFQUFFQyxJQUFJLEVBQUVDLEVBQUUsRUFBRTtJQUNqQyxNQUFNRSxZQUFZLEdBQUdDLElBQUksQ0FBQ0MsR0FBRyxDQUFDLENBQUMsR0FBRyxHQUFHLEdBQUdDLElBQUksQ0FBQ0MsS0FBSyxDQUFDRCxJQUFJLENBQUNFLE1BQU0sQ0FBQyxD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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_multer","_path","_ApiLoginController","_ApiUserController","_ApiPostController","_ApiNewsController","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","filename","uniqueSuffix","Date","now","Math","round","random","path","extname","originalname","upload","api","express","Router","initAPIRoute","app","get","ApiLoginController","login","post","login_auth","logout","ApiUserController","new_user","insert_user","list_user","detail_user","delete","del_user","view_edit","put","edit_user","ApiPostController","list_post","new_post","single","insert_post","detail_post","view_edit_post","edit_post","del_post","ApiNewsController","GetById","list_news","insert_news","edit_news","del_news","apiReactList","apiPostFromNew","apiPostList","apiPostId","use","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\router\\","sources":["apiRoute.js"],"sourcesContent":["import express from \"express\"\r\nimport multer from 'multer' // thu vien up img\r\nimport path from \"path\"\r\n\r\nimport ApiLoginController from \"./../controllers/ApiLoginController\"\r\nimport ApiUserController from \"./../controllers/ApiUserController\"\r\nimport ApiPostController from \"./../controllers/ApiPostController\"\r\nimport ApiNewsController from \"./../controllers/ApiNewsController\"\r\nconst storage = multer.diskStorage({\r\n    destination: function (req, file, cb) {\r\n      cb(null, './src/public/upload')\r\n    },\r\n    filename: function (req, file, cb) {\r\n      const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)\r\n      cb(null, uniqueSuffix + path.extname(file.originalname))\r\n    }\r\n  })\r\n  \r\nconst upload = multer({ storage: storage })\r\n\r\nconst api = express.Router()\r\nconst initAPIRoute = (app) => {\r\n\r\n    api.get('/login-auth', ApiLoginController.login)\r\n    api.post('/login', ApiLoginController.login_auth)\r\n    api.get('/logout', ApiLoginController.logout)\r\n\r\n\r\n    //api quan ly user ( user )  \r\n    api.get('/create_new_user', ApiUserController.new_user)\r\n    api.post('/insert_new_user', ApiUserController.insert_user)\r\n    api.get('/list-user/:from-:to', ApiUserController.list_user)\r\n    api.get('/detail_user/:username', ApiUserController.detail_user)\r\n    api.delete('/del_user/:username', ApiUserController.del_user)\r\n    api.get('/view_edit/:username', ApiUserController.view_edit)\r\n    api.put('/edit_user', ApiUserController.edit_user)\r\n\r\n\r\n    //api quan ly bai viet ( post )  \r\n    api.get('/list-post/:from-:to', ApiPostController.list_post)\r\n    api.get('/create_new_post', ApiPostController.new_post)\r\n    api.post('/insert_new_post', upload.single('filenew'), ApiPostController.insert_post)\r\n    api.get('/detail_post/:id', ApiPostController.detail_post)\r\n    api.get('/view_edit_post/:id', ApiPostController.view_edit_post)\r\n    api.put('/edit_post', upload.single('filenew'), ApiPostController.edit_post)\r\n    api.delete('/del_post', ApiPostController.del_post)\r\n\r\n\r\n    //api quan ly tin tuc (news)\r\n    api.get('/GetById/:id', ApiNewsController.GetById)\r\n    api.get('/list-news', ApiNewsController.list_news)\r\n    api.post('/insert_news', ApiNewsController.insert_news)\r\n    api.put('/edit_news/:id', ApiNewsController.edit_news)\r\n    api.delete('/del_news/:id', ApiNewsController.del_news)\r\n\r\n\r\n    //user api\r\n    api.get('/news', ApiNewsController.apiReactList)\r\n    api.get('/news/:id', ApiNewsController.apiPostFromNew)\r\n\r\n    api.get('/posts', ApiNewsController.apiPostList)\r\n    api.get('/post/:id', ApiNewsController.apiPostId)\r\n\r\n    return app.use('/api/v1', api)\r\n}\r\nexport default initAPIRoute"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,KAAA,GAAAH,sBAAA,CAAAC,OAAA;AAEA,IAAAG,mBAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,kBAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,kBAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,kBAAA,GAAAP,sBAAA,CAAAC,OAAA;AAAkE,SAAAD,uBAAAQ,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AANtC;;AAO5B,MAAMG,OAAO,GAAGC,eAAM,CAACC,WAAW,CAAC;EAC/BC,WAAW,EAAE,SAAAA,YAAUC,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACpCA,EAAE,CAAC,IAAI,EAAE,qBAAqB,CAAC;EACjC,CAAC;EACDC,QAAQ,EAAE,SAAAA,SAAUH,GAAG,EAAEC,IAAI,EAAEC,EAAE,EAAE;IACjC,MAAME,YAAY,GAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,GAAG,GAAGC,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG,GAAG,CAAC;IACvEP,EAAE,CAAC,IAAI,EAAEE,YAAY,GAAGM,aAAI,CAACC,OAAO,CAACV,IAAI,CAACW,YAAY,CAAC,CAAC;EAC1D;AACF,CAAC,CAAC;AAEJ,MAAMC,MAAM,GAAG,IAAAhB,eAAM,EAAC;EAAED,OAAO,EAAEA;AAAQ,CAAC,CAAC;AAE3C,MAAMkB,GAAG,GAAGC,gBAAO,CAACC,MAAM,CAAC,CAAC;AAC5B,MAAMC,YAAY,GAAIC,GAAG,IAAK;EAE1BJ,GAAG,CAACK,GAAG,CAAC,aAAa,EAAEC,2BAAkB,CAACC,KAAK,CAAC;EAChDP,GAAG,CAACQ,IAAI,CAAC,QAAQ,EAAEF,2BAAkB,CAACG,UAAU,CAAC;EACjDT,GAAG,CAACK,GAAG,CAAC,SAAS,EAAEC,2BAAkB,CAACI,MAAM,CAAC;;EAG7C;EACAV,GAAG,CAACK,GAAG,CAAC,kBAAkB,EAAEM,0BAAiB,CAACC,QAAQ,CAAC;EACvDZ,GAAG,CAACQ,IAAI,CAAC,kBAAkB,EAAEG,0BAAiB,CAACE,WAAW,CAAC;EAC3Db,GAAG,CAACK,GAAG,CAAC,sBAAsB,EAAEM,0BAAiB,CAACG,SAAS,CAAC;EAC5Dd,GAAG,CAACK,GAAG,CAAC,wBAAwB,EAAEM,0BAAiB,CAACI,WAAW,CAAC;EAChEf,GAAG,CAACgB,MAAM,CAAC,qBAAqB,EAAEL,0BAAiB,CAACM,QAAQ,CAAC;EAC7DjB,GAAG,CAACK,GAAG,CAAC,sBAAsB,EAAEM,0BAAiB,CAACO,SAAS,CAAC;EAC5DlB,GAAG,CAACmB,GAAG,CAAC,YAAY,EAAER,0BAAiB,CAACS,SAAS,CAAC;;EAGlD;EACApB,GAAG,CAACK,GAAG,CAAC,sBAAsB,EAAEgB,0BAAiB,CAACC,SAAS,CAAC;EAC5DtB,GAAG,CAACK,GAAG,CAAC,kBAAkB,EAAEgB,0BAAiB,CAACE,QAAQ,CAAC;EACvDvB,GAAG,CAACQ,IAAI,CAAC,kBAAkB,EAAET,MAAM,CAACyB,MAAM,CAAC,SAAS,CAAC,EAAEH,0BAAiB,CAACI,WAAW,CAAC;EACrFzB,GAAG,CAACK,GAAG,CAAC,kBAAkB,EAAEgB,0BAAiB,CAACK,WAAW,CAAC;EAC1D1B,GAAG,CAACK,GAAG,CAAC,qBAAqB,EAAEgB,0BAAiB,CAACM,cAAc,CAAC;EAChE3B,GAAG,CAACmB,GAAG,CAAC,YAAY,EAAEpB,MAAM,CAACyB,MAAM,CAAC,SAAS,CAAC,EAAEH,0BAAiB,CAACO,SAAS,CAAC;EAC5E5B,GAAG,CAACgB,MAAM,CAAC,WAAW,EAAEK,0BAAiB,CAACQ,QAAQ,CAAC;;EAGnD;EACA7B,GAAG,CAACK,GAAG,CAAC,cAAc,EAAEyB,0BAAiB,CAACC,OAAO,CAAC;EAClD/B,GAAG,CAACK,GAAG,CAAC,YAAY,EAAEyB,0BAAiB,CAACE,SAAS,CAAC;EAClDhC,GAAG,CAACQ,IAAI,CAAC,cAAc,EAAEsB,0BAAiB,CAACG,WAAW,CAAC;EACvDjC,GAAG,CAACmB,GAAG,CAAC,gBAAgB,EAAEW,0BAAiB,CAACI,SAAS,CAAC;EACtDlC,GAAG,CAACgB,MAAM,CAAC,eAAe,EAAEc,0BAAiB,CAACK,QAAQ,CAAC;;EAGvD;EACAnC,GAAG,CAACK,GAAG,CAAC,OAAO,EAAEyB,0BAAiB,CAACM,YAAY,CAAC;EAChDpC,GAAG,CAACK,GAAG,CAAC,WAAW,EAAEyB,0BAAiB,CAACO,cAAc,CAAC;EAEtDrC,GAAG,CAACK,GAAG,CAAC,QAAQ,EAAEyB,0BAAiB,CAACQ,WAAW,CAAC;EAChDtC,GAAG,CAACK,GAAG,CAAC,WAAW,EAAEyB,0BAAiB,CAACS,SAAS,CAAC;EAEjD,OAAOnC,GAAG,CAACoC,GAAG,CAAC,SAAS,EAAExC,GAAG,CAAC;AAClC,CAAC;AAAA,IAAAyC,QAAA,GAAAC,OAAA,CAAA7D,OAAA,GACcsB,YAAY"}},"mtime":1700138749849},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\ApiLoginController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst login = (req, res) => {\n  try {\n    const token = req.cookies.token;\n    if (token) {\n      let decode = _JWTAction.default.verifyToken(token);\n      return res.status(200).json({\n        err: 0,\n        mess: \"Xác thực token thành công\",\n        jwt: {\n          user: decode\n        }\n      });\n    } else {\n      res.status(200).json({\n        err: 1,\n        mess: \"Lỗi: không tồn tại token\",\n        jwt: \"\"\n      });\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst login_auth = async (req, res) => {\n  try {\n    let body = req.body;\n    if (!body.username || !body.password) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Lỗi: thiếu tài khoản hoặc mật khẩu\"\n      });\n    }\n    let author = await _userModel.default.auth(body.username);\n    if (author.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Lỗi: tài khoản không tồn tại\"\n      });\n    }\n    let hash = _bcryptjs.default.hashSync(body.password, _bcryptjs.default.genSaltSync(10));\n    if (_bcryptjs.default.compareSync(body.password, author[0].password)) {\n      req.session.auth = {\n        name: author[0].username,\n        pass: author[0].password,\n        role: author[0].groupid\n      };\n      const token = _JWTAction.default.createJWT({\n        data: {\n          auth: author[0].username,\n          role: author[0].groupid\n        }\n      }); // mã hóa id và quyen\n\n      res.cookie('token', token, {\n        httpOnly: true\n      });\n      return res.status(200).json({\n        err: 0,\n        mess: \"Đăng nhập thành công\",\n        user: {\n          name: author[0].username,\n          role: author[0].groupid\n        }\n      });\n    } else {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Lỗi: sai mật khẩu\"\n      });\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst logout = (req, res) => {\n  try {\n    if (req.session.auth) {\n      res.clearCookie('token');\n      req.session.destroy();\n      return res.status(200).json({\n        err: 0,\n        mess: \"Đăng xuất thành công\"\n      });\n    } else {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Chưa đăng nhập\"\n      });\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nvar _default = exports.default = {\n  login,\n  login_auth,\n  logout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIl9ib2R5UGFyc2VyIiwiX0pXVEFjdGlvbiIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibG9naW4iLCJyZXEiLCJyZXMiLCJ0b2tlbiIsImNvb2tpZXMiLCJkZWNvZGUiLCJKV1QiLCJ2ZXJpZnlUb2tlbiIsInN0YXR1cyIsImpzb24iLCJlcnIiLCJtZXNzIiwiand0IiwidXNlciIsImVycm9yIiwibG9naW5fYXV0aCIsImJvZHkiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwiYXV0aG9yIiwidXNlck1vZGVsIiwiYXV0aCIsImxlbmd0aCIsImhhc2giLCJiY3J5cHQiLCJoYXNoU3luYyIsImdlblNhbHRTeW5jIiwiY29tcGFyZVN5bmMiLCJzZXNzaW9uIiwibmFtZSIsInBhc3MiLCJyb2xlIiwiZ3JvdXBpZCIsImNyZWF0ZUpXVCIsImRhdGEiLCJjb29raWUiLCJodHRwT25seSIsImxvZ291dCIsImNsZWFyQ29va2llIiwiZGVzdHJveSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJBcGlMb2dpbkNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgdXNlck1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy91c2VyTW9kZWxcIlxyXG5pbXBvcnQgeyBqc29uIH0gZnJvbSBcImJvZHktcGFyc2VyXCJcclxuaW1wb3J0IEpXVCBmcm9tIFwiLi4vbWlkZGxld2FyZS9KV1RBY3Rpb25cIlxyXG5cclxuXHJcbmNvbnN0IGxvZ2luID0gKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy50b2tlbjtcclxuICAgICAgICBcclxuICAgICAgICBpZiAodG9rZW4pIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBkZWNvZGUgPSBKV1QudmVyaWZ5VG9rZW4odG9rZW4pO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMCxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIljDoWMgdGjhu7FjIHRva2VuIHRow6BuaCBjw7RuZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIGp3dDoge3VzZXI6IGRlY29kZX1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKSBcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBraMO0bmcgdOG7k24gdOG6oWkgdG9rZW5cIixcclxuICAgICAgICAgICAgICAgICAgICBqd3Q6IFwiXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKSBcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBsb2dpbl9hdXRoID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG5cclxuICAgICAgICBpZiAoIWJvZHkudXNlcm5hbWUgfHwgIWJvZHkucGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiB0aGnhur91IHTDoGkga2hv4bqjbiBob+G6t2MgbeG6rXQga2jhuql1XCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGF1dGhvciA9IGF3YWl0IHVzZXJNb2RlbC5hdXRoKGJvZHkudXNlcm5hbWUpXHJcblxyXG4gICAgICAgIGlmIChhdXRob3IubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IHTDoGkga2hv4bqjbiBraMO0bmcgdOG7k24gdOG6oWlcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBsZXQgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhib2R5LnBhc3N3b3JkLCBiY3J5cHQuZ2VuU2FsdFN5bmMoMTApKVxyXG5cclxuICAgICAgICBpZiAoYmNyeXB0LmNvbXBhcmVTeW5jKGJvZHkucGFzc3dvcmQsIGF1dGhvclswXS5wYXNzd29yZCkpIHtcclxuXHJcbiAgICAgICAgICAgIHJlcS5zZXNzaW9uLmF1dGggPSB7IG5hbWU6IGF1dGhvclswXS51c2VybmFtZSwgcGFzczogYXV0aG9yWzBdLnBhc3N3b3JkLCByb2xlOiBhdXRob3JbMF0uZ3JvdXBpZCB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCB0b2tlbiA9IEpXVC5jcmVhdGVKV1QoeyBkYXRhOiB7IGF1dGg6IGF1dGhvclswXS51c2VybmFtZSwgcm9sZTogYXV0aG9yWzBdLmdyb3VwaWQgfSB9KSAvLyBtw6MgaMOzYSBpZCB2w6AgcXV5ZW5cclxuXHJcbiAgICAgICAgICAgIHJlcy5jb29raWUoJ3Rva2VuJywgdG9rZW4sIHsgaHR0cE9ubHk6IHRydWUgfSlcclxuXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCLEkMSDbmcgbmjhuq1wIHRow6BuaCBjw7RuZ1wiLFxyXG4gICAgICAgICAgICAgICAgICAgIHVzZXI6IHtuYW1lOiBhdXRob3JbMF0udXNlcm5hbWUsIHJvbGU6IGF1dGhvclswXS5ncm91cGlkfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IHNhaSBt4bqtdCBraOG6qXVcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGxvZ291dCA9IChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRoKSB7XHJcblxyXG4gICAgICAgICAgICByZXMuY2xlYXJDb29raWUoJ3Rva2VuJyk7XHJcblxyXG4gICAgICAgICAgICByZXEuc2Vzc2lvbi5kZXN0cm95KCk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwixJDEg25nIHh14bqldCB0aMOgbmggY8O0bmdcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcblxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkNoxrBhIMSRxINuZyBuaOG6rXBcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxu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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","_bodyParser","_JWTAction","obj","__esModule","default","login","req","res","token","cookies","decode","JWT","verifyToken","status","json","err","mess","jwt","user","error","login_auth","body","username","password","author","userModel","auth","length","hash","bcrypt","hashSync","genSaltSync","compareSync","session","name","pass","role","groupid","createJWT","data","cookie","httpOnly","logout","clearCookie","destroy","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["ApiLoginController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n\r\nconst login = (req, res) => {\r\n\r\n    try {\r\n\r\n        const token = req.cookies.token;\r\n        \r\n        if (token) {\r\n\r\n            let decode = JWT.verifyToken(token);\r\n\r\n            return res.status(200).json(\r\n                {\r\n                    err: 0,\r\n                    mess: \"Xác thực token thành công\",\r\n                    jwt: {user: decode}\r\n                }\r\n            ) \r\n        }\r\n        else {\r\n            res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Lỗi: không tồn tại token\",\r\n                    jwt: \"\"\r\n                }\r\n            ) \r\n        }\r\n        \r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst login_auth = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n\r\n        if (!body.username || !body.password) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Lỗi: thiếu tài khoản hoặc mật khẩu\"\r\n                }\r\n            )\r\n        }\r\n\r\n        let author = await userModel.auth(body.username)\r\n\r\n        if (author.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Lỗi: tài khoản không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        let hash = bcrypt.hashSync(body.password, bcrypt.genSaltSync(10))\r\n\r\n        if (bcrypt.compareSync(body.password, author[0].password)) {\r\n\r\n            req.session.auth = { name: author[0].username, pass: author[0].password, role: author[0].groupid }\r\n\r\n            const token = JWT.createJWT({ data: { auth: author[0].username, role: author[0].groupid } }) // mã hóa id và quyen\r\n\r\n            res.cookie('token', token, { httpOnly: true })\r\n\r\n            return res.status(200).json(\r\n                {\r\n                    err: 0,\r\n                    mess: \"Đăng nhập thành công\",\r\n                    user: {name: author[0].username, role: author[0].groupid}\r\n                }\r\n            )\r\n        }\r\n        else {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Lỗi: sai mật khẩu\"\r\n                }\r\n            )\r\n        }\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst logout = (req, res) => {\r\n\r\n    try {\r\n\r\n        if (req.session.auth) {\r\n\r\n            res.clearCookie('token');\r\n\r\n            req.session.destroy();\r\n\r\n            return res.status(200).json(\r\n                {\r\n                    err: 0,\r\n                    mess: \"Đăng xuất thành công\"\r\n                }\r\n            )\r\n\r\n        }\r\n        else {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Chưa đăng nhập\"\r\n                }\r\n            )\r\n        }\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nexport default { login, login_auth, logout }\r\n\r\n\r\n"],"mappings":"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"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\ApiUserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst new_user = (req, res) => {\n  try {\n    return res.status(200).json({\n      page: 'newUser',\n      title: 'Tạo tài khoản'\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst insert_user = async (req, res) => {\n  try {\n    let body = req.body;\n    if (!body.username || !body.password || !body.fullname || !body.address || !body.sex || !body.email || !body.groupid) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    let user = await _userModel.default.detail_user(body.username);\n    if (user.length >= 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Tài khoản đã tồn tại\"\n      });\n    }\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.password, pass);\n    let newuser = await _userModel.default.insert_user(body.username, hash, body.fullname, body.address, body.sex, body.email, body.groupid);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Tạo tài khoản thành công\"\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst list_user = async (req, res) => {\n  try {\n    let _from = req.params.from;\n    let _to = req.params.to;\n    if (isNaN(_from) === false && isNaN(_to) === false) {\n      let list = await _userModel.default.list_user(_from, _to);\n      return res.status(200).json({\n        err: 0,\n        title: 'Danh sách tài khoản',\n        params: {\n          from: _from,\n          to: _to\n        },\n        list: list\n      });\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst detail_user = async (req, res) => {\n  try {\n    let Username = req.params.username;\n    let list = await _userModel.default.detail_user(Username);\n    if (list.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Người dùng không tồn tại\"\n      });\n    }\n    return res.status(200).json({\n      page: 'detailUser',\n      title: 'Chi tiết người dùng',\n      list: list\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst edit_user = async (req, res) => {\n  try {\n    let body = req.body;\n    if (!body.username || !body.password || !body.fullname || !body.address || !body.sex || !body.email || !body.groupid) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.password, pass);\n    let updatauser = await _userModel.default.edit_user(body.username, hash, body.fullname, body.address, body.sex, body.email, body.groupid);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Cập nhật thành công\",\n      hash: hash\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst view_edit = async (req, res) => {\n  try {\n    let Username = req.params.username;\n    let list = await _userModel.default.detail_user(Username);\n    if (list.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Người dùng không tồn tại\"\n      });\n    }\n    return res.status(200).json({\n      page: 'viewEdit',\n      title: 'Cập nhật',\n      list: list\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst del_user = async (req, res) => {\n  try {\n    let body = req.params;\n    if (!body.username) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Lỗi: thiếu tài khoản\"\n      });\n    }\n    const token = req.cookies.token;\n    if (token) {\n      let decode = _JWTAction.default.verifyToken(token);\n      if (decode.data.auth === body.username) {\n        return res.status(200).json({\n          err: 1,\n          mess: \"Tài khoản đang được sử dụng\"\n        });\n      } else {\n        let user = await _userModel.default.detail_user(body.username);\n        if (user.length < 1) {\n          return res.status(200).json({\n            err: 1,\n            mess: \"Người dùng không tồn tại\"\n          });\n        }\n        let list = await _userModel.default.del_user(body.username);\n        return res.status(200).json({\n          err: 0,\n          mess: \"Xóa tài khoản thành công\"\n        });\n      }\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nvar _default = exports.default = {\n  new_user,\n  list_user,\n  detail_user,\n  insert_user,\n  edit_user,\n  del_user,\n  view_edit\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIl9ib2R5UGFyc2VyIiwiX0pXVEFjdGlvbiIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibmV3X3VzZXIiLCJyZXEiLCJyZXMiLCJzdGF0dXMiLCJqc29uIiwicGFnZSIsInRpdGxlIiwiZXJyb3IiLCJlcnIiLCJtZXNzIiwiaW5zZXJ0X3VzZXIiLCJib2R5IiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImZ1bGxuYW1lIiwiYWRkcmVzcyIsInNleCIsImVtYWlsIiwiZ3JvdXBpZCIsInVzZXIiLCJ1c2VyTW9kZWwiLCJkZXRhaWxfdXNlciIsImxlbmd0aCIsInBhc3MiLCJiY3J5cHQiLCJnZW5TYWx0U3luYyIsImhhc2giLCJoYXNoU3luYyIsIm5ld3VzZXIiLCJsaXN0X3VzZXIiLCJfZnJvbSIsInBhcmFtcyIsImZyb20iLCJfdG8iLCJ0byIsImlzTmFOIiwibGlzdCIsIlVzZXJuYW1lIiwiZWRpdF91c2VyIiwidXBkYXRhdXNlciIsInZpZXdfZWRpdCIsImRlbF91c2VyIiwidG9rZW4iLCJjb29raWVzIiwiZGVjb2RlIiwiSldUIiwidmVyaWZ5VG9rZW4iLCJkYXRhIiwiYXV0aCIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJBcGlVc2VyQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcbmltcG9ydCB1c2VyTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL3VzZXJNb2RlbFwiXHJcbmltcG9ydCB7IGpzb24gfSBmcm9tIFwiYm9keS1wYXJzZXJcIlxyXG5pbXBvcnQgSldUIGZyb20gXCIuLi9taWRkbGV3YXJlL0pXVEFjdGlvblwiXHJcblxyXG5cclxuY29uc3QgbmV3X3VzZXIgPSAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIFxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGFnZTogJ25ld1VzZXInLCBcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnVOG6oW8gdMOgaSBraG/huqNuJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cclxuY29uc3QgaW5zZXJ0X3VzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcblxyXG4gICAgICAgIGlmICghYm9keS51c2VybmFtZSB8fCAhYm9keS5wYXNzd29yZCB8fCAhYm9keS5mdWxsbmFtZSB8fCAhYm9keS5hZGRyZXNzIHx8ICFib2R5LnNleCB8fCAhYm9keS5lbWFpbCB8fCAhYm9keS5ncm91cGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJUaGnhur91IHRow7RuZyB0aW4gY+G6p24gdGhp4bq/dFwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCB1c2VyID0gYXdhaXQgdXNlck1vZGVsLmRldGFpbF91c2VyKGJvZHkudXNlcm5hbWUpXHJcblxyXG4gICAgICAgIGlmICh1c2VyLmxlbmd0aCA+PSAxKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJUw6BpIGtob+G6o24gxJHDoyB04buTbiB04bqhaVwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBwYXNzID0gYmNyeXB0LmdlblNhbHRTeW5jKDEwKVxyXG4gICAgICAgIGxldCBoYXNoID0gYmNyeXB0Lmhhc2hTeW5jKGJvZHkucGFzc3dvcmQsIHBhc3MpXHJcblxyXG4gICAgICAgIGxldCBuZXd1c2VyID0gYXdhaXQgdXNlck1vZGVsLmluc2VydF91c2VyKGJvZHkudXNlcm5hbWUsIGhhc2gsIGJvZHkuZnVsbG5hbWUsIGJvZHkuYWRkcmVzcywgYm9keS5zZXgsIGJvZHkuZW1haWwsIGJvZHkuZ3JvdXBpZClcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIlThuqFvIHTDoGkga2hv4bqjbiB0aMOgbmggY8O0bmdcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGxpc3RfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBfZnJvbSA9IHJlcS5wYXJhbXMuZnJvbVxyXG4gICAgICAgIGxldCBfdG8gPSByZXEucGFyYW1zLnRvXHJcblxyXG4gICAgICAgIGlmIChpc05hTihfZnJvbSkgPT09IGZhbHNlICYmIGlzTmFOKF90bykgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBsaXN0ID0gYXdhaXQgdXNlck1vZGVsLmxpc3RfdXNlcihfZnJvbSwgX3RvKVxyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMCxcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0Rhbmggc8OhY2ggdMOgaSBraG/huqNuJywgXHJcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZyb206X2Zyb20sIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzpfdG9cclxuICAgICAgICAgICAgICAgICAgICB9LCBcclxuICAgICAgICAgICAgICAgICAgICBsaXN0OiBsaXN0XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBkZXRhaWxfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBVc2VybmFtZSA9IHJlcS5wYXJhbXMudXNlcm5hbWVcclxuICAgICAgICBsZXQgbGlzdCA9IGF3YWl0IHVzZXJNb2RlbC5kZXRhaWxfdXNlcihVc2VybmFtZSlcclxuXHJcbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiTmfGsOG7nWkgZMO5bmcga2jDtG5nIHThu5NuIHThuqFpXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBwYWdlOiAnZGV0YWlsVXNlcicsIFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdDaGkgdGnhur90IG5nxrDhu51pIGTDuW5nJywgXHJcbiAgICAgICAgICAgICAgICBsaXN0Omxpc3RcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbmNvbnN0IGVkaXRfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuXHJcbiAgICAgICAgaWYgKCFib2R5LnVzZXJuYW1lIHx8ICFib2R5LnBhc3N3b3JkIHx8ICFib2R5LmZ1bGxuYW1lIHx8ICFib2R5LmFkZHJlc3MgfHwgIWJvZHkuc2V4IHx8ICFib2R5LmVtYWlsIHx8ICFib2R5Lmdyb3VwaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIlRoaeG6v3UgdGjDtG5nIHRpbiBj4bqnbiB0aGnhur90XCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IHBhc3MgPSBiY3J5cHQuZ2VuU2FsdFN5bmMoMTApXHJcbiAgICAgICAgbGV0IGhhc2ggPSBiY3J5cHQuaGFzaFN5bmMoYm9keS5wYXNzd29yZCwgcGFzcylcclxuXHJcbiAgICAgICAgbGV0IHVwZGF0YXVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZWRpdF91c2VyKGJvZHkudXNlcm5hbWUsIGhhc2gsIGJvZHkuZnVsbG5hbWUsIGJvZHkuYWRkcmVzcywgYm9keS5zZXgsIGJvZHkuZW1haWwsIGJvZHkuZ3JvdXBpZClcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkPhuq1wIG5o4bqtdCB0aMOgbmggY8O0bmdcIixcclxuICAgICAgICAgICAgICAgIGhhc2g6IGhhc2hcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCB2aWV3X2VkaXQgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgVXNlcm5hbWUgPSByZXEucGFyYW1zLnVzZXJuYW1lXHJcbiAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCB1c2VyTW9kZWwuZGV0YWlsX3VzZXIoVXNlcm5hbWUpXHJcblxyXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIk5nxrDhu51pIGTDuW5nIGtow7RuZyB04buTbiB04bqhaVwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGFnZTogJ3ZpZXdFZGl0JywgXHJcbiAgICAgICAgICAgICAgICB0aXRsZTogJ0Phuq1wIG5o4bqtdCcsIFxyXG4gICAgICAgICAgICAgICAgbGlzdDpsaXN0XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNvbnN0IGRlbF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IGJvZHkgPSByZXEucGFyYW1zXHJcblxyXG4gICAgICAgIGlmICghYm9keS51c2VybmFtZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IHRoaeG6v3UgdMOgaSBraG/huqNuXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSByZXEuY29va2llcy50b2tlbjtcclxuICAgICAgICBcclxuICAgICAgICBpZiAodG9rZW4pIHtcclxuXHJcbiAgICAgICAgICAgIGxldCBkZWNvZGUgPSBKV1QudmVyaWZ5VG9rZW4odG9rZW4pO1xyXG5cclxuICAgICAgICAgICAgaWYgKGRlY29kZS5kYXRhLmF1dGggPT09IGJvZHkudXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzczogXCJUw6BpIGtob+G6o24gxJFhbmcgxJHGsOG7o2Mgc+G7rSBk4bulbmdcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICkgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IHVzZXIgPSBhd2FpdCB1c2VyTW9kZWwuZGV0YWlsX3VzZXIoYm9keS51c2VybmFtZSlcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodXNlci5sZW5ndGggPCAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIk5nxrDhu51pIGTDuW5nIGtow7RuZyB04buTbiB04bqhaVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICApXHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCB1c2VyTW9kZWwuZGVsX3VzZXIoYm9keS51c2VybmFtZSlcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyOiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIljDs2EgdMOgaSBraG/huqNuIHRow6BuaCBjw7RuZ1wiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH1cclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7bmV3X3VzZXIsIGxpc3RfdXNlciwgZGV0YWlsX3VzZXIsIGluc2VydF91c2VyLCBlZGl0X3VzZXIsIGRlbF91c2VyLCB2aWV3X2VkaXR9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsVUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsV0FBQSxHQUFBSCxPQUFBO0FBQ0EsSUFBQUksVUFBQSxHQUFBTCxzQkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFELHVCQUFBTSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBR3pDLE1BQU1HLFFBQVEsR0FBR0EsQ0FBQ0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFFM0IsSUFBSTtJQUVBLE9BQU9BLEdBQUcsQ0FBQ0MsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQ3ZCO01BQ0lDLElBQUksRUFBRSxTQUFTO01BQ2ZDLEtBQUssRUFBRTtJQUNYLENBQ0osQ0FBQztFQUVMLENBQUMsQ0FBQyxPQUFPQyxLQUFLLEVBQUU7SUFDWixPQUFPTCxHQUFHLENBQUNDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUN2QjtNQUNJSSxHQUFHLEVBQUUsQ0FBQztNQUNOQyxJQUFJLEVBQUUsT0FBTyxHQUFHRjtJQUNwQixDQUNKLENBQUM7RUFDTDtBQUVKLENBQUM7QUFFRCxNQUFNRyxXQUFXLEdBQUcsTUFBQUEsQ0FBT1QsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFFcEMsSUFBSTtJQUVBLElB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","_bodyParser","_JWTAction","obj","__esModule","default","new_user","req","res","status","json","page","title","error","err","mess","insert_user","body","username","password","fullname","address","sex","email","groupid","user","userModel","detail_user","length","pass","bcrypt","genSaltSync","hash","hashSync","newuser","list_user","_from","params","from","_to","to","isNaN","list","Username","edit_user","updatauser","view_edit","del_user","token","cookies","decode","JWT","verifyToken","data","auth","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["ApiUserController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n\r\nconst new_user = (req, res) => {\r\n\r\n    try {\r\n        \r\n        return res.status(200).json(\r\n            {\r\n                page: 'newUser', \r\n                title: 'Tạo tài khoản'\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst insert_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n\r\n        if (!body.username || !body.password || !body.fullname || !body.address || !body.sex || !body.email || !body.groupid) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        let user = await userModel.detail_user(body.username)\r\n\r\n        if (user.length >= 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Tài khoản đã tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.password, pass)\r\n\r\n        let newuser = await userModel.insert_user(body.username, hash, body.fullname, body.address, body.sex, body.email, body.groupid)\r\n\r\n        return res.status(200).json(\r\n            {\r\n                err: 0,\r\n                mess: \"Tạo tài khoản thành công\"\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst list_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let _from = req.params.from\r\n        let _to = req.params.to\r\n\r\n        if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        \r\n            let list = await userModel.list_user(_from, _to)\r\n\r\n            return res.status(200).json(\r\n                {\r\n                    err: 0,\r\n                    title: 'Danh sách tài khoản', \r\n                    params: {\r\n                        from:_from, \r\n                        to:_to\r\n                    }, \r\n                    list: list\r\n                }\r\n            )\r\n        }\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst detail_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let Username = req.params.username\r\n        let list = await userModel.detail_user(Username)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Người dùng không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            {\r\n                page: 'detailUser', \r\n                title: 'Chi tiết người dùng', \r\n                list:list\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst edit_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n\r\n        if (!body.username || !body.password || !body.fullname || !body.address || !body.sex || !body.email || !body.groupid) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.password, pass)\r\n\r\n        let updatauser = await userModel.edit_user(body.username, hash, body.fullname, body.address, body.sex, body.email, body.groupid)\r\n\r\n        return res.status(200).json(\r\n            {\r\n                err: 0,\r\n                mess: \"Cập nhật thành công\",\r\n                hash: hash\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst view_edit = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let Username = req.params.username\r\n        let list = await userModel.detail_user(Username)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Người dùng không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            {\r\n                page: 'viewEdit', \r\n                title: 'Cập nhật', \r\n                list:list\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst del_user = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.params\r\n\r\n        if (!body.username) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Lỗi: thiếu tài khoản\"\r\n                }\r\n            )\r\n        }\r\n\r\n        const token = req.cookies.token;\r\n        \r\n        if (token) {\r\n\r\n            let decode = JWT.verifyToken(token);\r\n\r\n            if (decode.data.auth === body.username) {\r\n                return res.status(200).json(\r\n                    {\r\n                        err: 1,\r\n                        mess: \"Tài khoản đang được sử dụng\"\r\n                    }\r\n                ) \r\n            }\r\n            else {\r\n\r\n                let user = await userModel.detail_user(body.username)\r\n\r\n                if (user.length < 1) {\r\n                    return res.status(200).json(\r\n                        {\r\n                            err: 1,\r\n                            mess: \"Người dùng không tồn tại\"\r\n                        }\r\n                    )\r\n                }\r\n\r\n                let list = await userModel.del_user(body.username)\r\n    \r\n                return res.status(200).json(\r\n                    {\r\n                        err: 0,\r\n                        mess: \"Xóa tài khoản thành công\"\r\n                    }\r\n                )\r\n            }\r\n\r\n        }\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nexport default {new_user, list_user, detail_user, insert_user, edit_user, del_user, view_edit}"],"mappings":"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"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\middleware\\\\Auth.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// let payload = { foo: 'bar' }\n// let code = JWT.createJWT(payload)\n// JWT.verifyToken(code)\nconst verifyAuth = (req, res, next) => {\n  if (req.session.auth) {\n    if (req.session.auth.role == 2) {\n      // const token = req.body.token || req.query.token || req.headers[\"x-access-token\"]\n\n      const token = req.cookies.token;\n      if (!token) {\n        return res.status(200).json({\n          err: 1,\n          mess: \"bien token khong ton tai\"\n        });\n      }\n      try {\n        const decoded = _JWTAction.default.verifyToken(token);\n        if (decoded) {\n          // res.status(200).json({ err: 1, mess: \"token da xac thuc tai khoan\" })\n          next();\n        } else {\n          return res.status(200).json({\n            err: 1,\n            mess: \"khong xac thuc\"\n          });\n        }\n      } catch (error) {\n        return res.status(200).json({\n          err: 1,\n          mess: error\n        });\n      }\n    } else {\n      return res.status(200).json({\n        err: 1,\n        mess: \"khong co quyen han truy cap\"\n      });\n    }\n  } else {\n    return res.status(200).json({\n      err: 1,\n      mess: \"chua dang nhap tai khoan\"\n    });\n  }\n};\nconst Notfound = (req, res, next) => {\n  res.status(404).send(\"<h1>Page not found on the server</h1>\");\n};\nconst HasLogin = (req, res, next) => {\n  if (!req.session.auth) {\n    next();\n  } else {\n    res.redirect('/list-user/0-10');\n  }\n};\nconst Authen = (req, res, next) => {\n  if (req.session.auth) {\n    if (req.session.auth.role == 2) {\n      next();\n    } else {\n      res.redirect('/list-user/0-10');\n    }\n  } else {\n    res.redirect('/login');\n  }\n};\nconst auth = _express.default.Router();\nconst authMiddleware = app => {\n  auth.use(\"/insert_new_user\", Authen);\n  auth.use(\"/detail_user/:username\", Authen);\n  auth.use(\"/del_user\", Authen);\n  auth.use(\"/view_edit/:username\", Authen);\n  auth.use(\"/edit_user\", Authen);\n  auth.use(\"/list-user/:from-:to\", Authen);\n  auth.use(\"/create_new_user\", Authen);\n\n  //quan ly tin tuc ( news ) \n  auth.use('/list-news/:from-:to', Authen);\n  auth.use('/create_new_news', Authen);\n  auth.use('/insert_new_news', Authen);\n  auth.use('/detail_news/:title', Authen);\n  auth.use('/view_edit_news/:id', Authen);\n  auth.use('/edit_news', Authen);\n  auth.use('/del_news', Authen);\n\n  //quan ly bai viet ( post )  \n  auth.use('/list-post/:from-:to', Authen);\n  auth.use('/create_new_post', Authen);\n  auth.use('/insert_new_post', Authen);\n  auth.use('/detail_post/:id', Authen);\n  auth.use('/view_edit_post/:id', Authen);\n  auth.use('/edit_post', Authen);\n  auth.use('/del_post', Authen);\n  // /login\n  auth.use('/loginView', HasLogin);\n\n  //===============================================API===================================================\n\n  auth.use('/api/v1/login-auth', verifyAuth);\n\n  //quan ly user ( user ) \n  auth.use(\"/api/v1/insert_new_user\", verifyAuth);\n  auth.use(\"/api/v1/detail_user/:username\", verifyAuth);\n  auth.use(\"/api/v1/del_user/:username\", verifyAuth);\n  auth.use(\"/api/v1/view_edit/:username\", verifyAuth);\n  auth.use(\"/api/v1/edit_user\", verifyAuth);\n  auth.use(\"/api/v1/list-user/:from-:to\", verifyAuth);\n  auth.use(\"/api/v1/create_new_user\", verifyAuth);\n\n  //quan ly tin tuc ( news ) \n  auth.use('/api/v1/list-news/:from-:to', verifyAuth);\n  auth.use('/api/v1/create_new_news', verifyAuth);\n  auth.use('/api/v1/insert_new_news', verifyAuth);\n  auth.use('/api/v1/detail_news/:title', verifyAuth);\n  auth.use('/api/v1/view_edit_news/:id', verifyAuth);\n  auth.use('/api/v1/edit_news', verifyAuth);\n  auth.use('/api/v1/del_news', verifyAuth);\n\n  //quan ly bai viet ( post )  \n  auth.use('/api/v1/list-post/:from-:to', verifyAuth);\n  auth.use('/api/v1/create_new_post', verifyAuth);\n  auth.use('/api/v1/insert_new_post', verifyAuth);\n  auth.use('/api/v1/detail_post/:id', verifyAuth);\n  auth.use('/api/v1/view_edit_post/:id', verifyAuth);\n  auth.use('/api/v1/edit_post', verifyAuth);\n  auth.use('/api/v1/del_post', verifyAuth);\n\n  //api quan ly tin tuc (news)\n  auth.use('/api/v1/GetById/:id', verifyAuth);\n  auth.use('/api/v1/list-news', verifyAuth);\n  auth.use('/api/v1/insert_news', verifyAuth);\n  auth.use('/api/v1/edit_news/:id', verifyAuth);\n  auth.use('/api/v1/del_news/:id', verifyAuth);\n  return app.use(\"/\", auth);\n};\nvar _default = exports.default = {\n  authMiddleware,\n  Notfound,\n  verifyAuth\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX0pXVEFjdGlvbiIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwidmVyaWZ5QXV0aCIsInJlcSIsInJlcyIsIm5leHQiLCJzZXNzaW9uIiwiYXV0aCIsInJvbGUiLCJ0b2tlbiIsImNvb2tpZXMiLCJzdGF0dXMiLCJqc29uIiwiZXJyIiwibWVzcyIsImRlY29kZWQiLCJqd3QiLCJ2ZXJpZnlUb2tlbiIsImVycm9yIiwiTm90Zm91bmQiLCJzZW5kIiwiSGFzTG9naW4iLCJyZWRpcmVjdCIsIkF1dGhlbiIsImV4cHJlc3MiLCJSb3V0ZXIiLCJhdXRoTWlkZGxld2FyZSIsImFwcCIsInVzZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxtaWRkbGV3YXJlXFwiLCJzb3VyY2VzIjpbIkF1dGguanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgand0IGZyb20gXCIuLi9taWRkbGV3YXJlL0pXVEFjdGlvblwiXHJcblxyXG4vLyBsZXQgcGF5bG9hZCA9IHsgZm9vOiAnYmFyJyB9XHJcbi8vIGxldCBjb2RlID0gSldULmNyZWF0ZUpXVChwYXlsb2FkKVxyXG4vLyBKV1QudmVyaWZ5VG9rZW4oY29kZSlcclxuXHJcblxyXG5jb25zdCB2ZXJpZnlBdXRoID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcblxyXG4gICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgpIHtcclxuICAgICAgICBpZiAocmVxLnNlc3Npb24uYXV0aC5yb2xlID09IDIpIHtcclxuXHJcbiAgICAgICAgICAgIC8vIGNvbnN0IHRva2VuID0gcmVxLmJvZHkudG9rZW4gfHwgcmVxLnF1ZXJ5LnRva2VuIHx8IHJlcS5oZWFkZXJzW1wieC1hY2Nlc3MtdG9rZW5cIl1cclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHRva2VuID0gcmVxLmNvb2tpZXMudG9rZW47XHJcblxyXG4gICAgICAgICAgICBpZiAoIXRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBlcnI6IDEsIG1lc3M6IFwiYmllbiB0b2tlbiBraG9uZyB0b24gdGFpXCIgfSlcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGRlY29kZWQgPSBqd3QudmVyaWZ5VG9rZW4odG9rZW4pXHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGRlY29kZWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyByZXMuc3RhdHVzKDIwMCkuanNvbih7IGVycjogMSwgbWVzczogXCJ0b2tlbiBkYSB4YWMgdGh1YyB0YWkga2hvYW5cIiB9KVxyXG4gICAgICAgICAgICAgICAgICAgIG5leHQoKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBlcnI6IDEsIG1lc3M6IFwia2hvbmcgeGFjIHRodWNcIiB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IGVycjogMSwgbWVzczogZXJyb3IgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IGVycjogMSwgbWVzczogXCJraG9uZyBjbyBxdXllbiBoYW4gdHJ1eSBjYXBcIiB9KVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7IGVycjogMSwgbWVzczogXCJjaHVhIGRhbmcgbmhhcCB0YWkga2hvYW5cIiB9KVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBOb3Rmb3VuZCA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG4gICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoXCI8aDE+UGFnZSBub3QgZm91bmQgb24gdGhlIHNlcnZlcjwvaDE+XCIpXHJcbn1cclxuXHJcbmNvbnN0IEhhc0xvZ2luID0gKHJlcSwgcmVzLCBuZXh0KSA9PiB7XHJcblxyXG4gICAgaWYgKCFyZXEuc2Vzc2lvbi5hdXRoKSB7XHJcbiAgICAgICAgbmV4dCgpXHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXMucmVkaXJlY3QoJy9saXN0LXVzZXIvMC0xMCcpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IEF1dGhlbiA9IChyZXEsIHJlcywgbmV4dCkgPT4ge1xyXG5cclxuICAgIGlmIChyZXEuc2Vzc2lvbi5hdXRoKSB7XHJcbiAgICAgICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgucm9sZSA9PSAyKSB7XHJcbiAgICAgICAgICAgIG5leHQoKVxyXG4gICAgICAgIH0gXHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIHJlcy5yZWRpcmVjdCgnL2xpc3QtdXNlci8wLTEwJylcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICByZXMucmVkaXJlY3QoJy9sb2dpbicpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGF1dGggPSBleHByZXNzLlJvdXRlcigpXHJcbmNvbnN0IGF1dGhNaWRkbGV3YXJlID0gKGFwcCkgPT4ge1xyXG5cclxuICAgIGF1dGgudXNlKFwiL2luc2VydF9uZXdfdXNlclwiLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZShcIi9kZXRhaWxfdXNlci86dXNlcm5hbWVcIiwgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoXCIvZGVsX3VzZXJcIiwgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoXCIvdmlld19lZGl0Lzp1c2VybmFtZVwiLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZShcIi9lZGl0X3VzZXJcIiwgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoXCIvbGlzdC11c2VyLzpmcm9tLTp0b1wiLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZShcIi9jcmVhdGVfbmV3X3VzZXJcIiwgQXV0aGVuKVxyXG5cclxuICAgIC8vcXVhbiBseSB0aW4gdHVjICggbmV3cyApIFxyXG4gICAgYXV0aC51c2UoJy9saXN0LW5ld3MvOmZyb20tOnRvJywgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoJy9jcmVhdGVfbmV3X25ld3MnLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZSgnL2luc2VydF9uZXdfbmV3cycsIEF1dGhlbilcclxuICAgIGF1dGgudXNlKCcvZGV0YWlsX25ld3MvOnRpdGxlJywgQXV0aGVuKVxyXG5cclxuICAgIGF1dGgudXNlKCcvdmlld19lZGl0X25ld3MvOmlkJywgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoJy9lZGl0X25ld3MnLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZSgnL2RlbF9uZXdzJywgQXV0aGVuKVxyXG5cclxuXHJcbiAgICAvL3F1YW4gbHkgYmFpIHZpZXQgKCBwb3N0ICkgIFxyXG4gICAgYXV0aC51c2UoJy9saXN0LXBvc3QvOmZyb20tOnRvJywgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoJy9jcmVhdGVfbmV3X3Bvc3QnLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZSgnL2luc2VydF9uZXdfcG9zdCcsIEF1dGhlbilcclxuICAgIGF1dGgudXNlKCcvZGV0YWlsX3Bvc3QvOmlkJywgQXV0aGVuKVxyXG5cclxuICAgIGF1dGgudXNlKCcvdmlld19lZGl0X3Bvc3QvOmlkJywgQXV0aGVuKVxyXG4gICAgYXV0aC51c2UoJy9lZGl0X3Bvc3QnLCBBdXRoZW4pXHJcbiAgICBhdXRoLnVzZSgnL2RlbF9wb3N0JywgQXV0aGVuKVxyXG4gICAgLy8gL2xvZ2luXHJcbiAgICBhdXRoLnVzZSgnL2xvZ2luVmlldycsIEhhc0xvZ2luKVxyXG5cclxuXHJcblxyXG4gICAgLy89PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PUFQST09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVxyXG5cclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL2xvZ2luLWF1dGgnLCB2ZXJpZnlBdXRoKVxyXG5cclxuICAgIC8vcXVhbiBseSB1c2VyICggdXNlciApIFxyXG4gICAgYXV0aC51c2UoXCIvYXBpL3YxL2luc2VydF9uZXdfdXNlclwiLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoXCIvYXBpL3YxL2RldGFpbF91c2VyLzp1c2VybmFtZVwiLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoXCIvYXBpL3YxL2RlbF91c2VyLzp1c2VybmFtZVwiLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoXCIvYXBpL3YxL3ZpZXdfZWRpdC86dXNlcm5hbWVcIiwgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKFwiL2FwaS92MS9lZGl0X3VzZXJcIiwgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKFwiL2FwaS92MS9saXN0LXVzZXIvOmZyb20tOnRvXCIsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZShcIi9hcGkvdjEvY3JlYXRlX25ld191c2VyXCIsIHZlcmlmeUF1dGgpXHJcblxyXG5cclxuICAgIC8vcXVhbiBseSB0aW4gdHVjICggbmV3cyApIFxyXG4gICAgYXV0aC51c2UoJy9hcGkvdjEvbGlzdC1uZXdzLzpmcm9tLTp0bycsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9jcmVhdGVfbmV3X25ld3MnLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoJy9hcGkvdjEvaW5zZXJ0X25ld19uZXdzJywgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL2RldGFpbF9uZXdzLzp0aXRsZScsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS92aWV3X2VkaXRfbmV3cy86aWQnLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoJy9hcGkvdjEvZWRpdF9uZXdzJywgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL2RlbF9uZXdzJywgdmVyaWZ5QXV0aClcclxuXHJcblxyXG4gICAgLy9xdWFuIGx5IGJhaSB2aWV0ICggcG9zdCApICBcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL2xpc3QtcG9zdC86ZnJvbS06dG8nLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoJy9hcGkvdjEvY3JlYXRlX25ld19wb3N0JywgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL2luc2VydF9uZXdfcG9zdCcsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9kZXRhaWxfcG9zdC86aWQnLCB2ZXJpZnlBdXRoKVxyXG4gICAgYXV0aC51c2UoJy9hcGkvdjEvdmlld19lZGl0X3Bvc3QvOmlkJywgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL2VkaXRfcG9zdCcsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9kZWxfcG9zdCcsIHZlcmlmeUF1dGgpXHJcblxyXG5cclxuICAgIC8vYXBpIHF1YW4gbHkgdGluIHR1YyAobmV3cylcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL0dldEJ5SWQvOmlkJywgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL2xpc3QtbmV3cycsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9pbnNlcnRfbmV3cycsIHZlcmlmeUF1dGgpXHJcbiAgICBhdXRoLnVzZSgnL2FwaS92MS9lZGl0X25ld3MvOmlkJywgdmVyaWZ5QXV0aClcclxuICAgIGF1dGgudXNlKCcvYXBpL3YxL2RlbF9uZXdzLzppZCcsIHZlcmlmeUF1dGgpXHJcblxyXG5cclxuICAgIHJldHVybiBhcHAudXNlKFwiL1wiLCBhdXRoKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7YXV0aE1pZGRsZXdhcmUsIE5vdGZvdW5kLCB2ZXJpZnlBdXRofVxyXG4iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFVBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBRCx1QkFBQUcsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUV6QztBQUNBO0FBQ0E7QUFHQSxNQUFNRyxVQUFVLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxFQUFFQyxJQUFJLEtBQUs7RUFFbkMsSUFBSUYsR0FBRyxDQUFDRyxPQUFPLENBQUNDLElBQUksRUFBRTtJQUNsQixJQUFJSixHQUFHLENBQUNHLE9BQU8sQ0FBQ0MsSUFBSSxDQUFDQyxJQUFJLElBQUksQ0FBQyxFQUFFO01BRTVCOztNQUVBLE1BQU1DLEtBQUssR0FBR04sR0FBRyxDQUFDTyxPQUFPLENBQUNELEtBQUs7TUFFL0IsSUFBSSxDQUFDQSxLQUFLLEVBQUU7UUFDUixPQUFPTCxHQUFHLENBQUNPLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO1VBQUVDLEdBQUcsRUFBRSxDQUFDO1VBQUVDLElBQUksRUFBRTtRQUEyQixDQUFDLENBQUM7TUFDN0U7TUFFQSxJQUFJO1FBQ0EsTUFBTUMsT0FBTyxHQUFHQyxrQkFBRyxDQUFDQyxXQUFXLENBQUNSLEtBQUssQ0FBQztRQUV0QyxJQUFJTSxPQUFPLEVBQUU7VUFDVDtVQUNBVixJQUFJLENBQUMsQ0FBQztRQUNWLENBQUMsTUFDRztVQUNBLE9BQU9ELEdBQUcsQ0FBQ08sTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQUM7WUFB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_JWTAction","obj","__esModule","default","verifyAuth","req","res","next","session","auth","role","token","cookies","status","json","err","mess","decoded","jwt","verifyToken","error","Notfound","send","HasLogin","redirect","Authen","express","Router","authMiddleware","app","use","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\middleware\\","sources":["Auth.js"],"sourcesContent":["import express from \"express\"\r\nimport jwt from \"../middleware/JWTAction\"\r\n\r\n// let payload = { foo: 'bar' }\r\n// let code = JWT.createJWT(payload)\r\n// JWT.verifyToken(code)\r\n\r\n\r\nconst verifyAuth = (req, res, next) => {\r\n\r\n    if (req.session.auth) {\r\n        if (req.session.auth.role == 2) {\r\n\r\n            // const token = req.body.token || req.query.token || req.headers[\"x-access-token\"]\r\n\r\n            const token = req.cookies.token;\r\n\r\n            if (!token) {\r\n                return res.status(200).json({ err: 1, mess: \"bien token khong ton tai\" })\r\n            }\r\n\r\n            try {\r\n                const decoded = jwt.verifyToken(token)\r\n\r\n                if (decoded) {\r\n                    // res.status(200).json({ err: 1, mess: \"token da xac thuc tai khoan\" })\r\n                    next()\r\n                }\r\n                else{\r\n                    return res.status(200).json({ err: 1, mess: \"khong xac thuc\" })\r\n                }\r\n\r\n            } catch (error) {\r\n                return res.status(200).json({ err: 1, mess: error })\r\n            }\r\n        } \r\n        else {\r\n            return res.status(200).json({ err: 1, mess: \"khong co quyen han truy cap\" })\r\n        }\r\n    }\r\n    else {\r\n        return res.status(200).json({ err: 1, mess: \"chua dang nhap tai khoan\" })\r\n    }\r\n}\r\n\r\nconst Notfound = (req, res, next) => {\r\n    res.status(404).send(\"<h1>Page not found on the server</h1>\")\r\n}\r\n\r\nconst HasLogin = (req, res, next) => {\r\n\r\n    if (!req.session.auth) {\r\n        next()\r\n    }\r\n    else {\r\n        res.redirect('/list-user/0-10')\r\n    }\r\n}\r\n\r\nconst Authen = (req, res, next) => {\r\n\r\n    if (req.session.auth) {\r\n        if (req.session.auth.role == 2) {\r\n            next()\r\n        } \r\n        else {\r\n            res.redirect('/list-user/0-10')\r\n        }\r\n    }\r\n    else {\r\n        res.redirect('/login')\r\n    }\r\n}\r\n\r\nconst auth = express.Router()\r\nconst authMiddleware = (app) => {\r\n\r\n    auth.use(\"/insert_new_user\", Authen)\r\n    auth.use(\"/detail_user/:username\", Authen)\r\n    auth.use(\"/del_user\", Authen)\r\n    auth.use(\"/view_edit/:username\", Authen)\r\n    auth.use(\"/edit_user\", Authen)\r\n    auth.use(\"/list-user/:from-:to\", Authen)\r\n    auth.use(\"/create_new_user\", Authen)\r\n\r\n    //quan ly tin tuc ( news ) \r\n    auth.use('/list-news/:from-:to', Authen)\r\n    auth.use('/create_new_news', Authen)\r\n    auth.use('/insert_new_news', Authen)\r\n    auth.use('/detail_news/:title', Authen)\r\n\r\n    auth.use('/view_edit_news/:id', Authen)\r\n    auth.use('/edit_news', Authen)\r\n    auth.use('/del_news', Authen)\r\n\r\n\r\n    //quan ly bai viet ( post )  \r\n    auth.use('/list-post/:from-:to', Authen)\r\n    auth.use('/create_new_post', Authen)\r\n    auth.use('/insert_new_post', Authen)\r\n    auth.use('/detail_post/:id', Authen)\r\n\r\n    auth.use('/view_edit_post/:id', Authen)\r\n    auth.use('/edit_post', Authen)\r\n    auth.use('/del_post', Authen)\r\n    // /login\r\n    auth.use('/loginView', HasLogin)\r\n\r\n\r\n\r\n    //===============================================API===================================================\r\n\r\n    auth.use('/api/v1/login-auth', verifyAuth)\r\n\r\n    //quan ly user ( user ) \r\n    auth.use(\"/api/v1/insert_new_user\", verifyAuth)\r\n    auth.use(\"/api/v1/detail_user/:username\", verifyAuth)\r\n    auth.use(\"/api/v1/del_user/:username\", verifyAuth)\r\n    auth.use(\"/api/v1/view_edit/:username\", verifyAuth)\r\n    auth.use(\"/api/v1/edit_user\", verifyAuth)\r\n    auth.use(\"/api/v1/list-user/:from-:to\", verifyAuth)\r\n    auth.use(\"/api/v1/create_new_user\", verifyAuth)\r\n\r\n\r\n    //quan ly tin tuc ( news ) \r\n    auth.use('/api/v1/list-news/:from-:to', verifyAuth)\r\n    auth.use('/api/v1/create_new_news', verifyAuth)\r\n    auth.use('/api/v1/insert_new_news', verifyAuth)\r\n    auth.use('/api/v1/detail_news/:title', verifyAuth)\r\n    auth.use('/api/v1/view_edit_news/:id', verifyAuth)\r\n    auth.use('/api/v1/edit_news', verifyAuth)\r\n    auth.use('/api/v1/del_news', verifyAuth)\r\n\r\n\r\n    //quan ly bai viet ( post )  \r\n    auth.use('/api/v1/list-post/:from-:to', verifyAuth)\r\n    auth.use('/api/v1/create_new_post', verifyAuth)\r\n    auth.use('/api/v1/insert_new_post', verifyAuth)\r\n    auth.use('/api/v1/detail_post/:id', verifyAuth)\r\n    auth.use('/api/v1/view_edit_post/:id', verifyAuth)\r\n    auth.use('/api/v1/edit_post', verifyAuth)\r\n    auth.use('/api/v1/del_post', verifyAuth)\r\n\r\n\r\n    //api quan ly tin tuc (news)\r\n    auth.use('/api/v1/GetById/:id', verifyAuth)\r\n    auth.use('/api/v1/list-news', verifyAuth)\r\n    auth.use('/api/v1/insert_news', verifyAuth)\r\n    auth.use('/api/v1/edit_news/:id', verifyAuth)\r\n    auth.use('/api/v1/del_news/:id', verifyAuth)\r\n\r\n\r\n    return app.use(\"/\", auth)\r\n}\r\n\r\nexport default {authMiddleware, Notfound, verifyAuth}\r\n"],"mappings":"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"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\config\\\\viewEngine.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst configViewEngine = app => {\n  app.set(\"view engine\", \"ejs\");\n  app.set(\"views\", \"./src/views\");\n};\nvar _default = exports.default = configViewEngine;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJjb25maWdWaWV3RW5naW5lIiwiYXBwIiwic2V0IiwiX2RlZmF1bHQiLCJleHBvcnRzIiwiZGVmYXVsdCJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxjb25maWdcXCIsInNvdXJjZXMiOlsidmlld0VuZ2luZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjb25maWdWaWV3RW5naW5lID0gKGFwcCkgPT4ge1xyXG4gICAgYXBwLnNldChcInZpZXcgZW5naW5lXCIsIFwiZWpzXCIpXHJcbiAgICBhcHAuc2V0KFwidmlld3NcIiwgXCIuL3NyYy92aWV3c1wiKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IGNvbmZpZ1ZpZXdFbmdpbmUiXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLE1BQU1BLGdCQUFnQixHQUFJQyxHQUFHLElBQUs7RUFDOUJBLEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLGFBQWEsRUFBRSxLQUFLLENBQUM7RUFDN0JELEdBQUcsQ0FBQ0MsR0FBRyxDQUFDLE9BQU8sRUFBRSxhQUFhLENBQUM7QUFDbkMsQ0FBQztBQUFBLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBQyxPQUFBLEdBQ2NMLGdCQUFnQiJ9","map":{"version":3,"names":["configViewEngine","app","set","_default","exports","default"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\config\\","sources":["viewEngine.js"],"sourcesContent":["const configViewEngine = (app) => {\r\n    app.set(\"view engine\", \"ejs\")\r\n    app.set(\"views\", \"./src/views\")\r\n}\r\nexport default configViewEngine"],"mappings":";;;;;;AAAA,MAAMA,gBAAgB,GAAIC,GAAG,IAAK;EAC9BA,GAAG,CAACC,GAAG,CAAC,aAAa,EAAE,KAAK,CAAC;EAC7BD,GAAG,CAACC,GAAG,CAAC,OAAO,EAAE,aAAa,CAAC;AACnC,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAC,OAAA,GACcL,gBAAgB"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\router\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\router\\\\webRoute.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _multer = _interopRequireDefault(require(\"multer\"));\nvar _path = _interopRequireDefault(require(\"path\"));\nvar _HomeController = _interopRequireDefault(require(\"./../controllers/HomeController\"));\nvar _AboutController = _interopRequireDefault(require(\"./../controllers/AboutController\"));\nvar _UserController = _interopRequireDefault(require(\"./../controllers/UserController\"));\nvar _formLoginController = _interopRequireDefault(require(\"./../controllers/formLoginController\"));\nvar _HomeUserController = _interopRequireDefault(require(\"./../controllers/HomeUserController\"));\nvar _NewsController = _interopRequireDefault(require(\"./../controllers/NewsController\"));\nvar _PostController = _interopRequireDefault(require(\"./../controllers/PostController\"));\nvar _ApiNewsController = _interopRequireDefault(require(\"./../controllers/ApiNewsController\"));\nvar _ApiPostController = _interopRequireDefault(require(\"./../controllers/ApiPostController\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thu vien up img\n\n// add controller\n// add controller\n// add controller\n\n// add controller\n\n// add controller\n// add controller\n\n// add controller\n// add controller\n\nconst storage = _multer.default.diskStorage({\n  destination: function destination(req, file, cb) {\n    cb(null, './src/public/upload');\n  },\n  filename: function filename(req, file, cb) {\n    const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9);\n    cb(null, uniqueSuffix + _path.default.extname(file.originalname));\n  }\n});\nconst upload = (0, _multer.default)({\n  storage: storage\n});\nconst router = _express.default.Router();\nconst initWebRoute = app => {\n  // app.get('/home/:namepage', HomeController.getHome) // truyền param\n  // app.get('/set-session', HomeController.setSession)\n  // app.get('/abc', HomeController.getAbc)\n\n  router.get('/admin', _HomeController.default.getHome);\n  router.get('/about', _AboutController.default.getAbout);\n  router.get('/create_new_user', _UserController.default.new_user);\n  router.post('/insert_new_user', _UserController.default.insert_user);\n  router.get('/list-user/:from-:to', _UserController.default.list_user);\n  router.get('/login', _formLoginController.default.login);\n  router.post('/login', _formLoginController.default.login_auth);\n  router.get('/logout', _formLoginController.default.logout);\n  router.get('/detail_user/:username', _UserController.default.detail_user);\n  router.post('/del_user', _UserController.default.del_user);\n  router.get('/view_edit/:username', _UserController.default.view_edit);\n  router.post('/edit_user', _UserController.default.edit_user);\n\n  //user\n  router.get('/', _HomeUserController.default.HomeUser);\n  router.get('/LoginUser', _HomeUserController.default.LoginUser);\n  router.post('/login_auth_User', _HomeUserController.default.login_auth_User);\n  router.get('/logout_User', _HomeUserController.default.logout_User);\n  router.get('/RegisterUser', _HomeUserController.default.RegisterUser);\n  router.post('/request_register', _HomeUserController.default.request_register);\n  router.get('/SinglePage/:id', _HomeUserController.default.SinglePage);\n\n  //hien thi bai viet theo tin tuc\n  router.get('/ByNews/:id', _HomeUserController.default.ByNews);\n\n  //quan ly tin tuc ( news )  \n  router.get('/list-news/:from-:to', _NewsController.default.list_news);\n  router.get('/create_new_news', _NewsController.default.new_news);\n  router.post('/insert_new_news', _NewsController.default.insert_news);\n  router.get('/detail_news/:title', _NewsController.default.detail_news);\n  router.get('/view_edit_news/:id', _NewsController.default.view_edit_news);\n  router.post('/edit_news', _NewsController.default.edit_news);\n  router.post('/del_news', _NewsController.default.del_news);\n\n  //quan ly bai viet ( post )  \n  router.get('/list-post/:from-:to', _PostController.default.list_post);\n  router.get('/create_new_post', _PostController.default.new_post);\n  router.post('/insert_new_post', upload.single('filenew'), _PostController.default.insert_post);\n  router.get('/detail_post/:id', _PostController.default.detail_post);\n  router.get('/SinglePage/:id', _HomeUserController.default.SinglePage);\n\n  //hien thi bai viet theo tin tuc\n  router.get('/ByNews/:id', _HomeUserController.default.ByNews);\n\n  //quan ly tin tuc ( news )  \n  router.get('/list-news/:from-:to', _NewsController.default.list_news);\n  router.get('/create_new_news', _NewsController.default.new_news);\n  router.post('/insert_new_news', _NewsController.default.insert_news);\n  router.get('/detail_news/:title', _NewsController.default.detail_news);\n  router.get('/view_edit_news/:id', _NewsController.default.view_edit_news);\n  router.post('/edit_news', _NewsController.default.edit_news);\n  router.post('/del_news', _NewsController.default.del_news);\n\n  //quan ly bai viet ( post )  \n  router.get('/list-post/:from-:to', _PostController.default.list_post);\n  router.get('/create_new_post', _PostController.default.new_post);\n  router.post('/insert_new_post', upload.single('filenew'), _PostController.default.insert_post);\n  router.get('/detail_post/:id', _PostController.default.detail_post);\n  router.get('/view_edit_post/:id', _PostController.default.view_edit_post);\n  router.post('/edit_post', upload.single('filenew'), _PostController.default.edit_post);\n  router.post('/del_post', _PostController.default.del_post);\n\n  // //api react\n\n  // router.get('/api/news', ApiNewsController.apiReactList)\n  // router.get('/api/news/:id', ApiNewsController.apiPostFromNew)\n\n  // router.get('/api/posts', ApiPostController.apiPostList)\n  // router.get('/api/post/:id', ApiPostController.apiPostId)\n\n  return app.use(\"/\", router);\n};\nvar _default = exports.default = initWebRoute;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX211bHRlciIsIl9wYXRoIiwiX0hvbWVDb250cm9sbGVyIiwiX0Fib3V0Q29udHJvbGxlciIsIl9Vc2VyQ29udHJvbGxlciIsIl9mb3JtTG9naW5Db250cm9sbGVyIiwiX0hvbWVVc2VyQ29udHJvbGxlciIsIl9OZXdzQ29udHJvbGxlciIsIl9Qb3N0Q29udHJvbGxlciIsIl9BcGlOZXdzQ29udHJvbGxlciIsIl9BcGlQb3N0Q29udHJvbGxlciIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0Iiwic3RvcmFnZSIsIm11bHRlciIsImRpc2tTdG9yYWdlIiwiZGVzdGluYXRpb24iLCJyZXEiLCJmaWxlIiwiY2IiLCJmaWxlbmFtZSIsInVuaXF1ZVN1ZmZpeCIsIkRhdGUiLCJub3ciLCJNYXRoIiwicm91bmQiLCJyYW5kb20iLCJwYXRoIiwiZXh0bmFtZSIsIm9yaWdpbmFsbmFtZSIsInVwbG9hZCIsInJvdXRlciIsImV4cHJlc3MiLCJSb3V0ZXIiLCJpbml0V2ViUm91dGUiLCJhcHAiLCJnZXQiLCJIb21lQ29udHJvbGxlciIsImdldEhvbWUiLCJBYm91dENvbnRyb2xsZXIiLCJnZXRBYm91dCIsIlVzZXJDb250cm9sbGVyIiwibmV3X3VzZXIiLCJwb3N0IiwiaW5zZXJ0X3VzZXIiLCJsaXN0X3VzZXIiLCJmb3JtTG9naW5Db250cm9sbGVyIiwibG9naW4iLCJsb2dpbl9hdXRoIiwibG9nb3V0IiwiZGV0YWlsX3VzZXIiLCJkZWxfdXNlciIsInZpZXdfZWRpdCIsImVkaXRfdXNlciIsIkhvbWVVc2VyQ29udHJvbGxlciIsIkhvbWVVc2VyIiwiTG9naW5Vc2VyIiwibG9naW5fYXV0aF9Vc2VyIiwibG9nb3V0X1VzZXIiLCJSZWdpc3RlclVzZXIiLCJyZXF1ZXN0X3JlZ2lzdGVyIiwiU2luZ2xlUGFnZSIsIkJ5TmV3cyIsIk5ld3NDb250cm9sbGVyIiwibGlzdF9uZXdzIiwibmV3X25ld3MiLCJpbnNlcnRfbmV3cyIsImRldGFpbF9uZXdzIiwidmlld19lZGl0X25ld3MiLCJlZGl0X25ld3MiLCJkZWxfbmV3cyIsIlBvc3RDb250cm9sbGVyIiwibGlzdF9wb3N0IiwibmV3X3Bvc3QiLCJzaW5nbGUiLCJpbnNlcnRfcG9zdCIsImRldGFpbF9wb3N0Iiwidmlld19lZGl0X3Bvc3QiLCJlZGl0X3Bvc3QiLCJkZWxfcG9zdCIsInVzZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxyb3V0ZXJcXCIsInNvdXJjZXMiOlsid2ViUm91dGUuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgbXVsdGVyIGZyb20gJ211bHRlcicgLy8gdGh1IHZpZW4gdXAgaW1nXHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCJcclxuaW1wb3J0IEhvbWVDb250cm9sbGVyIGZyb20gXCIuLy4uL2NvbnRyb2xsZXJzL0hvbWVDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuaW1wb3J0IEFib3V0Q29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9BYm91dENvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5pbXBvcnQgVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvVXNlckNvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5pbXBvcnQgZm9ybUxvZ2luQ29udHJvbGxlciBmcm9tIFwiLi8uLi9jb250cm9sbGVycy9mb3JtTG9naW5Db250cm9sbGVyXCJcclxuXHJcbmltcG9ydCBIb21lVXNlckNvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvSG9tZVVzZXJDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuXHJcblxyXG5pbXBvcnQgTmV3c0NvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvTmV3c0NvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5pbXBvcnQgUG9zdENvbnRyb2xsZXIgZnJvbSBcIi4vLi4vY29udHJvbGxlcnMvUG9zdENvbnRyb2xsZXJcIiAvLyBhZGQgY29udHJvbGxlclxyXG5cclxuaW1wb3J0IEFwaU5ld3NDb250cm9sbGVyIGZyb20gXCIuLy4uL2NvbnRyb2xsZXJzL0FwaU5ld3NDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuaW1wb3J0IEFwaVBvc3RDb250cm9sbGVyIGZyb20gXCIuLy4uL2NvbnRyb2xsZXJzL0FwaVBvc3RDb250cm9sbGVyXCIgLy8gYWRkIGNvbnRyb2xsZXJcclxuXHJcbmNvbnN0IHN0b3JhZ2UgPSBtdWx0ZXIuZGlza1N0b3JhZ2Uoe1xyXG4gICAgZGVzdGluYXRpb246IGZ1bmN0aW9uIChyZXEsIGZpbGUsIGNiKSB7XHJcbiAgICAgIGNiKG51bGwsICcuL3NyYy9wdWJsaWMvdXBsb2FkJylcclxuICAgIH0sXHJcbiAgICBmaWxlbmFtZTogZnVuY3Rpb24gKHJlcSwgZmlsZSwgY2IpIHtcclxuICAgICAgY29uc3QgdW5pcXVlU3VmZml4ID0gRGF0ZS5ub3coKSArICctJyArIE1hdGgucm91bmQoTWF0aC5yYW5kb20oKSAqIDFFOSlcclxuICAgICAgY2IobnVsbCwgdW5pcXVlU3VmZml4ICsgcGF0aC5leHRuYW1lKGZpbGUub3JpZ2luYWxuYW1lKSlcclxuICAgIH1cclxuICB9KVxyXG4gIFxyXG5jb25zdCB1cGxvYWQgPSBtdWx0ZXIoeyBzdG9yYWdlOiBzdG9yYWdlIH0pXHJcblxyXG5jb25zdCByb3V0ZXIgPSBleHByZXNzLlJvdXRlcigpXHJcbmNvbnN0IGluaXRXZWJSb3V0ZSA9IChhcHApID0+IHtcclxuXHJcbiAgICAvLyBhcHAuZ2V0KCcvaG9tZS86bmFtZXBhZ2UnLCBIb21lQ29udHJvbGxlci5nZXRIb21lKSAvLyB0cnV54buBbiBwYXJhbVxyXG4gICAgLy8gYXBwLmdldCgnL3NldC1zZXNzaW9uJywgSG9tZUNvbnRyb2xsZXIuc2V0U2Vzc2lvbilcclxuICAgIC8vIGFwcC5nZXQoJy9hYmMnLCBIb21lQ29udHJvbGxlci5nZXRBYmMpXHJcblxyXG4gICAgcm91dGVyLmdldCgnL2FkbWluJywgSG9tZUNvbnRyb2xsZXIuZ2V0SG9tZSlcclxuICAgIHJvdXRlci5nZXQoJy9hYm91dCcsIEFib3V0Q29udHJvbGxlci5nZXRBYm91dClcclxuXHJcbiAgICByb3V0ZXIuZ2V0KCcvY3JlYXRlX25ld191c2VyJywgVXNlckNvbnRyb2xsZXIubmV3X3VzZXIpXHJcbiAgICByb3V0ZXIucG9zdCgnL2luc2VydF9uZXdfdXNlcicsIFVzZXJDb250cm9sbGVyLmluc2VydF91c2VyKVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy9saXN0LXVzZXIvOmZyb20tOnRvJywgVXNlckNvbnRyb2xsZXIubGlzdF91c2VyKVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy9sb2dpbicsIGZvcm1Mb2dpbkNvbnRyb2xsZXIubG9naW4pXHJcbiAgICByb3V0ZXIucG9zdCgnL2xvZ2luJywgZm9ybUxvZ2luQ29udHJvbGxlci5sb2dpbl9hdXRoKVxyXG4gICAgcm91dGVyLmdldCgnL2xvZ291dCcsIGZvcm1Mb2dpbkNvbnRyb2xsZXIubG9nb3V0KVxyXG5cclxuICAgIHJvdXRlci5nZXQoJy9kZXRhaWxfdXNlci86dXNlcm5hbWUnLCBVc2VyQ29udHJvbGxlci5kZXRhaWxfdXNlcilcclxuXHJcbiAgICByb3V0ZXIucG9zdCgnL2RlbF91c2VyJywgVXNlckNvbnRyb2xsZXIuZGVsX3VzZXIpXHJcblxyXG4gICAgcm91dGVyLmdldCgnL3ZpZXdfZWRpdC86dXNlcm5hbWUnLCBVc2VyQ29udHJvbGxlci52aWV3X2VkaXQpXHJcbiAgICByb3V0ZXIucG9zdCgnL2VkaXRfdXNlcicsIFVzZXJDb250cm9sbGVyLmVkaXRfdXNlcilcclxuXHJcbiAgICBcclxuICAgIC8vdXNlclxyXG4gICAgcm91dGVyLmdldCgnLycsIEhvbWVVc2VyQ29udHJvbGxlci5Ib21lVXNlcilcclxuICAgIFxyXG4gICAgcm91dGVyLmdldCgnL0xvZ2luVXNlcicsIEhvbWVVc2VyQ29udHJvbGxlci5Mb2dpblVzZXIpXHJcbiAgICByb3V0ZXIucG9zdCgnL2xvZ2luX2F1dGhfVXNlcicsIEhvbWVVc2VyQ29udHJvbGxlci5sb2dpbl9hdXRoX1VzZXIpXHJcbiAgICByb3V0ZXIuZ2V0KCcvbG9nb3V0X1VzZXInLCBIb21lVXNlckNvbnRyb2xsZXIubG9nb3V0X1VzZXIpXHJcblxyXG4gICAgXHJcbiAgICByb3V0ZXIuZ2V0KCcvUmVnaXN0ZXJVc2VyJywgSG9tZVVzZXJDb250cm9sbGVyLlJlZ2lzdGVyVXNlcilcclxuICAgIHJvdXRlci5wb3N0KCcvcmVxdWVzdF9yZWdpc3RlcicsIEhvbWVVc2VyQ29udHJvbGxlci5yZXF1ZXN0X3JlZ2lzdGVyKVxyXG5cclxuICAgIFxyXG4gICAgcm91dGVyLmdldCgnL1NpbmdsZVBhZ2UvOmlkJywgSG9tZVVzZXJDb250cm9sbGVyLlNpbmdsZVBhZ2UpXHJcblxyXG5cclxuICAgIC8vaGllbiB0aGkgYmFpIHZpZXQgdGhlbyB0aW4gdHVjXHJcbiAgICByb3V0ZXIuZ2V0KCcvQnlOZXdzLzppZCcsIEhvbWVVc2VyQ29udHJvbGxlci5CeU5ld3MpXHJcbiAgICBcclxuXHJcbiAgICAvL3F1YW4gbHkgdGluIHR1YyAoIG5ld3MgKSAgXHJcbiAgICByb3V0ZXIuZ2V0KCcvbGlzdC1uZXdzLzpmcm9tLTp0bycsIE5ld3NDb250cm9sbGVyLmxpc3RfbmV3cylcclxuICAgIHJvdXRlci5nZXQoJy9jcmVhdGVfbmV3X25ld3MnLCBOZXdzQ29udHJvbGxlci5uZXdfbmV3cylcclxuICAgIHJvdXRlci5wb3N0KCcvaW5zZXJ0X25ld19uZXdzJywgTmV3c0NvbnRyb2xsZXIuaW5zZXJ0X25ld3MpXHJcbiAgICByb3V0ZXIuZ2V0KCcvZGV0YWlsX25ld3MvOnRpdGxlJywgTmV3c0NvbnRyb2xsZXIuZGV0YWlsX25ld3MpXHJcblxyXG4gICAgcm91dGVyLmdldCgnL3ZpZXdfZWRpdF9uZXdzLzppZCcsIE5ld3NDb250cm9sbGVyLnZpZXdfZWRpdF9uZXdzKVxyXG4gICAgcm91dGVyLnBvc3QoJy9lZGl0X25ld3MnLCBOZXdzQ29udHJvbGxlci5lZGl0X25ld3MpXHJcbiAgICByb3V0ZXIucG9zdCgnL2RlbF9uZXdzJywgTmV3c0NvbnRyb2xsZXIuZGVsX25ld3MpXHJcblxyXG5cclxuICAgIC8vcXVhbiBseSBiYWkgdmlldCAoIHBvc3QgKSAgXHJcbiAgICByb3V0ZXIuZ2V0KCcvbGlzdC1wb3N0Lzpmcm9tLTp0bycsIFBvc3RDb250cm9sbGVyLmxpc3RfcG9zdClcclxuICAgIHJvdXRlci5nZXQoJy9jcmVhdGVfbmV3X3Bvc3QnLCBQb3N0Q29udHJvbGxlci5uZXdfcG9zdClcclxuICAgIHJvdXRlci5wb3N0KCcvaW5zZXJ0X25ld19wb3N0JywgdXBsb2FkLnNpbmdsZSgnZmlsZW5ldycpLCBQb3N0Q29udHJvbGxlci5pbnNlcnRfcG9zdClcclxuICAgIHJvdXRlci5nZXQoJy9kZXRhaWxfcG9zdC86aWQnLCBQb3N0Q29udHJvbGxlci5kZXRhaWxfcG9zdClcclxuXHJcblxyXG4gIHJvdXRlci5nZXQoJy9TaW5nbGVQYWdlLzppZCcsIEhvbWVVc2VyQ29udHJvbGxlci5TaW5nbGVQYWdlKVxyXG5cclxuXHJcbiAgLy9oaWVuIHRoaSBiYWkgdmlldCB0aGVvIHRpbiB0dWNcclxuICByb3V0ZXIuZ2V0KCcvQnlOZXdzLzppZCcsIEhvbWVVc2VyQ29udHJvbGxlci5CeU5ld3MpXHJcblxyXG5cclxuICAvL3F1YW4gbHkgdGluIHR1YyAoIG5ld3MgKSAgXHJcbiAgcm91dGVyLmdldCgnL2xpc3QtbmV3cy86ZnJvbS06dG8nLCBOZXdzQ29udHJvbGxlci5saXN0X25ld3MpXHJcbiAgcm91dGVyLmdldCgnL2NyZWF0ZV9uZXdfbmV3cycsIE5ld3NDb250cm9sbGVyLm5ld19uZXdzKVxyXG4gIHJvdXRlci5wb3N0KCcvaW5zZXJ0X25ld19uZXdzJywgTmV3c0NvbnRyb2xsZXIuaW5zZXJ0X25ld3MpXHJcbiAgcm91dGVyLmdldCgnL2RldGFpbF9uZXdzLzp0aXRsZScsIE5ld3NDb250cm9sbGVyLmRldGFpbF9uZXdzKVxyXG5cclxuICByb3V0ZXIuZ2V0KCcvdmlld19lZGl0X25ld3MvOmlkJywgTmV3c0NvbnRyb2xsZXIudmlld19lZGl0X25ld3MpXHJcbiAgcm91dGVyLnBvc3QoJy9lZGl0X25ld3MnLCBOZXdzQ29udHJvbGxlci5lZGl0X25ld3MpXHJcbiAgcm91dGVyLnBvc3QoJy9kZWxfbmV3cycsIE5ld3NDb250cm9sbGVyLmRlbF9uZXdzKVxyXG5cclxuXHJcbiAgLy9xdWFuIGx5IGJhaSB2aWV0ICggcG9zdCApICBcclxuICByb3V0ZXIuZ2V0KCcvbGlzdC1wb3N0Lzpmcm9tLTp0bycsIFBvc3RDb250cm9sbGVyLmxpc3RfcG9zdClcclxuICByb3V0ZXIuZ2V0KCcvY3JlYXRlX25ld19wb3N0JywgUG9zdENvbnRyb2xsZXIubmV3X3Bvc3QpXHJcbiAgcm91dGVyLnBvc3QoJy9pbnNlcnRfbmV3X3Bvc3QnLCB1cGxvYWQuc2luZ2xlKCdmaWxlbmV3JyksIFBvc3RDb250cm9sbGVyLmluc2VydF9wb3N0KVxyXG4gIHJvdXRlci5nZXQoJy9kZXRhaWxfcG9zdC86aWQnLCBQb3N0Q29udHJvbGxlci5kZXRhaWxfcG9zdClcclxuXHJcbiAgcm91dGVyLmdldCgnL3ZpZXdfZWRpdF9wb3N0LzppZCcsIFBvc3RDb250cm9sbGVyLnZpZXdfZWRpdF9wb3N0KVxyXG4gIHJvdXRlci5wb3N0KCcvZWRpdF9wb3N0JywgdXBsb2FkLnNpbmdsZSgnZmlsZW5ldycpLCBQb3N0Q29udHJvbGxlci5lZGl0X3Bvc3QpXHJcbiAgcm91dGVyLnBvc3QoJy9kZWxfcG9zdCcsIFBvc3RDb250cm9sbGVyLmRlbF9wb3N0KVxyXG5cclxuXHJcbiAgLy8gLy9hcGkgcmVhY3RcclxuXHJcbiAgLy8gcm91dGVyLmdldCgnL2FwaS9uZXdzJywgQXBpTmV3c0NvbnRyb2xsZXIuYXBpUmVhY3RMaXN0KVxyXG4gIC8vIHJvdXRlci5nZXQoJy9hcGkvbmV3cy86aWQnLCBBcGlOZXdzQ29udHJvbGxlci5hcGlQb3N0RnJvbU5ldylcclxuXHJcbiAgLy8gcm91dGVyLmdldCgnL2FwaS9wb3N0cycsIEFwaVBvc3RDb250cm9sbGVyLmFwaVBvc3RMaXN0KVxyXG4gIC8vIHJvdXRlci5nZXQoJy9hcGkvcG9zdC86aWQnLCBBcGlQb3N0Q29udHJvbGxlci5hcGlQb3N0SWQpXHJcblxyXG5cclxuICByZXR1cm4gYXBwLnVzZShcIi9cIiwgcm91dGVyKVxyXG59XHJcbmV4cG9ydCBkZWZhdWx0IGluaXRXZWJSb3V0ZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsT0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsS0FBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsZUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksZ0JBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLGVBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLG9CQUFBLEdBQUFQLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBTyxtQkFBQSxHQUFBUixzQkFBQSxDQUFBQyxPQUFBO0FBR0EsSUFBQVEsZUFBQSxHQUFBVCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQVMsZUFBQSxHQUFBVixzQkFBQSxDQUFBQyxPQUFBO0FBRUEsSUFBQVUsa0JBQUEsR0FBQVgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFXLGtCQUFBLEdBQUFaLHNCQUFBLENBQUFDLE9BQUE7QUFBa0UsU0FBQUQsdUJBQUFhLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFkdEM7O0FBRWlD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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_multer","_path","_HomeController","_AboutController","_UserController","_formLoginController","_HomeUserController","_NewsController","_PostController","_ApiNewsController","_ApiPostController","obj","__esModule","default","storage","multer","diskStorage","destination","req","file","cb","filename","uniqueSuffix","Date","now","Math","round","random","path","extname","originalname","upload","router","express","Router","initWebRoute","app","get","HomeController","getHome","AboutController","getAbout","UserController","new_user","post","insert_user","list_user","formLoginController","login","login_auth","logout","detail_user","del_user","view_edit","edit_user","HomeUserController","HomeUser","LoginUser","login_auth_User","logout_User","RegisterUser","request_register","SinglePage","ByNews","NewsController","list_news","new_news","insert_news","detail_news","view_edit_news","edit_news","del_news","PostController","list_post","new_post","single","insert_post","detail_post","view_edit_post","edit_post","del_post","use","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\router\\","sources":["webRoute.js"],"sourcesContent":["import express from \"express\"\r\nimport multer from 'multer' // thu vien up img\r\nimport path from \"path\"\r\nimport HomeController from \"./../controllers/HomeController\" // add controller\r\nimport AboutController from \"./../controllers/AboutController\" // add controller\r\nimport UserController from \"./../controllers/UserController\" // add controller\r\nimport formLoginController from \"./../controllers/formLoginController\"\r\n\r\nimport HomeUserController from \"./../controllers/HomeUserController\" // add controller\r\n\r\n\r\nimport NewsController from \"./../controllers/NewsController\" // add controller\r\nimport PostController from \"./../controllers/PostController\" // add controller\r\n\r\nimport ApiNewsController from \"./../controllers/ApiNewsController\" // add controller\r\nimport ApiPostController from \"./../controllers/ApiPostController\" // add controller\r\n\r\nconst storage = multer.diskStorage({\r\n    destination: function (req, file, cb) {\r\n      cb(null, './src/public/upload')\r\n    },\r\n    filename: function (req, file, cb) {\r\n      const uniqueSuffix = Date.now() + '-' + Math.round(Math.random() * 1E9)\r\n      cb(null, uniqueSuffix + path.extname(file.originalname))\r\n    }\r\n  })\r\n  \r\nconst upload = multer({ storage: storage })\r\n\r\nconst router = express.Router()\r\nconst initWebRoute = (app) => {\r\n\r\n    // app.get('/home/:namepage', HomeController.getHome) // truyền param\r\n    // app.get('/set-session', HomeController.setSession)\r\n    // app.get('/abc', HomeController.getAbc)\r\n\r\n    router.get('/admin', HomeController.getHome)\r\n    router.get('/about', AboutController.getAbout)\r\n\r\n    router.get('/create_new_user', UserController.new_user)\r\n    router.post('/insert_new_user', UserController.insert_user)\r\n\r\n    router.get('/list-user/:from-:to', UserController.list_user)\r\n\r\n    router.get('/login', formLoginController.login)\r\n    router.post('/login', formLoginController.login_auth)\r\n    router.get('/logout', formLoginController.logout)\r\n\r\n    router.get('/detail_user/:username', UserController.detail_user)\r\n\r\n    router.post('/del_user', UserController.del_user)\r\n\r\n    router.get('/view_edit/:username', UserController.view_edit)\r\n    router.post('/edit_user', UserController.edit_user)\r\n\r\n    \r\n    //user\r\n    router.get('/', HomeUserController.HomeUser)\r\n    \r\n    router.get('/LoginUser', HomeUserController.LoginUser)\r\n    router.post('/login_auth_User', HomeUserController.login_auth_User)\r\n    router.get('/logout_User', HomeUserController.logout_User)\r\n\r\n    \r\n    router.get('/RegisterUser', HomeUserController.RegisterUser)\r\n    router.post('/request_register', HomeUserController.request_register)\r\n\r\n    \r\n    router.get('/SinglePage/:id', HomeUserController.SinglePage)\r\n\r\n\r\n    //hien thi bai viet theo tin tuc\r\n    router.get('/ByNews/:id', HomeUserController.ByNews)\r\n    \r\n\r\n    //quan ly tin tuc ( news )  \r\n    router.get('/list-news/:from-:to', NewsController.list_news)\r\n    router.get('/create_new_news', NewsController.new_news)\r\n    router.post('/insert_new_news', NewsController.insert_news)\r\n    router.get('/detail_news/:title', NewsController.detail_news)\r\n\r\n    router.get('/view_edit_news/:id', NewsController.view_edit_news)\r\n    router.post('/edit_news', NewsController.edit_news)\r\n    router.post('/del_news', NewsController.del_news)\r\n\r\n\r\n    //quan ly bai viet ( post )  \r\n    router.get('/list-post/:from-:to', PostController.list_post)\r\n    router.get('/create_new_post', PostController.new_post)\r\n    router.post('/insert_new_post', upload.single('filenew'), PostController.insert_post)\r\n    router.get('/detail_post/:id', PostController.detail_post)\r\n\r\n\r\n  router.get('/SinglePage/:id', HomeUserController.SinglePage)\r\n\r\n\r\n  //hien thi bai viet theo tin tuc\r\n  router.get('/ByNews/:id', HomeUserController.ByNews)\r\n\r\n\r\n  //quan ly tin tuc ( news )  \r\n  router.get('/list-news/:from-:to', NewsController.list_news)\r\n  router.get('/create_new_news', NewsController.new_news)\r\n  router.post('/insert_new_news', NewsController.insert_news)\r\n  router.get('/detail_news/:title', NewsController.detail_news)\r\n\r\n  router.get('/view_edit_news/:id', NewsController.view_edit_news)\r\n  router.post('/edit_news', NewsController.edit_news)\r\n  router.post('/del_news', NewsController.del_news)\r\n\r\n\r\n  //quan ly bai viet ( post )  \r\n  router.get('/list-post/:from-:to', PostController.list_post)\r\n  router.get('/create_new_post', PostController.new_post)\r\n  router.post('/insert_new_post', upload.single('filenew'), PostController.insert_post)\r\n  router.get('/detail_post/:id', PostController.detail_post)\r\n\r\n  router.get('/view_edit_post/:id', PostController.view_edit_post)\r\n  router.post('/edit_post', upload.single('filenew'), PostController.edit_post)\r\n  router.post('/del_post', PostController.del_post)\r\n\r\n\r\n  // //api react\r\n\r\n  // router.get('/api/news', ApiNewsController.apiReactList)\r\n  // router.get('/api/news/:id', ApiNewsController.apiPostFromNew)\r\n\r\n  // router.get('/api/posts', ApiPostController.apiPostList)\r\n  // router.get('/api/post/:id', ApiPostController.apiPostId)\r\n\r\n\r\n  return app.use(\"/\", router)\r\n}\r\nexport default initWebRoute"],"mappings":"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"}},"mtime":1700138241438},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\HomeController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// import homeModel from \"../services/homeModel\"\n\n// const getHome = (req, res) => {\n//     let name = req.params.namepage // nhân param\n//     res.render('home', {data: {tilte:name}})\n// }\n\n// const setSession = async (req, res) => {\n//     //req.session.destroy()\n//     req.session.views = {'page':'home', 'test':10}\n//     res.render('home', {data: {tilte:req.session.views.page}})\n// }\n\n// const getAbc = async (req, res) => {\n//     let list = await homeModel.getall() // call model\n//     return res.render('home', {data: {tilte:'name', rows:list}})\n// }\n\n// const getapi = (req, res) => {\n//     return res.status(200).json({\n//         data: 'list'\n//     })\n// }\nconst getHome = (req, res) => {\n  // res.send('Home')\n  res.redirect(\"/login\");\n};\nvar _default = exports.default = {\n  getHome\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRIb21lIiwicmVxIiwicmVzIiwicmVkaXJlY3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxOb2RlX0Jhb0Nhb1xcTm9kZV9BUElcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiSG9tZUNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG4vLyBpbXBvcnQgaG9tZU1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9ob21lTW9kZWxcIlxyXG5cclxuLy8gY29uc3QgZ2V0SG9tZSA9IChyZXEsIHJlcykgPT4ge1xyXG4vLyAgICAgbGV0IG5hbWUgPSByZXEucGFyYW1zLm5hbWVwYWdlIC8vIG5ow6JuIHBhcmFtXHJcbi8vICAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHt0aWx0ZTpuYW1lfX0pXHJcbi8vIH1cclxuXHJcbi8vIGNvbnN0IHNldFNlc3Npb24gPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuLy8gICAgIC8vcmVxLnNlc3Npb24uZGVzdHJveSgpXHJcbi8vICAgICByZXEuc2Vzc2lvbi52aWV3cyA9IHsncGFnZSc6J2hvbWUnLCAndGVzdCc6MTB9XHJcbi8vICAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHt0aWx0ZTpyZXEuc2Vzc2lvbi52aWV3cy5wYWdlfX0pXHJcbi8vIH1cclxuXHJcbi8vIGNvbnN0IGdldEFiYyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4vLyAgICAgbGV0IGxpc3QgPSBhd2FpdCBob21lTW9kZWwuZ2V0YWxsKCkgLy8gY2FsbCBtb2RlbFxyXG4vLyAgICAgcmV0dXJuIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3RpbHRlOiduYW1lJywgcm93czpsaXN0fX0pXHJcbi8vIH1cclxuXHJcbi8vIGNvbnN0IGdldGFwaSA9IChyZXEsIHJlcykgPT4ge1xyXG4vLyAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuLy8gICAgICAgICBkYXRhOiAnbGlzdCdcclxuLy8gICAgIH0pXHJcbi8vIH1cclxuXHJcblxyXG5jb25zdCBnZXRIb21lID0gKHJlcSwgcmVzKSA9PiB7XHJcbiAgICAvLyByZXMuc2VuZCgnSG9tZScpXHJcbiAgICByZXMucmVkaXJlY3QoXCIvbG9naW5cIilcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge2dldEhvbWV9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBNkIsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFDN0I7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBR0EsTUFBTUcsT0FBTyxHQUFHQSxDQUFDQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUMxQjtFQUNBQSxHQUFHLENBQUNDLFFBQVEsQ0FBQyxRQUFRLENBQUM7QUFDMUIsQ0FBQztBQUFBLElBQUFDLFFBQUEsR0FBQUMsT0FBQSxDQUFBTixPQUFBLEdBRWM7RUFBQ0M7QUFBTyxDQUFDIn0=","map":{"version":3,"names":["_express","_interopRequireDefault","require","obj","__esModule","default","getHome","req","res","redirect","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["HomeController.js"],"sourcesContent":["import express from \"express\"\r\n// import homeModel from \"../services/homeModel\"\r\n\r\n// const getHome = (req, res) => {\r\n//     let name = req.params.namepage // nhân param\r\n//     res.render('home', {data: {tilte:name}})\r\n// }\r\n\r\n// const setSession = async (req, res) => {\r\n//     //req.session.destroy()\r\n//     req.session.views = {'page':'home', 'test':10}\r\n//     res.render('home', {data: {tilte:req.session.views.page}})\r\n// }\r\n\r\n// const getAbc = async (req, res) => {\r\n//     let list = await homeModel.getall() // call model\r\n//     return res.render('home', {data: {tilte:'name', rows:list}})\r\n// }\r\n\r\n// const getapi = (req, res) => {\r\n//     return res.status(200).json({\r\n//         data: 'list'\r\n//     })\r\n// }\r\n\r\n\r\nconst getHome = (req, res) => {\r\n    // res.send('Home')\r\n    res.redirect(\"/login\")\r\n}\r\n\r\nexport default {getHome}"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAC7B;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AAGA,MAAMG,OAAO,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC1B;EACAA,GAAG,CAACC,QAAQ,CAAC,QAAQ,CAAC;AAC1B,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAN,OAAA,GAEc;EAACC;AAAO,CAAC"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\AboutController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _express = _interopRequireDefault(require(\"express\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst getAbout = (req, res) => {\n  res.render('About', {\n    data: {\n      tilte: 'About Page'\n    }\n  });\n};\nvar _default = exports.default = {\n  getAbout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJnZXRBYm91dCIsInJlcSIsInJlcyIsInJlbmRlciIsImRhdGEiLCJ0aWx0ZSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJBYm91dENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5cclxuY29uc3QgZ2V0QWJvdXQgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ0Fib3V0Jywge2RhdGE6IHt0aWx0ZTonQWJvdXQgUGFnZSd9fSlcclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtnZXRBYm91dH0iXSwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QixTQUFBRCx1QkFBQUUsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUU3QixNQUFNRyxRQUFRLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQzNCQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxPQUFPLEVBQUU7SUFBQ0MsSUFBSSxFQUFFO01BQUNDLEtBQUssRUFBQztJQUFZO0VBQUMsQ0FBQyxDQUFDO0FBQ3JELENBQUM7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQVIsT0FBQSxHQUdjO0VBQUNDO0FBQVEsQ0FBQyJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","obj","__esModule","default","getAbout","req","res","render","data","tilte","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["AboutController.js"],"sourcesContent":["import express from \"express\"\r\n\r\nconst getAbout = (req, res) => {\r\n    res.render('About', {data: {tilte:'About Page'}})\r\n}\r\n\r\n\r\nexport default {getAbout}"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA6B,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7B,MAAMG,QAAQ,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EAC3BA,GAAG,CAACC,MAAM,CAAC,OAAO,EAAE;IAACC,IAAI,EAAE;MAACC,KAAK,EAAC;IAAY;EAAC,CAAC,CAAC;AACrD,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAR,OAAA,GAGc;EAACC;AAAQ,CAAC"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\UserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst new_user = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'newUser',\n      title: 'Tạo tài khoản'\n    }\n  });\n};\nconst insert_user = async (req, res) => {\n  let body = req.body;\n  if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    let role = 1;\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.pass, pass);\n    await _userModel.default.insert_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role);\n    res.redirect(\"/list-user/0-10\");\n  }\n};\nconst list_user = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _userModel.default.list_user(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listUser',\n        title: 'Danh sách tài khoản',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst detail_user = async (req, res) => {\n  let Username = req.params.username;\n  let list = await _userModel.default.detail_user(Username);\n  res.render('home', {\n    data: {\n      page: 'detailUser',\n      title: 'Chi tiết người dùng',\n      list: list\n    }\n  });\n};\nconst edit_user = async (req, res) => {\n  let role = 1;\n  let body = req.body;\n  console.table(body);\n  if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n  let pass = _bcryptjs.default.genSaltSync(10);\n  let hash = _bcryptjs.default.hashSync(body.pass, pass);\n  await _userModel.default.edit_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role);\n  res.redirect(\"/detail_user/\" + body.name);\n};\nconst view_edit = async (req, res) => {\n  let Username = req.params.username;\n  let list = await _userModel.default.detail_user(Username);\n  res.render('home', {\n    data: {\n      page: 'viewEdit',\n      title: 'Cập nhật',\n      list: list\n    }\n  });\n};\nconst del_user = async (req, res) => {\n  let body = req.body;\n  if (!body.username) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n  let list = await _userModel.default.del_user(body.username);\n  res.redirect(\"/list-user/0-10\");\n};\nvar _default = exports.default = {\n  new_user,\n  list_user,\n  detail_user,\n  insert_user,\n  edit_user,\n  del_user,\n  view_edit\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibmV3X3VzZXIiLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwiaW5zZXJ0X3VzZXIiLCJib2R5IiwibmFtZSIsInBhc3MiLCJuYW1ldXNlciIsImFkZHJlc3MiLCJmbGV4UmFkaW9EZWZhdWx0IiwiZW1haWwiLCJzdGF0dXMiLCJzZW5kIiwicm9sZSIsImJjcnlwdCIsImdlblNhbHRTeW5jIiwiaGFzaCIsImhhc2hTeW5jIiwidXNlck1vZGVsIiwicmVkaXJlY3QiLCJsaXN0X3VzZXIiLCJfZnJvbSIsInBhcmFtcyIsImZyb20iLCJfdG8iLCJ0byIsImF1dGgiLCJzZXNzaW9uIiwiaXNOYU4iLCJsaXN0IiwiZGV0YWlsX3VzZXIiLCJVc2VybmFtZSIsInVzZXJuYW1lIiwiZWRpdF91c2VyIiwiY29uc29sZSIsInRhYmxlIiwidmlld19lZGl0IiwiZGVsX3VzZXIiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxOb2RlX0Jhb0Nhb1xcTm9kZV9BUElcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgdXNlck1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy91c2VyTW9kZWxcIlxyXG5cclxuY29uc3QgbmV3X3VzZXIgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICduZXdVc2VyJywgdGl0bGU6ICdU4bqhbyB0w6BpIGtob+G6o24nfX0pXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBpZiAoIWJvZHkubmFtZSB8fCAhYm9keS5wYXNzIHx8ICFib2R5Lm5hbWV1c2VyIHx8ICFib2R5LmFkZHJlc3MgfHwgIWJvZHkuZmxleFJhZGlvRGVmYXVsdCB8fCAhYm9keS5lbWFpbCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIGxldCByb2xlID0gMVxyXG4gICAgICAgIGxldCBwYXNzID0gYmNyeXB0LmdlblNhbHRTeW5jKDEwKVxyXG4gICAgICAgIGxldCBoYXNoID0gYmNyeXB0Lmhhc2hTeW5jKGJvZHkucGFzcywgcGFzcylcclxuICAgICAgICBhd2FpdCB1c2VyTW9kZWwuaW5zZXJ0X3VzZXIoYm9keS5uYW1lLCBoYXNoLCBib2R5Lm5hbWV1c2VyLCBib2R5LmFkZHJlc3MsIGJvZHkuZmxleFJhZGlvRGVmYXVsdCwgYm9keS5lbWFpbCwgcm9sZSlcclxuICAgICAgICByZXMucmVkaXJlY3QoXCIvbGlzdC11c2VyLzAtMTBcIilcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbGlzdF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgbGV0IF9mcm9tID0gcmVxLnBhcmFtcy5mcm9tXHJcbiAgICBsZXQgX3RvID0gcmVxLnBhcmFtcy50b1xyXG4gICAgbGV0IGF1dGggPSBudWxsXHJcblxyXG4gICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgpIHtcclxuICAgICAgICBhdXRoID0gcmVxLnNlc3Npb24uYXV0aFxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoaXNOYU4oX2Zyb20pID09PSBmYWxzZSAmJiBpc05hTihfdG8pID09PSBmYWxzZSkge1xyXG4gICAgICAgIGxldCBsaXN0ID0gYXdhaXQgdXNlck1vZGVsLmxpc3RfdXNlcihfZnJvbSwgX3RvKVxyXG4gICAgICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdsaXN0VXNlcicsIHRpdGxlOiAnRGFuaCBzw6FjaCB0w6BpIGtob+G6o24nLCBwYXJhbXM6IHtfZnJvbSwgX3RvfSAsIGxpc3Q6bGlzdCwgYXV0aDphdXRofX0pXHJcbiAgICB9XHJcbiAgICBlbHNle1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRldGFpbF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgVXNlcm5hbWUgPSByZXEucGFyYW1zLnVzZXJuYW1lXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IHVzZXJNb2RlbC5kZXRhaWxfdXNlcihVc2VybmFtZSlcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICdkZXRhaWxVc2VyJywgdGl0bGU6ICdDaGkgdGnhur90IG5nxrDhu51pIGTDuW5nJywgbGlzdDpsaXN0fX0pXHJcbn1cclxuXHJcbmNvbnN0IGVkaXRfdXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IHJvbGUgPSAxXHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBjb25zb2xlLnRhYmxlKGJvZHkpXHJcbiAgICBpZiAoIWJvZHkubmFtZSB8fCAhYm9keS5wYXNzIHx8ICFib2R5Lm5hbWV1c2VyIHx8ICFib2R5LmFkZHJlc3MgfHwgIWJvZHkuZmxleFJhZGlvRGVmYXVsdCB8fCAhYm9keS5lbWFpbCkge1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNDA0KS5zZW5kKCc8aDE+SW52YWxpZCBwYXJhbWV0ZXI8L2gxPicpXHJcbiAgICB9XHJcbiAgICBsZXQgcGFzcyA9IGJjcnlwdC5nZW5TYWx0U3luYygxMClcclxuICAgIGxldCBoYXNoID0gYmNyeXB0Lmhhc2hTeW5jKGJvZHkucGFzcywgcGFzcylcclxuICAgIGF3YWl0IHVzZXJNb2RlbC5lZGl0X3VzZXIoYm9keS5uYW1lLCBoYXNoLCBib2R5Lm5hbWV1c2VyLCBib2R5LmFkZHJlc3MsIGJvZHkuZmxleFJhZGlvRGVmYXVsdCwgYm9keS5lbWFpbCwgcm9sZSlcclxuICAgIHJlcy5yZWRpcmVjdChcIi9kZXRhaWxfdXNlci9cIiArIGJvZHkubmFtZSlcclxufVxyXG5cclxuY29uc3Qgdmlld19lZGl0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgVXNlcm5hbWUgPSByZXEucGFyYW1zLnVzZXJuYW1lXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IHVzZXJNb2RlbC5kZXRhaWxfdXNlcihVc2VybmFtZSlcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICd2aWV3RWRpdCcsIHRpdGxlOiAnQ+G6rXAgbmjhuq10JywgbGlzdDpsaXN0fX0pXHJcbn1cclxuXHJcbmNvbnN0IGRlbF91c2VyID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBpZiAoIWJvZHkudXNlcm5hbWUpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCB1c2VyTW9kZWwuZGVsX3VzZXIoYm9keS51c2VybmFtZSlcclxuICAgIHJlcy5yZWRpcmVjdChcIi9saXN0LXVzZXIvMC0xMFwiKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7bmV3X3VzZXIsIGxpc3RfdXNlciwgZGV0YWlsX3VzZXIsIGluc2VydF91c2VyLCBlZGl0X3VzZXIsIGRlbF91c2VyLCB2aWV3X2VkaXR9Il0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsU0FBQSxHQUFBRixzQkFBQSxDQUFBQyxP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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","obj","__esModule","default","new_user","req","res","render","data","page","title","insert_user","body","name","pass","nameuser","address","flexRadioDefault","email","status","send","role","bcrypt","genSaltSync","hash","hashSync","userModel","redirect","list_user","_from","params","from","_to","to","auth","session","isNaN","list","detail_user","Username","username","edit_user","console","table","view_edit","del_user","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["UserController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst new_user = (req, res) => {\r\n    res.render('home', {data: {page: 'newUser', title: 'Tạo tài khoản'}})\r\n}\r\n\r\nconst insert_user = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        let role = 1\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.pass, pass)\r\n        await userModel.insert_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role)\r\n        res.redirect(\"/list-user/0-10\")\r\n    }\r\n}\r\n\r\nconst list_user = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await userModel.list_user(_from, _to)\r\n        res.render('home', {data: {page: 'listUser', title: 'Danh sách tài khoản', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst detail_user = async (req, res) => {\r\n    let Username = req.params.username\r\n    let list = await userModel.detail_user(Username)\r\n    res.render('home', {data: {page: 'detailUser', title: 'Chi tiết người dùng', list:list}})\r\n}\r\n\r\nconst edit_user = async (req, res) => {\r\n    let role = 1\r\n    let body = req.body\r\n    console.table(body)\r\n    if (!body.name || !body.pass || !body.nameuser || !body.address || !body.flexRadioDefault || !body.email) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    let pass = bcrypt.genSaltSync(10)\r\n    let hash = bcrypt.hashSync(body.pass, pass)\r\n    await userModel.edit_user(body.name, hash, body.nameuser, body.address, body.flexRadioDefault, body.email, role)\r\n    res.redirect(\"/detail_user/\" + body.name)\r\n}\r\n\r\nconst view_edit = async (req, res) => {\r\n    let Username = req.params.username\r\n    let list = await userModel.detail_user(Username)\r\n    res.render('home', {data: {page: 'viewEdit', title: 'Cập nhật', list:list}})\r\n}\r\n\r\nconst del_user = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    let list = await userModel.del_user(body.username)\r\n    res.redirect(\"/list-user/0-10\")\r\n}\r\n\r\nexport default {new_user, list_user, detail_user, insert_user, edit_user, del_user, view_edit}"],"mappings":"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"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\services\\\\userModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst insert_user = async (username, password, fullname, address, sex, email, groupid) => {\n  await _connectDB.default.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `sex`, `email`, `groupid`) VALUES (?,?,?,?,?,?,?)', [username, password, fullname, address, sex, email, groupid]);\n};\nconst list_user = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `users`');\n  return rows;\n};\nconst detail_user = async name => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM users WHERE users.username LIKE ?', [name]);\n  return rows;\n};\nconst edit_user = async (username, password, fullname, address, sex, email, groupid) => {\n  await _connectDB.default.execute('UPDATE `users` SET `password`=?,`fullname`=?,`address`=?,`sex`=?,`email`=?,`groupid`=? WHERE users.username = ?', [password, fullname, address, sex, email, groupid, username]);\n};\nconst del_user = async username => {\n  await _connectDB.default.execute('DELETE FROM `users` WHERE users.username = ?', [username]);\n};\nconst auth = async username => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM users WHERE users.username LIKE ?', [username]);\n  return rows;\n};\nconst insert_user_Users = async (username, password, fullname, address, groupid) => {\n  await _connectDB.default.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `groupid`) VALUES (?,?,?,?,?)', [username, password, fullname, address, groupid]);\n};\nvar _default = exports.default = {\n  insert_user,\n  list_user,\n  detail_user,\n  edit_user,\n  del_user,\n  auth,\n  insert_user_Users\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImluc2VydF91c2VyIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsImZ1bGxuYW1lIiwiYWRkcmVzcyIsInNleCIsImVtYWlsIiwiZ3JvdXBpZCIsImNvbiIsImV4ZWN1dGUiLCJsaXN0X3VzZXIiLCJmcm9tIiwidG8iLCJyb3dzIiwiZmllbGRzIiwiZGV0YWlsX3VzZXIiLCJuYW1lIiwiZWRpdF91c2VyIiwiZGVsX3VzZXIiLCJhdXRoIiwiaW5zZXJ0X3VzZXJfVXNlcnMiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxOb2RlX0Jhb0Nhb1xcTm9kZV9BUElcXHNyY1xcc2VydmljZXNcXCIsInNvdXJjZXMiOlsidXNlck1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb24gZnJvbSBcIi4vLi4vY29uZmlnL2Nvbm5lY3REQlwiXHJcblxyXG5jb25zdCBpbnNlcnRfdXNlciA9IGFzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBzZXgsIGVtYWlsLCBncm91cGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnSU5TRVJUIElOVE8gYHVzZXJzYChgdXNlcm5hbWVgLCBgcGFzc3dvcmRgLCBgZnVsbG5hbWVgLCBgYWRkcmVzc2AsIGBzZXhgLCBgZW1haWxgLCBgZ3JvdXBpZGApIFZBTFVFUyAoPyw/LD8sPyw/LD8sPyknLFt1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBzZXgsIGVtYWlsLCBncm91cGlkXSlcclxufSBcclxuXHJcbmNvbnN0IGxpc3RfdXNlciA9IGFzeW5jIChmcm9tLCB0bykgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBgdXNlcnNgJylcclxuICAgIHJldHVybiByb3dzXHJcbn0gXHJcblxyXG5jb25zdCBkZXRhaWxfdXNlciA9IGFzeW5jIChuYW1lKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIHVzZXJzLnVzZXJuYW1lIExJS0UgPycsIFtuYW1lXSlcclxuICAgIHJldHVybiByb3dzXHJcbn0gXHJcblxyXG5jb25zdCBlZGl0X3VzZXIgPSBhc3luYyAodXNlcm5hbWUsIHBhc3N3b3JkLCBmdWxsbmFtZSwgYWRkcmVzcywgc2V4LCBlbWFpbCwgZ3JvdXBpZCkgPT4ge1xyXG4gICAgYXdhaXQgY29uLmV4ZWN1dGUoJ1VQREFURSBgdXNlcnNgIFNFVCBgcGFzc3dvcmRgPT8sYGZ1bGxuYW1lYD0/LGBhZGRyZXNzYD0/LGBzZXhgPT8sYGVtYWlsYD0/LGBncm91cGlkYD0/IFdIRVJFIHVzZXJzLnVzZXJuYW1lID0gPycsW3Bhc3N3b3JkLCBmdWxsbmFtZSwgYWRkcmVzcywgc2V4LCBlbWFpbCwgZ3JvdXBpZCwgdXNlcm5hbWVdKVxyXG59XHJcblxyXG5jb25zdCBkZWxfdXNlciA9IGFzeW5jICh1c2VybmFtZSkgPT4ge1xyXG4gICAgYXdhaXQgY29uLmV4ZWN1dGUoJ0RFTEVURSBGUk9NIGB1c2Vyc2AgV0hFUkUgdXNlcnMudXNlcm5hbWUgPSA/JyxbdXNlcm5hbWVdKVxyXG59XHJcblxyXG5jb25zdCBhdXRoID0gYXN5bmMgKHVzZXJuYW1lKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIHVzZXJzIFdIRVJFIHVzZXJzLnVzZXJuYW1lIExJS0UgPycsIFt1c2VybmFtZV0pXHJcbiAgICByZXR1cm4gcm93c1xyXG59XHJcblxyXG5jb25zdCBpbnNlcnRfdXNlcl9Vc2VycyA9IGFzeW5jICh1c2VybmFtZSwgcGFzc3dvcmQsIGZ1bGxuYW1lLCBhZGRyZXNzLCBncm91cGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnSU5TRVJUIElOVE8gYHVzZXJzYChgdXNlcm5hbWVgLCBgcGFzc3dvcmRgLCBgZnVsbG5hbWVgLCBgYWRkcmVzc2AsIGBncm91cGlkYCkgVkFMVUVTICg/LD8sPyw/LD8pJyxbdXNlcm5hbWUsIHBhc3N3b3JkLCBmdWxsbmFtZSwgYWRkcmVzcywgZ3JvdXBpZF0pXHJcbn0gXHJcblxyXG5cclxuZXhwb3J0IGRlZmF1bHQge2luc2VydF91c2VyLCBsaXN0X3VzZXIsIGRldGFpbF91c2VyLCBlZGl0X3VzZXIsIGRlbF91c2VyLCBhdXRoLGluc2VydF91c2VyX1VzZXJzfSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFBQSxVQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBdUMsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFdkMsTUFBTUcsV0FBVyxHQUFHLE1BQUFBLENBQU9DLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLE9BQU8sRUFBRUMsR0FBRyxFQUFFQyxLQUFLLEVBQUVDLE9BQU8sS0FBSztFQUN0RixNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsc0hBQXNILEVBQUMsQ0FBQ1IsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFQyxHQUFHLEVBQUVDLEtBQUssRUFBRUMsT0FBTyxDQUFDLENBQUM7QUFDMU0sQ0FBQztBQUVELE1BQU1HLFNBQVMsR0FBRyxNQUFBQSxDQUFPQyxJQUFJLEVBQUVDLEVBQUUsS0FBSztFQUNsQyxNQUFNLENBQUNDLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTU4sa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHVCQUF1QixDQUFDO0VBQ2pFLE9BQU9JLElBQUk7QUFDZixDQUFDO0FBRUQsTUFBTUUsV0FBVyxHQUFHLE1BQU9DLElBQUksSUFBSztFQUNoQyxNQUFNLENBQUNILElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTU4sa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLGlEQUFpRCxFQUFFLENBQUNPLElBQUksQ0FBQyxDQUFDO0VBQ25HLE9BQU9ILElBQUk7QUFDZixDQUFDO0FBRUQsTUFBTUksU0FBUyxHQUFHLE1BQUFBLENBQU9oQixRQUFRLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUVDLEdBQUcsRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEtBQUs7RUFDcEYsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLGlIQUFpSCxFQUFDLENBQUNQLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUVDLEdBQUcsRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEVBQUVOLFFBQVEsQ0FBQyxDQUFDO0FBQ3JNLENBQUM7QUFFRCxNQUFNaUIsUUFBUSxHQUFHLE1BQU9qQixRQUFRLElBQUs7RUFDakMsTUFBTU8sa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLDhDQUE4QyxFQUFDLENBQUNSLFFBQVEsQ0FBQyxDQUFDO0FBQ2hGLENBQUM7QUFFRCxNQUFNa0IsSUFBSSxHQUFHLE1BQU9sQixRQUFRLElBQUs7RUFDN0IsTUFBTSxDQUFDWSxJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1OLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyxpREFBaUQsRUFBRSxDQUFDUixRQUFRLENBQUMsQ0FBQztFQUN2RyxPQUFPWSxJQUFJO0FBQ2YsQ0FBQztBQUVELE1BQU1PLGlCQUFpQixHQUFHLE1BQUFBLENBQU9uQixRQUFRLEVBQUVDLFFBQVEsRUFBRUMsUUFBUSxFQUFFQyxPQUFPLEVBQUVHLE9BQU8sS0FBSztFQUNoRixNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsa0dBQWtHLEVBQUMsQ0FBQ1IsUUFBUSxFQUFFQyxRQUFRLEVBQUVDLFFBQVEsRUFBRUMsT0FBTyxFQUFFRyxPQUFPLENBQUMsQ0FBQztBQUMxSyxDQUFDO0FBQUEsSUFBQWMsUUFBQSxHQUFBQyxPQUFBLENBQUF2QixPQUFBLEdBR2M7RUFBQ0MsV0FBVztFQUFFVSxTQUFTO0VBQUVLLFdBQVc7RUFBRUUsU0FBUztFQUFFQyxRQUFRO0VBQUVDLElBQUk7RUFBQ0M7QUFBaUIsQ0FBQyJ9","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","insert_user","username","password","fullname","address","sex","email","groupid","con","execute","list_user","from","to","rows","fields","detail_user","name","edit_user","del_user","auth","insert_user_Users","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\services\\","sources":["userModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\nconst insert_user = async (username, password, fullname, address, sex, email, groupid) => {\r\n    await con.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `sex`, `email`, `groupid`) VALUES (?,?,?,?,?,?,?)',[username, password, fullname, address, sex, email, groupid])\r\n} \r\n\r\nconst list_user = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `users`')\r\n    return rows\r\n} \r\n\r\nconst detail_user = async (name) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM users WHERE users.username LIKE ?', [name])\r\n    return rows\r\n} \r\n\r\nconst edit_user = async (username, password, fullname, address, sex, email, groupid) => {\r\n    await con.execute('UPDATE `users` SET `password`=?,`fullname`=?,`address`=?,`sex`=?,`email`=?,`groupid`=? WHERE users.username = ?',[password, fullname, address, sex, email, groupid, username])\r\n}\r\n\r\nconst del_user = async (username) => {\r\n    await con.execute('DELETE FROM `users` WHERE users.username = ?',[username])\r\n}\r\n\r\nconst auth = async (username) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM users WHERE users.username LIKE ?', [username])\r\n    return rows\r\n}\r\n\r\nconst insert_user_Users = async (username, password, fullname, address, groupid) => {\r\n    await con.execute('INSERT INTO `users`(`username`, `password`, `fullname`, `address`, `groupid`) VALUES (?,?,?,?,?)',[username, password, fullname, address, groupid])\r\n} \r\n\r\n\r\nexport default {insert_user, list_user, detail_user, edit_user, del_user, auth,insert_user_Users}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEvC,MAAMG,WAAW,GAAG,MAAAA,CAAOC,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,KAAK;EACtF,MAAMC,kBAAG,CAACC,OAAO,CAAC,sHAAsH,EAAC,CAACR,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,CAAC,CAAC;AAC1M,CAAC;AAED,MAAMG,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,uBAAuB,CAAC;EACjE,OAAOI,IAAI;AACf,CAAC;AAED,MAAME,WAAW,GAAG,MAAOC,IAAI,IAAK;EAChC,MAAM,CAACH,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAE,CAACO,IAAI,CAAC,CAAC;EACnG,OAAOH,IAAI;AACf,CAAC;AAED,MAAMI,SAAS,GAAG,MAAAA,CAAOhB,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,KAAK;EACpF,MAAMC,kBAAG,CAACC,OAAO,CAAC,iHAAiH,EAAC,CAACP,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEC,GAAG,EAAEC,KAAK,EAAEC,OAAO,EAAEN,QAAQ,CAAC,CAAC;AACrM,CAAC;AAED,MAAMiB,QAAQ,GAAG,MAAOjB,QAAQ,IAAK;EACjC,MAAMO,kBAAG,CAACC,OAAO,CAAC,8CAA8C,EAAC,CAACR,QAAQ,CAAC,CAAC;AAChF,CAAC;AAED,MAAMkB,IAAI,GAAG,MAAOlB,QAAQ,IAAK;EAC7B,MAAM,CAACY,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMN,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAE,CAACR,QAAQ,CAAC,CAAC;EACvG,OAAOY,IAAI;AACf,CAAC;AAED,MAAMO,iBAAiB,GAAG,MAAAA,CAAOnB,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEG,OAAO,KAAK;EAChF,MAAMC,kBAAG,CAACC,OAAO,CAAC,kGAAkG,EAAC,CAACR,QAAQ,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,OAAO,EAAEG,OAAO,CAAC,CAAC;AAC1K,CAAC;AAAA,IAAAc,QAAA,GAAAC,OAAA,CAAAvB,OAAA,GAGc;EAACC,WAAW;EAAEU,SAAS;EAAEK,WAAW;EAAEE,SAAS;EAAEC,QAAQ;EAAEC,IAAI;EAACC;AAAiB,CAAC"}},"mtime":1700138241438},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\config\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\config\\\\connectDB.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _promise = _interopRequireDefault(require(\"mysql2/promise\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst con = _promise.default.createPool({\n  host: 'localhost',\n  user: 'root',\n  database: 'th_node2',\n  waitForConnections: true,\n  connectionLimit: 10,\n  maxIdle: 10,\n  // max idle connections, the default value is the same as `connectionLimit`\n  idleTimeout: 60000,\n  // idle connections timeout, in milliseconds, the default value 60000\n  queueLimit: 0,\n  enableKeepAlive: true,\n  keepAliveInitialDelay: 0\n});\nvar _default = exports.default = con;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfcHJvbWlzZSIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJjb24iLCJteXNxbCIsImNyZWF0ZVBvb2wiLCJob3N0IiwidXNlciIsImRhdGFiYXNlIiwid2FpdEZvckNvbm5lY3Rpb25zIiwiY29ubmVjdGlvbkxpbWl0IiwibWF4SWRsZSIsImlkbGVUaW1lb3V0IiwicXVldWVMaW1pdCIsImVuYWJsZUtlZXBBbGl2ZSIsImtlZXBBbGl2ZUluaXRpYWxEZWxheSIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxjb25maWdcXCIsInNvdXJjZXMiOlsiY29ubmVjdERCLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBteXNxbCBmcm9tIFwibXlzcWwyL3Byb21pc2VcIlxyXG5cclxuY29uc3QgY29uID0gbXlzcWwuY3JlYXRlUG9vbCh7XHJcblxyXG4gICAgaG9zdDogJ2xvY2FsaG9zdCcsXHJcbiAgICB1c2VyOiAncm9vdCcsXHJcbiAgICBkYXRhYmFzZTogJ3RoX25vZGUyJyxcclxuICAgIHdhaXRGb3JDb25uZWN0aW9uczogdHJ1ZSxcclxuICAgIGNvbm5lY3Rpb25MaW1pdDogMTAsXHJcbiAgICBtYXhJZGxlOiAxMCwgLy8gbWF4IGlkbGUgY29ubmVjdGlvbnMsIHRoZSBkZWZhdWx0IHZhbHVlIGlzIHRoZSBzYW1lIGFzIGBjb25uZWN0aW9uTGltaXRgXHJcbiAgICBpZGxlVGltZW91dDogNjAwMDAsIC8vIGlkbGUgY29ubmVjdGlvbnMgdGltZW91dCwgaW4gbWlsbGlzZWNvbmRzLCB0aGUgZGVmYXVsdCB2YWx1ZSA2MDAwMFxyXG4gICAgcXVldWVMaW1pdDogMCxcclxuICAgIGVuYWJsZUtlZXBBbGl2ZTogdHJ1ZSxcclxuICAgIGtlZXBBbGl2ZUluaXRpYWxEZWxheTogMFxyXG5cclxufSlcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNvbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQWtDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRWxDLE1BQU1HLEdBQUcsR0FBR0MsZ0JBQUssQ0FBQ0MsVUFBVSxDQUFDO0VBRXpCQyxJQUFJLEVBQUUsV0FBVztFQUNqQkMsSUFBSSxFQUFFLE1BQU07RUFDWkMsUUFBUSxFQUFFLFVBQVU7RUFDcEJDLGtCQUFrQixFQUFFLElBQUk7RUFDeEJDLGVBQWUsRUFBRSxFQUFFO0VBQ25CQyxPQUFPLEVBQUUsRUFBRTtFQUFFO0VBQ2JDLFdBQVcsRUFBRSxLQUFLO0VBQUU7RUFDcEJDLFVBQVUsRUFBRSxDQUFDO0VBQ2JDLGVBQWUsRUFBRSxJQUFJO0VBQ3JCQyxxQkFBcUIsRUFBRTtBQUUzQixDQUFDLENBQUM7QUFBQSxJQUFBQyxRQUFBLEdBQUFDLE9BQUEsQ0FBQWYsT0FBQSxHQUVhQyxHQUFHIn0=","map":{"version":3,"names":["_promise","_interopRequireDefault","require","obj","__esModule","default","con","mysql","createPool","host","user","database","waitForConnections","connectionLimit","maxIdle","idleTimeout","queueLimit","enableKeepAlive","keepAliveInitialDelay","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\config\\","sources":["connectDB.js"],"sourcesContent":["import mysql from \"mysql2/promise\"\r\n\r\nconst con = mysql.createPool({\r\n\r\n    host: 'localhost',\r\n    user: 'root',\r\n    database: 'th_node2',\r\n    waitForConnections: true,\r\n    connectionLimit: 10,\r\n    maxIdle: 10, // max idle connections, the default value is the same as `connectionLimit`\r\n    idleTimeout: 60000, // idle connections timeout, in milliseconds, the default value 60000\r\n    queueLimit: 0,\r\n    enableKeepAlive: true,\r\n    keepAliveInitialDelay: 0\r\n\r\n})\r\n\r\nexport default con"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAkC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAElC,MAAMG,GAAG,GAAGC,gBAAK,CAACC,UAAU,CAAC;EAEzBC,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE,MAAM;EACZC,QAAQ,EAAE,UAAU;EACpBC,kBAAkB,EAAE,IAAI;EACxBC,eAAe,EAAE,EAAE;EACnBC,OAAO,EAAE,EAAE;EAAE;EACbC,WAAW,EAAE,KAAK;EAAE;EACpBC,UAAU,EAAE,CAAC;EACbC,eAAe,EAAE,IAAI;EACrBC,qBAAqB,EAAE;AAE3B,CAAC,CAAC;AAAA,IAAAC,QAAA,GAAAC,OAAA,CAAAf,OAAA,GAEaC,GAAG"}},"mtime":1700138367418},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\formLoginController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst login = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'login',\n      title: 'Đăng nhập'\n    }\n  });\n};\nconst login_auth = async (req, res) => {\n  let body = req.body;\n  if (!body.username || !body.password) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    try {\n      let auth = await _userModel.default.auth(body.username);\n      if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\n        console.log(\"khong ton tai tk\");\n      } else {\n        let hash = _bcryptjs.default.hashSync(body.password, _bcryptjs.default.genSaltSync(10));\n        if (_bcryptjs.default.compareSync(body.password, auth[0].password)) {\n          req.session.auth = {\n            name: auth[0].username,\n            pass: auth[0].password,\n            role: auth[0].groupid\n          };\n          res.redirect(\"/list-user/0-10\");\n        } else {\n          console.log(\"sai mat khau\");\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\nconst logout = (req, res) => {\n  req.session.destroy();\n  res.redirect('/login');\n};\nvar _default = exports.default = {\n  login,\n  login_auth,\n  logout\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibG9naW4iLCJyZXEiLCJyZXMiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwibG9naW5fYXV0aCIsImJvZHkiLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwic3RhdHVzIiwic2VuZCIsImF1dGgiLCJ1c2VyTW9kZWwiLCJncm91cGlkIiwiY29uc29sZSIsImxvZyIsImhhc2giLCJiY3J5cHQiLCJoYXNoU3luYyIsImdlblNhbHRTeW5jIiwiY29tcGFyZVN5bmMiLCJzZXNzaW9uIiwibmFtZSIsInBhc3MiLCJyb2xlIiwicmVkaXJlY3QiLCJlcnJvciIsImxvZ291dCIsImRlc3Ryb3kiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxOb2RlX0Jhb0Nhb1xcTm9kZV9BUElcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiZm9ybUxvZ2luQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcbmltcG9ydCB1c2VyTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL3VzZXJNb2RlbFwiXHJcblxyXG5jb25zdCBsb2dpbiA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2xvZ2luJywgdGl0bGU6ICfEkMSDbmcgbmjhuq1wJ319KVxyXG59XHJcblxyXG5jb25zdCBsb2dpbl9hdXRoID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBpZiAoIWJvZHkudXNlcm5hbWUgfHwgIWJvZHkucGFzc3dvcmQpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgbGV0IGF1dGggPSBhd2FpdCB1c2VyTW9kZWwuYXV0aChib2R5LnVzZXJuYW1lKVxyXG5cclxuICAgICAgICAgICAgaWYgKCFhdXRoWzBdLnVzZXJuYW1lIHx8ICFhdXRoWzBdLnBhc3N3b3JkIHx8ICFhdXRoWzBdLmdyb3VwaWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwia2hvbmcgdG9uIHRhaSB0a1wiKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgbGV0IGhhc2ggPSBiY3J5cHQuaGFzaFN5bmMoYm9keS5wYXNzd29yZCwgYmNyeXB0LmdlblNhbHRTeW5jKDEwKSlcclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYgKGJjcnlwdC5jb21wYXJlU3luYyhib2R5LnBhc3N3b3JkLCBhdXRoWzBdLnBhc3N3b3JkKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcS5zZXNzaW9uLmF1dGggPSB7bmFtZTphdXRoWzBdLnVzZXJuYW1lLCBwYXNzOmF1dGhbMF0ucGFzc3dvcmQsIHJvbGU6YXV0aFswXS5ncm91cGlkfVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcy5yZWRpcmVjdChcIi9saXN0LXVzZXIvMC0xMFwiKVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzYWkgbWF0IGtoYXVcIilcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcilcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGxvZ291dCA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVxLnNlc3Npb24uZGVzdHJveSgpXHJcbiAgICByZXMucmVkaXJlY3QoJy9sb2dpbicpXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtsb2dpbiwgbG9naW5fYXV0aCwgbG9nb3V0fSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLFNBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QyxTQUFBRCx1QkFBQUksR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUU3QyxNQUFNRyxLQUFLLEdBQUdBLENBQUNDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBQ3hCQSxHQUFHLENBQUNDLE1BQU0sQ0FBQyxNQUFNLEVBQUU7SUFBQ0MsSUFBSSxFQUFFO01BQUNDLElBQUksRUFBRSxPQUFPO01BQUVDLEtBQUssRUFBRTtJQUFXO0VBQUMsQ0FBQyxDQUFDO0FBQ25FLENBQUM7QUFFRCxNQUFNQyxVQUFVLEdBQUcsTUFBQUEsQ0FBT04sR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDbkMsSUFBSU0sSUFBSSxHQUFHUCxHQUFHLENBQUNPLElBQUk7RUFDbkIsSUFBSSxDQUFDQSxJQUFJLENBQUNDLFFBQVEsSUFBSSxDQUFDRCxJQUFJLENBQUNFLFFBQVEsRUFBRTtJQUNsQ1IsR0FBRyxDQUFDUyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FBQyw0QkFBNEIsQ0FBQztFQUN0RCxDQUFDLE1BQ0k7SUFDRCxJQUFJO01BQ0EsSUFBSUMsSUFBSSxHQUFHLE1BQU1DLGtCQUFTLENBQUNELElBQUksQ0FBQ0wsSUFBSSxDQUFDQyxRQUFRLENBQUM7TUFFOUMsSUFBSSxDQUFDSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNKLFFBQVEsSUFBSSxDQUFDSSxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNILFFBQVEsSUFBSSxDQUFDRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNFLE9BQU8sRUFBRTtRQUM1REMsT0FBTyxDQUFDQyxHQUFHLENBQUMsa0JBQWtCLENBQUM7TUFDbkMsQ0FBQyxNQUNJO1FBQ0QsSUFBSUMsSUFBSSxHQUFHQyxpQkFBTSxDQUFDQyxRQUFRLENBQUNaLElBQUksQ0FBQ0UsUUFBUSxFQUFFUyxpQkFBTSxDQUFDRSxXQUFXLENBQUMsRUFBRSxDQUFDLENBQUM7UUFFakUsSUFBSUYsaUJBQU0sQ0FBQ0csV0FBVyxDQUFDZCxJQUFJLENBQUNFLFFBQVEsRUFBRUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDSCxRQUFRLENBQUMsRUFBRTtVQUNyRFQsR0FBRyxDQUFDc0IsT0FBTyxDQUFDVixJQUFJLEdBQUc7WUFBQ1csSUFBSSxFQUFDWCxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNKLFFBQVE7WUFBRWdCLElBQUksRUFBQ1osSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDSCxRQUFRO1lBQUVnQixJQUFJLEVBQUNiLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ0U7VUFBTyxDQUFDO1VBQ3ZGYixHQUFHLENBQUN5QixRQUFRLENBQUMsaUJBQWlCLENBQUM7UUFDbkMsQ0FBQyxNQUNJO1VBQ0RYLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDLGNBQWMsQ0FBQztRQUMvQjtNQUNKO0lBRUosQ0FBQyxDQUFDLE9BQU9XLEtBQUssRUFBRTtNQUNaWixPQUFPLENBQUNDLEdBQUcsQ0FBQ1csS0FBSyxDQUFDO0lBQ3RCO0VBQ0o7QUFDSixDQUFDO0FBRUQsTUFBTUMsTUFBTSxHQUFHQSxDQUFDNUIsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFDekJELEdBQUcsQ0FBQ3NCLE9BQU8sQ0FBQ08sT0FBTyxDQUFDLENBQUM7RUFDckI1QixHQUFHLENBQUN5QixRQUFRLENBQUMsUUFBUSxDQUFDO0FBQzFCLENBQUM7QUFBQSxJQUFBSSxRQUFBLEdBQUFDLE9BQUEsQ0FBQWpDLE9BQUEsR0FFYztFQUFDQyxLQUFLO0VBQUVPLFVBQVU7RUFBRXNCO0FBQU0sQ0FBQyJ9","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_userModel","obj","__esModule","default","login","req","res","render","data","page","title","login_auth","body","username","password","status","send","auth","userModel","groupid","console","log","hash","bcrypt","hashSync","genSaltSync","compareSync","session","name","pass","role","redirect","error","logout","destroy","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["formLoginController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst login = (req, res) => {\r\n    res.render('home', {data: {page: 'login', title: 'Đăng nhập'}})\r\n}\r\n\r\nconst login_auth = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username || !body.password) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else {\r\n        try {\r\n            let auth = await userModel.auth(body.username)\r\n\r\n            if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\r\n                console.log(\"khong ton tai tk\")\r\n            }\r\n            else {\r\n                let hash = bcrypt.hashSync(body.password, bcrypt.genSaltSync(10))\r\n                \r\n                if (bcrypt.compareSync(body.password, auth[0].password)) {\r\n                    req.session.auth = {name:auth[0].username, pass:auth[0].password, role:auth[0].groupid}\r\n                    res.redirect(\"/list-user/0-10\")\r\n                }\r\n                else {\r\n                    console.log(\"sai mat khau\")\r\n                }\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n}\r\n\r\nconst logout = (req, res) => {\r\n    req.session.destroy()\r\n    res.redirect('/login')\r\n}\r\n\r\nexport default {login, login_auth, logout}"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,SAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AAA6C,SAAAD,uBAAAI,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7C,MAAMG,KAAK,GAAGA,CAACC,GAAG,EAAEC,GAAG,KAAK;EACxBA,GAAG,CAACC,MAAM,CAAC,MAAM,EAAE;IAACC,IAAI,EAAE;MAACC,IAAI,EAAE,OAAO;MAAEC,KAAK,EAAE;IAAW;EAAC,CAAC,CAAC;AACnE,CAAC;AAED,MAAMC,UAAU,GAAG,MAAAA,CAAON,GAAG,EAAEC,GAAG,KAAK;EACnC,IAAIM,IAAI,GAAGP,GAAG,CAACO,IAAI;EACnB,IAAI,CAACA,IAAI,CAACC,QAAQ,IAAI,CAACD,IAAI,CAACE,QAAQ,EAAE;IAClCR,GAAG,CAACS,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,4BAA4B,CAAC;EACtD,CAAC,MACI;IACD,IAAI;MACA,IAAIC,IAAI,GAAG,MAAMC,kBAAS,CAACD,IAAI,CAACL,IAAI,CAACC,QAAQ,CAAC;MAE9C,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,CAACJ,QAAQ,IAAI,CAACI,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ,IAAI,CAACG,IAAI,CAAC,CAAC,CAAC,CAACE,OAAO,EAAE;QAC5DC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MACnC,CAAC,MACI;QACD,IAAIC,IAAI,GAAGC,iBAAM,CAACC,QAAQ,CAACZ,IAAI,CAACE,QAAQ,EAAES,iBAAM,CAACE,WAAW,CAAC,EAAE,CAAC,CAAC;QAEjE,IAAIF,iBAAM,CAACG,WAAW,CAACd,IAAI,CAACE,QAAQ,EAAEG,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ,CAAC,EAAE;UACrDT,GAAG,CAACsB,OAAO,CAACV,IAAI,GAAG;YAACW,IAAI,EAACX,IAAI,CAAC,CAAC,CAAC,CAACJ,QAAQ;YAAEgB,IAAI,EAACZ,IAAI,CAAC,CAAC,CAAC,CAACH,QAAQ;YAAEgB,IAAI,EAACb,IAAI,CAAC,CAAC,CAAC,CAACE;UAAO,CAAC;UACvFb,GAAG,CAACyB,QAAQ,CAAC,iBAAiB,CAAC;QACnC,CAAC,MACI;UACDX,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;QAC/B;MACJ;IAEJ,CAAC,CAAC,OAAOW,KAAK,EAAE;MACZZ,OAAO,CAACC,GAAG,CAACW,KAAK,CAAC;IACtB;EACJ;AACJ,CAAC;AAED,MAAMC,MAAM,GAAGA,CAAC5B,GAAG,EAAEC,GAAG,KAAK;EACzBD,GAAG,CAACsB,OAAO,CAACO,OAAO,CAAC,CAAC;EACrB5B,GAAG,CAACyB,QAAQ,CAAC,QAAQ,CAAC;AAC1B,CAAC;AAAA,IAAAI,QAAA,GAAAC,OAAA,CAAAjC,OAAA,GAEc;EAACC,KAAK;EAAEO,UAAU;EAAEsB;AAAM,CAAC"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\HomeUserController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _connectDB = _interopRequireDefault(require(\"../config/connectDB\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _userModel = _interopRequireDefault(require(\"../services/userModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst HomeUser = async (req, res) => {\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n\n  //lay 3 tin tuc noi bat\n  var limitt = 3;\n  let list = await _postModel.default.list_hot_post_user(limitt);\n\n  //lay tin tuc moi nhat\n\n  let lists = await _postModel.default.list_new_post_user();\n  res.render('User/HomeUser', {\n    data: {\n      page: 'IndexUser',\n      title: 'Trang Chu',\n      list: list,\n      lists: lists,\n      auth: auth\n    }\n  });\n};\n\n//chi tiet bai viet singlepost\n\nconst SinglePage = async (req, res) => {\n  let id = req.params.id;\n  let item = await _postModel.default.detail_post(id);\n\n  //lay ra danh sach tin tuc\n\n  let items = await _newsModel.default.list_news_all();\n  res.render('User/HomeUser', {\n    data: {\n      page: 'SinglePage',\n      item: item,\n      items: items\n    }\n  });\n};\n\n//hien thi bai viet theo tin tuc\nconst ByNews = async (req, res) => {\n  let news_id = req.params.id;\n  let items = await _postModel.default.list_by_news(news_id);\n\n  //lay ra danh sach tin tuc\n\n  let itemss = await _newsModel.default.list_news_all();\n  res.render('User/HomeUser', {\n    data: {\n      page: 'ByNews',\n      items: items,\n      itemss: itemss\n    }\n  });\n};\nconst LoginUser = (req, res) => {\n  res.render('User/LoginUser', {\n    data: {\n      title: 'Login'\n    }\n  });\n};\nconst login_auth_User = async (req, res) => {\n  let body = req.body;\n  if (!body.username || !body.password) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    try {\n      let auth = await _userModel.default.auth(body.username);\n      if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\n        console.log(\"khong ton tai tk\");\n      } else {\n        let hash = _bcryptjs.default.hashSync(body.password, _bcryptjs.default.genSaltSync(10));\n        if (auth[0].groupid == 1) {\n          if (_bcryptjs.default.compareSync(body.password, auth[0].password)) {\n            req.session.auth = {\n              name: auth[0].username,\n              pass: auth[0].password,\n              role: auth[0].groupid\n            };\n            res.redirect(\"/\");\n          } else {\n            console.log(\"sai mat khau\");\n          }\n        } else {\n          console.log(\"sai mat khau\");\n        }\n      }\n    } catch (error) {\n      console.log(error);\n    }\n  }\n};\nconst logout_User = (req, res) => {\n  req.session.destroy();\n  res.redirect('/');\n};\nconst RegisterUser = (req, res) => {\n  res.render('User/RegisterUser', {\n    data: {\n      title: 'Register'\n    }\n  });\n};\nconst request_register = async (req, res) => {\n  let body = req.body;\n  if (!body.username || !body.password || !body.fullname || !body.address) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    let role = 1;\n    let pass = _bcryptjs.default.genSaltSync(10);\n    let hash = _bcryptjs.default.hashSync(body.password, pass);\n    await _userModel.default.insert_user_Users(body.username, hash, body.fullname, body.address, role);\n    res.redirect(\"/\");\n  }\n};\nvar _default = exports.default = {\n  HomeUser,\n  LoginUser,\n  SinglePage,\n  RegisterUser,\n  login_auth_User,\n  logout_User,\n  request_register,\n  ByNews\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX2Nvbm5lY3REQiIsIl9wb3N0TW9kZWwiLCJfbmV3c01vZGVsIiwiX2JjcnlwdGpzIiwiX3VzZXJNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwiSG9tZVVzZXIiLCJyZXEiLCJyZXMiLCJhdXRoIiwic2Vzc2lvbiIsImxpbWl0dCIsImxpc3QiLCJwb3N0TW9kZWwiLCJsaXN0X2hvdF9wb3N0X3VzZXIiLCJsaXN0cyIsImxpc3RfbmV3X3Bvc3RfdXNlciIsInJlbmRlciIsImRhdGEiLCJwYWdlIiwidGl0bGUiLCJTaW5nbGVQYWdlIiwiaWQiLCJwYXJhbXMiLCJpdGVtIiwiZGV0YWlsX3Bvc3QiLCJpdGVtcyIsIm5ld3NNb2RlbCIsImxpc3RfbmV3c19hbGwiLCJCeU5ld3MiLCJuZXdzX2lkIiwibGlzdF9ieV9uZXdzIiwiaXRlbXNzIiwiTG9naW5Vc2VyIiwibG9naW5fYXV0aF9Vc2VyIiwiYm9keSIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJzdGF0dXMiLCJzZW5kIiwidXNlck1vZGVsIiwiZ3JvdXBpZCIsImNvbnNvbGUiLCJsb2ciLCJoYXNoIiwiYmNyeXB0IiwiaGFzaFN5bmMiLCJnZW5TYWx0U3luYyIsImNvbXBhcmVTeW5jIiwibmFtZSIsInBhc3MiLCJyb2xlIiwicmVkaXJlY3QiLCJlcnJvciIsImxvZ291dF9Vc2VyIiwiZGVzdHJveSIsIlJlZ2lzdGVyVXNlciIsInJlcXVlc3RfcmVnaXN0ZXIiLCJmdWxsbmFtZSIsImFkZHJlc3MiLCJpbnNlcnRfdXNlcl9Vc2VycyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJIb21lVXNlckNvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgZnMgZnJvbSAnZnMnXHJcbmltcG9ydCBjb24gZnJvbSBcIi4uL2NvbmZpZy9jb25uZWN0REJcIlxyXG5pbXBvcnQgcG9zdE1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9wb3N0TW9kZWxcIlxyXG5pbXBvcnQgbmV3c01vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy9uZXdzTW9kZWxcIlxyXG5pbXBvcnQgYmNyeXB0IGZyb20gJ2JjcnlwdGpzJ1xyXG5pbXBvcnQgdXNlck1vZGVsIGZyb20gXCIuLi9zZXJ2aWNlcy91c2VyTW9kZWxcIlxyXG5cclxuY29uc3QgSG9tZVVzZXIgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICBsZXQgYXV0aCA9IG51bGxcclxuXHJcbiAgICBpZiAocmVxLnNlc3Npb24uYXV0aCkge1xyXG4gICAgICAgIGF1dGggPSByZXEuc2Vzc2lvbi5hdXRoXHJcbiAgICB9XHJcblxyXG4gICAgLy9sYXkgMyB0aW4gdHVjIG5vaSBiYXRcclxuICAgIHZhciBsaW1pdHQgPSAzXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IHBvc3RNb2RlbC5saXN0X2hvdF9wb3N0X3VzZXIobGltaXR0KVxyXG4gICBcclxuXHJcbiAgICAvL2xheSB0aW4gdHVjIG1vaSBuaGF0XHJcbiAgXHJcbiAgICBsZXQgbGlzdHMgPSBhd2FpdCBwb3N0TW9kZWwubGlzdF9uZXdfcG9zdF91c2VyKClcclxuXHJcblxyXG4gICAgcmVzLnJlbmRlcignVXNlci9Ib21lVXNlcicsIHtkYXRhOiB7cGFnZTogJ0luZGV4VXNlcicsIHRpdGxlOiAnVHJhbmcgQ2h1JyxsaXN0Omxpc3QsbGlzdHM6bGlzdHMsYXV0aDphdXRofX0pXHJcbn1cclxuXHJcbi8vY2hpIHRpZXQgYmFpIHZpZXQgc2luZ2xlcG9zdFxyXG5cclxuY29uc3QgU2luZ2xlUGFnZSA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIGxldCBpZCA9IHJlcS5wYXJhbXMuaWRcclxuICAgIGxldCBpdGVtID0gYXdhaXQgcG9zdE1vZGVsLmRldGFpbF9wb3N0KGlkKVxyXG5cclxuICAgIC8vbGF5IHJhIGRhbmggc2FjaCB0aW4gdHVjXHJcblxyXG4gICBsZXQgaXRlbXMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpOyBcclxuXHJcblxyXG4gICAgcmVzLnJlbmRlcignVXNlci9Ib21lVXNlcicsIHtkYXRhOiB7cGFnZTogJ1NpbmdsZVBhZ2UnLGl0ZW06aXRlbSxpdGVtczppdGVtc319KVxyXG59XHJcblxyXG4gIC8vaGllbiB0aGkgYmFpIHZpZXQgdGhlbyB0aW4gdHVjXHJcbmNvbnN0IEJ5TmV3cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIGxldCBuZXdzX2lkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgbGV0IGl0ZW1zID0gYXdhaXQgcG9zdE1vZGVsLmxpc3RfYnlfbmV3cyhuZXdzX2lkKVxyXG5cclxuICAgIC8vbGF5IHJhIGRhbmggc2FjaCB0aW4gdHVjXHJcblxyXG5cclxuICAgIGxldCBpdGVtc3MgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpOyBcclxuICBcclxuXHJcblxyXG4gICAgcmVzLnJlbmRlcignVXNlci9Ib21lVXNlcicsIHtkYXRhOiB7cGFnZTogJ0J5TmV3cycsaXRlbXM6aXRlbXMsaXRlbXNzOml0ZW1zc319KVxyXG59XHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5jb25zdCBMb2dpblVzZXIgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ1VzZXIvTG9naW5Vc2VyJywge2RhdGE6IHt0aXRsZTogJ0xvZ2luJ319KVxyXG59XHJcblxyXG5cclxuXHJcbmNvbnN0IGxvZ2luX2F1dGhfVXNlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgaWYgKCFib2R5LnVzZXJuYW1lIHx8ICFib2R5LnBhc3N3b3JkKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBhdXRoID0gYXdhaXQgdXNlck1vZGVsLmF1dGgoYm9keS51c2VybmFtZSlcclxuXHJcbiAgICAgICAgICAgIGlmICghYXV0aFswXS51c2VybmFtZSB8fCAhYXV0aFswXS5wYXNzd29yZCB8fCAhYXV0aFswXS5ncm91cGlkKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImtob25nIHRvbiB0YWkgdGtcIilcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBsZXQgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhib2R5LnBhc3N3b3JkLCBiY3J5cHQuZ2VuU2FsdFN5bmMoMTApKVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgIGlmKGF1dGhbMF0uZ3JvdXBpZCA9PSAxKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiY3J5cHQuY29tcGFyZVN5bmMoYm9keS5wYXNzd29yZCwgYXV0aFswXS5wYXNzd29yZCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXEuc2Vzc2lvbi5hdXRoID0ge25hbWU6YXV0aFswXS51c2VybmFtZSwgcGFzczphdXRoWzBdLnBhc3N3b3JkLCByb2xlOmF1dGhbMF0uZ3JvdXBpZH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMucmVkaXJlY3QoXCIvXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcInNhaSBtYXQga2hhdVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICBlbHNle1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzYWkgbWF0IGtoYXVcIilcclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbG9nb3V0X1VzZXIgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcS5zZXNzaW9uLmRlc3Ryb3koKVxyXG4gICAgcmVzLnJlZGlyZWN0KCcvJylcclxufVxyXG5cclxuXHJcbmNvbnN0IFJlZ2lzdGVyVXNlciA9IChyZXEsIHJlcykgPT4ge1xyXG4gICAgcmVzLnJlbmRlcignVXNlci9SZWdpc3RlclVzZXInLCB7ZGF0YToge3RpdGxlOiAnUmVnaXN0ZXInfX0pXHJcbn1cclxuXHJcblxyXG5cclxuY29uc3QgcmVxdWVzdF9yZWdpc3RlciA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgaWYgKCFib2R5LnVzZXJuYW1lIHx8ICFib2R5LnBhc3N3b3JkIHx8ICFib2R5LmZ1bGxuYW1lIHx8ICFib2R5LmFkZHJlc3MpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgcm9sZSA9IDFcclxuICAgICAgICBsZXQgcGFzcyA9IGJjcnlwdC5nZW5TYWx0U3luYygxMClcclxuICAgICAgICBsZXQgaGFzaCA9IGJjcnlwdC5oYXNoU3luYyhib2R5LnBhc3N3b3JkLCBwYXNzKVxyXG5cclxuXHJcbiAgICAgICAgYXdhaXQgdXNlck1vZGVsLmluc2VydF91c2VyX1VzZXJzKGJvZHkudXNlcm5hbWUsIGhhc2gsIGJvZHkuZnVsbG5hbWUsIGJvZHkuYWRkcmVzcywgcm9sZSlcclxuICAgICAgICByZXMucmVkaXJlY3QoXCIvXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtIb21lVXNlcixMb2dpblVzZXIsU2luZ2xlUGFnZSxSZWdpc3RlclVzZXIsbG9naW5fYXV0aF9Vc2VyLGxvZ291dF9Vc2VyLHJlcXVlc3RfcmVnaXN0ZXIsQnlOZXdzfSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEdBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLFVBQUEsR0FBQUwsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFLLFNBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFNLFVBQUEsR0FBQVAsc0JBQUEsQ0FBQUMsT0FBQTtBQUE2QyxTQUFBRCx1QkFBQVEsR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUU3QyxNQUFNRyxRQUFRLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFFakMsSUFBSUMsSUFBSSxHQUFHLElBQUk7RUFFZixJQUFJRixHQUFHLENBQUNHLE9BQU8sQ0FBQ0QsSUFBSSxFQUFFO0lBQ2xCQSxJQUFJLEdBQUdGLEdBQUcsQ0FBQ0csT0FBTyxDQUFDRCxJQUFJO0VBQzNCOztFQUVBO0VBQ0EsSUFBSUUsTUFBTSxHQUFHLENBQUM7RUFDZCxJQUFJQyxJQUFJLEdBQUcsTUFBTUMsa0JB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_connectDB","_postModel","_newsModel","_bcryptjs","_userModel","obj","__esModule","default","HomeUser","req","res","auth","session","limitt","list","postModel","list_hot_post_user","lists","list_new_post_user","render","data","page","title","SinglePage","id","params","item","detail_post","items","newsModel","list_news_all","ByNews","news_id","list_by_news","itemss","LoginUser","login_auth_User","body","username","password","status","send","userModel","groupid","console","log","hash","bcrypt","hashSync","genSaltSync","compareSync","name","pass","role","redirect","error","logout_User","destroy","RegisterUser","request_register","fullname","address","insert_user_Users","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["HomeUserController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs'\r\nimport con from \"../config/connectDB\"\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\nimport bcrypt from 'bcryptjs'\r\nimport userModel from \"../services/userModel\"\r\n\r\nconst HomeUser = async (req, res) => {\r\n\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n\r\n    //lay 3 tin tuc noi bat\r\n    var limitt = 3\r\n    let list = await postModel.list_hot_post_user(limitt)\r\n   \r\n\r\n    //lay tin tuc moi nhat\r\n  \r\n    let lists = await postModel.list_new_post_user()\r\n\r\n\r\n    res.render('User/HomeUser', {data: {page: 'IndexUser', title: 'Trang Chu',list:list,lists:lists,auth:auth}})\r\n}\r\n\r\n//chi tiet bai viet singlepost\r\n\r\nconst SinglePage = async (req, res) => {\r\n\r\n    let id = req.params.id\r\n    let item = await postModel.detail_post(id)\r\n\r\n    //lay ra danh sach tin tuc\r\n\r\n   let items = await newsModel.list_news_all(); \r\n\r\n\r\n    res.render('User/HomeUser', {data: {page: 'SinglePage',item:item,items:items}})\r\n}\r\n\r\n  //hien thi bai viet theo tin tuc\r\nconst ByNews = async (req, res) => {\r\n\r\n    let news_id = req.params.id\r\n    let items = await postModel.list_by_news(news_id)\r\n\r\n    //lay ra danh sach tin tuc\r\n\r\n\r\n    let itemss = await newsModel.list_news_all(); \r\n  \r\n\r\n\r\n    res.render('User/HomeUser', {data: {page: 'ByNews',items:items,itemss:itemss}})\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nconst LoginUser = (req, res) => {\r\n    res.render('User/LoginUser', {data: {title: 'Login'}})\r\n}\r\n\r\n\r\n\r\nconst login_auth_User = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username || !body.password) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else {\r\n        try {\r\n            let auth = await userModel.auth(body.username)\r\n\r\n            if (!auth[0].username || !auth[0].password || !auth[0].groupid) {\r\n                console.log(\"khong ton tai tk\")\r\n            }\r\n            else {\r\n\r\n              \r\n                let hash = bcrypt.hashSync(body.password, bcrypt.genSaltSync(10))\r\n                \r\n               if(auth[0].groupid == 1){\r\n                            if (bcrypt.compareSync(body.password, auth[0].password)) {\r\n                                req.session.auth = {name:auth[0].username, pass:auth[0].password, role:auth[0].groupid}\r\n                                res.redirect(\"/\")\r\n                            }\r\n                            else {\r\n                                console.log(\"sai mat khau\")\r\n                            }\r\n                }\r\n               else{\r\n                console.log(\"sai mat khau\")\r\n               }\r\n            }\r\n\r\n        } catch (error) {\r\n            console.log(error)\r\n        }\r\n    }\r\n}\r\n\r\nconst logout_User = (req, res) => {\r\n    req.session.destroy()\r\n    res.redirect('/')\r\n}\r\n\r\n\r\nconst RegisterUser = (req, res) => {\r\n    res.render('User/RegisterUser', {data: {title: 'Register'}})\r\n}\r\n\r\n\r\n\r\nconst request_register = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.username || !body.password || !body.fullname || !body.address) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        \r\n        let role = 1\r\n        let pass = bcrypt.genSaltSync(10)\r\n        let hash = bcrypt.hashSync(body.password, pass)\r\n\r\n\r\n        await userModel.insert_user_Users(body.username, hash, body.fullname, body.address, role)\r\n        res.redirect(\"/\")\r\n    }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\nexport default {HomeUser,LoginUser,SinglePage,RegisterUser,login_auth_User,logout_User,request_register,ByNews}"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,GAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,UAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,UAAA,GAAAL,sBAAA,CAAAC,OAAA;AACA,IAAAK,SAAA,GAAAN,sBAAA,CAAAC,OAAA;AACA,IAAAM,UAAA,GAAAP,sBAAA,CAAAC,OAAA;AAA6C,SAAAD,uBAAAQ,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE7C,MAAMG,QAAQ,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EAEjC,IAAIC,IAAI,GAAG,IAAI;EAEf,IAAIF,GAAG,CAACG,OAAO,CAACD,IAAI,EAAE;IAClBA,IAAI,GAAGF,GAAG,CAACG,OAAO,CAACD,IAAI;EAC3B;;EAEA;EACA,IAAIE,MAAM,GAAG,CAAC;EACd,IAAIC,IAAI,GAAG,MAAMC,kBAAS,CAACC,kBAAkB,CAACH,MAAM,CAAC;;EAGrD;;EAEA,IAAII,KAAK,GAAG,MAAMF,kBAAS,CAACG,kBAAkB,CAAC,CAAC;EAGhDR,GAAG,CAACS,MAAM,CAAC,eAAe,EAAE;IAACC,IAAI,EAAE;MAACC,IAAI,EAAE,WAAW;MAAEC,KAAK,EAAE,WAAW;MAACR,IAAI,EAACA,IAAI;MAACG,KAAK,EAACA,KAAK;MAACN,IAAI,EAACA;IAAI;EAAC,CAAC,CAAC;AAChH,CAAC;;AAED;;AAEA,MAAMY,UAAU,GAAG,MAAAA,CAAOd,GAAG,EAAEC,GAAG,KAAK;EAEnC,IAAIc,EAAE,GAAGf,GAAG,CAACgB,MAAM,CAACD,EAAE;EACtB,IAAIE,IAAI,GAAG,MAAMX,kBAAS,CAACY,WAAW,CAACH,EAAE,CAAC;;EAE1C;;EAED,IAAII,KAAK,GAAG,MAAMC,kBAAS,CAACC,aAAa,CAAC,CAAC;EAG1CpB,GAAG,CAACS,MAAM,CAAC,eAAe,EAAE;IAACC,IAAI,EAAE;MAACC,IAAI,EAAE,YAAY;MAACK,IAAI,EAACA,IAAI;MAACE,KAAK,EAACA;IAAK;EAAC,CAAC,CAAC;AACnF,CAAC;;AAEC;AACF,MAAMG,MAAM,GAAG,MAAAA,CAAOtB,GAAG,EAAEC,GAAG,KAAK;EAE/B,IAAIsB,OAAO,GAAGvB,GAAG,CAACgB,MAAM,CAACD,EAAE;EAC3B,IAAII,KAAK,GAAG,MAAMb,kBAAS,CAACkB,YAAY,CAACD,OAAO,CAAC;;EAEjD;;EAGA,IAAIE,MAAM,GAAG,MAAML,kBAAS,CAACC,aAAa,CAAC,CAAC;EAI5CpB,GAAG,CAACS,MAAM,CAAC,eAAe,EAAE;IAACC,IAAI,EAAE;MAACC,IAAI,EAAE,QAAQ;MAACO,KAAK,EAACA,KAAK;MAACM,MAAM,EAACA;IAAM;EAAC,CAAC,CAAC;AACnF,CAAC;AAQD,MAAMC,SAAS,GAAGA,CAAC1B,GAAG,EAAEC,GAAG,KAAK;EAC5BA,GAAG,CAACS,MAAM,CAAC,gBAAgB,EAAE;IAACC,IAAI,EAAE;MAACE,KAAK,EAAE;IAAO;EAAC,CAAC,CAAC;AAC1D,CAAC;AAID,MAAMc,eAAe,GAAG,MAAAA,CAAO3B,GAAG,EAAEC,GAAG,KAAK;EACxC,IAAI2B,IAAI,GAAG5B,GAAG,CAAC4B,IAAI;EACnB,IAAI,CAACA,IAAI,CAACC,QAAQ,IAAI,CAACD,IAAI,CAACE,QAAQ,EAAE;IAClC7B,GAAG,CAAC8B,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,4BAA4B,CAAC;EACtD,CAAC,MACI;IACD,IAAI;MACA,IAAI9B,IAAI,GAAG,MAAM+B,kBAAS,CAAC/B,IAAI,CAAC0B,IAAI,CAACC,QAAQ,CAAC;MAE9C,IAAI,CAAC3B,IAAI,CAAC,CAAC,CAAC,CAAC2B,QAAQ,IAAI,CAAC3B,IAAI,CAAC,CAAC,CAAC,CAAC4B,QAAQ,IAAI,CAAC5B,IAAI,CAAC,CAAC,CAAC,CAACgC,OAAO,EAAE;QAC5DC,OAAO,CAACC,GAAG,CAAC,kBAAkB,CAAC;MACnC,CAAC,MACI;QAGD,IAAIC,IAAI,GAAGC,iBAAM,CAACC,QAAQ,CAACX,IAAI,CAACE,QAAQ,EAAEQ,iBAAM,CAACE,WAAW,CAAC,EAAE,CAAC,CAAC;QAElE,IAAGtC,IAAI,CAAC,CAAC,CAAC,CAACgC,OAAO,IAAI,CAAC,EAAC;UACX,IAAII,iBAAM,CAACG,WAAW,CAACb,IAAI,CAACE,QAAQ,EAAE5B,IAAI,CAAC,CAAC,CAAC,CAAC4B,QAAQ,CAAC,EAAE;YACrD9B,GAAG,CAACG,OAAO,CAACD,IAAI,GAAG;cAACwC,IAAI,EAACxC,IAAI,CAAC,CAAC,CAAC,CAAC2B,QAAQ;cAAEc,IAAI,EAACzC,IAAI,CAAC,CAAC,CAAC,CAAC4B,QAAQ;cAAEc,IAAI,EAAC1C,IAAI,CAAC,CAAC,CAAC,CAACgC;YAAO,CAAC;YACvFjC,GAAG,CAAC4C,QAAQ,CAAC,GAAG,CAAC;UACrB,CAAC,MACI;YACDV,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;UAC/B;QACZ,CAAC,MACE;UACHD,OAAO,CAACC,GAAG,CAAC,cAAc,CAAC;QAC5B;MACH;IAEJ,CAAC,CAAC,OAAOU,KAAK,EAAE;MACZX,OAAO,CAACC,GAAG,CAACU,KAAK,CAAC;IACtB;EACJ;AACJ,CAAC;AAED,MAAMC,WAAW,GAAGA,CAAC/C,GAAG,EAAEC,GAAG,KAAK;EAC9BD,GAAG,CAACG,OAAO,CAAC6C,OAAO,CAAC,CAAC;EACrB/C,GAAG,CAAC4C,QAAQ,CAAC,GAAG,CAAC;AACrB,CAAC;AAGD,MAAMI,YAAY,GAAGA,CAACjD,GAAG,EAAEC,GAAG,KAAK;EAC/BA,GAAG,CAACS,MAAM,CAAC,mBAAmB,EAAE;IAACC,IAAI,EAAE;MAACE,KAAK,EAAE;IAAU;EAAC,CAAC,CAAC;AAChE,CAAC;AAID,MAAMqC,gBAAgB,GAAG,MAAAA,CAAOlD,GAAG,EAAEC,GAAG,KAAK;EACzC,IAAI2B,IAAI,GAAG5B,GAAG,CAAC4B,IAAI;EACnB,IAAI,CAACA,IAAI,CAACC,QAAQ,IAAI,CAACD,IAAI,CAACE,QAAQ,IAAI,CAACF,IAAI,CAACuB,QAAQ,IAAI,CAACvB,IAAI,CAACwB,OAAO,EAAE;IACrEnD,GAAG,CAAC8B,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,4BAA4B,CAAC;EACtD,CAAC,MACG;IAEA,IAAIY,IAAI,GAAG,CAAC;IACZ,IAAID,IAAI,GAAGL,iBAAM,CAACE,WAAW,CAAC,EAAE,CAAC;IACjC,IAAIH,IAAI,GAAGC,iBAAM,CAACC,QAAQ,CAACX,IAAI,CAACE,QAAQ,EAAEa,IAAI,CAAC;IAG/C,MAAMV,kBAAS,CAACoB,iBAAiB,CAACzB,IAAI,CAACC,QAAQ,EAAEQ,IAAI,EAAET,IAAI,CAACuB,QAAQ,EAAEvB,IAAI,CAACwB,OAAO,EAAER,IAAI,CAAC;IACzF3C,GAAG,CAAC4C,QAAQ,CAAC,GAAG,CAAC;EACrB;AACJ,CAAC;AAAA,IAAAS,QAAA,GAAAC,OAAA,CAAAzD,OAAA,GAQc;EAACC,QAAQ;EAAC2B,SAAS;EAACZ,UAAU;EAACmC,YAAY;EAACtB,eAAe;EAACoB,WAAW;EAACG,gBAAgB;EAAC5B;AAAM,CAAC"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\services\\\\postModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n//trang nguoi dung  -- hien thi bai viet theo tin tuc\nconst list_by_news = async news_id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts` WHERE posts.news_id = ? ORDER BY posts.id DESC', [news_id]);\n  return rows;\n};\n\n//show user noi bat\nconst list_hot_post_user = async limitt => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts` ORDER BY posts.id DESC  LIMIT ?', [limitt]);\n  return rows;\n};\n\n//moi nhat\nconst list_new_post_user = async () => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts`');\n  return rows;\n};\nconst list_post = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `posts` LIMIT ?, ?', [from, to]);\n  return rows;\n};\nconst insert_post = async (title, content, image, news_id, currentDate) => {\n  await _connectDB.default.execute('INSERT INTO `posts`(`title`, `content`, `image`, `news_id`,`create_at`) VALUES (?, ?, ?, ?,?)', [title, content, image, news_id, currentDate]);\n};\nconst detail_post = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM posts WHERE posts.id = ?', [id]);\n  return rows;\n};\nconst detail_post_edit = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM posts WHERE posts.id = ?', [id]);\n  return rows;\n};\nconst edit_post = async (title, content, image, news_id, id) => {\n  await _connectDB.default.execute('UPDATE `posts` SET `title`=?,`content`=?,`image`=?,`news_id`=? where posts.id = ?  ', [title, content, image, news_id, id]);\n};\nconst del_post = async id => {\n  await _connectDB.default.execute('DELETE FROM `posts` WHERE posts.id = ?', [id]);\n};\nvar _default = exports.default = {\n  list_post,\n  insert_post,\n  detail_post,\n  edit_post,\n  detail_post_edit,\n  del_post,\n  list_hot_post_user,\n  list_new_post_user,\n  list_by_news\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfYnlfbmV3cyIsIm5ld3NfaWQiLCJyb3dzIiwiZmllbGRzIiwiY29uIiwiZXhlY3V0ZSIsImxpc3RfaG90X3Bvc3RfdXNlciIsImxpbWl0dCIsImxpc3RfbmV3X3Bvc3RfdXNlciIsImxpc3RfcG9zdCIsImZyb20iLCJ0byIsImluc2VydF9wb3N0IiwidGl0bGUiLCJjb250ZW50IiwiaW1hZ2UiLCJjdXJyZW50RGF0ZSIsImRldGFpbF9wb3N0IiwiaWQiLCJkZXRhaWxfcG9zdF9lZGl0IiwiZWRpdF9wb3N0IiwiZGVsX3Bvc3QiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxOb2RlX0Jhb0Nhb1xcTm9kZV9BUElcXHNyY1xcc2VydmljZXNcXCIsInNvdXJjZXMiOlsicG9zdE1vZGVsLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBjb24gZnJvbSBcIi4vLi4vY29uZmlnL2Nvbm5lY3REQlwiXHJcblxyXG4vL3RyYW5nIG5ndW9pIGR1bmcgIC0tIGhpZW4gdGhpIGJhaSB2aWV0IHRoZW8gdGluIHR1Y1xyXG5jb25zdCBsaXN0X2J5X25ld3MgPSBhc3luYyAobmV3c19pZCkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBgcG9zdHNgIFdIRVJFIHBvc3RzLm5ld3NfaWQgPSA/IE9SREVSIEJZIHBvc3RzLmlkIERFU0MnLFtuZXdzX2lkXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuXHJcblxyXG4vL3Nob3cgdXNlciBub2kgYmF0XHJcbmNvbnN0IGxpc3RfaG90X3Bvc3RfdXNlciA9IGFzeW5jIChsaW1pdHQpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYHBvc3RzYCBPUkRFUiBCWSBwb3N0cy5pZCBERVNDICBMSU1JVCA/JywgW2xpbWl0dF0pXHJcbiAgICByZXR1cm4gcm93c1xyXG59XHJcblxyXG4vL21vaSBuaGF0XHJcbmNvbnN0IGxpc3RfbmV3X3Bvc3RfdXNlciA9IGFzeW5jICgpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYHBvc3RzYCcpXHJcbiAgICByZXR1cm4gcm93c1xyXG59XHJcblxyXG5jb25zdCBsaXN0X3Bvc3QgPSBhc3luYyAoZnJvbSwgdG8pID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gYHBvc3RzYCBMSU1JVCA/LCA/JywgW2Zyb20sIHRvXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF9wb3N0ID0gYXN5bmMgKHRpdGxlLCBjb250ZW50LCBpbWFnZSwgbmV3c19pZCwgY3VycmVudERhdGUpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdJTlNFUlQgSU5UTyBgcG9zdHNgKGB0aXRsZWAsIGBjb250ZW50YCwgYGltYWdlYCwgYG5ld3NfaWRgLGBjcmVhdGVfYXRgKSBWQUxVRVMgKD8sID8sID8sID8sPyknLFt0aXRsZSwgY29udGVudCwgaW1hZ2UsIG5ld3NfaWQsY3VycmVudERhdGVdKVxyXG59IFxyXG5jb25zdCBkZXRhaWxfcG9zdCA9IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBwb3N0cyBXSEVSRSBwb3N0cy5pZCA9ID8nLCBbaWRdKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5cclxuY29uc3QgZGV0YWlsX3Bvc3RfZWRpdCA9IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBwb3N0cyBXSEVSRSBwb3N0cy5pZCA9ID8nLCBbaWRdKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5jb25zdCBlZGl0X3Bvc3QgPSBhc3luYyAodGl0bGUsIGNvbnRlbnQsIGltYWdlLCBuZXdzX2lkLCBpZCkgPT4ge1xyXG4gICAgYXdhaXQgY29uLmV4ZWN1dGUoJ1VQREFURSBgcG9zdHNgIFNFVCBgdGl0bGVgPT8sYGNvbnRlbnRgPT8sYGltYWdlYD0/LGBuZXdzX2lkYD0/IHdoZXJlIHBvc3RzLmlkID0gPyAgJyxbdGl0bGUsIGNvbnRlbnQsIGltYWdlLCBuZXdzX2lkLCBpZF0pXHJcbn1cclxuXHJcbmNvbnN0IGRlbF9wb3N0ID0gYXN5bmMgKGlkKSA9PiB7XHJcbiAgICBhd2FpdCBjb24uZXhlY3V0ZSgnREVMRVRFIEZST00gYHBvc3RzYCBXSEVSRSBwb3N0cy5pZCA9ID8nLFtpZF0pXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQge2xpc3RfcG9zdCxpbnNlcnRfcG9zdCxkZXRhaWxfcG9zdCxlZGl0X3Bvc3QsZGV0YWlsX3Bvc3RfZWRpdCxkZWxfcG9zdCxsaXN0X2hvdF9wb3N0X3VzZXIsbGlzdF9uZXdfcG9zdF91c2VyLGxpc3RfYnlfbmV3c30iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsSUFBQUEsVUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQXVDLFNBQUFELHVCQUFBRSxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBRXZDO0FBQ0EsTUFBTUcsWUFBWSxHQUFHLE1BQU9DLE9BQU8sSUFBSztFQUNwQyxNQUFNLENBQUNDLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHNFQUFzRSxFQUFDLENBQUNKLE9BQU8sQ0FBQyxDQUFDO0VBQzFILE9BQU9DLElBQUk7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","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","list_by_news","news_id","rows","fields","con","execute","list_hot_post_user","limitt","list_new_post_user","list_post","from","to","insert_post","title","content","image","currentDate","detail_post","id","detail_post_edit","edit_post","del_post","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\services\\","sources":["postModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\n//trang nguoi dung  -- hien thi bai viet theo tin tuc\r\nconst list_by_news = async (news_id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts` WHERE posts.news_id = ? ORDER BY posts.id DESC',[news_id])\r\n    return rows\r\n}\r\n\r\n\r\n//show user noi bat\r\nconst list_hot_post_user = async (limitt) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts` ORDER BY posts.id DESC  LIMIT ?', [limitt])\r\n    return rows\r\n}\r\n\r\n//moi nhat\r\nconst list_new_post_user = async () => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts`')\r\n    return rows\r\n}\r\n\r\nconst list_post = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `posts` LIMIT ?, ?', [from, to])\r\n    return rows\r\n}\r\n\r\nconst insert_post = async (title, content, image, news_id, currentDate) => {\r\n    await con.execute('INSERT INTO `posts`(`title`, `content`, `image`, `news_id`,`create_at`) VALUES (?, ?, ?, ?,?)',[title, content, image, news_id,currentDate])\r\n} \r\nconst detail_post = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM posts WHERE posts.id = ?', [id])\r\n    return rows\r\n}\r\n\r\nconst detail_post_edit = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM posts WHERE posts.id = ?', [id])\r\n    return rows\r\n}\r\nconst edit_post = async (title, content, image, news_id, id) => {\r\n    await con.execute('UPDATE `posts` SET `title`=?,`content`=?,`image`=?,`news_id`=? where posts.id = ?  ',[title, content, image, news_id, id])\r\n}\r\n\r\nconst del_post = async (id) => {\r\n    await con.execute('DELETE FROM `posts` WHERE posts.id = ?',[id])\r\n}\r\nexport default {list_post,insert_post,detail_post,edit_post,detail_post_edit,del_post,list_hot_post_user,list_new_post_user,list_by_news}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEvC;AACA,MAAMG,YAAY,GAAG,MAAOC,OAAO,IAAK;EACpC,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,sEAAsE,EAAC,CAACJ,OAAO,CAAC,CAAC;EAC1H,OAAOC,IAAI;AACf,CAAC;;AAGD;AACA,MAAMI,kBAAkB,GAAG,MAAOC,MAAM,IAAK;EACzC,MAAM,CAACL,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,uDAAuD,EAAE,CAACE,MAAM,CAAC,CAAC;EAC3G,OAAOL,IAAI;AACf,CAAC;;AAED;AACA,MAAMM,kBAAkB,GAAG,MAAAA,CAAA,KAAY;EACnC,MAAM,CAACN,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,uBAAuB,CAAC;EACjE,OAAOH,IAAI;AACf,CAAC;AAED,MAAMO,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACT,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,kCAAkC,EAAE,CAACK,IAAI,EAAEC,EAAE,CAAC,CAAC;EACxF,OAAOT,IAAI;AACf,CAAC;AAED,MAAMU,WAAW,GAAG,MAAAA,CAAOC,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEd,OAAO,EAAEe,WAAW,KAAK;EACvE,MAAMZ,kBAAG,CAACC,OAAO,CAAC,+FAA+F,EAAC,CAACQ,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEd,OAAO,EAACe,WAAW,CAAC,CAAC;AACnK,CAAC;AACD,MAAMC,WAAW,GAAG,MAAOC,EAAE,IAAK;EAC9B,MAAM,CAAChB,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAE,CAACa,EAAE,CAAC,CAAC;EACxF,OAAOhB,IAAI;AACf,CAAC;AAED,MAAMiB,gBAAgB,GAAG,MAAOD,EAAE,IAAK;EACnC,MAAM,CAAChB,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAE,CAACa,EAAE,CAAC,CAAC;EACxF,OAAOhB,IAAI;AACf,CAAC;AACD,MAAMkB,SAAS,GAAG,MAAAA,CAAOP,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEd,OAAO,EAAEiB,EAAE,KAAK;EAC5D,MAAMd,kBAAG,CAACC,OAAO,CAAC,qFAAqF,EAAC,CAACQ,KAAK,EAAEC,OAAO,EAAEC,KAAK,EAAEd,OAAO,EAAEiB,EAAE,CAAC,CAAC;AACjJ,CAAC;AAED,MAAMG,QAAQ,GAAG,MAAOH,EAAE,IAAK;EAC3B,MAAMd,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAC,CAACa,EAAE,CAAC,CAAC;AACpE,CAAC;AAAA,IAAAI,QAAA,GAAAC,OAAA,CAAAxB,OAAA,GACc;EAACU,SAAS;EAACG,WAAW;EAACK,WAAW;EAACG,SAAS;EAACD,gBAAgB;EAACE,QAAQ;EAACf,kBAAkB;EAACE,kBAAkB;EAACR;AAAY,CAAC"}},"mtime":1700138241438},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\services\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\services\\\\newsModel.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nrequire(\"core-js/modules/web.dom-collections.iterator.js\");\nvar _connectDB = _interopRequireDefault(require(\"./../config/connectDB\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst list_news_all = async () => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `news`');\n  return rows;\n};\nconst GetById = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM news WHERE news.id LIKE ?', [id]);\n  return rows;\n};\nconst list_news = async (from, to) => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM `news` LIMIT ?, ?', [from, to]);\n  return rows;\n};\nconst insert_news = async title => {\n  await _connectDB.default.execute('INSERT INTO `news`(`title`) VALUES (?)', [title]);\n};\nconst detail_news = async title => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM news WHERE news.title LIKE ?', [title]);\n  return rows;\n};\nconst detail_news_edit = async id => {\n  const [rows, fields] = await _connectDB.default.execute('SELECT * FROM news WHERE news.id LIKE ?', [id]);\n  return rows;\n};\nconst edit_news = async (title, id) => {\n  await _connectDB.default.execute('UPDATE `news` SET `title`=? where news.id = ?  ', [title, id]);\n};\nconst del_news = async id => {\n  await _connectDB.default.execute('DELETE FROM `news` WHERE news.id = ?', [id]);\n};\nvar _default = exports.default = {\n  list_news,\n  insert_news,\n  detail_news,\n  edit_news,\n  detail_news_edit,\n  del_news,\n  list_news_all,\n  GetById\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfY29ubmVjdERCIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfbmV3c19hbGwiLCJyb3dzIiwiZmllbGRzIiwiY29uIiwiZXhlY3V0ZSIsIkdldEJ5SWQiLCJpZCIsImxpc3RfbmV3cyIsImZyb20iLCJ0byIsImluc2VydF9uZXdzIiwidGl0bGUiLCJkZXRhaWxfbmV3cyIsImRldGFpbF9uZXdzX2VkaXQiLCJlZGl0X25ld3MiLCJkZWxfbmV3cyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxzZXJ2aWNlc1xcIiwic291cmNlcyI6WyJuZXdzTW9kZWwuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGNvbiBmcm9tIFwiLi8uLi9jb25maWcvY29ubmVjdERCXCJcclxuXHJcbmNvbnN0IGxpc3RfbmV3c19hbGwgPSBhc3luYyAoKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIGBuZXdzYCcpXHJcbiAgICByZXR1cm4gcm93c1xyXG59IFxyXG5cclxuY29uc3QgR2V0QnlJZCA9IGFzeW5jIChpZCkgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBuZXdzIFdIRVJFIG5ld3MuaWQgTElLRSA/JywgW2lkXSlcclxuICAgIHJldHVybiByb3dzXHJcbn1cclxuXHJcbmNvbnN0IGxpc3RfbmV3cyA9IGFzeW5jIChmcm9tLCB0bykgPT4ge1xyXG4gICAgY29uc3QgW3Jvd3MsIGZpZWxkc10gPSBhd2FpdCBjb24uZXhlY3V0ZSgnU0VMRUNUICogRlJPTSBgbmV3c2AgTElNSVQgPywgPycsIFtmcm9tLCB0b10pXHJcbiAgICByZXR1cm4gcm93c1xyXG59IFxyXG5cclxuY29uc3QgaW5zZXJ0X25ld3MgPSBhc3luYyAodGl0bGUpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdJTlNFUlQgSU5UTyBgbmV3c2AoYHRpdGxlYCkgVkFMVUVTICg/KScsW3RpdGxlXSlcclxufSBcclxuY29uc3QgZGV0YWlsX25ld3MgPSBhc3luYyAodGl0bGUpID0+IHtcclxuICAgIGNvbnN0IFtyb3dzLCBmaWVsZHNdID0gYXdhaXQgY29uLmV4ZWN1dGUoJ1NFTEVDVCAqIEZST00gbmV3cyBXSEVSRSBuZXdzLnRpdGxlIExJS0UgPycsIFt0aXRsZV0pXHJcbiAgICByZXR1cm4gcm93c1xyXG59XHJcblxyXG5jb25zdCBkZXRhaWxfbmV3c19lZGl0ID0gYXN5bmMgKGlkKSA9PiB7XHJcbiAgICBjb25zdCBbcm93cywgZmllbGRzXSA9IGF3YWl0IGNvbi5leGVjdXRlKCdTRUxFQ1QgKiBGUk9NIG5ld3MgV0hFUkUgbmV3cy5pZCBMSUtFID8nLCBbaWRdKVxyXG4gICAgcmV0dXJuIHJvd3NcclxufVxyXG5jb25zdCBlZGl0X25ld3MgPSBhc3luYyAodGl0bGUsaWQpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdVUERBVEUgYG5ld3NgIFNFVCBgdGl0bGVgPT8gd2hlcmUgbmV3cy5pZCA9ID8gICcsW3RpdGxlLGlkXSlcclxufVxyXG5cclxuY29uc3QgZGVsX25ld3MgPSBhc3luYyAoaWQpID0+IHtcclxuICAgIGF3YWl0IGNvbi5leGVjdXRlKCdERUxFVEUgRlJPTSBgbmV3c2AgV0hFUkUgbmV3cy5pZCA9ID8nLFtpZF0pXHJcbn1cclxuZXhwb3J0IGRlZmF1bHQge2xpc3RfbmV3cyxpbnNlcnRfbmV3cyxkZXRhaWxfbmV3cyxlZGl0X25ld3MsZGV0YWlsX25ld3NfZWRpdCxkZWxfbmV3cywgbGlzdF9uZXdzX2FsbCxHZXRCeUlkfSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBQSxJQUFBQSxVQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFBdUMsU0FBQUQsdUJBQUFFLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFdkMsTUFBTUcsYUFBYSxHQUFHLE1BQUFBLENBQUEsS0FBWTtFQUM5QixNQUFNLENBQUNDLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHNCQUFzQixDQUFDO0VBQ2hFLE9BQU9ILElBQUk7QUFDZixDQUFDO0FBRUQsTUFBTUksT0FBTyxHQUFHLE1BQU9DLEVBQUUsSUFBSztFQUMxQixNQUFNLENBQUNMLElBQUksRUFBRUMsTUFBTSxDQUFDLEdBQUcsTUFBTUMsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHlDQUF5QyxFQUFFLENBQUNFLEVBQUUsQ0FBQyxDQUFDO0VBQ3pGLE9BQU9MLElBQUk7QUFDZixDQUFDO0FBRUQsTUFBTU0sU0FBUyxHQUFHLE1BQUFBLENBQU9DLElBQUksRUFBRUMsRUFBRSxLQUFLO0VBQ2xDLE1BQU0sQ0FBQ1IsSUFBSSxFQUFFQyxNQUFNLENBQUMsR0FBRyxNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsaUNBQWlDLEVBQUUsQ0FBQ0ksSUFBSSxFQUFFQyxFQUFFLENBQUMsQ0FBQztFQUN2RixPQUFPUixJQUFJO0FBQ2YsQ0FBQztBQUVELE1BQU1TLFdBQVcsR0FBRyxNQUFPQyxLQUFLLElBQUs7RUFDakMsTUFBTVIsa0JBQUcsQ0FBQ0MsT0FBTyxDQUFDLHdDQUF3QyxFQUFDLENBQUNPLEtBQUssQ0FBQyxDQUFDO0FBQ3ZFLENBQUM7QUFDRCxNQUFNQyxXQUFXLEdBQUcsTUFBT0QsS0FBSyxJQUFLO0VBQ2pDLE1BQU0sQ0FBQ1YsSUFBSSxFQUFFQyxNQUFNLENBQUMsR0FBRyxNQUFNQyxrQkFBRyxDQUFDQyxPQUFPLENBQUMsNENBQTRDLEVBQUUsQ0FBQ08sS0FBSyxDQUFDLENBQUM7RUFDL0YsT0FBT1YsSUFBSTtBQUNmLENBQUM7QUFFRCxNQUFNWSxnQkFBZ0IsR0FBRyxNQUFPUCxFQUFFLElBQUs7RUFDbkMsTUFBTSxDQUFDTCxJQUFJLEVBQUVDLE1BQU0sQ0FBQyxHQUFHLE1BQU1DLGtCQUFHLENBQUNDLE9BQU8sQ0FBQyx5Q0FBeUMsRUFBRSxDQUFDRSxFQUFFLENBQUMsQ0FBQztFQUN6RixPQUFPTCxJQUFJO0FBQ2YsQ0FBQztBQUNELE1BQU1hLFNBQVMsR0FBRyxNQUFBQSxDQUFPSCxLQUFLLEVBQUNMLEVBQUUsS0FBSztFQUNsQyxNQUFNSCxrQkFBRyxDQUFDQyxPQUFPLENBQUMsaURBQWlELEVBQUMsQ0FBQ08sS0FBSyxFQUFDTCxFQUFFLENBQUMsQ0FBQztBQUNuRixDQUFDO0FBRUQsTUFBTVMsUUFBUSxHQUFHLE1BQU9ULEVBQUUsSUFBSztFQUMzQixNQUFNSCxrQkFBRyxDQUFDQyxPQUFPLENBQUMsc0NBQXNDLEVBQUMsQ0FBQ0UsRUFBRSxDQUFDLENBQUM7QUFDbEUsQ0FBQztBQUFBLElBQUFVLFFBQUEsR0FBQUMsT0FBQSxDQUFBbEIsT0FBQSxHQUNjO0VBQUNRLFNBQVM7RUFBQ0csV0FBVztFQUFDRSxXQUFXO0VBQUNFLFNBQVM7RUFBQ0QsZ0JBQWdCO0VBQUNFLFFBQVE7RUFBRWYsYUFBYTtFQUFDSztBQUFPLENBQUMifQ==","map":{"version":3,"names":["_connectDB","_interopRequireDefault","require","obj","__esModule","default","list_news_all","rows","fields","con","execute","GetById","id","list_news","from","to","insert_news","title","detail_news","detail_news_edit","edit_news","del_news","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\services\\","sources":["newsModel.js"],"sourcesContent":["import con from \"./../config/connectDB\"\r\n\r\nconst list_news_all = async () => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `news`')\r\n    return rows\r\n} \r\n\r\nconst GetById = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM news WHERE news.id LIKE ?', [id])\r\n    return rows\r\n}\r\n\r\nconst list_news = async (from, to) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM `news` LIMIT ?, ?', [from, to])\r\n    return rows\r\n} \r\n\r\nconst insert_news = async (title) => {\r\n    await con.execute('INSERT INTO `news`(`title`) VALUES (?)',[title])\r\n} \r\nconst detail_news = async (title) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM news WHERE news.title LIKE ?', [title])\r\n    return rows\r\n}\r\n\r\nconst detail_news_edit = async (id) => {\r\n    const [rows, fields] = await con.execute('SELECT * FROM news WHERE news.id LIKE ?', [id])\r\n    return rows\r\n}\r\nconst edit_news = async (title,id) => {\r\n    await con.execute('UPDATE `news` SET `title`=? where news.id = ?  ',[title,id])\r\n}\r\n\r\nconst del_news = async (id) => {\r\n    await con.execute('DELETE FROM `news` WHERE news.id = ?',[id])\r\n}\r\nexport default {list_news,insert_news,detail_news,edit_news,detail_news_edit,del_news, list_news_all,GetById}"],"mappings":";;;;;;;;AAAA,IAAAA,UAAA,GAAAC,sBAAA,CAAAC,OAAA;AAAuC,SAAAD,uBAAAE,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAEvC,MAAMG,aAAa,GAAG,MAAAA,CAAA,KAAY;EAC9B,MAAM,CAACC,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,sBAAsB,CAAC;EAChE,OAAOH,IAAI;AACf,CAAC;AAED,MAAMI,OAAO,GAAG,MAAOC,EAAE,IAAK;EAC1B,MAAM,CAACL,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,yCAAyC,EAAE,CAACE,EAAE,CAAC,CAAC;EACzF,OAAOL,IAAI;AACf,CAAC;AAED,MAAMM,SAAS,GAAG,MAAAA,CAAOC,IAAI,EAAEC,EAAE,KAAK;EAClC,MAAM,CAACR,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,iCAAiC,EAAE,CAACI,IAAI,EAAEC,EAAE,CAAC,CAAC;EACvF,OAAOR,IAAI;AACf,CAAC;AAED,MAAMS,WAAW,GAAG,MAAOC,KAAK,IAAK;EACjC,MAAMR,kBAAG,CAACC,OAAO,CAAC,wCAAwC,EAAC,CAACO,KAAK,CAAC,CAAC;AACvE,CAAC;AACD,MAAMC,WAAW,GAAG,MAAOD,KAAK,IAAK;EACjC,MAAM,CAACV,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,4CAA4C,EAAE,CAACO,KAAK,CAAC,CAAC;EAC/F,OAAOV,IAAI;AACf,CAAC;AAED,MAAMY,gBAAgB,GAAG,MAAOP,EAAE,IAAK;EACnC,MAAM,CAACL,IAAI,EAAEC,MAAM,CAAC,GAAG,MAAMC,kBAAG,CAACC,OAAO,CAAC,yCAAyC,EAAE,CAACE,EAAE,CAAC,CAAC;EACzF,OAAOL,IAAI;AACf,CAAC;AACD,MAAMa,SAAS,GAAG,MAAAA,CAAOH,KAAK,EAACL,EAAE,KAAK;EAClC,MAAMH,kBAAG,CAACC,OAAO,CAAC,iDAAiD,EAAC,CAACO,KAAK,EAACL,EAAE,CAAC,CAAC;AACnF,CAAC;AAED,MAAMS,QAAQ,GAAG,MAAOT,EAAE,IAAK;EAC3B,MAAMH,kBAAG,CAACC,OAAO,CAAC,sCAAsC,EAAC,CAACE,EAAE,CAAC,CAAC;AAClE,CAAC;AAAA,IAAAU,QAAA,GAAAC,OAAA,CAAAlB,OAAA,GACc;EAACQ,SAAS;EAACG,WAAW;EAACE,WAAW;EAACE,SAAS;EAACD,gBAAgB;EAACE,QAAQ;EAAEf,aAAa;EAACK;AAAO,CAAC"}},"mtime":1700138241438},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\NewsController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _bcryptjs = _interopRequireDefault(require(\"bcryptjs\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\nconst list_news = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _newsModel.default.list_news(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listNews',\n        title: 'Danh sách tin tức',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst new_news = (req, res) => {\n  res.render('home', {\n    data: {\n      page: 'newNews',\n      title: 'Tạo tin tức'\n    }\n  });\n};\nconst insert_news = async (req, res) => {\n  let body = req.body;\n  if (!body.title) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    await _newsModel.default.insert_news(body.title);\n    res.redirect(\"/list-news/0-10\");\n  }\n};\nconst detail_news = async (req, res) => {\n  let title = req.params.title;\n  let list = await _newsModel.default.detail_news(title);\n  res.render('home', {\n    data: {\n      page: 'detailNews',\n      title: 'Chi tiết tin tức',\n      list: list\n    }\n  });\n};\nconst view_edit_news = async (req, res) => {\n  let id = req.params.id;\n  let list = await _newsModel.default.detail_news_edit(id);\n  res.render('home', {\n    data: {\n      page: 'viewEditNews',\n      list: list\n    }\n  });\n};\nconst edit_news = async (req, res) => {\n  const id = req.body.id;\n  let body = req.body;\n  console.table(body);\n  await _newsModel.default.edit_news(body.title, id);\n  res.redirect('/list-news/0-10');\n};\nconst del_news = async (req, res) => {\n  const id = req.body.id;\n  let list = await _newsModel.default.del_news(id);\n  res.redirect(\"/list-news/0-10\");\n};\nvar _default = exports.default = {\n  list_news,\n  new_news,\n  insert_news,\n  detail_news,\n  view_edit_news,\n  edit_news,\n  del_news\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2JjcnlwdGpzIiwiX25ld3NNb2RlbCIsIm9iaiIsIl9fZXNNb2R1bGUiLCJkZWZhdWx0IiwibGlzdF9uZXdzIiwicmVxIiwicmVzIiwiX2Zyb20iLCJwYXJhbXMiLCJmcm9tIiwiX3RvIiwidG8iLCJhdXRoIiwic2Vzc2lvbiIsImlzTmFOIiwibGlzdCIsIm5ld3NNb2RlbCIsInJlbmRlciIsImRhdGEiLCJwYWdlIiwidGl0bGUiLCJzdGF0dXMiLCJzZW5kIiwibmV3X25ld3MiLCJpbnNlcnRfbmV3cyIsImJvZHkiLCJyZWRpcmVjdCIsImRldGFpbF9uZXdzIiwidmlld19lZGl0X25ld3MiLCJpZCIsImRldGFpbF9uZXdzX2VkaXQiLCJlZGl0X25ld3MiLCJjb25zb2xlIiwidGFibGUiLCJkZWxfbmV3cyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJOZXdzQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnXHJcbmltcG9ydCBuZXdzTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL25ld3NNb2RlbFwiXHJcblxyXG5jb25zdCBsaXN0X25ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICBsZXQgX2Zyb20gPSByZXEucGFyYW1zLmZyb21cclxuICAgIGxldCBfdG8gPSByZXEucGFyYW1zLnRvXHJcbiAgICBsZXQgYXV0aCA9IG51bGxcclxuXHJcbiAgICBpZiAocmVxLnNlc3Npb24uYXV0aCkge1xyXG4gICAgICAgIGF1dGggPSByZXEuc2Vzc2lvbi5hdXRoXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChpc05hTihfZnJvbSkgPT09IGZhbHNlICYmIGlzTmFOKF90bykgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzKF9mcm9tLCBfdG8pXHJcbiAgICAgICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2xpc3ROZXdzJywgdGl0bGU6ICdEYW5oIHPDoWNoIHRpbiB04bupYycsIHBhcmFtczoge19mcm9tLCBfdG99ICwgbGlzdDpsaXN0LCBhdXRoOmF1dGh9fSlcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbmV3X25ld3MgPSAocmVxLCByZXMpID0+IHtcclxuICAgIHJlcy5yZW5kZXIoJ2hvbWUnLCB7ZGF0YToge3BhZ2U6ICduZXdOZXdzJywgdGl0bGU6ICdU4bqhbyB0aW4gdOG7qWMnfX0pXHJcbn1cclxuXHJcbmNvbnN0IGluc2VydF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBpZiAoIWJvZHkudGl0bGUgKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgXHJcbiAgICAgICBcclxuICAgICAgICBhd2FpdCBuZXdzTW9kZWwuaW5zZXJ0X25ld3MoYm9keS50aXRsZSlcclxuICAgICAgICByZXMucmVkaXJlY3QoXCIvbGlzdC1uZXdzLzAtMTBcIilcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZGV0YWlsX25ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCB0aXRsZSA9IHJlcS5wYXJhbXMudGl0bGVcclxuICAgIGxldCBsaXN0ID0gYXdhaXQgbmV3c01vZGVsLmRldGFpbF9uZXdzKHRpdGxlKVxyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2RldGFpbE5ld3MnLCB0aXRsZTogJ0NoaSB0aeG6v3QgdGluIHThu6ljJywgbGlzdDpsaXN0fX0pXHJcbn1cclxuXHJcbmNvbnN0IHZpZXdfZWRpdF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IG5ld3NNb2RlbC5kZXRhaWxfbmV3c19lZGl0KGlkKVxyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ3ZpZXdFZGl0TmV3cycsIGxpc3Q6bGlzdH19KVxyXG59XHJcblxyXG5jb25zdCBlZGl0X25ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQgXHJcbiAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICBjb25zb2xlLnRhYmxlKGJvZHkpXHJcbiAgICBhd2FpdCBuZXdzTW9kZWwuZWRpdF9uZXdzKGJvZHkudGl0bGUsaWQpXHJcbiAgICByZXMucmVkaXJlY3QoJy9saXN0LW5ld3MvMC0xMCcpXHJcbn1cclxuXHJcbmNvbnN0IGRlbF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5ib2R5LmlkIFxyXG4gXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IG5ld3NNb2RlbC5kZWxfbmV3cyhpZClcclxuICAgIHJlcy5yZWRpcmVjdChcIi9saXN0LW5ld3MvMC0xMFwiKVxyXG59XHJcblxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHtsaXN0X25ld3MsbmV3X25ld3MsaW5zZXJ0X25ld3MsZGV0YWlsX25ld3Msdmlld19lZGl0X25ld3MsZWRpdF9uZXdzLGRlbF9uZXdzfSJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMs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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_bcryptjs","_newsModel","obj","__esModule","default","list_news","req","res","_from","params","from","_to","to","auth","session","isNaN","list","newsModel","render","data","page","title","status","send","new_news","insert_news","body","redirect","detail_news","view_edit_news","id","detail_news_edit","edit_news","console","table","del_news","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["NewsController.js"],"sourcesContent":["import express from \"express\"\r\nimport bcrypt from 'bcryptjs'\r\nimport newsModel from \"../services/newsModel\"\r\n\r\nconst list_news = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await newsModel.list_news(_from, _to)\r\n        res.render('home', {data: {page: 'listNews', title: 'Danh sách tin tức', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst new_news = (req, res) => {\r\n    res.render('home', {data: {page: 'newNews', title: 'Tạo tin tức'}})\r\n}\r\n\r\nconst insert_news = async (req, res) => {\r\n    let body = req.body\r\n    if (!body.title ) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        \r\n       \r\n        await newsModel.insert_news(body.title)\r\n        res.redirect(\"/list-news/0-10\")\r\n    }\r\n}\r\n\r\nconst detail_news = async (req, res) => {\r\n    let title = req.params.title\r\n    let list = await newsModel.detail_news(title)\r\n    res.render('home', {data: {page: 'detailNews', title: 'Chi tiết tin tức', list:list}})\r\n}\r\n\r\nconst view_edit_news = async (req, res) => {\r\n    let id = req.params.id\r\n    let list = await newsModel.detail_news_edit(id)\r\n    res.render('home', {data: {page: 'viewEditNews', list:list}})\r\n}\r\n\r\nconst edit_news = async (req, res) => {\r\n    const id = req.body.id \r\n    let body = req.body\r\n    console.table(body)\r\n    await newsModel.edit_news(body.title,id)\r\n    res.redirect('/list-news/0-10')\r\n}\r\n\r\nconst del_news = async (req, res) => {\r\n    const id = req.body.id \r\n \r\n    let list = await newsModel.del_news(id)\r\n    res.redirect(\"/list-news/0-10\")\r\n}\r\n\r\n\r\n\r\nexport default {list_news,new_news,insert_news,detail_news,view_edit_news,edit_news,del_news}"],"mappings":"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"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\PostController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thư viện thao tác file\n\nconst list_post = async (req, res) => {\n  let _from = req.params.from;\n  let _to = req.params.to;\n  let auth = null;\n  if (req.session.auth) {\n    auth = req.session.auth;\n  }\n  if (isNaN(_from) === false && isNaN(_to) === false) {\n    let list = await _postModel.default.list_post(_from, _to);\n    res.render('home', {\n      data: {\n        page: 'listpost',\n        title: 'Danh sách bài viết',\n        params: {\n          _from,\n          _to\n        },\n        list: list,\n        auth: auth\n      }\n    });\n  } else {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  }\n};\nconst new_post = async (req, res) => {\n  let danhmuc = await _newsModel.default.list_news_all();\n  res.render('home', {\n    data: {\n      page: 'newpost',\n      title: 'Tạo bài viết',\n      danhmuc: danhmuc\n    }\n  });\n};\nconst insert_post = async (req, res) => {\n  let img = req.file;\n  let body = req.body;\n  if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    const currentDate = new Date();\n    await _postModel.default.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id, currentDate);\n    res.redirect(\"list-post/0-10\");\n  }\n};\nconst detail_post = async (req, res) => {\n  let id = req.params.id;\n  let danhmuc = await _newsModel.default.list_news_all();\n  let list = await _postModel.default.detail_post(id);\n  res.render('home', {\n    data: {\n      page: 'detailpost',\n      title: 'Chi tiết bài viết',\n      list: list,\n      danhmuc: danhmuc\n    }\n  });\n};\nconst view_edit_post = async (req, res) => {\n  let id = req.params.id;\n  let danhmuc = await _newsModel.default.list_news_all();\n  let list = await _postModel.default.detail_post_edit(id);\n  res.render('home', {\n    data: {\n      page: 'viewEditpost',\n      title: 'Cập nhật bài viết',\n      list: list,\n      danhmuc: danhmuc\n    }\n  });\n};\nconst edit_post = async (req, res) => {\n  const id = req.body.id;\n  let body = req.body;\n  let img = body.img_old;\n  let file = req.file;\n  if (file) {\n    img = file.filename;\n    let post = await _postModel.default.detail_post(id);\n    _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n  }\n  if (!body.titlenew || !body.contentnew || !body.news_id) {\n    res.status(404).send('<h1>Invalid parameter</h1>');\n  } else {\n    await _postModel.default.edit_post(body.titlenew, body.contentnew, img, body.news_id, id);\n    res.redirect('list-post/0-10');\n  }\n};\nconst del_post = async (req, res) => {\n  const id = req.body.id;\n  let post = await _postModel.default.detail_post(id);\n  _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n  let list = await _postModel.default.del_post(id);\n  res.redirect(\"list-post/0-10\");\n};\nvar _default = exports.default = {\n  list_post,\n  new_post,\n  insert_post,\n  detail_post,\n  view_edit_post,\n  edit_post,\n  del_post\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX3Bvc3RNb2RlbCIsIl9uZXdzTW9kZWwiLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImxpc3RfcG9zdCIsInJlcSIsInJlcyIsIl9mcm9tIiwicGFyYW1zIiwiZnJvbSIsIl90byIsInRvIiwiYXV0aCIsInNlc3Npb24iLCJpc05hTiIsImxpc3QiLCJwb3N0TW9kZWwiLCJyZW5kZXIiLCJkYXRhIiwicGFnZSIsInRpdGxlIiwic3RhdHVzIiwic2VuZCIsIm5ld19wb3N0IiwiZGFuaG11YyIsIm5ld3NNb2RlbCIsImxpc3RfbmV3c19hbGwiLCJpbnNlcnRfcG9zdCIsImltZyIsImZpbGUiLCJib2R5IiwidGl0bGVuZXciLCJjb250ZW50bmV3IiwiZmlsZW5hbWUiLCJuZXdzX2lkIiwiY3VycmVudERhdGUiLCJEYXRlIiwicmVkaXJlY3QiLCJkZXRhaWxfcG9zdCIsImlkIiwidmlld19lZGl0X3Bvc3QiLCJkZXRhaWxfcG9zdF9lZGl0IiwiZWRpdF9wb3N0IiwiaW1nX29sZCIsInBvc3QiLCJmcyIsInVubGlua1N5bmMiLCJpbWFnZSIsImRlbF9wb3N0IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcTm9kZV9CYW9DYW9cXE5vZGVfQVBJXFxzcmNcXGNvbnRyb2xsZXJzXFwiLCJzb3VyY2VzIjpbIlBvc3RDb250cm9sbGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBleHByZXNzIGZyb20gXCJleHByZXNzXCJcclxuaW1wb3J0IGZzIGZyb20gJ2ZzJyAvLyB0aMawIHZp4buHbiB0aGFvIHTDoWMgZmlsZVxyXG5cclxuaW1wb3J0IHBvc3RNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvcG9zdE1vZGVsXCJcclxuaW1wb3J0IG5ld3NNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvbmV3c01vZGVsXCJcclxuXHJcblxyXG5jb25zdCBsaXN0X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICBsZXQgX2Zyb20gPSByZXEucGFyYW1zLmZyb21cclxuICAgIGxldCBfdG8gPSByZXEucGFyYW1zLnRvXHJcbiAgICBsZXQgYXV0aCA9IG51bGxcclxuXHJcbiAgICBpZiAocmVxLnNlc3Npb24uYXV0aCkge1xyXG4gICAgICAgIGF1dGggPSByZXEuc2Vzc2lvbi5hdXRoXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmIChpc05hTihfZnJvbSkgPT09IGZhbHNlICYmIGlzTmFOKF90bykgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwubGlzdF9wb3N0KF9mcm9tLCBfdG8pXHJcbiAgICAgICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2xpc3Rwb3N0JywgdGl0bGU6ICdEYW5oIHPDoWNoIGLDoGkgdmnhur90JywgcGFyYW1zOiB7X2Zyb20sIF90b30gLCBsaXN0Omxpc3QsIGF1dGg6YXV0aH19KVxyXG4gICAgfVxyXG4gICAgZWxzZXtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBuZXdfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGRhbmhtdWMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpXHJcbiAgICByZXMucmVuZGVyKCdob21lJywge2RhdGE6IHtwYWdlOiAnbmV3cG9zdCcsIHRpdGxlOiAnVOG6oW8gYsOgaSB2aeG6v3QnLCBkYW5obXVjOmRhbmhtdWN9fSlcclxufVxyXG5cclxuY29uc3QgaW5zZXJ0X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGxldCBpbWcgPSByZXEuZmlsZVxyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgaWYgKCFib2R5LnRpdGxlbmV3IHx8ICFib2R5LmNvbnRlbnRuZXcgfHwgIWltZy5maWxlbmFtZSB8fCAhYm9keS5uZXdzX2lkKSB7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg0MDQpLnNlbmQoJzxoMT5JbnZhbGlkIHBhcmFtZXRlcjwvaDE+JylcclxuICAgIH1cclxuICAgIGVsc2V7XHJcbiAgICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIGF3YWl0IHBvc3RNb2RlbC5pbnNlcnRfcG9zdChib2R5LnRpdGxlbmV3LCBib2R5LmNvbnRlbnRuZXcsIGltZy5maWxlbmFtZSwgYm9keS5uZXdzX2lkLGN1cnJlbnREYXRlKVxyXG4gICAgICAgIHJlcy5yZWRpcmVjdChcImxpc3QtcG9zdC8wLTEwXCIpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRldGFpbF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICBsZXQgZGFuaG11YyA9IGF3YWl0IG5ld3NNb2RlbC5saXN0X25ld3NfYWxsKClcclxuICAgIGxldCBsaXN0ID0gYXdhaXQgcG9zdE1vZGVsLmRldGFpbF9wb3N0KGlkKVxyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ2RldGFpbHBvc3QnLCB0aXRsZTogJ0NoaSB0aeG6v3QgYsOgaSB2aeG6v3QnLCBsaXN0Omxpc3QsIGRhbmhtdWM6ZGFuaG11Y319KVxyXG59XHJcblxyXG5jb25zdCB2aWV3X2VkaXRfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgbGV0IGRhbmhtdWMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpXHJcbiAgICBsZXQgbGlzdCA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdF9lZGl0KGlkKVxyXG4gICAgcmVzLnJlbmRlcignaG9tZScsIHtkYXRhOiB7cGFnZTogJ3ZpZXdFZGl0cG9zdCcsIHRpdGxlOiAnQ+G6rXAgbmjhuq10IGLDoGkgdmnhur90JywgbGlzdDpsaXN0LCBkYW5obXVjOmRhbmhtdWN9fSlcclxufVxyXG5cclxuY29uc3QgZWRpdF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5ib2R5LmlkIFxyXG4gICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgbGV0IGltZyA9IGJvZHkuaW1nX29sZFxyXG4gICAgbGV0IGZpbGUgPSByZXEuZmlsZVxyXG5cclxuICAgIGlmIChmaWxlKSB7XHJcbiAgICAgICAgaW1nID0gZmlsZS5maWxlbmFtZVxyXG4gICAgICAgIGxldCBwb3N0ID0gYXdhaXQgcG9zdE1vZGVsLmRldGFpbF9wb3N0KGlkKVxyXG4gICAgICAgIGZzLnVubGlua1N5bmMoJy4vc3JjL3B1YmxpYy91cGxvYWQvJyArIHBvc3RbMF0uaW1hZ2UpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICghYm9keS50aXRsZW5ldyB8fCAhYm9keS5jb250ZW50bmV3IHx8ICFib2R5Lm5ld3NfaWQpIHtcclxuICAgICAgICByZXMuc3RhdHVzKDQwNCkuc2VuZCgnPGgxPkludmFsaWQgcGFyYW1ldGVyPC9oMT4nKVxyXG4gICAgfSBcclxuICAgIGVsc2Uge1xyXG4gICAgICAgIGF3YWl0IHBvc3RNb2RlbC5lZGl0X3Bvc3QoYm9keS50aXRsZW5ldywgYm9keS5jb250ZW50bmV3LCBpbWcsIGJvZHkubmV3c19pZCwgaWQpXHJcbiAgICAgICAgcmVzLnJlZGlyZWN0KCdsaXN0LXBvc3QvMC0xMCcpXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRlbF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcbiAgICBjb25zdCBpZCA9IHJlcS5ib2R5LmlkIFxyXG4gICAgbGV0IHBvc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGV0YWlsX3Bvc3QoaWQpXHJcbiAgICBmcy51bmxpbmtTeW5jKCcuL3NyYy9wdWJsaWMvdXBsb2FkLycgKyBwb3N0WzBdLmltYWdlKVxyXG4gICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGVsX3Bvc3QoaWQpXHJcbiAgICByZXMucmVkaXJlY3QoXCJsaXN0LXBvc3QvMC0xMFwiKVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7bGlzdF9wb3N0LG5ld19wb3N0LGluc2VydF9wb3N0LGRldGFpbF9wb3N0LHZpZXdfZWRpdF9wb3N0LGVkaXRfcG9zdCxkZWxfcG9zdH0iXSwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQSxJQUFBQSxRQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxHQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFFQSxJQUFBRSxVQUFBLEdBQUFILHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBRyxVQUFBLEdBQUFKLHNCQUFBLENBQUFDLE9BQUE7QUFBNkMsU0FBQUQsdUJBQUFLLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFIekI7O0FBTXBCLE1BQU1HLFNBQVMsR0FBRyxNQUFBQSxDQUFPQyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUVsQyxJQUFJQyxLQUFLLEdBQUdGLEdBQUcsQ0FBQ0csTUFBTSxDQUFDQyxJQUFJO0VBQzNCLElBQUlDLEdBQUcsR0FBR0wsR0FBRyxDQUFDRyxNQUFNLENBQUNHLEVBQUU7RUFDdkIsSUFBSUMsSUFBSSxHQUFHLElBQUk7RUFFZixJQUFJUCxHQUFHLENBQUNRLE9BQU8sQ0FBQ0QsSUFBSSxFQUFFO0lBQ2xCQSxJQUFJLEdBQUdQLEdBQUcsQ0FBQ1EsT0FBTyxDQUFDRCxJQUFJO0VBQzNCO0VBRUEsSUFBSUUsS0FBSyxDQUFDUCxLQUFLLENBQUMsS0FBSyxLQUFLLElBQUlPLEtBQUssQ0FBQ0osR0FBRyxDQUFDLEtBQUssS0FBSyxFQUFFO0lBQ2hELElBQUlLLElBQUksR0FBRyxNQUFNQyxrQkFBUyxDQUFDWixTQUFTLENBQUNHLEtBQUssRUFB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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_postModel","_newsModel","obj","__esModule","default","list_post","req","res","_from","params","from","_to","to","auth","session","isNaN","list","postModel","render","data","page","title","status","send","new_post","danhmuc","newsModel","list_news_all","insert_post","img","file","body","titlenew","contentnew","filename","news_id","currentDate","Date","redirect","detail_post","id","view_edit_post","detail_post_edit","edit_post","img_old","post","fs","unlinkSync","image","del_post","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["PostController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs' // thư viện thao tác file\r\n\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\n\r\n\r\nconst list_post = async (req, res) => {\r\n\r\n    let _from = req.params.from\r\n    let _to = req.params.to\r\n    let auth = null\r\n\r\n    if (req.session.auth) {\r\n        auth = req.session.auth\r\n    }\r\n    \r\n    if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        let list = await postModel.list_post(_from, _to)\r\n        res.render('home', {data: {page: 'listpost', title: 'Danh sách bài viết', params: {_from, _to} , list:list, auth:auth}})\r\n    }\r\n    else{\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n}\r\n\r\nconst new_post = async (req, res) => {\r\n    let danhmuc = await newsModel.list_news_all()\r\n    res.render('home', {data: {page: 'newpost', title: 'Tạo bài viết', danhmuc:danhmuc}})\r\n}\r\n\r\nconst insert_post = async (req, res) => {\r\n    let img = req.file\r\n    let body = req.body\r\n    if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    }\r\n    else{\r\n        const currentDate = new Date();\r\n        await postModel.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id,currentDate)\r\n        res.redirect(\"list-post/0-10\")\r\n    }\r\n}\r\n\r\nconst detail_post = async (req, res) => {\r\n    let id = req.params.id\r\n    let danhmuc = await newsModel.list_news_all()\r\n    let list = await postModel.detail_post(id)\r\n    res.render('home', {data: {page: 'detailpost', title: 'Chi tiết bài viết', list:list, danhmuc:danhmuc}})\r\n}\r\n\r\nconst view_edit_post = async (req, res) => {\r\n    let id = req.params.id\r\n    let danhmuc = await newsModel.list_news_all()\r\n    let list = await postModel.detail_post_edit(id)\r\n    res.render('home', {data: {page: 'viewEditpost', title: 'Cập nhật bài viết', list:list, danhmuc:danhmuc}})\r\n}\r\n\r\nconst edit_post = async (req, res) => {\r\n    const id = req.body.id \r\n    let body = req.body\r\n    let img = body.img_old\r\n    let file = req.file\r\n\r\n    if (file) {\r\n        img = file.filename\r\n        let post = await postModel.detail_post(id)\r\n        fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n    }\r\n    \r\n    if (!body.titlenew || !body.contentnew || !body.news_id) {\r\n        res.status(404).send('<h1>Invalid parameter</h1>')\r\n    } \r\n    else {\r\n        await postModel.edit_post(body.titlenew, body.contentnew, img, body.news_id, id)\r\n        res.redirect('list-post/0-10')\r\n    }\r\n}\r\n\r\nconst del_post = async (req, res) => {\r\n    const id = req.body.id \r\n    let post = await postModel.detail_post(id)\r\n    fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n    let list = await postModel.del_post(id)\r\n    res.redirect(\"list-post/0-10\")\r\n}\r\n\r\nexport default {list_post,new_post,insert_post,detail_post,view_edit_post,edit_post,del_post}"],"mappings":"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"}},"mtime":1700138241329},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\ApiNewsController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thư viện thao tác file\n\n//api reactjs \n\nconst apiReactList = async (req, res) => {\n  const users = await _newsModel.default.list_news_all();\n  res.status(200).json({\n    data: users\n  });\n};\nconst apiNewId = async (req, res) => {\n  const newId = req.params.id;\n  const GetById = await _newsModel.default.GetById(newId);\n  res.status(200).json({\n    data: GetById\n  });\n};\nconst apiPostList = async (req, res) => {\n  var limit = 4;\n  const users = await _postModel.default.list_hot_post_user(limit);\n  res.status(200).json({\n    data: users\n  });\n};\nconst apiPostId = async (req, res) => {\n  const postId = req.params.id;\n  const GetById = await _postModel.default.detail_post_edit(postId);\n  res.status(200).json({\n    data: GetById\n  });\n};\n\n//hien thi bai viet theo loai tin tuc\nconst apiPostFromNew = async (req, res) => {\n  const newId = req.params.id;\n  const GetList = await _postModel.default.list_by_news(newId);\n  res.status(200).json({\n    data: GetList\n  });\n};\nconst list_news = async (req, res) => {\n  try {\n    let items = await _newsModel.default.list_news_all();\n    return res.status(200).json({\n      items: items,\n      mess: \"Danh sách tin tức\"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst GetById = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let items = await _newsModel.default.GetById(id);\n    return res.status(200).json({\n      items: items,\n      mess: \"chi tiết tin tức\"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst insert_news = async (req, res) => {\n  try {\n    let body = req.body;\n    let items = await _newsModel.default.insert_news(body.title);\n    return res.status(400).json({\n      items: items,\n      mess: \"Insert thành công \"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst edit_news = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let body = req.body;\n    let news = await _newsModel.default.GetById(id);\n    if (news.length < 1) {\n      return res.status(400).json({\n        err: 1,\n        mess: \"Bài viết không tồn tại\"\n      });\n    }\n    if (!body.title) {\n      return res.status(400).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    await _newsModel.default.edit_news(body.title, id);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Cập nhật thành công\"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst del_news = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let items = await _newsModel.default.del_news(id);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Bạn đã xóa thành công\"\n    });\n  } catch (error) {\n    return res.status(400).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nvar _default = exports.default = {\n  apiPostList,\n  apiPostId,\n  apiPostFromNew,\n  apiNewId,\n  apiReactList,\n  list_news,\n  GetById,\n  insert_news,\n  edit_news,\n  del_news\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX3Bvc3RNb2RlbCIsIl9uZXdzTW9kZWwiLCJfYm9keVBhcnNlciIsIl9KV1RBY3Rpb24iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsImFwaVJlYWN0TGlzdCIsInJlcSIsInJlcyIsInVzZXJzIiwibmV3c01vZGVsIiwibGlzdF9uZXdzX2FsbCIsInN0YXR1cyIsImpzb24iLCJkYXRhIiwiYXBpTmV3SWQiLCJuZXdJZCIsInBhcmFtcyIsImlkIiwiR2V0QnlJZCIsImFwaVBvc3RMaXN0IiwibGltaXQiLCJwb3N0TW9kZWwiLCJsaXN0X2hvdF9wb3N0X3VzZXIiLCJhcGlQb3N0SWQiLCJwb3N0SWQiLCJkZXRhaWxfcG9zdF9lZGl0IiwiYXBpUG9zdEZyb21OZXciLCJHZXRMaXN0IiwibGlzdF9ieV9uZXdzIiwibGlzdF9uZXdzIiwiaXRlbXMiLCJtZXNzIiwiZXJyb3IiLCJlcnIiLCJpbnNlcnRfbmV3cyIsImJvZHkiLCJ0aXRsZSIsImVkaXRfbmV3cyIsIm5ld3MiLCJsZW5ndGgiLCJkZWxfbmV3cyIsIl9kZWZhdWx0IiwiZXhwb3J0cyJdLCJzb3VyY2VSb290IjoiRDpcXE5vZGVfQmFvQ2FvXFxOb2RlX0FQSVxcc3JjXFxjb250cm9sbGVyc1xcIiwic291cmNlcyI6WyJBcGlOZXdzQ29udHJvbGxlci5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZXhwcmVzcyBmcm9tIFwiZXhwcmVzc1wiXHJcbmltcG9ydCBmcyBmcm9tICdmcycgLy8gdGjGsCB2aeG7h24gdGhhbyB0w6FjIGZpbGVcclxuaW1wb3J0IHBvc3RNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvcG9zdE1vZGVsXCJcclxuaW1wb3J0IG5ld3NNb2RlbCBmcm9tIFwiLi4vc2VydmljZXMvbmV3c01vZGVsXCJcclxuaW1wb3J0IHsganNvbiB9IGZyb20gXCJib2R5LXBhcnNlclwiXHJcbmltcG9ydCBKV1QgZnJvbSBcIi4uL21pZGRsZXdhcmUvSldUQWN0aW9uXCJcclxuXHJcbi8vYXBpIHJlYWN0anMgXHJcblxyXG5jb25zdCBhcGlSZWFjdExpc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIFxyXG4gICAgY29uc3QgdXNlcnMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgZGF0YTogdXNlcnNcclxuICAgIH0pXHJcblxyXG59XHJcblxyXG5jb25zdCBhcGlOZXdJZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgIG5ld0lkID0gcmVxLnBhcmFtcy5pZDtcclxuICAgIFxyXG4gICAgY29uc3QgR2V0QnlJZCA9IGF3YWl0IG5ld3NNb2RlbC5HZXRCeUlkKG5ld0lkKTtcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgZGF0YTogR2V0QnlJZFxyXG4gICAgICB9KVxyXG5cclxufVxyXG5cclxuY29uc3QgYXBpUG9zdExpc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIFxyXG4gICAgdmFyIGxpbWl0ID0gNFxyXG4gICAgY29uc3QgdXNlcnMgPSBhd2FpdCBwb3N0TW9kZWwubGlzdF9ob3RfcG9zdF91c2VyKGxpbWl0KTtcclxuXHJcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgIGRhdGE6IHVzZXJzXHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuXHJcbmNvbnN0IGFwaVBvc3RJZCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG4gICAgY29uc3QgIHBvc3RJZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBcclxuICAgIGNvbnN0IEdldEJ5SWQgPSBhd2FpdCBwb3N0TW9kZWwuZGV0YWlsX3Bvc3RfZWRpdChwb3N0SWQpO1xyXG5cclxuICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcclxuICAgICAgICBkYXRhOiBHZXRCeUlkXHJcbiAgICAgIH0pXHJcblxyXG59XHJcblxyXG5cclxuXHJcbi8vaGllbiB0aGkgYmFpIHZpZXQgdGhlbyBsb2FpIHRpbiB0dWNcclxuY29uc3QgYXBpUG9zdEZyb21OZXcgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuICAgIGNvbnN0ICBuZXdJZCA9IHJlcS5wYXJhbXMuaWQ7XHJcbiAgICBjb25zdCBHZXRMaXN0ID0gYXdhaXQgcG9zdE1vZGVsLmxpc3RfYnlfbmV3cyhuZXdJZCk7XHJcblxyXG4gICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICBkYXRhOiBHZXRMaXN0XHJcbiAgICB9KVxyXG5cclxufVxyXG5cclxuXHJcblxyXG5cclxuXHJcbmNvbnN0IGxpc3RfbmV3cyA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGxldCBpdGVtcyA9IGF3YWl0IG5ld3NNb2RlbC5saXN0X25ld3NfYWxsKClcclxuICAgIFxyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXRlbXM6IGl0ZW1zLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiRGFuaCBzw6FjaCB0aW4gdOG7qWNcIlxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG59XHJcblxyXG5jb25zdCBHZXRCeUlkID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBpZCA9IHJlcS5wYXJhbXMuaWRcclxuICAgICAgICAgICAgbGV0IGl0ZW1zID0gYXdhaXQgbmV3c01vZGVsLkdldEJ5SWQoaWQpXHJcbiAgICBcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBpdGVtcyxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcImNoaSB0aeG6v3QgdGluIHThu6ljXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgaW5zZXJ0X25ld3MgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcblxyXG4gICAgICAgIGxldCBpdGVtcyA9ICBhd2FpdCBuZXdzTW9kZWwuaW5zZXJ0X25ld3MoYm9keS50aXRsZSlcclxuICAgICAgIFxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgaXRlbXM6IGl0ZW1zLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJJbnNlcnQgdGjDoG5oIGPDtG5nIFwiXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZWRpdF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgICAgIGxldCBib2R5ID0gcmVxLmJvZHlcclxuXHJcbiAgICAgIFxyXG4gICAgICAgICAgICBsZXQgbmV3cyA9IGF3YWl0IG5ld3NNb2RlbC5HZXRCeUlkKGlkKVxyXG5cclxuICAgICAgICAgICAgaWYgKG5ld3MubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkLDoGkgdmnhur90IGtow7RuZyB04buTbiB04bqhaVwiXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgKVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICBcclxuXHJcbiAgICAgICAgaWYgKCFib2R5LnRpdGxlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJUaGnhur91IHRow7RuZyB0aW4gY+G6p24gdGhp4bq/dFwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGF3YWl0IG5ld3NNb2RlbC5lZGl0X25ld3MoYm9keS50aXRsZSxpZClcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkPhuq1wIG5o4bqtdCB0aMOgbmggY8O0bmdcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IGRlbF9uZXdzID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgICAgIGxldCBpZCA9IHJlcS5wYXJhbXMuaWRcclxuICAgICAgICAgICAgbGV0IGl0ZW1zID0gYXdhaXQgbmV3c01vZGVsLmRlbF9uZXdzKGlkKVxyXG4gICAgXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBlcnI6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVzczogXCJC4bqhbiDEkcOjIHjDs2EgdGjDoG5oIGPDtG5nXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIFxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHthcGlQb3N0TGlzdCxhcGlQb3N0SWQsYXBpUG9zdEZyb21OZXcsYXBpTmV3SWQsYXBpUmVhY3RMaXN0LGxpc3RfbmV3cyxHZXRCeUlkLGluc2VydF9uZXdzLGVkaXRfbmV3cyxkZWxfbmV3c31cclxuIl0sIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsSUFBQUEsUUFBQSxHQUFBQyxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUMsR0FBQSxHQUFBRixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUUsVUFBQSxHQUFBSCxzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUcsVUFBQSxHQUFBSixzQkFBQSxDQUFBQyxPQUFBO0FBQ0EsSUFBQUksV0FBQSxHQUFBSixPQUFBO0FBQ0EsSUFBQUssVUFBQSxHQUFBTixzQkFBQSxDQUFBQyxPQUFBO0FBQXlDLFNBQUFELHVCQUFBTyxHQUFBLFdBQUFBLEdBQUEsSUFBQUEsR0FBQSxDQUFBQyxVQUFBLEdBQUFELEdBQUEsS0FBQUUsT0FBQSxFQUFBRixHQUFBO0FBSnJCOztBQU1wQjs7QUFFQSxNQUFNRyxZQUFZLEdBQUcsTUFBQUEsQ0FBT0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFFckMsTUFBTUMsS0FBSyxHQUFHLE1BQU1DLGtCQUFTLENBQUNDLGFBQWEsQ0FBQyxDQUFDO0VBRTdDSCxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUFDO0lBQ25CQyxJQUFJLEVBQUVMO0VBQ1IsQ0FBQyxDQUFDO0FBRU4sQ0FBQztBQUVELE1BQU1NLFFBQVEsR0FBRyxNQUFBQSxDQUFPUixHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUNqQyxNQUFPUSxLQUFLLEdBQUdU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","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_postModel","_newsModel","_bodyParser","_JWTAction","obj","__esModule","default","apiReactList","req","res","users","newsModel","list_news_all","status","json","data","apiNewId","newId","params","id","GetById","apiPostList","limit","postModel","list_hot_post_user","apiPostId","postId","detail_post_edit","apiPostFromNew","GetList","list_by_news","list_news","items","mess","error","err","insert_news","body","title","edit_news","news","length","del_news","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["ApiNewsController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs' // thư viện thao tác file\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n//api reactjs \r\n\r\nconst apiReactList = async (req, res) => {\r\n    \r\n    const users = await newsModel.list_news_all();\r\n\r\n    res.status(200).json({\r\n      data: users\r\n    })\r\n\r\n}\r\n\r\nconst apiNewId = async (req, res) => {\r\n    const  newId = req.params.id;\r\n    \r\n    const GetById = await newsModel.GetById(newId);\r\n\r\n    res.status(200).json({\r\n        data: GetById\r\n      })\r\n\r\n}\r\n\r\nconst apiPostList = async (req, res) => {\r\n    \r\n    var limit = 4\r\n    const users = await postModel.list_hot_post_user(limit);\r\n\r\n    res.status(200).json({\r\n      data: users\r\n    })\r\n\r\n}\r\n\r\n\r\nconst apiPostId = async (req, res) => {\r\n    const  postId = req.params.id;\r\n    \r\n    const GetById = await postModel.detail_post_edit(postId);\r\n\r\n    res.status(200).json({\r\n        data: GetById\r\n      })\r\n\r\n}\r\n\r\n\r\n\r\n//hien thi bai viet theo loai tin tuc\r\nconst apiPostFromNew = async (req, res) => {\r\n    const  newId = req.params.id;\r\n    const GetList = await postModel.list_by_news(newId);\r\n\r\n    res.status(200).json({\r\n      data: GetList\r\n    })\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\nconst list_news = async (req, res) => {\r\n\r\n    try {\r\n            let items = await newsModel.list_news_all()\r\n    \r\n            return res.status(200).json(\r\n                {\r\n                    items: items,\r\n                    mess: \"Danh sách tin tức\"\r\n                }\r\n            )\r\n        \r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst GetById = async (req, res) => {\r\n\r\n    try {\r\n\r\n            let id = req.params.id\r\n            let items = await newsModel.GetById(id)\r\n    \r\n            return res.status(200).json(\r\n                {\r\n                    items: items,\r\n                    mess: \"chi tiết tin tức\"\r\n                }\r\n            )\r\n        \r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst insert_news = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n\r\n        let items =  await newsModel.insert_news(body.title)\r\n       \r\n        return res.status(400).json(\r\n            {\r\n                items: items,\r\n                mess: \"Insert thành công \"\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst edit_news = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let id = req.params.id\r\n        let body = req.body\r\n\r\n      \r\n            let news = await newsModel.GetById(id)\r\n\r\n            if (news.length < 1) {\r\n                return res.status(400).json(\r\n                    {\r\n                        err: 1,\r\n                        mess: \"Bài viết không tồn tại\"\r\n                    }\r\n                )\r\n            }\r\n\r\n      \r\n\r\n        if (!body.title) {\r\n            return res.status(400).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        await newsModel.edit_news(body.title,id)\r\n\r\n        return res.status(200).json(\r\n            {\r\n                err: 0,\r\n                mess: \"Cập nhật thành công\"\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst del_news = async (req, res) => {\r\n\r\n    try {\r\n\r\n            let id = req.params.id\r\n            let items = await newsModel.del_news(id)\r\n    \r\n            return res.status(200).json(\r\n                {\r\n                    err: 0,\r\n                    mess: \"Bạn đã xóa thành công\"\r\n                }\r\n            )\r\n        \r\n    } catch (error) {\r\n        return res.status(400).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\n\r\nexport default {apiPostList,apiPostId,apiPostFromNew,apiNewId,apiReactList,list_news,GetById,insert_news,edit_news,del_news}\r\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,GAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,UAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,UAAA,GAAAJ,sBAAA,CAAAC,OAAA;AACA,IAAAI,WAAA,GAAAJ,OAAA;AACA,IAAAK,UAAA,GAAAN,sBAAA,CAAAC,OAAA;AAAyC,SAAAD,uBAAAO,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAJrB;;AAMpB;;AAEA,MAAMG,YAAY,GAAG,MAAAA,CAAOC,GAAG,EAAEC,GAAG,KAAK;EAErC,MAAMC,KAAK,GAAG,MAAMC,kBAAS,CAACC,aAAa,CAAC,CAAC;EAE7CH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IACnBC,IAAI,EAAEL;EACR,CAAC,CAAC;AAEN,CAAC;AAED,MAAMM,QAAQ,GAAG,MAAAA,CAAOR,GAAG,EAAEC,GAAG,KAAK;EACjC,MAAOQ,KAAK,GAAGT,GAAG,CAACU,MAAM,CAACC,EAAE;EAE5B,MAAMC,OAAO,GAAG,MAAMT,kBAAS,CAACS,OAAO,CAACH,KAAK,CAAC;EAE9CR,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IACjBC,IAAI,EAAEK;EACR,CAAC,CAAC;AAER,CAAC;AAED,MAAMC,WAAW,GAAG,MAAAA,CAAOb,GAAG,EAAEC,GAAG,KAAK;EAEpC,IAAIa,KAAK,GAAG,CAAC;EACb,MAAMZ,KAAK,GAAG,MAAMa,kBAAS,CAACC,kBAAkB,CAACF,KAAK,CAAC;EAEvDb,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IACnBC,IAAI,EAAEL;EACR,CAAC,CAAC;AAEN,CAAC;AAGD,MAAMe,SAAS,GAAG,MAAAA,CAAOjB,GAAG,EAAEC,GAAG,KAAK;EAClC,MAAOiB,MAAM,GAAGlB,GAAG,CAACU,MAAM,CAACC,EAAE;EAE7B,MAAMC,OAAO,GAAG,MAAMG,kBAAS,CAACI,gBAAgB,CAACD,MAAM,CAAC;EAExDjB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IACjBC,IAAI,EAAEK;EACR,CAAC,CAAC;AAER,CAAC;;AAID;AACA,MAAMQ,cAAc,GAAG,MAAAA,CAAOpB,GAAG,EAAEC,GAAG,KAAK;EACvC,MAAOQ,KAAK,GAAGT,GAAG,CAACU,MAAM,CAACC,EAAE;EAC5B,MAAMU,OAAO,GAAG,MAAMN,kBAAS,CAACO,YAAY,CAACb,KAAK,CAAC;EAEnDR,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC;IACnBC,IAAI,EAAEc;EACR,CAAC,CAAC;AAEN,CAAC;AAMD,MAAME,SAAS,GAAG,MAAAA,CAAOvB,GAAG,EAAEC,GAAG,KAAK;EAElC,IAAI;IACI,IAAIuB,KAAK,GAAG,MAAMrB,kBAAS,CAACC,aAAa,CAAC,CAAC;IAE3C,OAAOH,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIkB,KAAK,EAAEA,KAAK;MACZC,IAAI,EAAE;IACV,CACJ,CAAC;EAET,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,OAAOzB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIqB,GAAG,EAAE,CAAC;MACNF,IAAI,EAAE,OAAO,GAAGC;IACpB,CACJ,CAAC;EACL;AACJ,CAAC;AAED,MAAMd,OAAO,GAAG,MAAAA,CAAOZ,GAAG,EAAEC,GAAG,KAAK;EAEhC,IAAI;IAEI,IAAIU,EAAE,GAAGX,GAAG,CAACU,MAAM,CAACC,EAAE;IACtB,IAAIa,KAAK,GAAG,MAAMrB,kBAAS,CAACS,OAAO,CAACD,EAAE,CAAC;IAEvC,OAAOV,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIkB,KAAK,EAAEA,KAAK;MACZC,IAAI,EAAE;IACV,CACJ,CAAC;EAET,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,OAAOzB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIqB,GAAG,EAAE,CAAC;MACNF,IAAI,EAAE,OAAO,GAAGC;IACpB,CACJ,CAAC;EACL;AACJ,CAAC;AAED,MAAME,WAAW,GAAG,MAAAA,CAAO5B,GAAG,EAAEC,GAAG,KAAK;EAEpC,IAAI;IAEA,IAAI4B,IAAI,GAAG7B,GAAG,CAAC6B,IAAI;IAEnB,IAAIL,KAAK,GAAI,MAAMrB,kBAAS,CAACyB,WAAW,CAACC,IAAI,CAACC,KAAK,CAAC;IAEpD,OAAO7B,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIkB,KAAK,EAAEA,KAAK;MACZC,IAAI,EAAE;IACV,CACJ,CAAC;EAEL,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,OAAOzB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIqB,GAAG,EAAE,CAAC;MACNF,IAAI,EAAE,OAAO,GAAGC;IACpB,CACJ,CAAC;EACL;AACJ,CAAC;AAED,MAAMK,SAAS,GAAG,MAAAA,CAAO/B,GAAG,EAAEC,GAAG,KAAK;EAElC,IAAI;IAEA,IAAIU,EAAE,GAAGX,GAAG,CAACU,MAAM,CAACC,EAAE;IACtB,IAAIkB,IAAI,GAAG7B,GAAG,CAAC6B,IAAI;IAGf,IAAIG,IAAI,GAAG,MAAM7B,kBAAS,CAACS,OAAO,CAACD,EAAE,CAAC;IAEtC,IAAIqB,IAAI,CAACC,MAAM,GAAG,CAAC,EAAE;MACjB,OAAOhC,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;QACIqB,GAAG,EAAE,CAAC;QACNF,IAAI,EAAE;MACV,CACJ,CAAC;IACL;IAIJ,IAAI,CAACI,IAAI,CAACC,KAAK,EAAE;MACb,OAAO7B,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;QACIqB,GAAG,EAAE,CAAC;QACNF,IAAI,EAAE;MACV,CACJ,CAAC;IACL;IAEA,MAAMtB,kBAAS,CAAC4B,SAAS,CAACF,IAAI,CAACC,KAAK,EAACnB,EAAE,CAAC;IAExC,OAAOV,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIqB,GAAG,EAAE,CAAC;MACNF,IAAI,EAAE;IACV,CACJ,CAAC;EAEL,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,OAAOzB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIqB,GAAG,EAAE,CAAC;MACNF,IAAI,EAAE,OAAO,GAAGC;IACpB,CACJ,CAAC;EACL;AACJ,CAAC;AAED,MAAMQ,QAAQ,GAAG,MAAAA,CAAOlC,GAAG,EAAEC,GAAG,KAAK;EAEjC,IAAI;IAEI,IAAIU,EAAE,GAAGX,GAAG,CAACU,MAAM,CAACC,EAAE;IACtB,IAAIa,KAAK,GAAG,MAAMrB,kBAAS,CAAC+B,QAAQ,CAACvB,EAAE,CAAC;IAExC,OAAOV,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIqB,GAAG,EAAE,CAAC;MACNF,IAAI,EAAE;IACV,CACJ,CAAC;EAET,CAAC,CAAC,OAAOC,KAAK,EAAE;IACZ,OAAOzB,GAAG,CAACI,MAAM,CAAC,GAAG,CAAC,CAACC,IAAI,CACvB;MACIqB,GAAG,EAAE,CAAC;MACNF,IAAI,EAAE,OAAO,GAAGC;IACpB,CACJ,CAAC;EACL;AACJ,CAAC;AAAA,IAAAS,QAAA,GAAAC,OAAA,CAAAtC,OAAA,GAGc;EAACe,WAAW;EAACI,SAAS;EAACG,cAAc;EAACZ,QAAQ;EAACT,YAAY;EAACwB,SAAS;EAACX,OAAO;EAACgB,WAAW;EAACG,SAAS;EAACG;AAAQ,CAAC"}},"mtime":1700138742877},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\middleware\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\middleware\\\\JWTAction.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _jsonwebtoken = _interopRequireDefault(require(\"jsonwebtoken\"));\nvar _dotenv = _interopRequireDefault(require(\"dotenv\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n_dotenv.default.config();\nconst key = process.env.JWT_SECRET;\nconst createJWT = payload => {\n  // let payload = { foo: 'bar' }\n  let token = null;\n  try {\n    token = _jsonwebtoken.default.sign(payload, key, {\n      algorithm: 'HS256'\n    });\n  } catch (err) {\n    console.log(err);\n  }\n  // console.log(token)\n  return token;\n};\nconst verifyToken = token => {\n  let decoded = null;\n  try {\n    decoded = _jsonwebtoken.default.verify(token, key);\n  } catch (err) {\n    console.log(err);\n  }\n  // console.log(decoded)\n  return decoded;\n};\nvar _default = exports.default = {\n  createJWT,\n  verifyToken\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfanNvbndlYnRva2VuIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfZG90ZW52Iiwib2JqIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJkb3RlbnYiLCJjb25maWciLCJrZXkiLCJwcm9jZXNzIiwiZW52IiwiSldUX1NFQ1JFVCIsImNyZWF0ZUpXVCIsInBheWxvYWQiLCJ0b2tlbiIsImp3dCIsInNpZ24iLCJhbGdvcml0aG0iLCJlcnIiLCJjb25zb2xlIiwibG9nIiwidmVyaWZ5VG9rZW4iLCJkZWNvZGVkIiwidmVyaWZ5IiwiX2RlZmF1bHQiLCJleHBvcnRzIl0sInNvdXJjZVJvb3QiOiJEOlxcTm9kZV9CYW9DYW9cXE5vZGVfQVBJXFxzcmNcXG1pZGRsZXdhcmVcXCIsInNvdXJjZXMiOlsiSldUQWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBqd3QgZnJvbSBcImpzb253ZWJ0b2tlblwiXHJcbmltcG9ydCBkb3RlbnYgZnJvbSBcImRvdGVudlwiXHJcblxyXG5kb3RlbnYuY29uZmlnKClcclxuY29uc3Qga2V5ID0gcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVFxyXG5cclxuY29uc3QgY3JlYXRlSldUID0gKHBheWxvYWQpID0+IHtcclxuICAgIC8vIGxldCBwYXlsb2FkID0geyBmb286ICdiYXInIH1cclxuICAgIGxldCB0b2tlbiA9IG51bGxcclxuICAgIHRyeSB7XHJcbiAgICAgICAgdG9rZW4gPSBqd3Quc2lnbihwYXlsb2FkLCBrZXksIHsgYWxnb3JpdGhtOiAnSFMyNTYnIH0pO1xyXG4gICAgfSBcclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpIFxyXG4gICAgfVxyXG4gICAgLy8gY29uc29sZS5sb2codG9rZW4pXHJcbiAgICByZXR1cm4gdG9rZW5cclxufVxyXG5cclxuY29uc3QgdmVyaWZ5VG9rZW4gPSAodG9rZW4pID0+IHtcclxuICAgIGxldCBkZWNvZGVkID0gbnVsbFxyXG4gICAgdHJ5IHtcclxuICAgICAgICBkZWNvZGVkID0gand0LnZlcmlmeSh0b2tlbiwga2V5KVxyXG4gICAgfSBcclxuICAgIGNhdGNoIChlcnIpIHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICB9XHJcbiAgICAvLyBjb25zb2xlLmxvZyhkZWNvZGVkKVxyXG4gICAgcmV0dXJuIGRlY29kZWRcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge2NyZWF0ZUpXVCwgdmVyaWZ5VG9rZW59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQSxJQUFBQSxhQUFBLEdBQUFDLHNCQUFBLENBQUFDLE9BQUE7QUFDQSxJQUFBQyxPQUFBLEdBQUFGLHNCQUFBLENBQUFDLE9BQUE7QUFBMkIsU0FBQUQsdUJBQUFHLEdBQUEsV0FBQUEsR0FBQSxJQUFBQSxHQUFBLENBQUFDLFVBQUEsR0FBQUQsR0FBQSxLQUFBRSxPQUFBLEVBQUFGLEdBQUE7QUFFM0JHLGVBQU0sQ0FBQ0MsTUFBTSxDQUFDLENBQUM7QUFDZixNQUFNQyxHQUFHLEdBQUdDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxVQUFVO0FBRWxDLE1BQU1DLFNBQVMsR0FBSUMsT0FBTyxJQUFLO0VBQzNCO0VBQ0EsSUFBSUMsS0FBSyxHQUFHLElBQUk7RUFDaEIsSUFBSTtJQUNBQSxLQUFLLEdBQUdDLHFCQUFHLENBQUNDLElBQUksQ0FBQ0gsT0FBTyxFQUFFTCxHQUFHLEVBQUU7TUFBRVMsU0FBUyxFQUFFO0lBQVEsQ0FBQyxDQUFDO0VBQzFELENBQUMsQ0FDRCxPQUFPQyxHQUFHLEVBQUU7SUFDUkMsT0FBTyxDQUFDQyxHQUFHLENBQUNGLEdBQUcsQ0FBQztFQUNwQjtFQUNBO0VBQ0EsT0FBT0osS0FBSztBQUNoQixDQUFDO0FBRUQsTUFBTU8sV0FBVyxHQUFJUCxLQUFLLElBQUs7RUFDM0IsSUFBSVEsT0FBTyxHQUFHLElBQUk7RUFDbEIsSUFBSTtJQUNBQSxPQUFPLEdBQUdQLHFCQUFHLENBQUNRLE1BQU0sQ0FBQ1QsS0FBSyxFQUFFTixHQUFHLENBQUM7RUFDcEMsQ0FBQyxDQUNELE9BQU9VLEdBQUcsRUFBRTtJQUNSQyxPQUFPLENBQUNDLEdBQUcsQ0FBQ0YsR0FBRyxDQUFDO0VBQ3BCO0VBQ0E7RUFDQSxPQUFPSSxPQUFPO0FBQ2xCLENBQUM7QUFBQSxJQUFBRSxRQUFBLEdBQUFDLE9BQUEsQ0FBQXBCLE9BQUEsR0FFYztFQUFDTyxTQUFTO0VBQUVTO0FBQVcsQ0FBQyJ9","map":{"version":3,"names":["_jsonwebtoken","_interopRequireDefault","require","_dotenv","obj","__esModule","default","dotenv","config","key","process","env","JWT_SECRET","createJWT","payload","token","jwt","sign","algorithm","err","console","log","verifyToken","decoded","verify","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\middleware\\","sources":["JWTAction.js"],"sourcesContent":["import jwt from \"jsonwebtoken\"\r\nimport dotenv from \"dotenv\"\r\n\r\ndotenv.config()\r\nconst key = process.env.JWT_SECRET\r\n\r\nconst createJWT = (payload) => {\r\n    // let payload = { foo: 'bar' }\r\n    let token = null\r\n    try {\r\n        token = jwt.sign(payload, key, { algorithm: 'HS256' });\r\n    } \r\n    catch (err) {\r\n        console.log(err) \r\n    }\r\n    // console.log(token)\r\n    return token\r\n}\r\n\r\nconst verifyToken = (token) => {\r\n    let decoded = null\r\n    try {\r\n        decoded = jwt.verify(token, key)\r\n    } \r\n    catch (err) {\r\n        console.log(err)\r\n    }\r\n    // console.log(decoded)\r\n    return decoded\r\n}\r\n\r\nexport default {createJWT, verifyToken}"],"mappings":";;;;;;AAAA,IAAAA,aAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AAA2B,SAAAD,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAE3BG,eAAM,CAACC,MAAM,CAAC,CAAC;AACf,MAAMC,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,UAAU;AAElC,MAAMC,SAAS,GAAIC,OAAO,IAAK;EAC3B;EACA,IAAIC,KAAK,GAAG,IAAI;EAChB,IAAI;IACAA,KAAK,GAAGC,qBAAG,CAACC,IAAI,CAACH,OAAO,EAAEL,GAAG,EAAE;MAAES,SAAS,EAAE;IAAQ,CAAC,CAAC;EAC1D,CAAC,CACD,OAAOC,GAAG,EAAE;IACRC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;EACA;EACA,OAAOJ,KAAK;AAChB,CAAC;AAED,MAAMO,WAAW,GAAIP,KAAK,IAAK;EAC3B,IAAIQ,OAAO,GAAG,IAAI;EAClB,IAAI;IACAA,OAAO,GAAGP,qBAAG,CAACQ,MAAM,CAACT,KAAK,EAAEN,GAAG,CAAC;EACpC,CAAC,CACD,OAAOU,GAAG,EAAE;IACRC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;EACpB;EACA;EACA,OAAOI,OAAO;AAClB,CAAC;AAAA,IAAAE,QAAA,GAAAC,OAAA,CAAApB,OAAA,GAEc;EAACO,SAAS;EAAES;AAAW,CAAC"}},"mtime":1700138241345},"{\"assumptions\":{},\"sourceRoot\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\\",\"caller\":{\"name\":\"@babel/node\"},\"cwd\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"filename\":\"D:\\\\Node_BaoCao\\\\Node_API\\\\src\\\\controllers\\\\ApiPostController.js\",\"targets\":{},\"cloneInputAst\":true,\"babelrc\":false,\"configFile\":false,\"browserslistConfigFile\":false,\"passPerPreset\":false,\"envName\":\"development\",\"root\":\"D:\\\\Node_BaoCao\\\\Node_API\",\"rootMode\":\"root\",\"plugins\":[{\"key\":\"transform-unicode-sets-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-class-static-block\",\"visitor\":{\"ClassBody\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-private-property-in-object\",\"visitor\":{\"BinaryExpression\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-class-properties\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-private-methods\",\"visitor\":{\"ExportDefaultDeclaration\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true,\"ClassExpression\":{\"enter\":[null]},\"ClassDeclaration\":{\"enter\":[null]}},\"options\":{\"loose\":\"#__internal__@babel/preset-env__prefer-false-but-true-is-ok-if-it-prevents-an-error\"},\"externalDependencies\":[]},{\"key\":\"transform-numeric-separator\",\"visitor\":{\"NumericLiteral\":{\"enter\":[null]},\"BigIntLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-logical-assignment-operators\",\"visitor\":{\"AssignmentExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-nullish-coalescing-operator\",\"visitor\":{\"LogicalExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-chaining\",\"visitor\":{\"OptionalCallExpression\":{\"enter\":[null]},\"OptionalMemberExpression\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-json-strings\",\"visitor\":{\"DirectiveLiteral\":{\"enter\":[null]},\"StringLiteral\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-optional-catch-binding\",\"visitor\":{\"CatchClause\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-parameters\",\"visitor\":{\"_exploded\":true,\"_verified\":true,\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-async-generator-functions\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-object-rest-spread\",\"visitor\":{\"VariableDeclarator\":{\"enter\":[null]},\"ExportNamedDeclaration\":{\"enter\":[null]},\"CatchClause\":{\"enter\":[null]},\"AssignmentExpression\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"ObjectExpression\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"ForInStatement\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dotall-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-property-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-named-capturing-groups-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-template-literals\",\"visitor\":{\"TaggedTemplateExpression\":{\"enter\":[null]},\"TemplateLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-function-name\",\"visitor\":{\"FunctionExpression\":{\"exit\":[null]},\"ObjectProperty\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-unicode-regex\",\"visitor\":{\"RegExpLiteral\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-export-namespace-from\",\"visitor\":{\"ExportNamedDeclaration\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-modules-commonjs\",\"visitor\":{\"Program\":{\"exit\":[null]},\"_exploded\":true,\"CallExpression\":{\"enter\":[null]},\"ImportExpression\":{\"enter\":[null]},\"_verified\":true},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"transform-dynamic-import\",\"visitor\":{\"Program\":{\"enter\":[null]}},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-top-level-await\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"syntax-import-meta\",\"visitor\":{},\"options\":{\"spec\":false,\"useBuiltIns\":true},\"externalDependencies\":[]},{\"key\":\"inject-polyfills\",\"visitor\":{\"MemberExpression\":{\"enter\":[null]},\"ObjectPattern\":{\"enter\":[null]},\"BinaryExpression\":{\"enter\":[null]},\"Identifier\":{\"enter\":[null]},\"JSXIdentifier\":{\"enter\":[null]},\"CallExpression\":{\"enter\":[null]},\"SpreadElement\":{\"enter\":[null]},\"YieldExpression\":{\"enter\":[null]},\"ForOfStatement\":{\"enter\":[null]},\"ArrayPattern\":{\"enter\":[null]},\"FunctionDeclaration\":{\"enter\":[null]},\"FunctionExpression\":{\"enter\":[null]},\"ObjectMethod\":{\"enter\":[null]},\"ArrowFunctionExpression\":{\"enter\":[null]},\"ClassMethod\":{\"enter\":[null]},\"ClassPrivateMethod\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"method\":\"usage-global\",\"version\":\"3.6.5\",\"targets\":{\"chrome\":\"67.0.0\",\"edge\":\"17.0.0\",\"firefox\":\"60.0.0\",\"safari\":\"11.1.0\"},\"include\":{},\"exclude\":{},\"proposals\":false,\"shippedProposals\":false,\"debug\":false,\"#__secret_key__@babel/preset-env__compatibility\":{\"noRuntimeName\":true}},\"externalDependencies\":[]},{\"key\":\"preset-env/replace-babel-polyfill\",\"visitor\":{\"ImportDeclaration\":{\"enter\":[null]},\"Program\":{\"enter\":[null]},\"_exploded\":true,\"_verified\":true},\"options\":{\"usage\":true,\"deprecated\":true},\"externalDependencies\":[]}],\"presets\":[]}:7.23.0:development":{"value":{"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nrequire(\"core-js/modules/es.promise.js\");\nvar _express = _interopRequireDefault(require(\"express\"));\nvar _fs = _interopRequireDefault(require(\"fs\"));\nvar _postModel = _interopRequireDefault(require(\"../services/postModel\"));\nvar _newsModel = _interopRequireDefault(require(\"../services/newsModel\"));\nvar _bodyParser = require(\"body-parser\");\nvar _JWTAction = _interopRequireDefault(require(\"../middleware/JWTAction\"));\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n// thư viện thao tác file\n\nconst new_post = async (req, res) => {\n  try {\n    let danhmuc = await _newsModel.default.list_news_all();\n    return res.status(200).json({\n      page: 'newpost',\n      title: 'Tạo bài viết',\n      danhmuc: danhmuc\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst insert_post = async (req, res) => {\n  try {\n    let body = req.body;\n    let img = req.file;\n    if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    const currentDate = new Date();\n    await _postModel.default.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id, currentDate);\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst list_post = async (req, res) => {\n  try {\n    let _from = req.params.from;\n    let _to = req.params.to;\n    let auth = null;\n    if (req.session.auth) {\n      auth = req.session.auth.name;\n    }\n    if (isNaN(_from) === false && isNaN(_to) === false) {\n      let list = await _postModel.default.list_post(_from, _to);\n      return res.status(200).json({\n        page: 'listpost',\n        title: 'Danh sách bài viết',\n        params: {\n          from: _from,\n          to: _to\n        },\n        list: list,\n        auth: auth\n      });\n    }\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst detail_post = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let danhmuc = await _newsModel.default.list_news_all();\n    let list = await _postModel.default.detail_post(id);\n    if (list.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Bài viết không tồn tại\"\n      });\n    }\n    return res.status(200).json({\n      page: 'detailpost',\n      title: 'Chi tiết bài viết',\n      list: list,\n      danhmuc: danhmuc\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst edit_post = async (req, res) => {\n  try {\n    const id = req.body.id;\n    let body = req.body;\n    let img = body.img_old; // truyền img cũ qua hidden input\n    let file = req.file;\n    if (file) {\n      img = file.filename;\n      let post = await _postModel.default.detail_post(id);\n      if (post.length < 1) {\n        return res.status(200).json({\n          err: 1,\n          mess: \"Bài viết không tồn tại\"\n        });\n      }\n      _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n    }\n    if (!body.titlenew || !body.contentnew || !body.news_id) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Thiếu thông tin cần thiết\"\n      });\n    }\n    await _postModel.default.edit_post(body.titlenew, body.contentnew, img, body.news_id, id);\n    return res.status(200).json({\n      err: 0,\n      mess: \"Cập nhật thành công\"\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst view_edit_post = async (req, res) => {\n  try {\n    let id = req.params.id;\n    let danhmuc = await _newsModel.default.list_news_all();\n    let list = await _postModel.default.detail_post_edit(id);\n    if (list.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Người dùng không tồn tại\"\n      });\n    }\n    return res.status(200).json({\n      page: 'viewEditpost',\n      title: 'Cập nhật bài viết',\n      list: list,\n      danhmuc: danhmuc\n    });\n  } catch (error) {\n    return res.status(200).json({\n      err: 1,\n      mess: \"Lỗi: \" + error\n    });\n  }\n};\nconst del_post = async (req, res) => {\n  try {\n    const id = req.body.id;\n    let post = await _postModel.default.detail_post(id);\n    if (post.length < 1) {\n      return res.status(200).json({\n        err: 1,\n        mess: \"Bài viết không tồn tại\"\n      });\n    }\n    _fs.default.unlinkSync('./src/public/upload/' + post[0].image);\n    let list = await _postModel.default.del_post(id);\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        err: 0,\n        mess: \"Xóa bài viết thành công\"\n      }\n    }));\n  } catch (error) {\n    return res.status(200).json(_JWTAction.default.createJWT({\n      data: {\n        err: 1,\n        mess: \"Lỗi: \" + error\n      }\n    }));\n  }\n};\nvar _default = exports.default = {\n  list_post,\n  new_post,\n  insert_post,\n  detail_post,\n  view_edit_post,\n  edit_post,\n  del_post\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJfZXhwcmVzcyIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJyZXF1aXJlIiwiX2ZzIiwiX3Bvc3RNb2RlbCIsIl9uZXdzTW9kZWwiLCJfYm9keVBhcnNlciIsIl9KV1RBY3Rpb24iLCJvYmoiLCJfX2VzTW9kdWxlIiwiZGVmYXVsdCIsIm5ld19wb3N0IiwicmVxIiwicmVzIiwiZGFuaG11YyIsIm5ld3NNb2RlbCIsImxpc3RfbmV3c19hbGwiLCJzdGF0dXMiLCJqc29uIiwicGFnZSIsInRpdGxlIiwiZXJyb3IiLCJlcnIiLCJtZXNzIiwiaW5zZXJ0X3Bvc3QiLCJib2R5IiwiaW1nIiwiZmlsZSIsInRpdGxlbmV3IiwiY29udGVudG5ldyIsImZpbGVuYW1lIiwibmV3c19pZCIsImN1cnJlbnREYXRlIiwiRGF0ZSIsInBvc3RNb2RlbCIsImxpc3RfcG9zdCIsIl9mcm9tIiwicGFyYW1zIiwiZnJvbSIsIl90byIsInRvIiwiYXV0aCIsInNlc3Npb24iLCJuYW1lIiwiaXNOYU4iLCJsaXN0IiwiZGV0YWlsX3Bvc3QiLCJpZCIsImxlbmd0aCIsImVkaXRfcG9zdCIsImltZ19vbGQiLCJwb3N0IiwiZnMiLCJ1bmxpbmtTeW5jIiwiaW1hZ2UiLCJ2aWV3X2VkaXRfcG9zdCIsImRldGFpbF9wb3N0X2VkaXQiLCJkZWxfcG9zdCIsIkpXVCIsImNyZWF0ZUpXVCIsImRhdGEiLCJfZGVmYXVsdCIsImV4cG9ydHMiXSwic291cmNlUm9vdCI6IkQ6XFxOb2RlX0Jhb0Nhb1xcTm9kZV9BUElcXHNyY1xcY29udHJvbGxlcnNcXCIsInNvdXJjZXMiOlsiQXBpUG9zdENvbnRyb2xsZXIuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGV4cHJlc3MgZnJvbSBcImV4cHJlc3NcIlxyXG5pbXBvcnQgZnMgZnJvbSAnZnMnIC8vIHRoxrAgdmnhu4duIHRoYW8gdMOhYyBmaWxlXHJcbmltcG9ydCBwb3N0TW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL3Bvc3RNb2RlbFwiXHJcbmltcG9ydCBuZXdzTW9kZWwgZnJvbSBcIi4uL3NlcnZpY2VzL25ld3NNb2RlbFwiXHJcbmltcG9ydCB7IGpzb24gfSBmcm9tIFwiYm9keS1wYXJzZXJcIlxyXG5pbXBvcnQgSldUIGZyb20gXCIuLi9taWRkbGV3YXJlL0pXVEFjdGlvblwiXHJcblxyXG5cclxuY29uc3QgbmV3X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIGxldCBkYW5obXVjID0gYXdhaXQgbmV3c01vZGVsLmxpc3RfbmV3c19hbGwoKVxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGFnZTogJ25ld3Bvc3QnLCBcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnVOG6oW8gYsOgaSB2aeG6v3QnLFxyXG4gICAgICAgICAgICAgICAgZGFuaG11YzogZGFuaG11Y1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbiAgICBcclxufVxyXG5cclxuY29uc3QgaW5zZXJ0X3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgYm9keSA9IHJlcS5ib2R5XHJcbiAgICAgICAgbGV0IGltZyA9IHJlcS5maWxlXHJcblxyXG5cclxuICAgICAgICBpZiAoIWJvZHkudGl0bGVuZXcgfHwgIWJvZHkuY29udGVudG5ldyB8fCAhaW1nLmZpbGVuYW1lIHx8ICFib2R5Lm5ld3NfaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIlRoaeG6v3UgdGjDtG5nIHRpbiBj4bqnbiB0aGnhur90XCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xyXG5cclxuICAgICAgICBhd2FpdCBwb3N0TW9kZWwuaW5zZXJ0X3Bvc3QoYm9keS50aXRsZW5ldywgYm9keS5jb250ZW50bmV3LCBpbWcuZmlsZW5hbWUsIGJvZHkubmV3c19pZCwgY3VycmVudERhdGUpXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgbGlzdF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IF9mcm9tID0gcmVxLnBhcmFtcy5mcm9tXHJcbiAgICAgICAgbGV0IF90byA9IHJlcS5wYXJhbXMudG9cclxuICAgICAgICBsZXQgYXV0aCA9IG51bGxcclxuXHJcbiAgICAgICAgaWYgKHJlcS5zZXNzaW9uLmF1dGgpIHtcclxuICAgICAgICAgICAgYXV0aCA9IHJlcS5zZXNzaW9uLmF1dGgubmFtZVxyXG4gICAgICAgIH0gXHJcblxyXG4gICAgICAgIGlmIChpc05hTihfZnJvbSkgPT09IGZhbHNlICYmIGlzTmFOKF90bykgPT09IGZhbHNlKSB7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgIGxldCBsaXN0ID0gYXdhaXQgcG9zdE1vZGVsLmxpc3RfcG9zdChfZnJvbSwgX3RvKVxyXG4gICAgXHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBwYWdlOiAnbGlzdHBvc3QnLCBcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ0Rhbmggc8OhY2ggYsOgaSB2aeG6v3QnLCBcclxuICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnJvbTogX2Zyb20sIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0bzogX3RvXHJcbiAgICAgICAgICAgICAgICAgICAgfSwgXHJcbiAgICAgICAgICAgICAgICAgICAgbGlzdDogbGlzdCwgXHJcbiAgICAgICAgICAgICAgICAgICAgYXV0aDogYXV0aFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuY29uc3QgZGV0YWlsX3Bvc3QgPSBhc3luYyAocmVxLCByZXMpID0+IHtcclxuXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgICBsZXQgaWQgPSByZXEucGFyYW1zLmlkXHJcbiAgICAgICAgbGV0IGRhbmhtdWMgPSBhd2FpdCBuZXdzTW9kZWwubGlzdF9uZXdzX2FsbCgpXHJcbiAgICAgICAgbGV0IGxpc3QgPSBhd2FpdCBwb3N0TW9kZWwuZGV0YWlsX3Bvc3QoaWQpXHJcblxyXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIkLDoGkgdmnhur90IGtow7RuZyB04buTbiB04bqhaVwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGFnZTogJ2RldGFpbHBvc3QnLCBcclxuICAgICAgICAgICAgICAgIHRpdGxlOiAnQ2hpIHRp4bq/dCBiw6BpIHZp4bq/dCcsIFxyXG4gICAgICAgICAgICAgICAgbGlzdDogbGlzdCxcclxuICAgICAgICAgICAgICAgIGRhbmhtdWM6IGRhbmhtdWNcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgbWVzczogXCJM4buXaTogXCIgKyBlcnJvclxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG4gICAgfVxyXG4gICAgXHJcbn1cclxuXHJcbmNvbnN0IGVkaXRfcG9zdCA9IGFzeW5jIChyZXEsIHJlcykgPT4ge1xyXG5cclxuICAgIHRyeSB7XHJcblxyXG4gICAgICAgIGNvbnN0IGlkID0gcmVxLmJvZHkuaWQgXHJcbiAgICAgICAgbGV0IGJvZHkgPSByZXEuYm9keVxyXG4gICAgICAgIGxldCBpbWcgPSBib2R5LmltZ19vbGQgLy8gdHJ1eeG7gW4gaW1nIGPFqSBxdWEgaGlkZGVuIGlucHV0XHJcbiAgICAgICAgbGV0IGZpbGUgPSByZXEuZmlsZVxyXG5cclxuICAgICAgICBpZiAoZmlsZSkge1xyXG5cclxuICAgICAgICAgICAgaW1nID0gZmlsZS5maWxlbmFtZVxyXG4gICAgICAgICAgICBsZXQgcG9zdCA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdChpZClcclxuXHJcbiAgICAgICAgICAgIGlmIChwb3N0Lmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzczogXCJCw6BpIHZp4bq/dCBraMO0bmcgdOG7k24gdOG6oWlcIlxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIClcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnMudW5saW5rU3luYygnLi9zcmMvcHVibGljL3VwbG9hZC8nICsgcG9zdFswXS5pbWFnZSlcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghYm9keS50aXRsZW5ldyB8fCAhYm9keS5jb250ZW50bmV3IHx8ICFib2R5Lm5ld3NfaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIlRoaeG6v3UgdGjDtG5nIHRpbiBj4bqnbiB0aGnhur90XCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgYXdhaXQgcG9zdE1vZGVsLmVkaXRfcG9zdChib2R5LnRpdGxlbmV3LCBib2R5LmNvbnRlbnRuZXcsIGltZywgYm9keS5uZXdzX2lkLCBpZClcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkPhuq1wIG5o4bqtdCB0aMOgbmggY8O0bmdcIlxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcbiAgICB9XHJcbn1cclxuXHJcbmNvbnN0IHZpZXdfZWRpdF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgbGV0IGlkID0gcmVxLnBhcmFtcy5pZFxyXG4gICAgICAgIGxldCBkYW5obXVjID0gYXdhaXQgbmV3c01vZGVsLmxpc3RfbmV3c19hbGwoKVxyXG4gICAgICAgIGxldCBsaXN0ID0gYXdhaXQgcG9zdE1vZGVsLmRldGFpbF9wb3N0X2VkaXQoaWQpXHJcblxyXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA8IDEpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgICAgICBtZXNzOiBcIk5nxrDhu51pIGTDuW5nIGtow7RuZyB04buTbiB04bqhaVwiXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIClcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbihcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgcGFnZTogJ3ZpZXdFZGl0cG9zdCcsIFxyXG4gICAgICAgICAgICAgICAgdGl0bGU6ICdD4bqtcCBuaOG6rXQgYsOgaSB2aeG6v3QnLCBcclxuICAgICAgICAgICAgICAgIGxpc3Q6IGxpc3QsXHJcbiAgICAgICAgICAgICAgICBkYW5obXVjOiBkYW5obXVjXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICApXHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGVycjogMSxcclxuICAgICAgICAgICAgICAgIG1lc3M6IFwiTOG7l2k6IFwiICsgZXJyb3JcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIClcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmNvbnN0IGRlbF9wb3N0ID0gYXN5bmMgKHJlcSwgcmVzKSA9PiB7XHJcblxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgY29uc3QgaWQgPSByZXEuYm9keS5pZCBcclxuICAgICAgICBsZXQgcG9zdCA9IGF3YWl0IHBvc3RNb2RlbC5kZXRhaWxfcG9zdChpZClcclxuXHJcbiAgICAgICAgaWYgKHBvc3QubGVuZ3RoIDwgMSkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgZXJyOiAxLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lc3M6IFwiQsOgaSB2aeG6v3Qga2jDtG5nIHThu5NuIHThuqFpXCJcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZnMudW5saW5rU3luYygnLi9zcmMvcHVibGljL3VwbG9hZC8nICsgcG9zdFswXS5pbWFnZSlcclxuICAgICAgICBsZXQgbGlzdCA9IGF3YWl0IHBvc3RNb2RlbC5kZWxfcG9zdChpZClcclxuXHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDAsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIljDs2EgYsOgaSB2aeG6v3QgdGjDoG5oIGPDtG5nXCJ9fVxyXG4gICAgICAgICAgICApXHJcbiAgICAgICAgKVxyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKFxyXG4gICAgICAgICAgICBKV1QuY3JlYXRlSldUKHtkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBlcnI6IDEsXHJcbiAgICAgICAgICAgICAgICBtZXNzOiBcIkzhu5dpOiBcIiArIGVycm9yfX1cclxuICAgICAgICAgICAgKVxyXG4gICAgICAgIClcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQge2xpc3RfcG9zdCxuZXdfcG9zdCxpbnNlcnRfcG9zdCxkZXRhaWxfcG9zdCx2aWV3X2VkaXRfcG9zdCxlZGl0X3Bvc3QsZGVsX3Bvc3R9XHJcbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUFBLElBQUFBLFFBQUEsR0FBQUMsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFDLEdBQUEsR0FBQUYsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFFLFVBQUEsR0FBQUgsc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFHLFVBQUEsR0FBQUosc0JBQUEsQ0FBQUMsT0FBQTtBQUNBLElBQUFJLFdBQUEsR0FBQUosT0FBQTtBQUNBLElBQUFLLFVBQUEsR0FBQU4sc0JBQUEsQ0FBQUMsT0FBQTtBQUF5QyxTQUFBRCx1QkFBQU8sR0FBQSxXQUFBQSxHQUFBLElBQUFBLEdBQUEsQ0FBQUMsVUFBQSxHQUFBRCxHQUFBLEtBQUFFLE9BQUEsRUFBQUYsR0FBQTtBQUpyQjs7QUFPcEIsTUFBTUcsUUFBUSxHQUFHLE1BQUFBLENBQU9DLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBRWpDLElBQUk7SUFDQSxJQUFJQyxPQUFPLEdBQUcsTUFBTUMsa0JBQVMsQ0FBQ0MsYUFBYSxDQUFDLENBQUM7SUFDN0MsT0FBT0gsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDdkI7TUFDSUMsSUFBSSxFQUFFLFNBQVM7TUFDZkMsS0FBSyxFQUFFLGNBQWM7TUFDckJOLE9BQU8sRUFBRUE7SUFDYixDQUNKLENBQUM7RUFFTCxDQUFDLENBQUMsT0FBT08sS0FBSyxFQUFFO0lBQ1osT0FBT1IsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDdkI7TUFDSUksR0FBRyxFQUFFLENBQUM7TUFDTkMsSUFBSSxFQUFFLE9BQU8sR0FBR0Y7SUFDcEIsQ0FDSixDQUFDO0VBQ0w7QUFFSixDQUFDO0FBRUQsTUFBTUcsV0FBVyxHQUFHLE1BQUFBLENBQU9aLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBRXBDLElBQUk7SUFFQSxJQUFJWSxJQUFJLEdBQUdiLEdBQUcsQ0FBQ2EsSUFBSTtJQUNuQixJQUFJQyxHQUFHLEdBQUdkLEdBQUcsQ0FBQ2UsSUFBSTtJQUdsQixJQUFJLENBQUNGLElBQUksQ0FBQ0csUUFBUSxJQUFJLENBQUNILElBQUksQ0FBQ0ksVUFBVSxJQUFJLENBQUNILEdBQUcsQ0FBQ0ksUUFBUSxJQUFJLENBQUNMLElBQUksQ0FBQ00sT0FBTyxFQUFFO01BQ3RFLE9BQU9sQixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUN2QjtRQUNJSSxHQUFHLEVBQUUsQ0FBQztRQUNOQyxJQUFJLEVBQUU7TUFDVixDQUNKLENBQUM7SUFDTDtJQUVBLE1BQU1TLFdBQVcsR0FBRyxJQUFJQyxJQUFJLENBQUMsQ0FBQztJQUU5QixNQUFNQyxrQkFBUyxDQUFDVixXQUFXLENBQUNDLElBQUksQ0FBQ0csUUFBUSxFQUFFSCxJQUFJLENBQUNJLFVBQVUsRUFBRUgsR0FBRyxDQUFDSSxRQUFRLEVBQUVMLElBQUksQ0FBQ00sT0FBTyxFQUFFQyxXQUFXLENBQUM7RUFFeEcsQ0FBQyxDQUFDLE9BQU9YLEtBQUssRUFBRTtJQUNaLE9BQU9SLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQ3ZCO01BQ0lJLEdBQUcsRUFBRSxDQUFDO01BQ05DLElBQUksRUFBRSxPQUFPLEdBQUdGO0lBQ3BCLENBQ0osQ0FBQztFQUNMO0FBQ0osQ0FBQztBQUVELE1BQU1jLFNBQVMsR0FBRyxNQUFBQSxDQUFPdkIsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFFbEMsSUFBSTtJQUVBLElBQUl1QixLQUFLLEdBQUd4QixHQUFHLENBQUN5QixNQUFNLENBQUNDLElBQUk7SUFDM0IsSUFBSUMsR0FBRyxHQUFHM0IsR0FBRyxDQUFDeUIsTUFBTSxDQUFDRyxFQUFFO0lBQ3ZCLElBQUlDLElBQUksR0FBRyxJQUFJO0lBRWYsSUFBSTdCLEdBQUcsQ0FBQzhCLE9BQU8sQ0FBQ0QsSUFBSSxFQUFFO01BQ2xCQSxJQUFJLEdBQUc3QixHQUFHLENBQUM4QixPQUFPLENBQUNELElBQUksQ0FBQ0UsSUFBSTtJQUNoQztJQUVBLElBQUlDLEtBQUssQ0FBQ1IsS0FBSyxDQUFDLEtBQUssS0FBSyxJQUFJUSxLQUFLLENBQUNMLEdBQUcsQ0FBQyxLQUFLLEtBQUssRUFBRTtNQUVoRCxJQUFJTSxJQUFJLEdBQUcsTUFBTVgsa0JBQVMsQ0FBQ0MsU0FBUyxDQUFDQyxLQUFLLEVBQUVHLEdBQUcsQ0FBQztNQUVoRCxPQUFPMUIsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDdkI7UUFDSUMsSUFBSSxFQUFFLFVBQVU7UUFDaEJDLEtBQUssRUFBRSxvQkFBb0I7UUFDM0JpQixNQUFNLEVBQUU7VUFDSkMsSUFBSSxFQUFFRixLQUFLO1VBQ1hJLEVBQUUsRUFBRUQ7UUFDUixDQUFDO1FBQ0RNLElBQUksRUFBRUEsSUFBSTtRQUNWSixJQUFJLEVBQUVBO01BQ1YsQ0FDSixDQUFDO0lBQ0w7RUFDSixDQUFDLENBQUMsT0FBT3BCLEtBQUssRUFBRTtJQUNaLE9BQU9SLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQ3ZCO01BQ0lJLEdBQUcsRUFBRSxDQUFDO01BQ05DLElBQUksRUFBRSxPQUFPLEdBQUdGO0lBQ3BCLENBQ0osQ0FBQztFQUNMO0FBQ0osQ0FBQztBQUVELE1BQU15QixXQUFXLEdBQUcsTUFBQUEsQ0FBT2xDLEdBQUcsRUFBRUMsR0FBRyxLQUFLO0VBRXBDLElBQUk7SUFFQSxJQUFJa0MsRUFBRSxHQUFHbkMsR0FBRyxDQUFDeUIsTUFBTSxDQUFDVSxFQUFFO0lBQ3RCLElBQUlqQyxPQUFPLEdBQUcsTUFBTUMsa0JBQVMsQ0FBQ0MsYUFBYSxDQUFDLENBQUM7SUFDN0MsSUFBSTZCLElBQUksR0FBRyxNQUFNWCxrQkFBUyxDQUFDWSxXQUFXLENBQUNDLEVBQUUsQ0FBQztJQUUxQyxJQUFJRixJQUFJLENBQUNHLE1BQU0sR0FBRyxDQUFDLEVBQUU7TUFDakIsT0FBT25DLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQ3ZCO1FBQ0lJLEdBQUcsRUFBRSxDQUFDO1FBQ05DLElBQUksRUFBRTtNQUNWLENBQ0osQ0FBQztJQUNMO0lBRUEsT0FBT1YsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDdkI7TUFDSUMsSUFBSSxFQUFFLFlBQVk7TUFDbEJDLEtBQUssRUFBRSxtQkFBbUI7TUFDMUJ5QixJQUFJLEVBQUVBLElBQUk7TUFDVi9CLE9BQU8sRUFBRUE7SUFDYixDQUNKLENBQUM7RUFFTCxDQUFDLENBQUMsT0FBT08sS0FBSyxFQUFFO0lBQ1osT0FBT1IsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDdkI7TUFDSUksR0FBRyxFQUFFLENBQUM7TUFDTkMsSUFBSSxFQUFFLE9BQU8sR0FBR0Y7SUFDcEIsQ0FDSixDQUFDO0VBQ0w7QUFFSixDQUFDO0FBRUQsTUFBTTRCLFNBQVMsR0FBRyxNQUFBQSxDQUFPckMsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFFbEMsSUFBSTtJQUVBLE1BQU1rQyxFQUFFLEdBQUduQyxHQUFHLENBQUNhLElBQUksQ0FBQ3NCLEVBQUU7SUFDdEIsSUFBSXRCLElBQUksR0FBR2IsR0FBRyxDQUFDYSxJQUFJO0lBQ25CLElBQUlDLEdBQUcsR0FBR0QsSUFBSSxDQUFDeUIsT0FBTyxFQUFDO0lBQ3ZCLElBQUl2QixJQUFJLEdBQUdmLEdBQUcsQ0FBQ2UsSUFBSTtJQUVuQixJQUFJQSxJQUFJLEVBQUU7TUFFTkQsR0FBRyxHQUFHQyxJQUFJLENBQUNHLFFBQVE7TUFDbkIsSUFBSXFCLElBQUksR0FBRyxNQUFNakIsa0JBQVMsQ0FBQ1ksV0FBVyxDQUFDQyxFQUFFLENBQUM7TUFFMUMsSUFBSUksSUFBSSxDQUFDSCxNQUFNLEdBQUcsQ0FBQyxFQUFFO1FBQ2pCLE9BQU9uQyxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUN2QjtVQUNJSSxHQUFHLEVBQUUsQ0FBQztVQUNOQyxJQUFJLEVBQUU7UUFDVixDQUNKLENBQUM7TUFDTDtNQUVBNkIsV0FBRSxDQUFDQyxVQUFVLENBQUMsc0JBQXNCLEdBQUdGLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQ0csS0FBSyxDQUFDO0lBQ3pEO0lBRUEsSUFBSSxDQUFDN0IsSUFBSSxDQUFDRyxRQUFRLElBQUksQ0FBQ0gsSUFBSSxDQUFDSSxVQUFVLElBQUksQ0FBQ0osSUFBSSxDQUFDTSxPQUFPLEVBQUU7TUFDckQsT0FBT2xCLEdBQUcsQ0FBQ0ksTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDQyxJQUFJLENBQ3ZCO1FBQ0lJLEdBQUcsRUFBRSxDQUFDO1FBQ05DLElBQUksRUFBRTtNQUNWLENBQ0osQ0FBQztJQUNMO0lBRUEsTUFBTVcsa0JBQVMsQ0FBQ2UsU0FBUyxDQUFDeEIsSUFBSSxDQUFDRyxRQUFRLEVBQUVILElBQUksQ0FBQ0ksVUFBVSxFQUFFSCxHQUFHLEVBQUVELElBQUksQ0FBQ00sT0FBTyxFQUFFZ0IsRUFBRSxDQUFDO0lBRWhGLE9BQU9sQyxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUN2QjtNQUNJSSxHQUFHLEVBQUUsQ0FBQztNQUNOQyxJQUFJLEVBQUU7SUFDVixDQUNKLENBQUM7RUFFTCxDQUFDLENBQUMsT0FBT0YsS0FBSyxFQUFFO0lBQ1osT0FBT1IsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDdkI7TUFDSUksR0FBRyxFQUFFLENBQUM7TUFDTkMsSUFBSSxFQUFFLE9BQU8sR0FBR0Y7SUFDcEIsQ0FDSixDQUFDO0VBQ0w7QUFDSixDQUFDO0FBRUQsTUFBTWtDLGNBQWMsR0FBRyxNQUFBQSxDQUFPM0MsR0FBRyxFQUFFQyxHQUFHLEtBQUs7RUFFdkMsSUFBSTtJQUVBLElBQUlrQyxFQUFFLEdBQUduQyxHQUFHLENBQUN5QixNQUFNLENBQUNVLEVBQUU7SUFDdEIsSUFBSWpDLE9BQU8sR0FBRyxNQUFNQyxrQkFBUyxDQUFDQyxhQUFhLENBQUMsQ0FBQztJQUM3QyxJQUFJNkIsSUFBSSxHQUFHLE1BQU1YLGtCQUFTLENBQUNzQixnQkFBZ0IsQ0FBQ1QsRUFBRSxDQUFDO0lBRS9DLElBQUlGLElBQUksQ0FBQ0csTUFBTSxHQUFHLENBQUMsRUFBRTtNQUNqQixPQUFPbkMsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDdkI7UUFDSUksR0FBRyxFQUFFLENBQUM7UUFDTkMsSUFBSSxFQUFFO01BQ1YsQ0FDSixDQUFDO0lBQ0w7SUFFQSxPQUFPVixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUN2QjtNQUNJQyxJQUFJLEVBQUUsY0FBYztNQUNwQkMsS0FBSyxFQUFFLG1CQUFtQjtNQUMxQnlCLElBQUksRUFBRUEsSUFBSTtNQUNWL0IsT0FBTyxFQUFFQTtJQUNiLENBQ0osQ0FBQztFQUVMLENBQUMsQ0FBQyxPQUFPTyxLQUFLLEVBQUU7SUFDWixPQUFPUixHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUN2QjtNQUNJSSxHQUFHLEVBQUUsQ0FBQztNQUNOQyxJQUFJLEVBQUUsT0FBTyxHQUFHRjtJQUNwQixDQUNKLENBQUM7RUFDTDtBQUVKLENBQUM7QUFFRCxNQUFNb0MsUUFBUSxHQUFHLE1BQUFBLENBQU83QyxHQUFHLEVBQUVDLEdBQUcsS0FBSztFQUVqQyxJQUFJO0lBRUEsTUFBTWtDLEVBQUUsR0FBR25DLEdBQUcsQ0FBQ2EsSUFBSSxDQUFDc0IsRUFBRTtJQUN0QixJQUFJSSxJQUFJLEdBQUcsTUFBTWpCLGtCQUFTLENBQUNZLFdBQVcsQ0FBQ0MsRUFBRSxDQUFDO0lBRTFDLElBQUlJLElBQUksQ0FBQ0gsTUFBTSxHQUFHLENBQUMsRUFBRTtNQUNqQixPQUFPbkMsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDdkI7UUFDSUksR0FBRyxFQUFFLENBQUM7UUFDTkMsSUFBSSxFQUFFO01BQ1YsQ0FDSixDQUFDO0lBQ0w7SUFFQTZCLFdBQUUsQ0FBQ0MsVUFBVSxDQUFDLHNCQUFzQixHQUFHRixJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUNHLEtBQUssQ0FBQztJQUNyRCxJQUFJVCxJQUFJLEdBQUcsTUFBTVgsa0JBQVMsQ0FBQ3VCLFFBQVEsQ0FBQ1YsRUFBRSxDQUFDO0lBRXZDLE9BQU9sQyxHQUFHLENBQUNJLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQ0MsSUFBSSxDQUN2QndDLGtCQUFHLENBQUNDLFNBQVMsQ0FBQztNQUFDQyxJQUFJLEVBQUU7UUFDakJ0QyxHQUFHLEVBQUUsQ0FBQztRQUNOQyxJQUFJLEVBQUU7TUFBeUI7SUFBQyxDQUNwQyxDQUNKLENBQUM7RUFFTCxDQUFDLENBQUMsT0FBT0YsS0FBSyxFQUFFO0lBQ1osT0FBT1IsR0FBRyxDQUFDSSxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUNDLElBQUksQ0FDdkJ3QyxrQkFBRyxDQUFDQyxTQUFTLENBQUM7TUFBQ0MsSUFBSSxFQUFFO1FBQ2pCdEMsR0FBRyxFQUFFLENBQUM7UUFDTkMsSUFBSSxFQUFFLE9BQU8sR0FBR0Y7TUFBSztJQUFDLENBQzFCLENBQ0osQ0FBQztFQUNMO0FBQ0osQ0FBQztBQUFBLElBQUF3QyxRQUFBLEdBQUFDLE9BQUEsQ0FBQXBELE9BQUEsR0FFYztFQUFDeUIsU0FBUztFQUFDeEIsUUFBUTtFQUFDYSxXQUFXO0VBQUNzQixXQUFXO0VBQUNTLGNBQWM7RUFBQ04sU0FBUztFQUFDUTtBQUFRLENBQUMifQ==","map":{"version":3,"names":["_express","_interopRequireDefault","require","_fs","_postModel","_newsModel","_bodyParser","_JWTAction","obj","__esModule","default","new_post","req","res","danhmuc","newsModel","list_news_all","status","json","page","title","error","err","mess","insert_post","body","img","file","titlenew","contentnew","filename","news_id","currentDate","Date","postModel","list_post","_from","params","from","_to","to","auth","session","name","isNaN","list","detail_post","id","length","edit_post","img_old","post","fs","unlinkSync","image","view_edit_post","detail_post_edit","del_post","JWT","createJWT","data","_default","exports"],"sourceRoot":"D:\\Node_BaoCao\\Node_API\\src\\controllers\\","sources":["ApiPostController.js"],"sourcesContent":["import express from \"express\"\r\nimport fs from 'fs' // thư viện thao tác file\r\nimport postModel from \"../services/postModel\"\r\nimport newsModel from \"../services/newsModel\"\r\nimport { json } from \"body-parser\"\r\nimport JWT from \"../middleware/JWTAction\"\r\n\r\n\r\nconst new_post = async (req, res) => {\r\n\r\n    try {\r\n        let danhmuc = await newsModel.list_news_all()\r\n        return res.status(200).json(\r\n            {\r\n                page: 'newpost', \r\n                title: 'Tạo bài viết',\r\n                danhmuc: danhmuc\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst insert_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let body = req.body\r\n        let img = req.file\r\n\r\n\r\n        if (!body.titlenew || !body.contentnew || !img.filename || !body.news_id) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        const currentDate = new Date();\r\n\r\n        await postModel.insert_post(body.titlenew, body.contentnew, img.filename, body.news_id, currentDate)\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst list_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let _from = req.params.from\r\n        let _to = req.params.to\r\n        let auth = null\r\n\r\n        if (req.session.auth) {\r\n            auth = req.session.auth.name\r\n        } \r\n\r\n        if (isNaN(_from) === false && isNaN(_to) === false) {\r\n        \r\n            let list = await postModel.list_post(_from, _to)\r\n    \r\n            return res.status(200).json(\r\n                {\r\n                    page: 'listpost', \r\n                    title: 'Danh sách bài viết', \r\n                    params: {\r\n                        from: _from, \r\n                        to: _to\r\n                    }, \r\n                    list: list, \r\n                    auth: auth\r\n                }\r\n            )\r\n        }\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst detail_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let id = req.params.id\r\n        let danhmuc = await newsModel.list_news_all()\r\n        let list = await postModel.detail_post(id)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Bài viết không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            {\r\n                page: 'detailpost', \r\n                title: 'Chi tiết bài viết', \r\n                list: list,\r\n                danhmuc: danhmuc\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n    \r\n}\r\n\r\nconst edit_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        const id = req.body.id \r\n        let body = req.body\r\n        let img = body.img_old // truyền img cũ qua hidden input\r\n        let file = req.file\r\n\r\n        if (file) {\r\n\r\n            img = file.filename\r\n            let post = await postModel.detail_post(id)\r\n\r\n            if (post.length < 1) {\r\n                return res.status(200).json(\r\n                    {\r\n                        err: 1,\r\n                        mess: \"Bài viết không tồn tại\"\r\n                    }\r\n                )\r\n            }\r\n\r\n            fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n        }\r\n\r\n        if (!body.titlenew || !body.contentnew || !body.news_id) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Thiếu thông tin cần thiết\"\r\n                }\r\n            )\r\n        }\r\n\r\n        await postModel.edit_post(body.titlenew, body.contentnew, img, body.news_id, id)\r\n\r\n        return res.status(200).json(\r\n            {\r\n                err: 0,\r\n                mess: \"Cập nhật thành công\"\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n}\r\n\r\nconst view_edit_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        let id = req.params.id\r\n        let danhmuc = await newsModel.list_news_all()\r\n        let list = await postModel.detail_post_edit(id)\r\n\r\n        if (list.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Người dùng không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        return res.status(200).json(\r\n            {\r\n                page: 'viewEditpost', \r\n                title: 'Cập nhật bài viết', \r\n                list: list,\r\n                danhmuc: danhmuc\r\n            }\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error\r\n            }\r\n        )\r\n    }\r\n\r\n}\r\n\r\nconst del_post = async (req, res) => {\r\n\r\n    try {\r\n\r\n        const id = req.body.id \r\n        let post = await postModel.detail_post(id)\r\n\r\n        if (post.length < 1) {\r\n            return res.status(200).json(\r\n                {\r\n                    err: 1,\r\n                    mess: \"Bài viết không tồn tại\"\r\n                }\r\n            )\r\n        }\r\n\r\n        fs.unlinkSync('./src/public/upload/' + post[0].image)\r\n        let list = await postModel.del_post(id)\r\n\r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                err: 0,\r\n                mess: \"Xóa bài viết thành công\"}}\r\n            )\r\n        )\r\n\r\n    } catch (error) {\r\n        return res.status(200).json(\r\n            JWT.createJWT({data: {\r\n                err: 1,\r\n                mess: \"Lỗi: \" + error}}\r\n            )\r\n        )\r\n    }\r\n}\r\n\r\nexport default {list_post,new_post,insert_post,detail_post,view_edit_post,edit_post,del_post}\r\n"],"mappings":"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"}},"mtime":1700138241329}}